

### **classes_dex_1/sources/com/android/printspooler/R$styleable.java** ###

package com.android.printspooler;

/* loaded from: /content/classes1.dex */
public final class R$styleable {
    public static final int[] PrintOptionsLayout = {2130837504};
}


### **classes_dex_1/sources/com/android/printspooler/renderer/PdfManipulationService.java** ###

package com.android.printspooler.renderer;

import android.app.Service;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.Matrix;
import android.graphics.Rect;
import android.graphics.pdf.PdfEditor;
import android.graphics.pdf.PdfRenderer;
import android.os.IBinder;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.util.Log;
import com.android.printspooler.renderer.IPdfEditor;
import com.android.printspooler.renderer.IPdfRenderer;
import com.android.printspooler.util.BitmapSerializeUtils;
import com.android.printspooler.util.PageRangeUtils;
import java.io.IOException;
import libcore.io.IoUtils;

/* loaded from: /content/classes1.dex */
public final class PdfManipulationService extends Service {
    /* JADX INFO: Access modifiers changed from: private */
    public static int pointsFromMils(int i) {
        return (int) ((i / 1000.0f) * 72.0f);
    }

    @Override // android.app.Service
    public IBinder onBind(Intent intent) {
        char c;
        String action = intent.getAction();
        int hashCode = action.hashCode();
        if (hashCode != -431502969) {
            if (hashCode == -160217507 && action.equals("com.android.printspooler.renderer.ACTION_GET_RENDERER")) {
                c = 0;
            }
            c = 65535;
        } else {
            if (action.equals("com.android.printspooler.renderer.ACTION_GET_EDITOR")) {
                c = 1;
            }
            c = 65535;
        }
        if (c == 0) {
            return new PdfRendererImpl();
        }
        if (c == 1) {
            return new PdfEditorImpl();
        }
        throw new IllegalArgumentException("Invalid intent action:" + action);
    }

    /* loaded from: /content/classes1.dex */
    private final class PdfRendererImpl extends IPdfRenderer.Stub {
        private Bitmap mBitmap;
        private final Object mLock;
        private PdfRenderer mRenderer;

        private PdfRendererImpl() {
            this.mLock = new Object();
        }

        @Override // com.android.printspooler.renderer.IPdfRenderer
        public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
            int pageCount;
            synchronized (this.mLock) {
                try {
                    try {
                        throwIfOpened();
                        Log.i("PdfManipulationService -> PdfRenderer", "openDocument()");
                        PdfRenderer pdfRenderer = new PdfRenderer(parcelFileDescriptor);
                        this.mRenderer = pdfRenderer;
                        pageCount = pdfRenderer.getPageCount();
                    } catch (IOException | IllegalStateException e) {
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        Log.e("PdfManipulationService -> PdfRenderer", "Cannot open file", e);
                        return -2;
                    } catch (SecurityException e2) {
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        Log.e("PdfManipulationService -> PdfRenderer", "Cannot open file", e2);
                        return -3;
                    }
                } catch (Throwable th) {
                    throw th;
                }
            }
            return pageCount;
        }

        @Override // com.android.printspooler.renderer.IPdfRenderer
        public void renderPage(int i, int i2, int i3, PrintAttributes printAttributes, ParcelFileDescriptor parcelFileDescriptor) {
            float f;
            float f2;
            float f3;
            synchronized (this.mLock) {
                try {
                    throwIfNotOpened();
                    PdfRenderer.Page openPage = this.mRenderer.openPage(i);
                    try {
                        int width = openPage.getWidth();
                        int height = openPage.getHeight();
                        int pointsFromMils = PdfManipulationService.pointsFromMils(printAttributes.getMediaSize().getWidthMils());
                        int pointsFromMils2 = PdfManipulationService.pointsFromMils(printAttributes.getMediaSize().getHeightMils());
                        boolean shouldScaleForPrinting = this.mRenderer.shouldScaleForPrinting();
                        boolean z = !printAttributes.getMediaSize().isPortrait();
                        Matrix matrix = new Matrix();
                        if (shouldScaleForPrinting) {
                            f3 = Math.min(i2 / width, i3 / height);
                        } else {
                            if (z) {
                                f = i3;
                                f2 = pointsFromMils2;
                            } else {
                                f = i2;
                                f2 = pointsFromMils;
                            }
                            f3 = f / f2;
                        }
                        matrix.postScale(f3, f3);
                        if (PdfManipulationService.this.getResources().getConfiguration().getLayoutDirection() == 1) {
                            matrix.postTranslate(i2 - (width * f3), 0.0f);
                        }
                        PrintAttributes.Margins minMargins = printAttributes.getMinMargins();
                        int pointsFromMils3 = PdfManipulationService.pointsFromMils(minMargins.getLeftMils());
                        int pointsFromMils4 = PdfManipulationService.pointsFromMils(minMargins.getTopMils());
                        int pointsFromMils5 = PdfManipulationService.pointsFromMils(minMargins.getRightMils());
                        int pointsFromMils6 = PdfManipulationService.pointsFromMils(minMargins.getBottomMils());
                        Rect rect = new Rect();
                        rect.left = (int) (pointsFromMils3 * f3);
                        rect.top = (int) (pointsFromMils4 * f3);
                        rect.right = (int) (i2 - (pointsFromMils5 * f3));
                        rect.bottom = (int) (i3 - (pointsFromMils6 * f3));
                        Log.i("PdfManipulationService -> PdfRenderer", "Rendering page:" + i);
                        Bitmap bitmapForSize = getBitmapForSize(i2, i3);
                        openPage.render(bitmapForSize, rect, matrix, 1);
                        BitmapSerializeUtils.writeBitmapPixels(bitmapForSize, parcelFileDescriptor);
                        if (openPage != null) {
                            openPage.close();
                        }
                    } finally {
                    }
                } finally {
                    try {
                    } finally {
                    }
                }
            }
        }

        @Override // com.android.printspooler.renderer.IPdfRenderer
        public void closeDocument() {
            synchronized (this.mLock) {
                throwIfNotOpened();
                Log.i("PdfManipulationService -> PdfRenderer", "closeDocument()");
                this.mRenderer.close();
                this.mRenderer = null;
            }
        }

        private Bitmap getBitmapForSize(int i, int i2) {
            Bitmap bitmap = this.mBitmap;
            if (bitmap != null) {
                if (bitmap.getWidth() == i && this.mBitmap.getHeight() == i2) {
                    this.mBitmap.eraseColor(-1);
                    return this.mBitmap;
                }
                this.mBitmap.recycle();
            }
            Bitmap createBitmap = Bitmap.createBitmap(i, i2, Bitmap.Config.ARGB_8888);
            this.mBitmap = createBitmap;
            createBitmap.eraseColor(-1);
            return this.mBitmap;
        }

        private void throwIfOpened() {
            if (this.mRenderer != null) {
                throw new IllegalStateException("Already opened");
            }
        }

        private void throwIfNotOpened() {
            if (this.mRenderer == null) {
                throw new IllegalStateException("Not opened");
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class PdfEditorImpl extends IPdfEditor.Stub {
        private PdfEditor mEditor;
        private final Object mLock;

        private PdfEditorImpl() {
            this.mLock = new Object();
        }

        @Override // com.android.printspooler.renderer.IPdfEditor
        public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
            int pageCount;
            synchronized (this.mLock) {
                try {
                    try {
                        throwIfOpened();
                        Log.i("PdfManipulationService -> PdfEditor", "openDocument()");
                        PdfEditor pdfEditor = new PdfEditor(parcelFileDescriptor);
                        this.mEditor = pdfEditor;
                        pageCount = pdfEditor.getPageCount();
                    } catch (IOException | IllegalStateException e) {
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        Log.e("PdfManipulationService -> PdfEditor", "Cannot open file", e);
                        throw new RemoteException(e.toString());
                    }
                } catch (Throwable th) {
                    throw th;
                }
            }
            return pageCount;
        }

        @Override // com.android.printspooler.renderer.IPdfEditor
        public void removePages(PageRange[] pageRangeArr) {
            synchronized (this.mLock) {
                throwIfNotOpened();
                Log.i("PdfManipulationService -> PdfEditor", "removePages()");
                PageRange[] normalize = PageRangeUtils.normalize(pageRangeArr);
                int pageCount = this.mEditor.getPageCount() - 1;
                for (int length = normalize.length - 1; length >= 0; length--) {
                    PageRange pageRange = normalize[length];
                    if (pageRange.getEnd() > pageCount) {
                        if (pageRange.getStart() <= pageCount) {
                            pageRange = new PageRange(pageRange.getStart(), pageCount);
                        }
                    }
                    for (int end = pageRange.getEnd(); end >= pageRange.getStart(); end += -1) {
                        Log.i("PdfManipulationService -> PdfEditor", "trying to remove page " + end + "/" + this.mEditor.getPageCount());
                        this.mEditor.removePage(end);
                    }
                }
            }
        }

        @Override // com.android.printspooler.renderer.IPdfEditor
        public void applyPrintAttributes(PrintAttributes printAttributes) {
            float f;
            synchronized (this.mLock) {
                throwIfNotOpened();
                Log.i("PdfManipulationService -> PdfEditor", "applyPrintAttributes()");
                Rect rect = new Rect();
                Rect rect2 = new Rect();
                Matrix matrix = new Matrix();
                int i = 0;
                boolean z = true;
                if (PdfManipulationService.this.getResources().getConfiguration().getLayoutDirection() != 1) {
                    z = false;
                }
                int pointsFromMils = PdfManipulationService.pointsFromMils(printAttributes.getMediaSize().getWidthMils());
                int pointsFromMils2 = PdfManipulationService.pointsFromMils(printAttributes.getMediaSize().getHeightMils());
                boolean shouldScaleForPrinting = this.mEditor.shouldScaleForPrinting();
                int pageCount = this.mEditor.getPageCount();
                while (i < pageCount) {
                    if (!this.mEditor.getPageMediaBox(i, rect)) {
                        Log.e("PdfManipulationService -> PdfEditor", "Malformed PDF file");
                        return;
                    }
                    int width = rect.width();
                    int height = rect.height();
                    rect.right = pointsFromMils;
                    rect.bottom = pointsFromMils2;
                    this.mEditor.setPageMediaBox(i, rect);
                    matrix.setTranslate(0.0f, height - pointsFromMils2);
                    if (shouldScaleForPrinting) {
                        f = Math.min(pointsFromMils / width, pointsFromMils2 / height);
                        matrix.postScale(f, f);
                    } else {
                        f = 1.0f;
                    }
                    if (this.mEditor.getPageCropBox(i, rect2)) {
                        rect2.left = (int) ((rect2.left * f) + 0.5f);
                        rect2.top = (int) ((rect2.top * f) + 0.5f);
                        rect2.right = (int) ((rect2.right * f) + 0.5f);
                        rect2.bottom = (int) ((rect2.bottom * f) + 0.5f);
                        rect2.intersect(rect);
                        this.mEditor.setPageCropBox(i, rect2);
                    }
                    if (z) {
                        matrix.postTranslate(pointsFromMils - ((int) ((width * f) + 0.5f)), 0.0f);
                    }
                    PrintAttributes.Margins minMargins = printAttributes.getMinMargins();
                    int pointsFromMils3 = PdfManipulationService.pointsFromMils(minMargins.getLeftMils());
                    int pointsFromMils4 = PdfManipulationService.pointsFromMils(minMargins.getTopMils());
                    int pointsFromMils5 = PdfManipulationService.pointsFromMils(minMargins.getRightMils());
                    int pointsFromMils6 = PdfManipulationService.pointsFromMils(minMargins.getBottomMils());
                    Rect rect3 = new Rect(rect);
                    rect3.left += pointsFromMils3;
                    rect3.top += pointsFromMils4;
                    rect3.right -= pointsFromMils5;
                    rect3.bottom -= pointsFromMils6;
                    this.mEditor.setTransformAndClip(i, matrix, rect3);
                    i++;
                    rect = rect;
                }
            }
        }

        @Override // com.android.printspooler.renderer.IPdfEditor
        public void write(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
            synchronized (this.mLock) {
                try {
                    try {
                        throwIfNotOpened();
                        Log.i("PdfManipulationService -> PdfEditor", "write()");
                        this.mEditor.write(parcelFileDescriptor);
                    } catch (IOException | IllegalStateException e) {
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        Log.e("PdfManipulationService -> PdfEditor", "Error writing PDF to file.", e);
                        throw new RemoteException(e.toString());
                    }
                } catch (Throwable th) {
                    throw th;
                }
            }
        }

        @Override // com.android.printspooler.renderer.IPdfEditor
        public void closeDocument() {
            synchronized (this.mLock) {
                throwIfNotOpened();
                Log.i("PdfManipulationService -> PdfEditor", "closeDocument()");
                this.mEditor.close();
                this.mEditor = null;
            }
        }

        private void throwIfOpened() {
            if (this.mEditor != null) {
                throw new IllegalStateException("Already opened");
            }
        }

        private void throwIfNotOpened() {
            if (this.mEditor == null) {
                throw new IllegalStateException("Not opened");
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/renderer/IPdfEditor.java** ###

package com.android.printspooler.renderer;

import android.os.Binder;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.print.PageRange;
import android.print.PrintAttributes;

/* loaded from: /content/classes1.dex */
public interface IPdfEditor extends IInterface {
    void applyPrintAttributes(PrintAttributes printAttributes) throws RemoteException;

    void closeDocument() throws RemoteException;

    int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException;

    void removePages(PageRange[] pageRangeArr) throws RemoteException;

    void write(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException;

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IPdfEditor {
        @Override // android.os.IInterface
        public IBinder asBinder() {
            return this;
        }

        public Stub() {
            attachInterface(this, "com.android.printspooler.renderer.IPdfEditor");
        }

        public static IPdfEditor asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("com.android.printspooler.renderer.IPdfEditor");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IPdfEditor)) {
                return (IPdfEditor) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        @Override // android.os.Binder
        public boolean onTransact(int i, Parcel parcel, Parcel parcel2, int i2) throws RemoteException {
            if (i == 1) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfEditor");
                int openDocument = openDocument(parcel.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(parcel) : null);
                parcel2.writeNoException();
                parcel2.writeInt(openDocument);
                return true;
            }
            if (i == 2) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfEditor");
                removePages((PageRange[]) parcel.createTypedArray(PageRange.CREATOR));
                parcel2.writeNoException();
                return true;
            }
            if (i == 3) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfEditor");
                applyPrintAttributes(parcel.readInt() != 0 ? (PrintAttributes) PrintAttributes.CREATOR.createFromParcel(parcel) : null);
                parcel2.writeNoException();
                return true;
            }
            if (i == 4) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfEditor");
                write(parcel.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(parcel) : null);
                parcel2.writeNoException();
                return true;
            }
            if (i != 5) {
                if (i == 1598968902) {
                    parcel2.writeString("com.android.printspooler.renderer.IPdfEditor");
                    return true;
                }
                return super.onTransact(i, parcel, parcel2, i2);
            }
            parcel.enforceInterface("com.android.printspooler.renderer.IPdfEditor");
            closeDocument();
            parcel2.writeNoException();
            return true;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public static class Proxy implements IPdfEditor {
            public static IPdfEditor sDefaultImpl;
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }

            @Override // com.android.printspooler.renderer.IPdfEditor
            public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfEditor");
                    if (parcelFileDescriptor != null) {
                        obtain.writeInt(1);
                        parcelFileDescriptor.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (!this.mRemote.transact(1, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        return Stub.getDefaultImpl().openDocument(parcelFileDescriptor);
                    }
                    obtain2.readException();
                    return obtain2.readInt();
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfEditor
            public void removePages(PageRange[] pageRangeArr) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfEditor");
                    obtain.writeTypedArray(pageRangeArr, 0);
                    if (!this.mRemote.transact(2, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        Stub.getDefaultImpl().removePages(pageRangeArr);
                    } else {
                        obtain2.readException();
                    }
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfEditor
            public void applyPrintAttributes(PrintAttributes printAttributes) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfEditor");
                    if (printAttributes != null) {
                        obtain.writeInt(1);
                        printAttributes.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (!this.mRemote.transact(3, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        Stub.getDefaultImpl().applyPrintAttributes(printAttributes);
                    } else {
                        obtain2.readException();
                    }
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfEditor
            public void write(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfEditor");
                    if (parcelFileDescriptor != null) {
                        obtain.writeInt(1);
                        parcelFileDescriptor.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (!this.mRemote.transact(4, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        Stub.getDefaultImpl().write(parcelFileDescriptor);
                    } else {
                        obtain2.readException();
                    }
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfEditor
            public void closeDocument() throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfEditor");
                    if (!this.mRemote.transact(5, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        Stub.getDefaultImpl().closeDocument();
                    } else {
                        obtain2.readException();
                    }
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }
        }

        public static IPdfEditor getDefaultImpl() {
            return Proxy.sDefaultImpl;
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/renderer/IPdfRenderer.java** ###

package com.android.printspooler.renderer;

import android.os.Binder;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.print.PrintAttributes;

/* loaded from: /content/classes1.dex */
public interface IPdfRenderer extends IInterface {
    void closeDocument() throws RemoteException;

    int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException;

    void renderPage(int i, int i2, int i3, PrintAttributes printAttributes, ParcelFileDescriptor parcelFileDescriptor) throws RemoteException;

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IPdfRenderer {
        @Override // android.os.IInterface
        public IBinder asBinder() {
            return this;
        }

        public Stub() {
            attachInterface(this, "com.android.printspooler.renderer.IPdfRenderer");
        }

        public static IPdfRenderer asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("com.android.printspooler.renderer.IPdfRenderer");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IPdfRenderer)) {
                return (IPdfRenderer) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        @Override // android.os.Binder
        public boolean onTransact(int i, Parcel parcel, Parcel parcel2, int i2) throws RemoteException {
            if (i == 1) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfRenderer");
                int openDocument = openDocument(parcel.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(parcel) : null);
                parcel2.writeNoException();
                parcel2.writeInt(openDocument);
                return true;
            }
            if (i == 2) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfRenderer");
                renderPage(parcel.readInt(), parcel.readInt(), parcel.readInt(), parcel.readInt() != 0 ? (PrintAttributes) PrintAttributes.CREATOR.createFromParcel(parcel) : null, parcel.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(parcel) : null);
                return true;
            }
            if (i == 3) {
                parcel.enforceInterface("com.android.printspooler.renderer.IPdfRenderer");
                closeDocument();
                return true;
            }
            if (i == 1598968902) {
                parcel2.writeString("com.android.printspooler.renderer.IPdfRenderer");
                return true;
            }
            return super.onTransact(i, parcel, parcel2, i2);
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public static class Proxy implements IPdfRenderer {
            public static IPdfRenderer sDefaultImpl;
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }

            @Override // com.android.printspooler.renderer.IPdfRenderer
            public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfRenderer");
                    if (parcelFileDescriptor != null) {
                        obtain.writeInt(1);
                        parcelFileDescriptor.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (!this.mRemote.transact(1, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        return Stub.getDefaultImpl().openDocument(parcelFileDescriptor);
                    }
                    obtain2.readException();
                    return obtain2.readInt();
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfRenderer
            public void renderPage(int i, int i2, int i3, PrintAttributes printAttributes, ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfRenderer");
                    obtain.writeInt(i);
                    obtain.writeInt(i2);
                    obtain.writeInt(i3);
                    if (printAttributes != null) {
                        obtain.writeInt(1);
                        printAttributes.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (parcelFileDescriptor != null) {
                        obtain.writeInt(1);
                        parcelFileDescriptor.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (this.mRemote.transact(2, obtain, null, 1) || Stub.getDefaultImpl() == null) {
                        return;
                    }
                    Stub.getDefaultImpl().renderPage(i, i2, i3, printAttributes, parcelFileDescriptor);
                } finally {
                    obtain.recycle();
                }
            }

            @Override // com.android.printspooler.renderer.IPdfRenderer
            public void closeDocument() throws RemoteException {
                Parcel obtain = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.printspooler.renderer.IPdfRenderer");
                    if (this.mRemote.transact(3, obtain, null, 1) || Stub.getDefaultImpl() == null) {
                        return;
                    }
                    Stub.getDefaultImpl().closeDocument();
                } finally {
                    obtain.recycle();
                }
            }
        }

        public static IPdfRenderer getDefaultImpl() {
            return Proxy.sDefaultImpl;
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/util/MediaSizeUtils.java** ###

package com.android.printspooler.util;

import android.content.Context;
import android.content.res.Configuration;
import android.print.PrintAttributes;
import java.util.Comparator;
import java.util.HashMap;
import java.util.Map;

/* loaded from: /content/classes1.dex */
public final class MediaSizeUtils {
    private static int sMediaSizeStandardIso;
    private static Map<PrintAttributes.MediaSize, Integer> sMediaSizeToStandardMap;

    public static PrintAttributes.MediaSize getDefault(Context context) {
        return PrintAttributes.MediaSize.getStandardMediaSizeById(context.getString(2131427357));
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static int getStandardForMediaSize(Context context, PrintAttributes.MediaSize mediaSize) {
        if (sMediaSizeToStandardMap == null) {
            sMediaSizeStandardIso = Integer.parseInt(context.getString(2131427360));
            sMediaSizeToStandardMap = new HashMap();
            String[] stringArray = context.getResources().getStringArray(2130771970);
            int length = stringArray.length;
            for (int i = 0; i < length; i += 2) {
                sMediaSizeToStandardMap.put(PrintAttributes.MediaSize.getStandardMediaSizeById(stringArray[i]), Integer.valueOf(Integer.parseInt(stringArray[i + 1])));
            }
        }
        Integer num = sMediaSizeToStandardMap.get(mediaSize);
        return num != null ? num.intValue() : sMediaSizeStandardIso;
    }

    /* loaded from: /content/classes1.dex */
    public static final class MediaSizeComparator implements Comparator<PrintAttributes.MediaSize> {
        private final Context mContext;
        private Configuration mCurrentConfig;
        private int mCurrentStandard;
        private final Map<PrintAttributes.MediaSize, String> mMediaSizeToLabel = new HashMap();

        public MediaSizeComparator(Context context) {
            this.mContext = context;
            this.mCurrentStandard = Integer.parseInt(this.mContext.getString(2131427358));
        }

        public void onConfigurationChanged(Configuration configuration) {
            Configuration configuration2 = this.mCurrentConfig;
            if (configuration2 == null || (configuration.diff(configuration2) & 4) != 0) {
                this.mCurrentStandard = Integer.parseInt(this.mContext.getString(2131427358));
                this.mMediaSizeToLabel.clear();
                this.mCurrentConfig = configuration;
            }
        }

        public String getLabel(Context context, PrintAttributes.MediaSize mediaSize) {
            String str = this.mMediaSizeToLabel.get(mediaSize);
            if (str != null) {
                return str;
            }
            String label = mediaSize.getLabel(context.getPackageManager());
            this.mMediaSizeToLabel.put(mediaSize, label);
            return label;
        }

        @Override // java.util.Comparator
        public int compare(PrintAttributes.MediaSize mediaSize, PrintAttributes.MediaSize mediaSize2) {
            int standardForMediaSize = MediaSizeUtils.getStandardForMediaSize(this.mContext, mediaSize);
            int standardForMediaSize2 = MediaSizeUtils.getStandardForMediaSize(this.mContext, mediaSize2);
            int i = this.mCurrentStandard;
            if (standardForMediaSize == i) {
                if (standardForMediaSize2 != i) {
                    return -1;
                }
            } else if (standardForMediaSize2 == i) {
                return 1;
            }
            if (standardForMediaSize != standardForMediaSize2) {
                return Integer.valueOf(standardForMediaSize).compareTo(Integer.valueOf(standardForMediaSize2));
            }
            return getLabel(this.mContext, mediaSize).compareTo(getLabel(this.mContext, mediaSize2));
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/util/ApprovedPrintServices.java** ###

package com.android.printspooler.util;

import android.content.ComponentName;
import android.content.Context;
import android.content.SharedPreferences;
import android.util.ArraySet;
import java.util.Iterator;
import java.util.List;
import java.util.Set;

/* loaded from: /content/classes1.dex */
public class ApprovedPrintServices {
    public static final Object sLock = new Object();
    private final SharedPreferences mPreferences;

    public ApprovedPrintServices(Context context) {
        this.mPreferences = context.getSharedPreferences("PRINT_SPOOLER_APPROVED_SERVICES", 0);
    }

    public Set<String> getApprovedServices() {
        return this.mPreferences.getStringSet("PRINT_SPOOLER_APPROVED_SERVICES", null);
    }

    public boolean isApprovedService(ComponentName componentName) {
        Set<String> approvedServices = getApprovedServices();
        if (approvedServices == null) {
            return false;
        }
        String flattenToShortString = componentName.flattenToShortString();
        Iterator<String> it = approvedServices.iterator();
        while (it.hasNext()) {
            if (it.next().equals(flattenToShortString)) {
                return true;
            }
        }
        return false;
    }

    public void addApprovedService(ComponentName componentName) {
        ArraySet arraySet;
        synchronized (sLock) {
            Set<String> stringSet = this.mPreferences.getStringSet("PRINT_SPOOLER_APPROVED_SERVICES", null);
            if (stringSet == null) {
                arraySet = new ArraySet(1);
            } else {
                arraySet = new ArraySet(stringSet);
            }
            arraySet.add(componentName.flattenToShortString());
            SharedPreferences.Editor edit = this.mPreferences.edit();
            edit.putStringSet("PRINT_SPOOLER_APPROVED_SERVICES", arraySet);
            edit.apply();
        }
    }

    public void registerChangeListenerLocked(SharedPreferences.OnSharedPreferenceChangeListener onSharedPreferenceChangeListener) {
        this.mPreferences.registerOnSharedPreferenceChangeListener(onSharedPreferenceChangeListener);
    }

    public void unregisterChangeListener(SharedPreferences.OnSharedPreferenceChangeListener onSharedPreferenceChangeListener) {
        this.mPreferences.unregisterOnSharedPreferenceChangeListener(onSharedPreferenceChangeListener);
    }

    public void pruneApprovedServices(List<ComponentName> list) {
        synchronized (sLock) {
            Set<String> approvedServices = getApprovedServices();
            if (approvedServices == null) {
                return;
            }
            ArraySet arraySet = new ArraySet(approvedServices.size());
            int size = list.size();
            for (int i = 0; i < size; i++) {
                String flattenToShortString = list.get(i).flattenToShortString();
                if (approvedServices.contains(flattenToShortString)) {
                    arraySet.add(flattenToShortString);
                }
            }
            if (approvedServices.size() != arraySet.size()) {
                SharedPreferences.Editor edit = this.mPreferences.edit();
                edit.putStringSet("PRINT_SPOOLER_APPROVED_SERVICES", arraySet);
                edit.apply();
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/util/BitmapSerializeUtils.java** ###

package com.android.printspooler.util;

import android.graphics.Bitmap;
import android.os.ParcelFileDescriptor;

/* loaded from: /content/classes1.dex */
public final class BitmapSerializeUtils {
    private static native void nativeReadBitmapPixels(Bitmap bitmap, int i);

    private static native void nativeWriteBitmapPixels(Bitmap bitmap, int i);

    static {
        System.loadLibrary("printspooler_jni");
    }

    public static void readBitmapPixels(Bitmap bitmap, ParcelFileDescriptor parcelFileDescriptor) {
        nativeReadBitmapPixels(bitmap, parcelFileDescriptor.getFd());
    }

    public static void writeBitmapPixels(Bitmap bitmap, ParcelFileDescriptor parcelFileDescriptor) {
        nativeWriteBitmapPixels(bitmap, parcelFileDescriptor.getFd());
    }
}


### **classes_dex_1/sources/com/android/printspooler/util/PageRangeUtils.java** ###

package com.android.printspooler.util;

import android.print.PageRange;
import android.util.Pair;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;

/* loaded from: /content/classes1.dex */
public final class PageRangeUtils {
    private static final PageRange[] ALL_PAGES_RANGE = {PageRange.ALL_PAGES};
    private static final Comparator<PageRange> sComparator = new Comparator<PageRange>() { // from class: com.android.printspooler.util.PageRangeUtils.1
        @Override // java.util.Comparator
        public int compare(PageRange pageRange, PageRange pageRange2) {
            return pageRange.getStart() - pageRange2.getStart();
        }
    };

    public static boolean contains(PageRange[] pageRangeArr, int i) {
        for (PageRange pageRange : pageRangeArr) {
            if (pageRange.contains(i)) {
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Code restructure failed: missing block: B:25:0x0058, code lost:
    
        continue;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static boolean contains(android.print.PageRange[] r9, android.print.PageRange[] r10, int r11) {
        /*
            r0 = 0
            if (r9 == 0) goto L5e
            if (r10 != 0) goto L6
            goto L5e
        L6:
            android.print.PageRange[] r1 = com.android.printspooler.util.PageRangeUtils.ALL_PAGES_RANGE
            boolean r1 = java.util.Arrays.equals(r9, r1)
            r2 = 1
            if (r1 == 0) goto L10
            return r2
        L10:
            android.print.PageRange[] r1 = com.android.printspooler.util.PageRangeUtils.ALL_PAGES_RANGE
            boolean r1 = java.util.Arrays.equals(r10, r1)
            if (r1 == 0) goto L20
            android.print.PageRange r1 = new android.print.PageRange
            int r11 = r11 - r2
            r1.<init>(r0, r11)
            r10[r0] = r1
        L20:
            android.print.PageRange[] r9 = normalize(r9)
            android.print.PageRange[] r10 = normalize(r10)
            int r11 = r9.length
            int r1 = r10.length
            r3 = r0
            r4 = r3
        L2c:
            if (r3 >= r11) goto L5b
            r5 = r9[r3]
        L30:
            if (r4 >= r1) goto L58
            r6 = r10[r4]
            int r7 = r6.getStart()
            int r8 = r5.getEnd()
            if (r7 <= r8) goto L3f
            goto L58
        L3f:
            int r7 = r6.getStart()
            int r8 = r5.getStart()
            if (r7 < r8) goto L57
            int r6 = r6.getEnd()
            int r7 = r5.getEnd()
            if (r6 <= r7) goto L54
            goto L57
        L54:
            int r4 = r4 + 1
            goto L30
        L57:
            return r0
        L58:
            int r3 = r3 + 1
            goto L2c
        L5b:
            if (r4 < r1) goto L5e
            r0 = r2
        L5e:
            return r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.util.PageRangeUtils.contains(android.print.PageRange[], android.print.PageRange[], int):boolean");
    }

    public static PageRange[] normalize(PageRange[] pageRangeArr) {
        if (pageRangeArr == null) {
            return null;
        }
        int length = pageRangeArr.length;
        if (length <= 1) {
            return pageRangeArr;
        }
        Arrays.sort(pageRangeArr, sComparator);
        int i = 1;
        int i2 = 0;
        while (i2 < length - 1) {
            PageRange pageRange = pageRangeArr[i2];
            int i3 = i2 + 1;
            PageRange pageRange2 = pageRangeArr[i3];
            if (pageRange.getEnd() + 1 >= pageRange2.getStart()) {
                pageRangeArr[i2] = null;
                pageRangeArr[i3] = new PageRange(pageRange.getStart(), Math.max(pageRange.getEnd(), pageRange2.getEnd()));
            } else {
                i++;
            }
            i2 = i3;
        }
        if (i == length) {
            return pageRangeArr;
        }
        PageRange[] pageRangeArr2 = new PageRange[i];
        int i4 = 0;
        for (PageRange pageRange3 : pageRangeArr) {
            if (pageRange3 != null) {
                pageRangeArr2[i4] = pageRange3;
                i4++;
            }
        }
        return pageRangeArr2;
    }

    private static int readWhiteSpace(CharSequence charSequence, int i) {
        while (i < charSequence.length() && charSequence.charAt(i) == ' ') {
            i++;
        }
        return i;
    }

    private static Pair<Integer, Integer> readNumber(CharSequence charSequence, int i) {
        Integer num = 0;
        while (i < charSequence.length() && charSequence.charAt(i) >= '0' && charSequence.charAt(i) <= '9' && (num.intValue() != 0 || charSequence.charAt(i) != '0')) {
            num = Integer.valueOf((num.intValue() * 10) + (charSequence.charAt(i) - '0'));
            if (num.intValue() < 0) {
                break;
            }
            i++;
        }
        if (num.intValue() == 0) {
            return new Pair<>(Integer.valueOf(i), null);
        }
        return new Pair<>(Integer.valueOf(i), num);
    }

    private static Pair<Integer, Character> readChar(CharSequence charSequence, int i, char c) {
        if (i < charSequence.length() && charSequence.charAt(i) == c) {
            return new Pair<>(Integer.valueOf(i + 1), Character.valueOf(c));
        }
        return new Pair<>(Integer.valueOf(i), null);
    }

    private static Pair<Integer, PageRange> readRange(CharSequence charSequence, int i, int i2) {
        Character ch;
        if (i == 0) {
            ch = ',';
        } else {
            Pair<Integer, Character> readChar = readChar(charSequence, i, ',');
            int intValue = ((Integer) readChar.first).intValue();
            ch = (Character) readChar.second;
            i = intValue;
        }
        Pair<Integer, Integer> readNumber = readNumber(charSequence, readWhiteSpace(charSequence, i));
        int intValue2 = ((Integer) readNumber.first).intValue();
        Integer num = (Integer) readNumber.second;
        Pair<Integer, Character> readChar2 = readChar(charSequence, readWhiteSpace(charSequence, intValue2), '-');
        int intValue3 = ((Integer) readChar2.first).intValue();
        Character ch2 = (Character) readChar2.second;
        Pair<Integer, Integer> readNumber2 = readNumber(charSequence, readWhiteSpace(charSequence, intValue3));
        int intValue4 = ((Integer) readNumber2.first).intValue();
        Integer num2 = (Integer) readNumber2.second;
        int readWhiteSpace = readWhiteSpace(charSequence, intValue4);
        if (ch != null && ((ch2 != null && (num != null || num2 != null)) || (ch2 == null && num != null && num2 == null))) {
            if (num == null) {
                num = 1;
            }
            if (num2 == null) {
                num2 = ch2 == null ? num : Integer.valueOf(i2);
            }
            if (num.intValue() <= num2.intValue() && num.intValue() >= 1 && num2.intValue() <= i2) {
                return new Pair<>(Integer.valueOf(readWhiteSpace), new PageRange(num.intValue() - 1, num2.intValue() - 1));
            }
        }
        return new Pair<>(Integer.valueOf(readWhiteSpace), null);
    }

    public static PageRange[] parsePageRanges(CharSequence charSequence, int i) {
        ArrayList arrayList = new ArrayList();
        int i2 = 0;
        while (true) {
            if (i2 >= charSequence.length()) {
                break;
            }
            Pair<Integer, PageRange> readRange = readRange(charSequence, i2, i);
            Object obj = readRange.second;
            if (obj == null) {
                arrayList.clear();
                break;
            }
            arrayList.add((PageRange) obj);
            i2 = ((Integer) readRange.first).intValue();
        }
        return normalize((PageRange[]) arrayList.toArray(new PageRange[arrayList.size()]));
    }

    public static void offset(PageRange[] pageRangeArr, int i) {
        if (i == 0) {
            return;
        }
        int length = pageRangeArr.length;
        for (int i2 = 0; i2 < length; i2++) {
            pageRangeArr[i2] = new PageRange(pageRangeArr[i2].getStart() + i, pageRangeArr[i2].getEnd() + i);
        }
    }

    public static int getNormalizedPageCount(PageRange[] pageRangeArr, int i) {
        if (pageRangeArr == null) {
            return 0;
        }
        int i2 = 0;
        for (PageRange pageRange : pageRangeArr) {
            if (PageRange.ALL_PAGES.equals(pageRange)) {
                return i;
            }
            i2 += pageRange.getSize();
        }
        return i2;
    }

    public static PageRange asAbsoluteRange(PageRange pageRange, int i) {
        return PageRange.ALL_PAGES.equals(pageRange) ? new PageRange(0, i - 1) : pageRange;
    }

    public static boolean isAllPages(PageRange[] pageRangeArr) {
        for (PageRange pageRange : pageRangeArr) {
            if (isAllPages(pageRange)) {
                return true;
            }
        }
        return false;
    }

    public static boolean isAllPages(PageRange pageRange) {
        return PageRange.ALL_PAGES.equals(pageRange);
    }

    public static boolean isAllPages(PageRange[] pageRangeArr, int i) {
        for (PageRange pageRange : pageRangeArr) {
            if (isAllPages(pageRange, i)) {
                return true;
            }
        }
        return false;
    }

    public static boolean isAllPages(PageRange pageRange, int i) {
        return pageRange.getStart() == 0 && pageRange.getEnd() == i - 1;
    }

    public static PageRange[] computeWhichPagesInFileToPrint(PageRange[] pageRangeArr, PageRange[] pageRangeArr2, int i) {
        if (Arrays.equals(pageRangeArr, ALL_PAGES_RANGE) && i == -1) {
            return ALL_PAGES_RANGE;
        }
        if (Arrays.equals(pageRangeArr2, pageRangeArr)) {
            return ALL_PAGES_RANGE;
        }
        if (Arrays.equals(pageRangeArr2, ALL_PAGES_RANGE)) {
            return pageRangeArr;
        }
        if (contains(pageRangeArr2, pageRangeArr, i)) {
            offset((PageRange[]) pageRangeArr.clone(), -pageRangeArr2[0].getStart());
            return pageRangeArr;
        }
        if (Arrays.equals(pageRangeArr, ALL_PAGES_RANGE) && isAllPages(pageRangeArr2, i)) {
            return ALL_PAGES_RANGE;
        }
        return null;
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/NotificationController.java** ###

package com.android.printspooler.model;

import android.R;
import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.graphics.drawable.Icon;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.PowerManager;
import android.os.RemoteException;
import android.os.ServiceManager;
import android.os.UserHandle;
import android.print.IPrintManager;
import android.print.PrintJobId;
import android.print.PrintJobInfo;
import android.support.v7.recyclerview.R$styleable;
import android.util.ArraySet;
import android.util.Log;
import java.util.ArrayList;
import java.util.List;

/* loaded from: /content/classes1.dex */
final class NotificationController {
    private final Context mContext;
    private final NotificationManager mNotificationManager;
    private final ArraySet<PrintJobId> mNotifications = new ArraySet<>(0);

    private static boolean shouldNotifyForState(int i) {
        switch (i) {
            case R$styleable.RecyclerView_fastScrollEnabled /* 2 */:
            case R$styleable.RecyclerView_fastScrollHorizontalThumbDrawable /* 3 */:
            case R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable /* 4 */:
            case R$styleable.RecyclerView_fastScrollVerticalThumbDrawable /* 5 */:
            case R$styleable.RecyclerView_fastScrollVerticalTrackDrawable /* 6 */:
            case R$styleable.RecyclerView_layoutManager /* 7 */:
                return true;
            default:
                return false;
        }
    }

    public NotificationController(Context context) {
        this.mContext = context;
        this.mNotificationManager = (NotificationManager) context.getSystemService("notification");
        this.mNotificationManager.createNotificationChannel(new NotificationChannel("PRINT_PROGRESS", context.getString(2131427366), 2));
        this.mNotificationManager.createNotificationChannel(new NotificationChannel("PRINT_FAILURES", context.getString(2131427365), 3));
    }

    public void onUpdateNotifications(List<PrintJobInfo> list) {
        ArrayList arrayList = new ArrayList();
        int size = list.size();
        for (int i = 0; i < size; i++) {
            PrintJobInfo printJobInfo = list.get(i);
            if (shouldNotifyForState(printJobInfo.getState())) {
                arrayList.add(printJobInfo);
            }
        }
        updateNotifications(arrayList);
    }

    private void updateNotifications(List<PrintJobInfo> list) {
        ArraySet arraySet = new ArraySet((ArraySet) this.mNotifications);
        int size = list.size();
        for (int i = 0; i < size; i++) {
            PrintJobInfo printJobInfo = list.get(i);
            PrintJobId id = printJobInfo.getId();
            arraySet.remove(id);
            this.mNotifications.add(id);
            createSimpleNotification(printJobInfo);
        }
        int size2 = arraySet.size();
        for (int i2 = 0; i2 < size2; i2++) {
            PrintJobId printJobId = (PrintJobId) arraySet.valueAt(i2);
            this.mNotificationManager.cancel(printJobId.flattenToString(), 0);
            this.mNotifications.remove(printJobId);
        }
    }

    private void createSimpleNotification(PrintJobInfo printJobInfo) {
        int state = printJobInfo.getState();
        if (state == 4) {
            if (!printJobInfo.isCancelling()) {
                createBlockedNotification(printJobInfo);
                return;
            } else {
                createCancellingNotification(printJobInfo);
                return;
            }
        }
        if (state == 6) {
            createFailedNotification(printJobInfo);
        } else if (!printJobInfo.isCancelling()) {
            createPrintingNotification(printJobInfo);
        } else {
            createCancellingNotification(printJobInfo);
        }
    }

    private Notification.Action createCancelAction(PrintJobInfo printJobInfo) {
        return new Notification.Action.Builder(Icon.createWithResource(this.mContext, 2131034150), this.mContext.getString(2131427334), createCancelIntent(printJobInfo)).build();
    }

    private void createNotification(PrintJobInfo printJobInfo, Notification.Action action, Notification.Action action2) {
        Notification.Builder color = new Notification.Builder(this.mContext, computeChannel(printJobInfo)).setContentIntent(createContentIntent(printJobInfo.getId())).setSmallIcon(computeNotificationIcon(printJobInfo)).setContentTitle(computeNotificationTitle(printJobInfo)).setWhen(System.currentTimeMillis()).setOngoing(true).setShowWhen(true).setOnlyAlertOnce(true).setColor(this.mContext.getColor(R.color.system_notification_accent_color));
        if (action != null) {
            color.addAction(action);
        }
        if (action2 != null) {
            color.addAction(action2);
        }
        if (printJobInfo.getState() == 3 || printJobInfo.getState() == 2) {
            float progress = printJobInfo.getProgress();
            if (progress >= 0.0f) {
                color.setProgress(Integer.MAX_VALUE, (int) (progress * 2.14748365E9f), false);
            } else {
                color.setProgress(Integer.MAX_VALUE, 0, true);
            }
        }
        CharSequence status = printJobInfo.getStatus(this.mContext.getPackageManager());
        if (status != null) {
            color.setContentText(status);
        } else {
            color.setContentText(printJobInfo.getPrinterName());
        }
        this.mNotificationManager.notify(printJobInfo.getId().flattenToString(), 0, color.build());
    }

    private void createPrintingNotification(PrintJobInfo printJobInfo) {
        createNotification(printJobInfo, createCancelAction(printJobInfo), null);
    }

    private void createFailedNotification(PrintJobInfo printJobInfo) {
        createNotification(printJobInfo, createCancelAction(printJobInfo), new Notification.Action.Builder(Icon.createWithResource(this.mContext, 2131034143), this.mContext.getString(2131427397), createRestartIntent(printJobInfo.getId())).build());
    }

    private void createBlockedNotification(PrintJobInfo printJobInfo) {
        createNotification(printJobInfo, createCancelAction(printJobInfo), null);
    }

    private void createCancellingNotification(PrintJobInfo printJobInfo) {
        createNotification(printJobInfo, null, null);
    }

    private String computeNotificationTitle(PrintJobInfo printJobInfo) {
        int state = printJobInfo.getState();
        if (state == 4) {
            if (!printJobInfo.isCancelling()) {
                return this.mContext.getString(2131427333, printJobInfo.getLabel());
            }
            return this.mContext.getString(2131427335, printJobInfo.getLabel());
        }
        if (state == 6) {
            return this.mContext.getString(2131427345, printJobInfo.getLabel());
        }
        if (!printJobInfo.isCancelling()) {
            return this.mContext.getString(2131427394, printJobInfo.getLabel());
        }
        return this.mContext.getString(2131427335, printJobInfo.getLabel());
    }

    private PendingIntent createContentIntent(PrintJobId printJobId) {
        Intent intent = new Intent("android.settings.ACTION_PRINT_SETTINGS");
        if (printJobId != null) {
            intent.putExtra("EXTRA_PRINT_JOB_ID", printJobId.flattenToString());
            intent.setData(Uri.fromParts("printjob", printJobId.flattenToString(), null));
        }
        return PendingIntent.getActivity(this.mContext, 0, intent, 0);
    }

    private PendingIntent createCancelIntent(PrintJobInfo printJobInfo) {
        Intent intent = new Intent(this.mContext, (Class<?>) NotificationBroadcastReceiver.class);
        intent.setAction("INTENT_ACTION_CANCEL_PRINTJOB_" + printJobInfo.getId().flattenToString());
        intent.putExtra("EXTRA_PRINT_JOB_ID", printJobInfo.getId());
        return PendingIntent.getBroadcast(this.mContext, 0, intent, 1073741824);
    }

    private PendingIntent createRestartIntent(PrintJobId printJobId) {
        Intent intent = new Intent(this.mContext, (Class<?>) NotificationBroadcastReceiver.class);
        intent.setAction("INTENT_ACTION_RESTART_PRINTJOB_" + printJobId.flattenToString());
        intent.putExtra("EXTRA_PRINT_JOB_ID", printJobId);
        return PendingIntent.getBroadcast(this.mContext, 0, intent, 1073741824);
    }

    private static int computeNotificationIcon(PrintJobInfo printJobInfo) {
        int state = printJobInfo.getState();
        if (state == 4 || state == 6) {
            return R.drawable.ic_voice_search_api_holo_light;
        }
        if (printJobInfo.isCancelling()) {
            return 2131034150;
        }
        return R.drawable.ic_voice_search_api_holo_dark;
    }

    private static String computeChannel(PrintJobInfo printJobInfo) {
        if (printJobInfo.isCancelling()) {
            return "PRINT_PROGRESS";
        }
        int state = printJobInfo.getState();
        return (state == 4 || state == 6) ? "PRINT_FAILURES" : "PRINT_PROGRESS";
    }

    /* loaded from: /content/classes1.dex */
    public static final class NotificationBroadcastReceiver extends BroadcastReceiver {
        @Override // android.content.BroadcastReceiver
        public void onReceive(Context context, Intent intent) {
            String action = intent.getAction();
            if (action != null && action.startsWith("INTENT_ACTION_CANCEL_PRINTJOB")) {
                handleCancelPrintJob(context, (PrintJobId) intent.getExtras().getParcelable("EXTRA_PRINT_JOB_ID"));
            } else {
                if (action == null || !action.startsWith("INTENT_ACTION_RESTART_PRINTJOB")) {
                    return;
                }
                handleRestartPrintJob(context, (PrintJobId) intent.getExtras().getParcelable("EXTRA_PRINT_JOB_ID"));
            }
        }

        private void handleCancelPrintJob(Context context, final PrintJobId printJobId) {
            Log.i("NotificationBroadcastReceiver", "handleCancelPrintJob() printJobId:" + printJobId);
            final PowerManager.WakeLock newWakeLock = ((PowerManager) context.getSystemService("power")).newWakeLock(1, "NotificationBroadcastReceiver");
            newWakeLock.acquire();
            new AsyncTask<Void, Void, Void>(this) { // from class: com.android.printspooler.model.NotificationController.NotificationBroadcastReceiver.1
                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public Void doInBackground(Void... voidArr) {
                    try {
                        try {
                            IPrintManager.Stub.asInterface(ServiceManager.getService("print")).cancelPrintJob(printJobId, -2, UserHandle.myUserId());
                        } catch (RemoteException e) {
                            Log.i("NotificationBroadcastReceiver", "Error requesting print job cancellation", e);
                        }
                        newWakeLock.release();
                        this = null;
                        return null;
                    } catch (Throwable th) {
                        newWakeLock.release();
                        throw th;
                    }
                }
            }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null);
        }

        private void handleRestartPrintJob(Context context, final PrintJobId printJobId) {
            Log.i("NotificationBroadcastReceiver", "handleRestartPrintJob() printJobId:" + printJobId);
            final PowerManager.WakeLock newWakeLock = ((PowerManager) context.getSystemService("power")).newWakeLock(1, "NotificationBroadcastReceiver");
            newWakeLock.acquire();
            new AsyncTask<Void, Void, Void>(this) { // from class: com.android.printspooler.model.NotificationController.NotificationBroadcastReceiver.2
                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public Void doInBackground(Void... voidArr) {
                    try {
                        try {
                            IPrintManager.Stub.asInterface(ServiceManager.getService("print")).restartPrintJob(printJobId, -2, UserHandle.myUserId());
                        } catch (RemoteException e) {
                            Log.i("NotificationBroadcastReceiver", "Error requesting print job restart", e);
                        }
                        newWakeLock.release();
                        this = null;
                        return null;
                    } catch (Throwable th) {
                        newWakeLock.release();
                        throw th;
                    }
                }
            }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null);
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/OpenDocumentCallback.java** ###

package com.android.printspooler.model;

/* loaded from: /content/classes1.dex */
public interface OpenDocumentCallback {
    void onFailure(int i);

    void onSuccess();
}


### **classes_dex_1/sources/com/android/printspooler/model/MutexFileProvider.java** ###

package com.android.printspooler.model;

import android.util.Log;
import java.io.File;
import java.io.IOException;

/* loaded from: /content/classes1.dex */
public final class MutexFileProvider {
    private final File mFile;
    private final Object mLock = new Object();
    private OnReleaseRequestCallback mOnReleaseRequestCallback;
    private Thread mOwnerThread;

    /* loaded from: /content/classes1.dex */
    public interface OnReleaseRequestCallback {
        void onReleaseRequested(File file);
    }

    public MutexFileProvider(File file) throws IOException {
        this.mFile = file;
        if (file.exists()) {
            file.delete();
        }
        file.createNewFile();
    }

    public File acquireFile(OnReleaseRequestCallback onReleaseRequestCallback) {
        synchronized (this.mLock) {
            if (this.mOwnerThread == Thread.currentThread()) {
                return this.mFile;
            }
            if (this.mOwnerThread != null && this.mOnReleaseRequestCallback != null) {
                this.mOnReleaseRequestCallback.onReleaseRequested(this.mFile);
            }
            while (this.mOwnerThread != null) {
                try {
                    this.mLock.wait();
                } catch (InterruptedException unused) {
                }
            }
            this.mOwnerThread = Thread.currentThread();
            this.mOnReleaseRequestCallback = onReleaseRequestCallback;
            Log.i("MutexFileProvider", "Acquired file: " + this.mFile + " by thread: " + this.mOwnerThread);
            return this.mFile;
        }
    }

    public void releaseFile() {
        synchronized (this.mLock) {
            if (this.mOwnerThread != Thread.currentThread()) {
                return;
            }
            Log.i("MutexFileProvider", "Released file: " + this.mFile + " from thread: " + this.mOwnerThread);
            this.mOwnerThread = null;
            this.mOnReleaseRequestCallback = null;
            this.mLock.notifyAll();
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/RemotePrintDocument.java** ###

package com.android.printspooler.model;

import android.content.Context;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.os.IBinder;
import android.os.ICancellationSignal;
import android.os.Looper;
import android.os.Message;
import android.os.RemoteException;
import android.print.ILayoutResultCallback;
import android.print.IPrintDocumentAdapter;
import android.print.IPrintDocumentAdapterObserver;
import android.print.IWriteResultCallback;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.print.PrintDocumentInfo;
import android.support.v7.recyclerview.R$styleable;
import android.util.Log;
import com.android.internal.util.function.pooled.PooledLambda;
import com.android.printspooler.model.RemotePrintDocument;
import com.android.printspooler.util.PageRangeUtils;
import java.lang.ref.WeakReference;
import java.util.Arrays;
import java.util.function.Consumer;

/* loaded from: /content/classes1.dex */
public final class RemotePrintDocument {
    private final RemoteAdapterDeathObserver mAdapterDeathObserver;
    private final Context mContext;
    private AsyncCommand mCurrentCommand;
    private final RemotePrintDocumentInfo mDocumentInfo;
    private final Looper mLooper;
    private AsyncCommand mNextCommand;
    private final IPrintDocumentAdapter mPrintDocumentAdapter;
    private final UpdateResultCallbacks mUpdateCallbacks;
    private final UpdateSpec mUpdateSpec = new UpdateSpec();
    private final CommandDoneCallback mCommandResultCallback = new CommandDoneCallback() { // from class: com.android.printspooler.model.RemotePrintDocument.1
        @Override // com.android.printspooler.model.RemotePrintDocument.CommandDoneCallback
        public void onDone() {
            if (RemotePrintDocument.this.mCurrentCommand.isCompleted()) {
                if (RemotePrintDocument.this.mCurrentCommand instanceof LayoutCommand) {
                    if (RemotePrintDocument.this.mNextCommand == null) {
                        if (RemotePrintDocument.this.mUpdateSpec.pages == null || (!RemotePrintDocument.this.mDocumentInfo.changed && RemotePrintDocument.this.mDocumentInfo.pagesWrittenToFile != null && (RemotePrintDocument.this.mDocumentInfo.info.getPageCount() == -1 || PageRangeUtils.contains(RemotePrintDocument.this.mDocumentInfo.pagesWrittenToFile, RemotePrintDocument.this.mUpdateSpec.pages, RemotePrintDocument.this.mDocumentInfo.info.getPageCount())))) {
                            if (RemotePrintDocument.this.mUpdateSpec.pages != null) {
                                RemotePrintDocument.this.mDocumentInfo.pagesInFileToPrint = PageRangeUtils.computeWhichPagesInFileToPrint(RemotePrintDocument.this.mUpdateSpec.pages, RemotePrintDocument.this.mDocumentInfo.pagesWrittenToFile, RemotePrintDocument.this.mDocumentInfo.info.getPageCount());
                            }
                            RemotePrintDocument.this.mState = 3;
                            RemotePrintDocument.this.mDocumentInfo.updated = true;
                            RemotePrintDocument.this.notifyUpdateCompleted();
                        } else {
                            RemotePrintDocument remotePrintDocument = RemotePrintDocument.this;
                            remotePrintDocument.mNextCommand = new WriteCommand(remotePrintDocument.mContext, RemotePrintDocument.this.mLooper, RemotePrintDocument.this.mPrintDocumentAdapter, RemotePrintDocument.this.mDocumentInfo, RemotePrintDocument.this.mDocumentInfo.info.getPageCount(), RemotePrintDocument.this.mUpdateSpec.pages, RemotePrintDocument.this.mDocumentInfo.fileProvider, RemotePrintDocument.this.mCommandResultCallback);
                        }
                    }
                } else {
                    RemotePrintDocument.this.mState = 3;
                    RemotePrintDocument.this.mDocumentInfo.updated = true;
                    RemotePrintDocument.this.notifyUpdateCompleted();
                }
                RemotePrintDocument.this.runPendingCommand();
                return;
            }
            if (RemotePrintDocument.this.mCurrentCommand.isFailed()) {
                RemotePrintDocument.this.mState = 4;
                CharSequence error = RemotePrintDocument.this.mCurrentCommand.getError();
                RemotePrintDocument.this.mCurrentCommand = null;
                RemotePrintDocument.this.mNextCommand = null;
                RemotePrintDocument.this.mUpdateSpec.reset();
                RemotePrintDocument.this.notifyUpdateFailed(error);
                return;
            }
            if (RemotePrintDocument.this.mCurrentCommand.isCanceled()) {
                if (RemotePrintDocument.this.mState == 6) {
                    RemotePrintDocument.this.mState = 7;
                    RemotePrintDocument.this.notifyUpdateCanceled();
                }
                if (RemotePrintDocument.this.mNextCommand != null) {
                    RemotePrintDocument.this.runPendingCommand();
                } else {
                    RemotePrintDocument.this.mUpdateSpec.reset();
                }
            }
        }
    };
    private final IBinder.DeathRecipient mDeathRecipient = new IBinder.DeathRecipient() { // from class: com.android.printspooler.model.RemotePrintDocument.2
        @Override // android.os.IBinder.DeathRecipient
        public void binderDied() {
            RemotePrintDocument.this.onPrintingAppDied();
        }
    };
    private int mState = 0;

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public interface CommandDoneCallback {
        void onDone();
    }

    /* loaded from: /content/classes1.dex */
    public interface RemoteAdapterDeathObserver {
        void onDied();
    }

    /* loaded from: /content/classes1.dex */
    public static final class RemotePrintDocumentInfo {
        public PrintAttributes attributes;
        public boolean changed;
        public MutexFileProvider fileProvider;
        public PrintDocumentInfo info;
        public boolean laidout;
        public Bundle metadata;
        public PageRange[] pagesInFileToPrint;
        public PageRange[] pagesWrittenToFile;
        public boolean updated;
    }

    /* loaded from: /content/classes1.dex */
    public interface UpdateResultCallbacks {
        void onUpdateCanceled();

        void onUpdateCompleted(RemotePrintDocumentInfo remotePrintDocumentInfo);

        void onUpdateFailed(CharSequence charSequence);
    }

    private static String stateToString(int i) {
        switch (i) {
            case R$styleable.RecyclerView_android_descendantFocusability /* 1 */:
                return "STATE_STARTED";
            case R$styleable.RecyclerView_fastScrollEnabled /* 2 */:
                return "STATE_UPDATING";
            case R$styleable.RecyclerView_fastScrollHorizontalThumbDrawable /* 3 */:
                return "STATE_UPDATED";
            case R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable /* 4 */:
                return "STATE_FAILED";
            case R$styleable.RecyclerView_fastScrollVerticalThumbDrawable /* 5 */:
                return "STATE_FINISHED";
            case R$styleable.RecyclerView_fastScrollVerticalTrackDrawable /* 6 */:
                return "STATE_CANCELING";
            case R$styleable.RecyclerView_layoutManager /* 7 */:
                return "STATE_CANCELED";
            case R$styleable.RecyclerView_reverseLayout /* 8 */:
                return "STATE_DESTROYED";
            default:
                return "STATE_UNKNOWN";
        }
    }

    public RemotePrintDocument(Context context, IPrintDocumentAdapter iPrintDocumentAdapter, MutexFileProvider mutexFileProvider, RemoteAdapterDeathObserver remoteAdapterDeathObserver, UpdateResultCallbacks updateResultCallbacks) {
        this.mPrintDocumentAdapter = iPrintDocumentAdapter;
        this.mLooper = context.getMainLooper();
        this.mContext = context;
        this.mAdapterDeathObserver = remoteAdapterDeathObserver;
        RemotePrintDocumentInfo remotePrintDocumentInfo = new RemotePrintDocumentInfo();
        this.mDocumentInfo = remotePrintDocumentInfo;
        remotePrintDocumentInfo.fileProvider = mutexFileProvider;
        this.mUpdateCallbacks = updateResultCallbacks;
        connectToRemoteDocument();
    }

    public void start() {
        Log.i("RemotePrintDocument", "[CALLED] start()");
        int i = this.mState;
        if (i == 4) {
            Log.w("RemotePrintDocument", "Failed before start.");
            return;
        }
        if (i == 8) {
            Log.w("RemotePrintDocument", "Destroyed before start.");
            return;
        }
        if (i != 0) {
            throw new IllegalStateException("Cannot start in state:" + stateToString(this.mState));
        }
        try {
            this.mPrintDocumentAdapter.start();
            this.mState = 1;
        } catch (RemoteException e) {
            Log.e("RemotePrintDocument", "Error calling start()", e);
            this.mState = 4;
        }
    }

    public boolean update(PrintAttributes printAttributes, PageRange[] pageRangeArr, boolean z) {
        boolean z2;
        PageRange[] pageRangeArr2;
        Log.i("RemotePrintDocument", "[CALLED] update()");
        if (hasUpdateError()) {
            throw new IllegalStateException("Cannot update without a clearing the failure");
        }
        int i = this.mState;
        if (i == 0 || i == 5 || i == 8) {
            throw new IllegalStateException("Cannot update in state:" + stateToString(this.mState));
        }
        AsyncCommand asyncCommand = this.mCurrentCommand;
        boolean z3 = true;
        if ((asyncCommand != null && asyncCommand.isCanceling()) || !this.mUpdateSpec.hasSameConstraints(printAttributes, z)) {
            AsyncCommand asyncCommand2 = this.mCurrentCommand;
            if (asyncCommand2 != null && (asyncCommand2.isRunning() || this.mCurrentCommand.isPending())) {
                this.mCurrentCommand.cancel(false);
            }
            PrintAttributes printAttributes2 = this.mDocumentInfo.attributes;
            if (printAttributes2 == null) {
                printAttributes2 = new PrintAttributes.Builder().build();
            }
            scheduleCommand(new LayoutCommand(this.mLooper, this.mPrintDocumentAdapter, this.mDocumentInfo, printAttributes2, printAttributes, z, this.mCommandResultCallback));
            this.mDocumentInfo.updated = false;
            this.mState = 2;
            z2 = z;
            pageRangeArr2 = pageRangeArr;
        } else {
            AsyncCommand asyncCommand3 = this.mCurrentCommand;
            if ((!(asyncCommand3 instanceof LayoutCommand) || (!asyncCommand3.isPending() && !this.mCurrentCommand.isRunning())) && pageRangeArr != null && !PageRangeUtils.contains(this.mUpdateSpec.pages, pageRangeArr, this.mDocumentInfo.info.getPageCount())) {
                AsyncCommand asyncCommand4 = this.mCurrentCommand;
                if ((asyncCommand4 instanceof WriteCommand) && (asyncCommand4.isPending() || this.mCurrentCommand.isRunning())) {
                    this.mCurrentCommand.cancel(false);
                }
                Context context = this.mContext;
                Looper looper = this.mLooper;
                IPrintDocumentAdapter iPrintDocumentAdapter = this.mPrintDocumentAdapter;
                RemotePrintDocumentInfo remotePrintDocumentInfo = this.mDocumentInfo;
                z2 = z;
                pageRangeArr2 = pageRangeArr;
                scheduleCommand(new WriteCommand(context, looper, iPrintDocumentAdapter, remotePrintDocumentInfo, remotePrintDocumentInfo.info.getPageCount(), pageRangeArr, this.mDocumentInfo.fileProvider, this.mCommandResultCallback));
                this.mDocumentInfo.updated = false;
                this.mState = 2;
            } else {
                z2 = z;
                pageRangeArr2 = pageRangeArr;
                Log.i("RemotePrintDocument", "[SKIPPING] No update needed");
                z3 = false;
            }
        }
        this.mUpdateSpec.update(printAttributes, z2, pageRangeArr2);
        runPendingCommand();
        return z3;
    }

    public void finish() {
        Log.i("RemotePrintDocument", "[CALLED] finish()");
        int i = this.mState;
        if (i != 1 && i != 3 && i != 4 && i != 6 && i != 7 && i != 8) {
            throw new IllegalStateException("Cannot finish in state:" + stateToString(this.mState));
        }
        try {
            this.mPrintDocumentAdapter.finish();
            this.mState = 5;
        } catch (RemoteException unused) {
            Log.e("RemotePrintDocument", "Error calling finish()");
            this.mState = 4;
        }
    }

    public void cancel(boolean z) {
        Log.i("RemotePrintDocument", "[CALLED] cancel(" + z + ")");
        this.mNextCommand = null;
        if (this.mState != 2) {
            return;
        }
        this.mState = 6;
        this.mCurrentCommand.cancel(z);
    }

    public void destroy() {
        Log.i("RemotePrintDocument", "[CALLED] destroy()");
        if (this.mState == 8) {
            throw new IllegalStateException("Cannot destroy in state:" + stateToString(this.mState));
        }
        this.mState = 8;
        disconnectFromRemoteDocument();
    }

    public void kill(String str) {
        Log.i("RemotePrintDocument", "[CALLED] kill()");
        try {
            this.mPrintDocumentAdapter.kill(str);
        } catch (RemoteException e) {
            Log.e("RemotePrintDocument", "Error calling kill()", e);
        }
    }

    public boolean isUpdating() {
        int i = this.mState;
        return i == 2 || i == 6;
    }

    public boolean isDestroyed() {
        return this.mState == 8;
    }

    public boolean hasUpdateError() {
        return this.mState == 4;
    }

    public boolean hasLaidOutPages() {
        PrintDocumentInfo printDocumentInfo = this.mDocumentInfo.info;
        return printDocumentInfo != null && printDocumentInfo.getPageCount() > 0;
    }

    public void clearUpdateError() {
        if (!hasUpdateError()) {
            throw new IllegalStateException("No update error to clear");
        }
        this.mState = 1;
    }

    public RemotePrintDocumentInfo getDocumentInfo() {
        return this.mDocumentInfo;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:32:0x005f  */
    /* JADX WARN: Type inference failed for: r2v1, types: [java.io.FileInputStream, java.lang.AutoCloseable, java.io.InputStream] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void writeContent(android.content.ContentResolver r5, android.net.Uri r6) {
        /*
            r4 = this;
            r0 = 0
            com.android.printspooler.model.RemotePrintDocument$RemotePrintDocumentInfo r1 = r4.mDocumentInfo     // Catch: java.lang.Throwable -> L38 java.io.IOException -> L3c
            com.android.printspooler.model.MutexFileProvider r1 = r1.fileProvider     // Catch: java.lang.Throwable -> L38 java.io.IOException -> L3c
            java.io.File r1 = r1.acquireFile(r0)     // Catch: java.lang.Throwable -> L38 java.io.IOException -> L3c
            java.io.FileInputStream r2 = new java.io.FileInputStream     // Catch: java.lang.Throwable -> L32 java.io.IOException -> L35
            r2.<init>(r1)     // Catch: java.lang.Throwable -> L32 java.io.IOException -> L35
            java.io.OutputStream r0 = r5.openOutputStream(r6)     // Catch: java.lang.Throwable -> L2a java.io.IOException -> L2e
            r5 = 8192(0x2000, float:1.14794E-41)
            byte[] r5 = new byte[r5]     // Catch: java.lang.Throwable -> L2a java.io.IOException -> L2e
        L16:
            int r6 = r2.read(r5)     // Catch: java.lang.Throwable -> L2a java.io.IOException -> L2e
            if (r6 >= 0) goto L25
            libcore.io.IoUtils.closeQuietly(r2)
            libcore.io.IoUtils.closeQuietly(r0)
            if (r1 == 0) goto L55
            goto L4e
        L25:
            r3 = 0
            r0.write(r5, r3, r6)     // Catch: java.lang.Throwable -> L2a java.io.IOException -> L2e
            goto L16
        L2a:
            r5 = move-exception
            r6 = r0
            r0 = r2
            goto L57
        L2e:
            r5 = move-exception
            r6 = r0
            r0 = r2
            goto L3f
        L32:
            r5 = move-exception
            r6 = r0
            goto L57
        L35:
            r5 = move-exception
            r6 = r0
            goto L3f
        L38:
            r5 = move-exception
            r6 = r0
            r1 = r6
            goto L57
        L3c:
            r5 = move-exception
            r6 = r0
            r1 = r6
        L3f:
            java.lang.String r2 = "RemotePrintDocument"
            java.lang.String r3 = "Error writing document content."
            android.util.Log.e(r2, r3, r5)     // Catch: java.lang.Throwable -> L56
            libcore.io.IoUtils.closeQuietly(r0)
            libcore.io.IoUtils.closeQuietly(r6)
            if (r1 == 0) goto L55
        L4e:
            com.android.printspooler.model.RemotePrintDocument$RemotePrintDocumentInfo r4 = r4.mDocumentInfo
            com.android.printspooler.model.MutexFileProvider r4 = r4.fileProvider
            r4.releaseFile()
        L55:
            return
        L56:
            r5 = move-exception
        L57:
            libcore.io.IoUtils.closeQuietly(r0)
            libcore.io.IoUtils.closeQuietly(r6)
            if (r1 == 0) goto L66
            com.android.printspooler.model.RemotePrintDocument$RemotePrintDocumentInfo r4 = r4.mDocumentInfo
            com.android.printspooler.model.MutexFileProvider r4 = r4.fileProvider
            r4.releaseFile()
        L66:
            throw r5
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.model.RemotePrintDocument.writeContent(android.content.ContentResolver, android.net.Uri):void");
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void notifyUpdateCanceled() {
        Log.i("RemotePrintDocument", "[CALLING] onUpdateCanceled()");
        this.mUpdateCallbacks.onUpdateCanceled();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void notifyUpdateCompleted() {
        Log.i("RemotePrintDocument", "[CALLING] onUpdateCompleted()");
        this.mUpdateCallbacks.onUpdateCompleted(this.mDocumentInfo);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void notifyUpdateFailed(CharSequence charSequence) {
        Log.i("RemotePrintDocument", "[CALLING] notifyUpdateFailed()");
        this.mUpdateCallbacks.onUpdateFailed(charSequence);
    }

    private void connectToRemoteDocument() {
        try {
            this.mPrintDocumentAdapter.asBinder().linkToDeath(this.mDeathRecipient, 0);
            try {
                this.mPrintDocumentAdapter.setObserver(new PrintDocumentAdapterObserver(this));
            } catch (RemoteException unused) {
                Log.w("RemotePrintDocument", "Error setting observer to the print adapter.");
                destroy();
            }
        } catch (RemoteException unused2) {
            Log.w("RemotePrintDocument", "The printing process is dead.");
            destroy();
        }
    }

    private void disconnectFromRemoteDocument() {
        try {
            this.mPrintDocumentAdapter.setObserver((IPrintDocumentAdapterObserver) null);
        } catch (RemoteException unused) {
            Log.w("RemotePrintDocument", "Error setting observer to the print adapter.");
        }
        this.mPrintDocumentAdapter.asBinder().unlinkToDeath(this.mDeathRecipient, 0);
    }

    private void scheduleCommand(AsyncCommand asyncCommand) {
        if (this.mCurrentCommand == null) {
            this.mCurrentCommand = asyncCommand;
        } else {
            this.mNextCommand = asyncCommand;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void runPendingCommand() {
        AsyncCommand asyncCommand = this.mCurrentCommand;
        if (asyncCommand != null && (asyncCommand.isCompleted() || this.mCurrentCommand.isCanceled())) {
            this.mCurrentCommand = this.mNextCommand;
            this.mNextCommand = null;
        }
        AsyncCommand asyncCommand2 = this.mCurrentCommand;
        if (asyncCommand2 != null) {
            if (asyncCommand2.isPending()) {
                this.mCurrentCommand.run();
                this.mState = 2;
                return;
            }
            return;
        }
        this.mState = 3;
    }

    /* loaded from: /content/classes1.dex */
    static final class UpdateSpec {
        final PrintAttributes attributes = new PrintAttributes.Builder().build();
        PageRange[] pages;
        boolean preview;

        UpdateSpec() {
        }

        public void update(PrintAttributes printAttributes, boolean z, PageRange[] pageRangeArr) {
            this.attributes.copyFrom(printAttributes);
            this.preview = z;
            this.pages = pageRangeArr != null ? (PageRange[]) Arrays.copyOf(pageRangeArr, pageRangeArr.length) : null;
        }

        public void reset() {
            this.attributes.clear();
            this.preview = false;
            this.pages = null;
        }

        public boolean hasSameConstraints(PrintAttributes printAttributes, boolean z) {
            return this.attributes.equals(printAttributes) && this.preview == z;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static abstract class AsyncCommand implements Runnable {
        private static int sSequenceCounter;
        protected final IPrintDocumentAdapter mAdapter;
        protected ICancellationSignal mCancellation;
        protected final RemotePrintDocumentInfo mDocument;
        protected final CommandDoneCallback mDoneCallback;
        private CharSequence mError;
        private final Handler mHandler;
        protected final int mSequence;
        private int mState;

        public AsyncCommand(Looper looper, IPrintDocumentAdapter iPrintDocumentAdapter, RemotePrintDocumentInfo remotePrintDocumentInfo, CommandDoneCallback commandDoneCallback) {
            int i = sSequenceCounter;
            sSequenceCounter = i + 1;
            this.mSequence = i;
            this.mState = 0;
            this.mHandler = new Handler(looper);
            this.mAdapter = iPrintDocumentAdapter;
            this.mDocument = remotePrintDocumentInfo;
            this.mDoneCallback = commandDoneCallback;
        }

        protected final boolean isCanceling() {
            return this.mState == 4;
        }

        public final boolean isCanceled() {
            return this.mState == 3;
        }

        protected void removeForceCancel() {
            if (this.mHandler.hasMessages(0)) {
                Log.i("RemotePrintDocument", "[FORCE CANCEL] Removed");
            }
            this.mHandler.removeMessages(0);
        }

        public final void cancel(boolean z) {
            if (isRunning()) {
                canceling();
                ICancellationSignal iCancellationSignal = this.mCancellation;
                if (iCancellationSignal != null) {
                    try {
                        iCancellationSignal.cancel();
                    } catch (RemoteException e) {
                        Log.w("RemotePrintDocument", "Error while canceling", e);
                    }
                }
            }
            if (!isCanceling()) {
                canceled();
                this.mDoneCallback.onDone();
            } else if (z) {
                Log.i("RemotePrintDocument", "[FORCE CANCEL] queued");
                this.mHandler.sendMessageDelayed(PooledLambda.obtainMessage(new Consumer() { // from class: com.android.printspooler.model.-$$Lambda$RemotePrintDocument$AsyncCommand$4g8FnGzvbArpJJGFKTMTCDfJjf0
                    @Override // java.util.function.Consumer
                    public final void accept(Object obj) {
                        ((RemotePrintDocument.AsyncCommand) obj).forceCancel();
                    }
                }, this).setWhat(0), 1000L);
            }
        }

        protected final void canceling() {
            int i = this.mState;
            if (i != 0 && i != 1) {
                throw new IllegalStateException("Command not pending or running.");
            }
            this.mState = 4;
        }

        protected final void canceled() {
            if (this.mState != 4) {
                throw new IllegalStateException("Not canceling.");
            }
            this.mState = 3;
        }

        public final boolean isPending() {
            return this.mState == 0;
        }

        protected final void running() {
            if (this.mState != 0) {
                throw new IllegalStateException("Not pending.");
            }
            this.mState = 1;
        }

        public final boolean isRunning() {
            return this.mState == 1;
        }

        protected final void completed() {
            int i = this.mState;
            if (i != 1 && i != 4) {
                throw new IllegalStateException("Not running.");
            }
            this.mState = 2;
        }

        public final boolean isCompleted() {
            return this.mState == 2;
        }

        protected final void failed(CharSequence charSequence) {
            int i = this.mState;
            if (i != 1 && i != 4) {
                throw new IllegalStateException("Not running.");
            }
            this.mState = 5;
            this.mError = charSequence;
        }

        public final boolean isFailed() {
            return this.mState == 5;
        }

        public CharSequence getError() {
            return this.mError;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void forceCancel() {
            if (isCanceling()) {
                Log.i("RemotePrintDocument", "[FORCE CANCEL] executed");
                failed("Command did not respond to cancellation in 1000 ms");
                this.mDoneCallback.onDone();
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    private static final class LayoutCommand extends AsyncCommand {
        private final Handler mHandler;
        private final Bundle mMetadata;
        private final PrintAttributes mNewAttributes;
        private final PrintAttributes mOldAttributes;
        private final ILayoutResultCallback mRemoteResultCallback;

        public LayoutCommand(Looper looper, IPrintDocumentAdapter iPrintDocumentAdapter, RemotePrintDocumentInfo remotePrintDocumentInfo, PrintAttributes printAttributes, PrintAttributes printAttributes2, boolean z, CommandDoneCallback commandDoneCallback) {
            super(looper, iPrintDocumentAdapter, remotePrintDocumentInfo, commandDoneCallback);
            this.mOldAttributes = new PrintAttributes.Builder().build();
            this.mNewAttributes = new PrintAttributes.Builder().build();
            this.mMetadata = new Bundle();
            this.mHandler = new LayoutHandler(looper);
            this.mRemoteResultCallback = new LayoutResultCallback(this.mHandler);
            this.mOldAttributes.copyFrom(printAttributes);
            this.mNewAttributes.copyFrom(printAttributes2);
            this.mMetadata.putBoolean("EXTRA_PRINT_PREVIEW", z);
        }

        @Override // java.lang.Runnable
        public void run() {
            running();
            try {
                Log.i("RemotePrintDocument", "[PERFORMING] layout");
                this.mDocument.changed = false;
                this.mAdapter.layout(this.mOldAttributes, this.mNewAttributes, this.mRemoteResultCallback, this.mMetadata, this.mSequence);
            } catch (RemoteException e) {
                Log.e("RemotePrintDocument", "Error calling layout", e);
                handleOnLayoutFailed(null, this.mSequence);
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnLayoutStarted(ICancellationSignal iCancellationSignal, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onLayoutStarted");
            if (isCanceling()) {
                try {
                    iCancellationSignal.cancel();
                    return;
                } catch (RemoteException e) {
                    Log.e("RemotePrintDocument", "Error cancelling", e);
                    handleOnLayoutFailed(null, this.mSequence);
                    return;
                }
            }
            this.mCancellation = iCancellationSignal;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnLayoutFinished(PrintDocumentInfo printDocumentInfo, boolean z, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onLayoutFinished");
            completed();
            if (z || !equalsIgnoreSize(this.mDocument.info, printDocumentInfo)) {
                RemotePrintDocumentInfo remotePrintDocumentInfo = this.mDocument;
                remotePrintDocumentInfo.pagesWrittenToFile = null;
                remotePrintDocumentInfo.pagesInFileToPrint = null;
                remotePrintDocumentInfo.changed = true;
            }
            RemotePrintDocumentInfo remotePrintDocumentInfo2 = this.mDocument;
            remotePrintDocumentInfo2.attributes = this.mNewAttributes;
            remotePrintDocumentInfo2.metadata = this.mMetadata;
            remotePrintDocumentInfo2.laidout = true;
            remotePrintDocumentInfo2.info = printDocumentInfo;
            this.mCancellation = null;
            this.mDoneCallback.onDone();
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnLayoutFailed(CharSequence charSequence, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onLayoutFailed");
            this.mDocument.laidout = false;
            failed(charSequence);
            this.mCancellation = null;
            this.mDoneCallback.onDone();
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnLayoutCanceled(int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onLayoutCanceled");
            canceled();
            this.mCancellation = null;
            this.mDoneCallback.onDone();
        }

        private boolean equalsIgnoreSize(PrintDocumentInfo printDocumentInfo, PrintDocumentInfo printDocumentInfo2) {
            if (printDocumentInfo == printDocumentInfo2) {
                return true;
            }
            return printDocumentInfo != null && printDocumentInfo2 != null && printDocumentInfo.getContentType() == printDocumentInfo2.getContentType() && printDocumentInfo.getPageCount() == printDocumentInfo2.getPageCount();
        }

        /* loaded from: /content/classes1.dex */
        private final class LayoutHandler extends Handler {
            public LayoutHandler(Looper looper) {
                super(looper, null, false);
            }

            @Override // android.os.Handler
            public void handleMessage(Message message) {
                int i;
                if (LayoutCommand.this.isFailed()) {
                    Log.i("RemotePrintDocument", "[CALLBACK] on failed layout command");
                    return;
                }
                int i2 = message.what;
                CharSequence charSequence = null;
                if (i2 == 1) {
                    i = message.arg1;
                } else if (i2 == 2) {
                    LayoutCommand.this.removeForceCancel();
                    i = message.arg2;
                } else if (i2 == 3) {
                    charSequence = (CharSequence) message.obj;
                    LayoutCommand.this.removeForceCancel();
                    i = message.arg1;
                } else if (i2 != 4) {
                    i = -1;
                } else {
                    if (!LayoutCommand.this.isCanceling()) {
                        Log.w("RemotePrintDocument", "Unexpected cancel");
                        i2 = 3;
                    }
                    LayoutCommand.this.removeForceCancel();
                    i = message.arg1;
                }
                if (LayoutCommand.this.isCanceling() && i2 != 1) {
                    i2 = 4;
                }
                if (i2 == 1) {
                    LayoutCommand.this.handleOnLayoutStarted((ICancellationSignal) message.obj, i);
                    return;
                }
                if (i2 == 2) {
                    LayoutCommand.this.handleOnLayoutFinished((PrintDocumentInfo) message.obj, message.arg1 == 1, i);
                } else if (i2 == 3) {
                    LayoutCommand.this.handleOnLayoutFailed(charSequence, i);
                } else {
                    if (i2 != 4) {
                        return;
                    }
                    LayoutCommand.this.handleOnLayoutCanceled(i);
                }
            }
        }

        /* loaded from: /content/classes1.dex */
        private static final class LayoutResultCallback extends ILayoutResultCallback.Stub {
            private final WeakReference<Handler> mWeakHandler;

            public LayoutResultCallback(Handler handler) {
                this.mWeakHandler = new WeakReference<>(handler);
            }

            public void onLayoutStarted(ICancellationSignal iCancellationSignal, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(1, i, 0, iCancellationSignal).sendToTarget();
                }
            }

            public void onLayoutFinished(PrintDocumentInfo printDocumentInfo, boolean z, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(2, z ? 1 : 0, i, printDocumentInfo).sendToTarget();
                }
            }

            public void onLayoutFailed(CharSequence charSequence, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(3, i, 0, charSequence).sendToTarget();
                }
            }

            public void onLayoutCanceled(int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(4, i, 0).sendToTarget();
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class WriteCommand extends AsyncCommand {
        private final Context mContext;
        private final MutexFileProvider mFileProvider;
        private final Handler mHandler;
        private final int mPageCount;
        private final PageRange[] mPages;
        private final IWriteResultCallback mRemoteResultCallback;
        private final CommandDoneCallback mWriteDoneCallback;

        public WriteCommand(Context context, Looper looper, IPrintDocumentAdapter iPrintDocumentAdapter, RemotePrintDocumentInfo remotePrintDocumentInfo, int i, PageRange[] pageRangeArr, MutexFileProvider mutexFileProvider, CommandDoneCallback commandDoneCallback) {
            super(looper, iPrintDocumentAdapter, remotePrintDocumentInfo, commandDoneCallback);
            this.mContext = context;
            this.mHandler = new WriteHandler(looper);
            this.mRemoteResultCallback = new WriteResultCallback(this.mHandler);
            this.mPageCount = i;
            this.mPages = (PageRange[]) Arrays.copyOf(pageRangeArr, pageRangeArr.length);
            this.mFileProvider = mutexFileProvider;
            this.mWriteDoneCallback = commandDoneCallback;
        }

        @Override // java.lang.Runnable
        public void run() {
            running();
            new AsyncTask<Void, Void, Void>() { // from class: com.android.printspooler.model.RemotePrintDocument.WriteCommand.1
                /* JADX INFO: Access modifiers changed from: protected */
                /* JADX WARN: Code restructure failed: missing block: B:24:0x005a, code lost:
                
                    if (r1 != null) goto L54;
                 */
                /* JADX WARN: Code restructure failed: missing block: B:25:0x00b5, code lost:
                
                    return null;
                 */
                /* JADX WARN: Code restructure failed: missing block: B:27:0x00ac, code lost:
                
                    r12.this$0.mFileProvider.releaseFile();
                 */
                /* JADX WARN: Code restructure failed: missing block: B:41:0x00aa, code lost:
                
                    if (r1 != null) goto L54;
                 */
                /* JADX WARN: Multi-variable type inference failed */
                /* JADX WARN: Removed duplicated region for block: B:34:0x00c7  */
                /* JADX WARN: Type inference failed for: r5v10 */
                /* JADX WARN: Type inference failed for: r5v11 */
                /* JADX WARN: Type inference failed for: r5v2, types: [java.lang.AutoCloseable] */
                /* JADX WARN: Type inference failed for: r5v3 */
                /* JADX WARN: Type inference failed for: r5v6 */
                /* JADX WARN: Type inference failed for: r5v7 */
                /* JADX WARN: Type inference failed for: r5v8, types: [java.io.FileInputStream, java.lang.AutoCloseable, java.io.InputStream] */
                /* JADX WARN: Type inference failed for: r5v9 */
                /* JADX WARN: Type inference failed for: r6v1 */
                /* JADX WARN: Type inference failed for: r6v10 */
                /* JADX WARN: Type inference failed for: r6v11 */
                /* JADX WARN: Type inference failed for: r6v12, types: [java.io.OutputStream, java.io.FileOutputStream, java.lang.AutoCloseable] */
                /* JADX WARN: Type inference failed for: r6v14 */
                /* JADX WARN: Type inference failed for: r6v15 */
                /* JADX WARN: Type inference failed for: r6v2, types: [java.lang.AutoCloseable] */
                /* JADX WARN: Type inference failed for: r6v4 */
                /* JADX WARN: Type inference failed for: r6v7 */
                /* JADX WARN: Type inference failed for: r6v8 */
                @Override // android.os.AsyncTask
                /*
                    Code decompiled incorrectly, please refer to instructions dump.
                    To view partially-correct add '--show-bad-code' argument
                */
                public java.lang.Void doInBackground(java.lang.Void... r13) {
                    /*
                        Method dump skipped, instructions count: 209
                        To view this dump add '--comments-level debug' option
                    */
                    throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.model.RemotePrintDocument.WriteCommand.AnonymousClass1.doInBackground(java.lang.Void[]):java.lang.Void");
                }
            }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnWriteStarted(ICancellationSignal iCancellationSignal, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onWriteStarted");
            if (isCanceling()) {
                try {
                    iCancellationSignal.cancel();
                    return;
                } catch (RemoteException e) {
                    Log.e("RemotePrintDocument", "Error cancelling", e);
                    handleOnWriteFailed(null, i);
                    return;
                }
            }
            this.mCancellation = iCancellationSignal;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnWriteFinished(PageRange[] pageRangeArr, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onWriteFinished");
            PageRange[] normalize = PageRangeUtils.normalize(pageRangeArr);
            PageRange[] computeWhichPagesInFileToPrint = PageRangeUtils.computeWhichPagesInFileToPrint(this.mPages, normalize, this.mPageCount);
            if (computeWhichPagesInFileToPrint != null) {
                RemotePrintDocumentInfo remotePrintDocumentInfo = this.mDocument;
                remotePrintDocumentInfo.pagesWrittenToFile = normalize;
                remotePrintDocumentInfo.pagesInFileToPrint = computeWhichPagesInFileToPrint;
                completed();
            } else {
                RemotePrintDocumentInfo remotePrintDocumentInfo2 = this.mDocument;
                remotePrintDocumentInfo2.pagesWrittenToFile = null;
                remotePrintDocumentInfo2.pagesInFileToPrint = null;
                failed(this.mContext.getString(2131427373));
            }
            this.mCancellation = null;
            this.mWriteDoneCallback.onDone();
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnWriteFailed(CharSequence charSequence, int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onWriteFailed");
            failed(charSequence);
            this.mCancellation = null;
            this.mWriteDoneCallback.onDone();
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void handleOnWriteCanceled(int i) {
            if (i != this.mSequence) {
                return;
            }
            Log.i("RemotePrintDocument", "[CALLBACK] onWriteCanceled");
            canceled();
            this.mCancellation = null;
            this.mWriteDoneCallback.onDone();
        }

        /* loaded from: /content/classes1.dex */
        private final class WriteHandler extends Handler {
            public WriteHandler(Looper looper) {
                super(looper, null, false);
            }

            /* JADX WARN: Removed duplicated region for block: B:19:0x004b  */
            /* JADX WARN: Removed duplicated region for block: B:29:0x0068  */
            @Override // android.os.Handler
            /*
                Code decompiled incorrectly, please refer to instructions dump.
                To view partially-correct add '--show-bad-code' argument
            */
            public void handleMessage(android.os.Message r9) {
                /*
                    r8 = this;
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r0 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    boolean r0 = r0.isFailed()
                    java.lang.String r1 = "RemotePrintDocument"
                    if (r0 == 0) goto L10
                    java.lang.String r8 = "[CALLBACK] on failed write command"
                    android.util.Log.i(r1, r8)
                    return
                L10:
                    int r0 = r9.what
                    r2 = 0
                    int r3 = r9.arg1
                    r4 = 2
                    r5 = 4
                    r6 = 3
                    if (r0 == r4) goto L38
                    if (r0 == r6) goto L33
                    if (r0 == r5) goto L1f
                    goto L3d
                L1f:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r7 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    boolean r7 = r7.isCanceling()
                    if (r7 != 0) goto L2d
                    java.lang.String r0 = "Unexpected cancel"
                    android.util.Log.w(r1, r0)
                    r0 = r6
                L2d:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r1 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    r1.removeForceCancel()
                    goto L3d
                L33:
                    java.lang.Object r1 = r9.obj
                    r2 = r1
                    java.lang.CharSequence r2 = (java.lang.CharSequence) r2
                L38:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r1 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    r1.removeForceCancel()
                L3d:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r1 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    boolean r1 = r1.isCanceling()
                    r7 = 1
                    if (r1 == 0) goto L49
                    if (r0 == r7) goto L49
                    r0 = r5
                L49:
                    if (r0 == r7) goto L68
                    if (r0 == r4) goto L5e
                    if (r0 == r6) goto L58
                    if (r0 == r5) goto L52
                    goto L71
                L52:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r8 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    com.android.printspooler.model.RemotePrintDocument.WriteCommand.access$2400(r8, r3)
                    goto L71
                L58:
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r8 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    com.android.printspooler.model.RemotePrintDocument.WriteCommand.access$2300(r8, r2, r3)
                    goto L71
                L5e:
                    java.lang.Object r9 = r9.obj
                    android.print.PageRange[] r9 = (android.print.PageRange[]) r9
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r8 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    com.android.printspooler.model.RemotePrintDocument.WriteCommand.access$2200(r8, r9, r3)
                    goto L71
                L68:
                    java.lang.Object r9 = r9.obj
                    android.os.ICancellationSignal r9 = (android.os.ICancellationSignal) r9
                    com.android.printspooler.model.RemotePrintDocument$WriteCommand r8 = com.android.printspooler.model.RemotePrintDocument.WriteCommand.this
                    com.android.printspooler.model.RemotePrintDocument.WriteCommand.access$2100(r8, r9, r3)
                L71:
                    return
                */
                throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.model.RemotePrintDocument.WriteCommand.WriteHandler.handleMessage(android.os.Message):void");
            }
        }

        /* loaded from: /content/classes1.dex */
        private static final class WriteResultCallback extends IWriteResultCallback.Stub {
            private final WeakReference<Handler> mWeakHandler;

            public WriteResultCallback(Handler handler) {
                this.mWeakHandler = new WeakReference<>(handler);
            }

            public void onWriteStarted(ICancellationSignal iCancellationSignal, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(1, i, 0, iCancellationSignal).sendToTarget();
                }
            }

            public void onWriteFinished(PageRange[] pageRangeArr, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(2, i, 0, pageRangeArr).sendToTarget();
                }
            }

            public void onWriteFailed(CharSequence charSequence, int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(3, i, 0, charSequence).sendToTarget();
                }
            }

            public void onWriteCanceled(int i) {
                Handler handler = this.mWeakHandler.get();
                if (handler != null) {
                    handler.obtainMessage(4, i, 0).sendToTarget();
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onPrintingAppDied() {
        this.mState = 4;
        new Handler(this.mLooper).post(new Runnable() { // from class: com.android.printspooler.model.RemotePrintDocument.3
            @Override // java.lang.Runnable
            public void run() {
                RemotePrintDocument.this.mAdapterDeathObserver.onDied();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class PrintDocumentAdapterObserver extends IPrintDocumentAdapterObserver.Stub {
        private final WeakReference<RemotePrintDocument> mWeakDocument;

        public PrintDocumentAdapterObserver(RemotePrintDocument remotePrintDocument) {
            this.mWeakDocument = new WeakReference<>(remotePrintDocument);
        }

        public void onDestroy() {
            RemotePrintDocument remotePrintDocument = this.mWeakDocument.get();
            if (remotePrintDocument != null) {
                remotePrintDocument.onPrintingAppDied();
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/PrintSpoolerService.java** ###

package com.android.printspooler.model;

import android.app.Service;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.graphics.drawable.Icon;
import android.os.AsyncTask;
import android.os.Binder;
import android.os.Bundle;
import android.os.Handler;
import android.os.IBinder;
import android.os.ParcelFileDescriptor;
import android.os.PowerManager;
import android.os.RemoteException;
import android.print.IPrintSpooler;
import android.print.IPrintSpoolerCallbacks;
import android.print.IPrintSpoolerClient;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.print.PrintDocumentInfo;
import android.print.PrintJobId;
import android.print.PrintJobInfo;
import android.print.PrinterId;
import android.text.TextUtils;
import android.util.ArrayMap;
import android.util.AtomicFile;
import android.util.Log;
import android.util.Slog;
import android.util.Xml;
import android.util.proto.ProtoOutputStream;
import com.android.internal.print.DumpUtils;
import com.android.internal.util.FastXmlSerializer;
import com.android.internal.util.IndentingPrintWriter;
import com.android.internal.util.Preconditions;
import com.android.internal.util.dump.DualDumpOutputStream;
import com.android.internal.util.function.pooled.PooledLambda;
import com.android.printspooler.util.ApprovedPrintServices;
import com.samsung.android.util.SemLog;
import java.io.File;
import java.io.FileDescriptor;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.PrintWriter;
import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import java.util.function.BiConsumer;
import java.util.function.Consumer;
import libcore.io.IoUtils;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;

/* loaded from: /content/classes1.dex */
public final class PrintSpoolerService extends Service {
    private static final Object sLock = new Object();
    private IPrintSpoolerClient mClient;
    private CustomPrinterIconCache mCustomIconCache;
    private PowerManager.WakeLock mKeepAwake;
    private NotificationController mNotificationController;
    private PersistenceManager mPersistanceManager;
    private final Object mLock = new Object();
    private final List<PrintJobInfo> mPrintJobs = new ArrayList();

    private boolean isActiveState(int i) {
        return i == 1 || i == 2 || i == 3 || i == 4;
    }

    private boolean isScheduledState(int i) {
        return i == 2 || i == 3 || i == 4;
    }

    private boolean isTerminalState(int i) {
        return i == 5 || i == 7;
    }

    @Override // android.app.Service
    public void onCreate() {
        super.onCreate();
        this.mPersistanceManager = new PersistenceManager();
        this.mNotificationController = new NotificationController(this);
        this.mCustomIconCache = new CustomPrinterIconCache(getCacheDir());
        this.mKeepAwake = ((PowerManager) getSystemService(PowerManager.class)).newWakeLock(1, "Active Print Job");
        synchronized (this.mLock) {
            this.mPersistanceManager.readStateLocked();
            handleReadPrintJobsLocked();
        }
        synchronized (sLock) {
        }
    }

    @Override // android.app.Service
    public void onDestroy() {
        super.onDestroy();
    }

    @Override // android.app.Service
    public IBinder onBind(Intent intent) {
        return new PrintSpooler();
    }

    private void dumpLocked(DualDumpOutputStream dualDumpOutputStream) {
        int size = this.mPrintJobs.size();
        for (int i = 0; i < size; i++) {
            DumpUtils.writePrintJobInfo(this, dualDumpOutputStream, "print_jobs", 2246267895809L, this.mPrintJobs.get(i));
        }
        File[] listFiles = getFilesDir().listFiles();
        if (listFiles != null) {
            for (File file : listFiles) {
                if (file.isFile() && file.getName().startsWith("print_job_")) {
                    dualDumpOutputStream.write("print_job_files", 2237677961218L, file.getName());
                }
            }
        }
        Set<String> approvedServices = new ApprovedPrintServices(this).getApprovedServices();
        if (approvedServices != null) {
            Iterator<String> it = approvedServices.iterator();
            while (it.hasNext()) {
                ComponentName unflattenFromString = ComponentName.unflattenFromString(it.next());
                if (unflattenFromString != null) {
                    com.android.internal.util.dump.DumpUtils.writeComponentName(dualDumpOutputStream, "approved_services", 2246267895811L, unflattenFromString);
                }
            }
        }
        dualDumpOutputStream.flush();
    }

    @Override // android.app.Service
    protected void dump(FileDescriptor fileDescriptor, PrintWriter printWriter, String[] strArr) {
        String str;
        FileDescriptor fileDescriptor2 = (FileDescriptor) Preconditions.checkNotNull(fileDescriptor);
        int i = 0;
        boolean z = false;
        while (i < strArr.length && (str = strArr[i]) != null && str.length() > 0 && str.charAt(0) == '-') {
            i++;
            if ("--proto".equals(str)) {
                z = true;
            }
        }
        long clearCallingIdentity = Binder.clearCallingIdentity();
        try {
            synchronized (this.mLock) {
                if (z) {
                    dumpLocked(new DualDumpOutputStream(new ProtoOutputStream(fileDescriptor2)));
                } else {
                    try {
                        FileOutputStream fileOutputStream = new FileOutputStream(fileDescriptor2);
                        try {
                            PrintWriter printWriter2 = new PrintWriter(fileOutputStream);
                            try {
                                dumpLocked(new DualDumpOutputStream(new IndentingPrintWriter(printWriter2, "  ")));
                                printWriter2.close();
                                fileOutputStream.close();
                            } finally {
                            }
                        } catch (Throwable th) {
                            try {
                                fileOutputStream.close();
                            } catch (Throwable th2) {
                                th.addSuppressed(th2);
                            }
                            throw th;
                        }
                    } catch (IOException unused) {
                    }
                }
            }
        } finally {
            Binder.restoreCallingIdentity(clearCallingIdentity);
        }
    }

    private void sendOnPrintJobQueued(PrintJobInfo printJobInfo) {
        Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage(new BiConsumer() { // from class: com.android.printspooler.model.-$$Lambda$PrintSpoolerService$MiwLPn0hDf-Cqi9lJ1zl7EBX3I4
            @Override // java.util.function.BiConsumer
            public final void accept(Object obj, Object obj2) {
                ((PrintSpoolerService) obj).onPrintJobQueued((PrintJobInfo) obj2);
            }
        }, this, printJobInfo));
    }

    private void sendOnAllPrintJobsForServiceHandled(ComponentName componentName) {
        Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage(new BiConsumer() { // from class: com.android.printspooler.model.-$$Lambda$PrintSpoolerService$u_tOWv62WPJjA671qJ7JkimlypE
            @Override // java.util.function.BiConsumer
            public final void accept(Object obj, Object obj2) {
                ((PrintSpoolerService) obj).onAllPrintJobsForServiceHandled((ComponentName) obj2);
            }
        }, this, componentName));
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void sendOnAllPrintJobsHandled() {
        Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage(new Consumer() { // from class: com.android.printspooler.model.-$$Lambda$PrintSpoolerService$oemOqEi7laWw_cAo8aqlWbr9A4w
            @Override // java.util.function.Consumer
            public final void accept(Object obj) {
                ((PrintSpoolerService) obj).onAllPrintJobsHandled();
            }
        }, this));
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onPrintJobStateChanged(PrintJobInfo printJobInfo) {
        IPrintSpoolerClient iPrintSpoolerClient = this.mClient;
        if (iPrintSpoolerClient != null) {
            try {
                iPrintSpoolerClient.onPrintJobStateChanged(printJobInfo);
            } catch (RemoteException e) {
                Slog.e("PrintSpoolerService", "Error notify for print job state change.", e);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onAllPrintJobsHandled() {
        IPrintSpoolerClient iPrintSpoolerClient = this.mClient;
        if (iPrintSpoolerClient != null) {
            try {
                iPrintSpoolerClient.onAllPrintJobsHandled();
            } catch (RemoteException e) {
                Slog.e("PrintSpoolerService", "Error notify for all print job handled.", e);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onAllPrintJobsForServiceHandled(ComponentName componentName) {
        IPrintSpoolerClient iPrintSpoolerClient = this.mClient;
        if (iPrintSpoolerClient != null) {
            try {
                iPrintSpoolerClient.onAllPrintJobsForServiceHandled(componentName);
            } catch (RemoteException e) {
                Slog.e("PrintSpoolerService", "Error notify for all print jobs per service handled.", e);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onPrintJobQueued(PrintJobInfo printJobInfo) {
        IPrintSpoolerClient iPrintSpoolerClient = this.mClient;
        if (iPrintSpoolerClient != null) {
            try {
                iPrintSpoolerClient.onPrintJobQueued(printJobInfo);
            } catch (RemoteException e) {
                Slog.e("PrintSpoolerService", "Error notify for a queued print job.", e);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void setClient(IPrintSpoolerClient iPrintSpoolerClient) {
        synchronized (this.mLock) {
            this.mClient = iPrintSpoolerClient;
            if (iPrintSpoolerClient != null) {
                Handler.getMain().sendMessageDelayed(PooledLambda.obtainMessage(new Consumer() { // from class: com.android.printspooler.model.-$$Lambda$E-_2hmghI5GMK9MwjTGqS2Lf1a8
                    @Override // java.util.function.Consumer
                    public final void accept(Object obj) {
                        ((PrintSpoolerService) obj).checkAllPrintJobsHandled();
                    }
                }, this), 5000L);
            }
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:37:0x006d, code lost:
    
        if (r9 == false) goto L55;
     */
    /* JADX WARN: Code restructure failed: missing block: B:38:0x006f, code lost:
    
        if (r7 == false) goto L56;
     */
    /* JADX WARN: Code restructure failed: missing block: B:39:0x0071, code lost:
    
        if (r3 != null) goto L43;
     */
    /* JADX WARN: Code restructure failed: missing block: B:40:0x0073, code lost:
    
        r3 = new java.util.ArrayList();
     */
    /* JADX WARN: Code restructure failed: missing block: B:41:0x0078, code lost:
    
        r3.add(r5);
     */
    /* JADX WARN: Removed duplicated region for block: B:21:0x0040  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public java.util.List<android.print.PrintJobInfo> getPrintJobInfos(android.content.ComponentName r12, int r13, int r14) {
        /*
            r11 = this;
            java.lang.Object r0 = r11.mLock
            monitor-enter(r0)
            java.util.List<android.print.PrintJobInfo> r1 = r11.mPrintJobs     // Catch: java.lang.Throwable -> L80
            int r1 = r1.size()     // Catch: java.lang.Throwable -> L80
            r2 = 0
            r3 = 0
            r4 = r2
        Lc:
            if (r4 >= r1) goto L7e
            java.util.List<android.print.PrintJobInfo> r5 = r11.mPrintJobs     // Catch: java.lang.Throwable -> L80
            java.lang.Object r5 = r5.get(r4)     // Catch: java.lang.Throwable -> L80
            android.print.PrintJobInfo r5 = (android.print.PrintJobInfo) r5     // Catch: java.lang.Throwable -> L80
            android.print.PrinterId r6 = r5.getPrinterId()     // Catch: java.lang.Throwable -> L80
            r7 = 1
            if (r12 == 0) goto L2c
            if (r6 == 0) goto L2a
            android.content.ComponentName r6 = r6.getServiceName()     // Catch: java.lang.Throwable -> L80
            boolean r6 = r12.equals(r6)     // Catch: java.lang.Throwable -> L80
            if (r6 == 0) goto L2a
            goto L2c
        L2a:
            r6 = r2
            goto L2d
        L2c:
            r6 = r7
        L2d:
            r8 = -2
            if (r14 == r8) goto L39
            int r9 = r5.getAppId()     // Catch: java.lang.Throwable -> L80
            if (r9 != r14) goto L37
            goto L39
        L37:
            r9 = r2
            goto L3a
        L39:
            r9 = r7
        L3a:
            int r10 = r5.getState()     // Catch: java.lang.Throwable -> L80
            if (r13 == r10) goto L6b
            r10 = -1
            if (r13 == r10) goto L6b
            if (r13 != r8) goto L4f
            int r8 = r5.getState()     // Catch: java.lang.Throwable -> L80
            boolean r8 = r11.isStateVisibleToUser(r8)     // Catch: java.lang.Throwable -> L80
            if (r8 != 0) goto L6b
        L4f:
            r8 = -3
            if (r13 != r8) goto L5c
            int r8 = r5.getState()     // Catch: java.lang.Throwable -> L80
            boolean r8 = r11.isActiveState(r8)     // Catch: java.lang.Throwable -> L80
            if (r8 != 0) goto L6b
        L5c:
            r8 = -4
            if (r13 != r8) goto L6a
            int r8 = r5.getState()     // Catch: java.lang.Throwable -> L80
            boolean r8 = r11.isScheduledState(r8)     // Catch: java.lang.Throwable -> L80
            if (r8 == 0) goto L6a
            goto L6b
        L6a:
            r7 = r2
        L6b:
            if (r6 == 0) goto L7b
            if (r9 == 0) goto L7b
            if (r7 == 0) goto L7b
            if (r3 != 0) goto L78
            java.util.ArrayList r3 = new java.util.ArrayList     // Catch: java.lang.Throwable -> L80
            r3.<init>()     // Catch: java.lang.Throwable -> L80
        L78:
            r3.add(r5)     // Catch: java.lang.Throwable -> L80
        L7b:
            int r4 = r4 + 1
            goto Lc
        L7e:
            monitor-exit(r0)     // Catch: java.lang.Throwable -> L80
            return r3
        L80:
            r11 = move-exception
            monitor-exit(r0)     // Catch: java.lang.Throwable -> L80
            throw r11
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.model.PrintSpoolerService.getPrintJobInfos(android.content.ComponentName, int, int):java.util.List");
    }

    private boolean isStateVisibleToUser(int i) {
        return isActiveState(i) && (i == 6 || i == 5 || i == 7 || i == 4);
    }

    public PrintJobInfo getPrintJobInfo(PrintJobId printJobId, int i) {
        synchronized (this.mLock) {
            int size = this.mPrintJobs.size();
            for (int i2 = 0; i2 < size; i2++) {
                PrintJobInfo printJobInfo = this.mPrintJobs.get(i2);
                if (printJobInfo.getId().equals(printJobId) && (i == -2 || i == printJobInfo.getAppId())) {
                    return printJobInfo;
                }
            }
            return null;
        }
    }

    public void createPrintJob(PrintJobInfo printJobInfo) {
        synchronized (this.mLock) {
            addPrintJobLocked(printJobInfo);
            setPrintJobState(printJobInfo.getId(), 1, null);
            Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage($$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI.INSTANCE, this, printJobInfo));
        }
    }

    private void handleReadPrintJobsLocked() {
        File[] listFiles = getFilesDir().listFiles();
        ArrayMap arrayMap = null;
        if (listFiles != null) {
            for (File file : listFiles) {
                if (file.isFile() && file.getName().startsWith("print_job_")) {
                    if (arrayMap == null) {
                        arrayMap = new ArrayMap();
                    }
                    arrayMap.put(PrintJobId.unflattenFromString(file.getName().substring(10, file.getName().indexOf(46))), file);
                }
            }
        }
        int size = this.mPrintJobs.size();
        for (int i = 0; i < size; i++) {
            PrintJobInfo printJobInfo = this.mPrintJobs.get(i);
            if (arrayMap != null) {
                arrayMap.remove(printJobInfo.getId());
            }
            int state = printJobInfo.getState();
            if (state == 2 || state == 3 || state == 4) {
                setPrintJobState(printJobInfo.getId(), 6, getString(2131427364));
            }
        }
        if (!this.mPrintJobs.isEmpty()) {
            this.mNotificationController.onUpdateNotifications(this.mPrintJobs);
        }
        if (arrayMap != null) {
            int size2 = arrayMap.size();
            for (int i2 = 0; i2 < size2; i2++) {
                ((File) arrayMap.valueAt(i2)).delete();
            }
        }
    }

    public void checkAllPrintJobsHandled() {
        synchronized (this.mLock) {
            if (!hasActivePrintJobsLocked()) {
                notifyOnAllPrintJobsHandled();
            }
        }
    }

    public void writePrintJobData(final ParcelFileDescriptor parcelFileDescriptor, final PrintJobId printJobId) {
        final PrintJobInfo printJobInfo;
        synchronized (this.mLock) {
            printJobInfo = getPrintJobInfo(printJobId, -2);
        }
        new AsyncTask<Void, Void, Void>() { // from class: com.android.printspooler.model.PrintSpoolerService.1
            /* JADX INFO: Access modifiers changed from: protected */
            /* JADX WARN: Multi-variable type inference failed */
            /* JADX WARN: Type inference failed for: r8v1 */
            /* JADX WARN: Type inference failed for: r8v5, types: [java.lang.String] */
            /* JADX WARN: Type inference failed for: r8v7 */
            /* JADX WARN: Type inference failed for: r8v9 */
            @Override // android.os.AsyncTask
            public Void doInBackground(Void... voidArr) {
                FileOutputStream fileOutputStream;
                FileOutputStream fileOutputStream2;
                FileInputStream fileInputStream;
                ?? r8;
                FileInputStream fileInputStream2;
                FileInputStream fileInputStream3 = null;
                try {
                    try {
                        if (printJobInfo != null) {
                            fileInputStream2 = new FileInputStream(PrintSpoolerService.generateFileForPrintJob(PrintSpoolerService.this, printJobId));
                            try {
                                fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());
                            } catch (FileNotFoundException e) {
                                e = e;
                                fileInputStream = fileInputStream2;
                                fileOutputStream2 = null;
                                Log.e("PrintSpoolerService", "Error writing print job data!", e);
                                IoUtils.closeQuietly(fileInputStream);
                                IoUtils.closeQuietly(fileOutputStream2);
                                IoUtils.closeQuietly(parcelFileDescriptor);
                                this = "[END WRITE]";
                                Log.i("PrintSpoolerService", "[END WRITE]");
                                return null;
                            } catch (IOException e2) {
                                e = e2;
                                fileInputStream = fileInputStream2;
                                fileOutputStream2 = null;
                                Log.e("PrintSpoolerService", "Error writing print job data!", e);
                                IoUtils.closeQuietly(fileInputStream);
                                IoUtils.closeQuietly(fileOutputStream2);
                                IoUtils.closeQuietly(parcelFileDescriptor);
                                this = "[END WRITE]";
                                Log.i("PrintSpoolerService", "[END WRITE]");
                                return null;
                            } catch (Throwable th) {
                                th = th;
                                fileOutputStream = null;
                                fileInputStream3 = fileInputStream2;
                                this = this;
                                IoUtils.closeQuietly(fileInputStream3);
                                IoUtils.closeQuietly(fileOutputStream);
                                IoUtils.closeQuietly(parcelFileDescriptor);
                                throw th;
                            }
                        } else {
                            fileOutputStream = null;
                            fileInputStream2 = null;
                        }
                    } catch (Throwable th2) {
                        th = th2;
                        fileOutputStream = fileOutputStream2;
                        fileInputStream3 = fileInputStream;
                        r8 = this;
                    }
                    try {
                        byte[] bArr = new byte[8192];
                        while (true) {
                            int read = fileInputStream2.read(bArr);
                            if (read >= 0) {
                                fileOutputStream.write(bArr, 0, read);
                            } else {
                                IoUtils.closeQuietly(fileInputStream2);
                                IoUtils.closeQuietly(fileOutputStream);
                                IoUtils.closeQuietly(parcelFileDescriptor);
                                return null;
                            }
                        }
                    } catch (FileNotFoundException e3) {
                        FileInputStream fileInputStream4 = fileInputStream2;
                        fileOutputStream2 = fileOutputStream;
                        e = e3;
                        fileInputStream = fileInputStream4;
                        Log.e("PrintSpoolerService", "Error writing print job data!", e);
                        IoUtils.closeQuietly(fileInputStream);
                        IoUtils.closeQuietly(fileOutputStream2);
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        this = "[END WRITE]";
                        Log.i("PrintSpoolerService", "[END WRITE]");
                        return null;
                    } catch (IOException e4) {
                        FileInputStream fileInputStream5 = fileInputStream2;
                        fileOutputStream2 = fileOutputStream;
                        e = e4;
                        fileInputStream = fileInputStream5;
                        Log.e("PrintSpoolerService", "Error writing print job data!", e);
                        IoUtils.closeQuietly(fileInputStream);
                        IoUtils.closeQuietly(fileOutputStream2);
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        this = "[END WRITE]";
                        Log.i("PrintSpoolerService", "[END WRITE]");
                        return null;
                    } catch (Throwable th3) {
                        th = th3;
                        fileInputStream3 = fileInputStream2;
                        this = this;
                        IoUtils.closeQuietly(fileInputStream3);
                        IoUtils.closeQuietly(fileOutputStream);
                        IoUtils.closeQuietly(parcelFileDescriptor);
                        throw th;
                    }
                } catch (FileNotFoundException e5) {
                    e = e5;
                    fileOutputStream2 = null;
                    fileInputStream = null;
                } catch (IOException e6) {
                    e = e6;
                    fileOutputStream2 = null;
                    fileInputStream = null;
                } catch (Throwable th4) {
                    th = th4;
                    fileOutputStream = null;
                    this = this;
                }
            }
        }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null);
    }

    public static File generateFileForPrintJob(Context context, PrintJobId printJobId) {
        return new File(context.getFilesDir(), "print_job_" + printJobId.flattenToString() + ".pdf");
    }

    private void addPrintJobLocked(PrintJobInfo printJobInfo) {
        this.mPrintJobs.add(printJobInfo);
        if (printJobInfo.shouldStayAwake()) {
            keepAwakeLocked();
        }
        SemLog.secD("PrintSpoolerService", "[ADD] " + printJobInfo);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void removeObsoletePrintJobs() {
        synchronized (this.mLock) {
            boolean z = false;
            for (int size = this.mPrintJobs.size() - 1; size >= 0; size--) {
                PrintJobInfo printJobInfo = this.mPrintJobs.get(size);
                if (isObsoleteState(printJobInfo.getState())) {
                    this.mPrintJobs.remove(size);
                    Slog.i("PrintSpoolerService", "[REMOVE] " + printJobInfo.getId().flattenToString());
                    removePrintJobFileLocked(printJobInfo.getId());
                    z = true;
                }
            }
            checkIfStillKeepAwakeLocked();
            if (z) {
                this.mPersistanceManager.writeStateLocked();
            }
        }
    }

    private void removePrintJobFileLocked(PrintJobId printJobId) {
        File generateFileForPrintJob = generateFileForPrintJob(this, printJobId);
        if (generateFileForPrintJob.exists()) {
            generateFileForPrintJob.delete();
            Slog.i("PrintSpoolerService", "[REMOVE FILE FOR] " + printJobId);
        }
    }

    private void notifyPrintJobUpdated(PrintJobInfo printJobInfo) {
        Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage($$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI.INSTANCE, this, printJobInfo));
        this.mNotificationController.onUpdateNotifications(this.mPrintJobs);
    }

    /* JADX WARN: Removed duplicated region for block: B:33:0x0064 A[Catch: all -> 0x0094, TryCatch #0 {, blocks: (B:5:0x0004, B:7:0x000b, B:9:0x0011, B:12:0x0013, B:14:0x0023, B:15:0x002a, B:24:0x007a, B:26:0x0080, B:27:0x0085, B:29:0x008b, B:30:0x008e, B:31:0x005e, B:33:0x0064, B:35:0x006e, B:36:0x0052, B:37:0x0072, B:38:0x0027, B:39:0x0092), top: B:4:0x0004 }] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public boolean setPrintJobState(android.print.PrintJobId r5, int r6, java.lang.String r7) {
        /*
            r4 = this;
            java.lang.Object r0 = r4.mLock
            monitor-enter(r0)
            r1 = -2
            android.print.PrintJobInfo r5 = r4.getPrintJobInfo(r5, r1)     // Catch: java.lang.Throwable -> L94
            r1 = 0
            if (r5 == 0) goto L92
            int r2 = r5.getState()     // Catch: java.lang.Throwable -> L94
            if (r2 != r6) goto L13
            monitor-exit(r0)     // Catch: java.lang.Throwable -> L94
            return r1
        L13:
            r2 = 1
            r5.setState(r6)     // Catch: java.lang.Throwable -> L94
            r5.setStatus(r7)     // Catch: java.lang.Throwable -> L94
            r5.setCancelling(r1)     // Catch: java.lang.Throwable -> L94
            boolean r7 = r5.shouldStayAwake()     // Catch: java.lang.Throwable -> L94
            if (r7 == 0) goto L27
            r4.keepAwakeLocked()     // Catch: java.lang.Throwable -> L94
            goto L2a
        L27:
            r4.checkIfStillKeepAwakeLocked()     // Catch: java.lang.Throwable -> L94
        L2a:
            java.lang.String r7 = "PrintSpoolerService"
            java.lang.StringBuilder r1 = new java.lang.StringBuilder     // Catch: java.lang.Throwable -> L94
            r1.<init>()     // Catch: java.lang.Throwable -> L94
            java.lang.String r3 = "[STATE CHANGED] "
            r1.append(r3)     // Catch: java.lang.Throwable -> L94
            r1.append(r5)     // Catch: java.lang.Throwable -> L94
            java.lang.String r1 = r1.toString()     // Catch: java.lang.Throwable -> L94
            com.samsung.android.util.SemLog.secD(r7, r1)     // Catch: java.lang.Throwable -> L94
            java.lang.String r7 = "print_job_state"
            com.android.internal.logging.MetricsLogger.histogram(r4, r7, r6)     // Catch: java.lang.Throwable -> L94
            r7 = 2
            if (r6 == r7) goto L72
            r7 = 5
            if (r6 == r7) goto L52
            r7 = 6
            if (r6 == r7) goto L5e
            r7 = 7
            if (r6 == r7) goto L52
            goto L7a
        L52:
            java.util.List<android.print.PrintJobInfo> r6 = r4.mPrintJobs     // Catch: java.lang.Throwable -> L94
            r6.remove(r5)     // Catch: java.lang.Throwable -> L94
            android.print.PrintJobId r6 = r5.getId()     // Catch: java.lang.Throwable -> L94
            r4.removePrintJobFileLocked(r6)     // Catch: java.lang.Throwable -> L94
        L5e:
            android.print.PrinterId r6 = r5.getPrinterId()     // Catch: java.lang.Throwable -> L94
            if (r6 == 0) goto L7a
            android.content.ComponentName r6 = r6.getServiceName()     // Catch: java.lang.Throwable -> L94
            boolean r7 = r4.hasActivePrintJobsForServiceLocked(r6)     // Catch: java.lang.Throwable -> L94
            if (r7 != 0) goto L7a
            r4.sendOnAllPrintJobsForServiceHandled(r6)     // Catch: java.lang.Throwable -> L94
            goto L7a
        L72:
            android.print.PrintJobInfo r6 = new android.print.PrintJobInfo     // Catch: java.lang.Throwable -> L94
            r6.<init>(r5)     // Catch: java.lang.Throwable -> L94
            r4.sendOnPrintJobQueued(r6)     // Catch: java.lang.Throwable -> L94
        L7a:
            boolean r6 = r4.shouldPersistPrintJob(r5)     // Catch: java.lang.Throwable -> L94
            if (r6 == 0) goto L85
            com.android.printspooler.model.PrintSpoolerService$PersistenceManager r6 = r4.mPersistanceManager     // Catch: java.lang.Throwable -> L94
            r6.writeStateLocked()     // Catch: java.lang.Throwable -> L94
        L85:
            boolean r6 = r4.hasActivePrintJobsLocked()     // Catch: java.lang.Throwable -> L94
            if (r6 != 0) goto L8e
            r4.notifyOnAllPrintJobsHandled()     // Catch: java.lang.Throwable -> L94
        L8e:
            r4.notifyPrintJobUpdated(r5)     // Catch: java.lang.Throwable -> L94
            r1 = r2
        L92:
            monitor-exit(r0)     // Catch: java.lang.Throwable -> L94
            return r1
        L94:
            r4 = move-exception
            monitor-exit(r0)     // Catch: java.lang.Throwable -> L94
            throw r4
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.model.PrintSpoolerService.setPrintJobState(android.print.PrintJobId, int, java.lang.String):boolean");
    }

    public void setProgress(PrintJobId printJobId, float f) {
        synchronized (this.mLock) {
            getPrintJobInfo(printJobId, -2).setProgress(f);
            this.mNotificationController.onUpdateNotifications(this.mPrintJobs);
        }
    }

    public void setStatus(PrintJobId printJobId, CharSequence charSequence) {
        synchronized (this.mLock) {
            PrintJobInfo printJobInfo = getPrintJobInfo(printJobId, -2);
            if (printJobInfo != null) {
                printJobInfo.setStatus(charSequence);
                notifyPrintJobUpdated(printJobInfo);
            }
        }
    }

    public void setStatus(PrintJobId printJobId, int i, CharSequence charSequence) {
        synchronized (this.mLock) {
            PrintJobInfo printJobInfo = getPrintJobInfo(printJobId, -2);
            if (printJobInfo != null) {
                printJobInfo.setStatus(i, charSequence);
                notifyPrintJobUpdated(printJobInfo);
            }
        }
    }

    public boolean hasActivePrintJobsLocked() {
        int size = this.mPrintJobs.size();
        for (int i = 0; i < size; i++) {
            if (isActiveState(this.mPrintJobs.get(i).getState())) {
                return true;
            }
        }
        return false;
    }

    public boolean hasActivePrintJobsForServiceLocked(ComponentName componentName) {
        int size = this.mPrintJobs.size();
        for (int i = 0; i < size; i++) {
            PrintJobInfo printJobInfo = this.mPrintJobs.get(i);
            if (isActiveState(printJobInfo.getState()) && printJobInfo.getPrinterId() != null && printJobInfo.getPrinterId().getServiceName().equals(componentName)) {
                return true;
            }
        }
        return false;
    }

    private boolean isObsoleteState(int i) {
        return isTerminalState(i) || i == 2;
    }

    public boolean setPrintJobTag(PrintJobId printJobId, String str) {
        synchronized (this.mLock) {
            PrintJobInfo printJobInfo = getPrintJobInfo(printJobId, -2);
            if (printJobInfo == null) {
                return false;
            }
            String tag = printJobInfo.getTag();
            if (tag == null) {
                if (str == null) {
                    return false;
                }
            } else if (tag.equals(str)) {
                return false;
            }
            printJobInfo.setTag(str);
            if (shouldPersistPrintJob(printJobInfo)) {
                this.mPersistanceManager.writeStateLocked();
            }
            return true;
        }
    }

    public void setPrintJobCancelling(PrintJobId printJobId, boolean z) {
        synchronized (this.mLock) {
            PrintJobInfo printJobInfo = getPrintJobInfo(printJobId, -2);
            if (printJobInfo != null) {
                printJobInfo.setCancelling(z);
                if (shouldPersistPrintJob(printJobInfo)) {
                    this.mPersistanceManager.writeStateLocked();
                }
                this.mNotificationController.onUpdateNotifications(this.mPrintJobs);
                if (printJobInfo.shouldStayAwake()) {
                    keepAwakeLocked();
                } else {
                    checkIfStillKeepAwakeLocked();
                }
                Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage($$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI.INSTANCE, this, printJobInfo));
            }
        }
    }

    public void updatePrintJobUserConfigurableOptionsNoPersistence(PrintJobInfo printJobInfo) {
        synchronized (this.mLock) {
            int size = this.mPrintJobs.size();
            for (int i = 0; i < size; i++) {
                PrintJobInfo printJobInfo2 = this.mPrintJobs.get(i);
                if (printJobInfo2.getId().equals(printJobInfo.getId())) {
                    printJobInfo2.setPrinterId(printJobInfo.getPrinterId());
                    printJobInfo2.setPrinterName(printJobInfo.getPrinterName());
                    printJobInfo2.setCopies(printJobInfo.getCopies());
                    printJobInfo2.setDocumentInfo(printJobInfo.getDocumentInfo());
                    printJobInfo2.setPages(printJobInfo.getPages());
                    printJobInfo2.setAttributes(printJobInfo.getAttributes());
                    printJobInfo2.setAdvancedOptions(printJobInfo.getAdvancedOptions());
                }
            }
            throw new IllegalArgumentException("No print job with id:" + printJobInfo.getId());
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean shouldPersistPrintJob(PrintJobInfo printJobInfo) {
        return printJobInfo.getState() >= 2;
    }

    private void notifyOnAllPrintJobsHandled() {
        new AsyncTask<Void, Void, Void>() { // from class: com.android.printspooler.model.PrintSpoolerService.2
            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public Void doInBackground(Void... voidArr) {
                PrintSpoolerService.this.sendOnAllPrintJobsHandled();
                return null;
            }
        }.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, null);
    }

    public void onCustomPrinterIconLoaded(PrinterId printerId, Icon icon) {
        this.mCustomIconCache.onCustomPrinterIconLoaded(printerId, icon);
    }

    public Icon getCustomPrinterIcon(PrinterId printerId) {
        return this.mCustomIconCache.getIcon(printerId);
    }

    public void clearCustomPrinterIconCache() {
        this.mCustomIconCache.clear();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class PersistenceManager {
        private final AtomicFile mStatePersistFile;
        private boolean mWriteStateScheduled;

        private PersistenceManager() {
            this.mStatePersistFile = new AtomicFile(new File(PrintSpoolerService.this.getFilesDir(), "print_spooler_state.xml"), "print-spooler");
        }

        public void writeStateLocked() {
            if (this.mWriteStateScheduled) {
                return;
            }
            this.mWriteStateScheduled = true;
            new AsyncTask<Void, Void, Void>() { // from class: com.android.printspooler.model.PrintSpoolerService.PersistenceManager.1
                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public Void doInBackground(Void... voidArr) {
                    synchronized (PrintSpoolerService.this.mLock) {
                        PersistenceManager.this.mWriteStateScheduled = false;
                        PersistenceManager.this.doWriteStateLocked();
                    }
                    return null;
                }
            }.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, null);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void doWriteStateLocked() {
            FileOutputStream fileOutputStream;
            String str;
            FileOutputStream fileOutputStream2;
            int i;
            String str2;
            String str3;
            String str4;
            String str5;
            String str6;
            String str7;
            String str8;
            String str9;
            String str10;
            String str11;
            String str12;
            String str13 = "margins";
            String str14 = "resolution";
            String str15 = "mediaSize";
            String str16 = "advancedOptions";
            String str17 = "documentInfo";
            String str18 = "pageRange";
            String str19 = "printerId";
            String str20 = "job";
            Log.i("PrintSpoolerService", "[PERSIST START]");
            try {
                FileOutputStream startWrite = this.mStatePersistFile.startWrite();
                try {
                    try {
                        FastXmlSerializer fastXmlSerializer = new FastXmlSerializer();
                        String str21 = "PrintSpoolerService";
                        try {
                            fastXmlSerializer.setOutput(startWrite, StandardCharsets.UTF_8.name());
                            try {
                                try {
                                    fastXmlSerializer.startDocument(null, Boolean.TRUE);
                                    fastXmlSerializer.startTag(null, "spooler");
                                    List list = PrintSpoolerService.this.mPrintJobs;
                                    int size = list.size();
                                    int i2 = 0;
                                    while (i2 < size) {
                                        try {
                                            try {
                                                List list2 = list;
                                                PrintJobInfo printJobInfo = (PrintJobInfo) list.get(i2);
                                                int i3 = size;
                                                if (PrintSpoolerService.this.shouldPersistPrintJob(printJobInfo)) {
                                                    fastXmlSerializer.startTag(null, str20);
                                                    i = i2;
                                                    fastXmlSerializer.attribute(null, "id", printJobInfo.getId().flattenToString());
                                                    fastXmlSerializer.attribute(null, "label", printJobInfo.getLabel().toString());
                                                    String str22 = str20;
                                                    fastXmlSerializer.attribute(null, "state", String.valueOf(printJobInfo.getState()));
                                                    fastXmlSerializer.attribute(null, "appId", String.valueOf(printJobInfo.getAppId()));
                                                    String tag = printJobInfo.getTag();
                                                    if (tag != null) {
                                                        try {
                                                            fastXmlSerializer.attribute(null, "tag", tag);
                                                        } catch (IOException e) {
                                                            e = e;
                                                            fileOutputStream2 = startWrite;
                                                            str = str21;
                                                            try {
                                                                Slog.w(str, "Failed to write state, restoring backup.", e);
                                                                this.mStatePersistFile.failWrite(fileOutputStream2);
                                                                IoUtils.closeQuietly(fileOutputStream2);
                                                            } catch (Throwable th) {
                                                                th = th;
                                                                IoUtils.closeQuietly(fileOutputStream2);
                                                                throw th;
                                                            }
                                                        }
                                                    }
                                                    fastXmlSerializer.attribute(null, "creationTime", String.valueOf(printJobInfo.getCreationTime()));
                                                    fastXmlSerializer.attribute(null, "copies", String.valueOf(printJobInfo.getCopies()));
                                                    String printerName = printJobInfo.getPrinterName();
                                                    if (!TextUtils.isEmpty(printerName)) {
                                                        fastXmlSerializer.attribute(null, "printerName", printerName);
                                                    }
                                                    fastXmlSerializer.attribute(null, "cancelling", String.valueOf(printJobInfo.isCancelling()));
                                                    float progress = printJobInfo.getProgress();
                                                    if (!Float.isNaN(progress)) {
                                                        fastXmlSerializer.attribute(null, "progress", String.valueOf(progress));
                                                    }
                                                    CharSequence status = printJobInfo.getStatus(PrintSpoolerService.this.getPackageManager());
                                                    if (!TextUtils.isEmpty(status)) {
                                                        fastXmlSerializer.attribute(null, "status", status.toString());
                                                    }
                                                    PrinterId printerId = printJobInfo.getPrinterId();
                                                    if (printerId != null) {
                                                        fastXmlSerializer.startTag(null, str19);
                                                        str2 = str16;
                                                        fastXmlSerializer.attribute(null, "localId", printerId.getLocalId());
                                                        fastXmlSerializer.attribute(null, "serviceName", printerId.getServiceName().flattenToString());
                                                        fastXmlSerializer.endTag(null, str19);
                                                    } else {
                                                        str2 = str16;
                                                    }
                                                    PageRange[] pages = printJobInfo.getPages();
                                                    if (pages != null) {
                                                        int i4 = 0;
                                                        while (i4 < pages.length) {
                                                            fastXmlSerializer.startTag(null, str18);
                                                            String str23 = str19;
                                                            fastXmlSerializer.attribute(null, "start", String.valueOf(pages[i4].getStart()));
                                                            fastXmlSerializer.attribute(null, "end", String.valueOf(pages[i4].getEnd()));
                                                            fastXmlSerializer.endTag(null, str18);
                                                            i4++;
                                                            str19 = str23;
                                                        }
                                                    }
                                                    str3 = str19;
                                                    PrintAttributes attributes = printJobInfo.getAttributes();
                                                    if (attributes != null) {
                                                        fastXmlSerializer.startTag(null, "attributes");
                                                        fastXmlSerializer.attribute(null, "colorMode", String.valueOf(attributes.getColorMode()));
                                                        fastXmlSerializer.attribute(null, "duplexMode", String.valueOf(attributes.getDuplexMode()));
                                                        PrintAttributes.MediaSize mediaSize = attributes.getMediaSize();
                                                        if (mediaSize != null) {
                                                            fastXmlSerializer.startTag(null, str15);
                                                            fastXmlSerializer.attribute(null, "id", mediaSize.getId());
                                                            fastXmlSerializer.attribute(null, "widthMils", String.valueOf(mediaSize.getWidthMils()));
                                                            fastXmlSerializer.attribute(null, "heightMils", String.valueOf(mediaSize.getHeightMils()));
                                                            if (!TextUtils.isEmpty(mediaSize.mPackageName) && mediaSize.mLabelResId > 0) {
                                                                fastXmlSerializer.attribute(null, "packageName", mediaSize.mPackageName);
                                                                fastXmlSerializer.attribute(null, "labelResId", String.valueOf(mediaSize.mLabelResId));
                                                                str12 = null;
                                                            } else {
                                                                String label = mediaSize.getLabel(PrintSpoolerService.this.getPackageManager());
                                                                str12 = null;
                                                                fastXmlSerializer.attribute(null, "label", label);
                                                            }
                                                            fastXmlSerializer.endTag(str12, str15);
                                                        }
                                                        PrintAttributes.Resolution resolution = attributes.getResolution();
                                                        if (resolution != null) {
                                                            fastXmlSerializer.startTag(null, str14);
                                                            fastXmlSerializer.attribute(null, "id", resolution.getId());
                                                            fastXmlSerializer.attribute(null, "horizontalDip", String.valueOf(resolution.getHorizontalDpi()));
                                                            fastXmlSerializer.attribute(null, "verticalDpi", String.valueOf(resolution.getVerticalDpi()));
                                                            fastXmlSerializer.attribute(null, "label", resolution.getLabel());
                                                            fastXmlSerializer.endTag(null, str14);
                                                        }
                                                        PrintAttributes.Margins minMargins = attributes.getMinMargins();
                                                        if (minMargins != null) {
                                                            fastXmlSerializer.startTag(null, str13);
                                                            fastXmlSerializer.attribute(null, "leftMils", String.valueOf(minMargins.getLeftMils()));
                                                            fastXmlSerializer.attribute(null, "topMils", String.valueOf(minMargins.getTopMils()));
                                                            fastXmlSerializer.attribute(null, "rightMils", String.valueOf(minMargins.getRightMils()));
                                                            fastXmlSerializer.attribute(null, "bottomMils", String.valueOf(minMargins.getBottomMils()));
                                                            fastXmlSerializer.endTag(null, str13);
                                                        }
                                                        fastXmlSerializer.endTag(null, "attributes");
                                                    }
                                                    PrintDocumentInfo documentInfo = printJobInfo.getDocumentInfo();
                                                    if (documentInfo != null) {
                                                        fastXmlSerializer.startTag(null, str17);
                                                        fastXmlSerializer.attribute(null, "name", documentInfo.getName());
                                                        fastXmlSerializer.attribute(null, "contentType", String.valueOf(documentInfo.getContentType()));
                                                        fastXmlSerializer.attribute(null, "pageCount", String.valueOf(documentInfo.getPageCount()));
                                                        fastXmlSerializer.attribute(null, "dataSize", String.valueOf(documentInfo.getDataSize()));
                                                        fastXmlSerializer.endTag(null, str17);
                                                    }
                                                    Bundle advancedOptions = printJobInfo.getAdvancedOptions();
                                                    if (advancedOptions != null) {
                                                        str7 = str2;
                                                        fastXmlSerializer.startTag(null, str7);
                                                        for (String str24 : advancedOptions.keySet()) {
                                                            Object obj = advancedOptions.get(str24);
                                                            String str25 = str13;
                                                            String str26 = str14;
                                                            String str27 = str15;
                                                            Bundle bundle = advancedOptions;
                                                            String str28 = str17;
                                                            if (obj instanceof String) {
                                                                str11 = str18;
                                                                fastXmlSerializer.startTag(null, "advancedOption");
                                                                fastXmlSerializer.attribute(null, "key", str24);
                                                                fastXmlSerializer.attribute(null, "type", "string");
                                                                fastXmlSerializer.attribute(null, "value", (String) obj);
                                                                fastXmlSerializer.endTag(null, "advancedOption");
                                                            } else {
                                                                str11 = str18;
                                                                if (obj instanceof Integer) {
                                                                    String num = Integer.toString(((Integer) obj).intValue());
                                                                    fastXmlSerializer.startTag(null, "advancedOption");
                                                                    fastXmlSerializer.attribute(null, "key", str24);
                                                                    fastXmlSerializer.attribute(null, "type", "int");
                                                                    fastXmlSerializer.attribute(null, "value", num);
                                                                    fastXmlSerializer.endTag(null, "advancedOption");
                                                                }
                                                            }
                                                            str18 = str11;
                                                            str13 = str25;
                                                            str14 = str26;
                                                            str15 = str27;
                                                            advancedOptions = bundle;
                                                            str17 = str28;
                                                        }
                                                        str8 = str13;
                                                        str4 = str14;
                                                        str5 = str15;
                                                        str6 = str17;
                                                        str9 = str18;
                                                        fastXmlSerializer.endTag(null, str7);
                                                    } else {
                                                        str4 = str14;
                                                        str5 = str15;
                                                        str6 = str17;
                                                        str7 = str2;
                                                        str8 = str13;
                                                        str9 = str18;
                                                    }
                                                    str10 = str22;
                                                    fastXmlSerializer.endTag(null, str10);
                                                    str = str21;
                                                    try {
                                                        SemLog.secD(str, "[PERSISTED] " + printJobInfo);
                                                    } catch (IOException e2) {
                                                        e = e2;
                                                        fileOutputStream2 = startWrite;
                                                        Slog.w(str, "Failed to write state, restoring backup.", e);
                                                        this.mStatePersistFile.failWrite(fileOutputStream2);
                                                        IoUtils.closeQuietly(fileOutputStream2);
                                                    }
                                                } else {
                                                    str8 = str13;
                                                    str4 = str14;
                                                    str5 = str15;
                                                    str6 = str17;
                                                    str9 = str18;
                                                    str3 = str19;
                                                    str10 = str20;
                                                    i = i2;
                                                    str7 = str16;
                                                    str = str21;
                                                }
                                                i2 = i + 1;
                                                str18 = str9;
                                                str20 = str10;
                                                str21 = str;
                                                str16 = str7;
                                                size = i3;
                                                list = list2;
                                                str13 = str8;
                                                str19 = str3;
                                                str14 = str4;
                                                str15 = str5;
                                                str17 = str6;
                                            } catch (IOException e3) {
                                                e = e3;
                                                str = str21;
                                            }
                                        } catch (Throwable th2) {
                                            th = th2;
                                            fileOutputStream2 = startWrite;
                                            IoUtils.closeQuietly(fileOutputStream2);
                                            throw th;
                                        }
                                    }
                                    str = str21;
                                    try {
                                        fastXmlSerializer.endTag(null, "spooler");
                                        fastXmlSerializer.endDocument();
                                        fileOutputStream = startWrite;
                                    } catch (IOException e4) {
                                        e = e4;
                                        fileOutputStream = startWrite;
                                    }
                                } catch (IOException e5) {
                                    e = e5;
                                    fileOutputStream = startWrite;
                                    str = str21;
                                    fileOutputStream2 = fileOutputStream;
                                    Slog.w(str, "Failed to write state, restoring backup.", e);
                                    this.mStatePersistFile.failWrite(fileOutputStream2);
                                    IoUtils.closeQuietly(fileOutputStream2);
                                }
                            } catch (Throwable th3) {
                                th = th3;
                                fileOutputStream = startWrite;
                            }
                        } catch (IOException e6) {
                            e = e6;
                            fileOutputStream = startWrite;
                        }
                    } catch (Throwable th4) {
                        th = th4;
                        fileOutputStream = startWrite;
                    }
                } catch (IOException e7) {
                    e = e7;
                    str = "PrintSpoolerService";
                    fileOutputStream = startWrite;
                }
                try {
                    this.mStatePersistFile.finishWrite(fileOutputStream);
                    Log.i(str, "[PERSIST END]");
                    IoUtils.closeQuietly(fileOutputStream);
                } catch (IOException e8) {
                    e = e8;
                    fileOutputStream2 = fileOutputStream;
                    Slog.w(str, "Failed to write state, restoring backup.", e);
                    this.mStatePersistFile.failWrite(fileOutputStream2);
                    IoUtils.closeQuietly(fileOutputStream2);
                } catch (Throwable th5) {
                    th = th5;
                    fileOutputStream2 = fileOutputStream;
                    IoUtils.closeQuietly(fileOutputStream2);
                    throw th;
                }
            } catch (IOException e9) {
                e = e9;
                str = "PrintSpoolerService";
                fileOutputStream = null;
            } catch (Throwable th6) {
                th = th6;
                fileOutputStream = null;
            }
        }

        public void readStateLocked() {
            FileInputStream openRead;
            try {
                try {
                    openRead = this.mStatePersistFile.openRead();
                    try {
                        try {
                            try {
                                try {
                                    XmlPullParser newPullParser = Xml.newPullParser();
                                    newPullParser.setInput(openRead, StandardCharsets.UTF_8.name());
                                    parseStateLocked(newPullParser);
                                } catch (NumberFormatException e) {
                                    Slog.w("PrintSpoolerService", "Failed parsing ", e);
                                }
                            } catch (XmlPullParserException e2) {
                                Slog.w("PrintSpoolerService", "Failed parsing ", e2);
                            }
                        } catch (IndexOutOfBoundsException e3) {
                            Slog.w("PrintSpoolerService", "Failed parsing ", e3);
                        } catch (NullPointerException e4) {
                            Slog.w("PrintSpoolerService", "Failed parsing ", e4);
                        }
                    } catch (IOException e5) {
                        Slog.w("PrintSpoolerService", "Failed parsing ", e5);
                    } catch (IllegalStateException e6) {
                        Slog.w("PrintSpoolerService", "Failed parsing ", e6);
                    }
                } catch (FileNotFoundException unused) {
                    Log.d("PrintSpoolerService", "No existing print spooler state.");
                }
            } finally {
                IoUtils.closeQuietly(openRead);
            }
        }

        private void parseStateLocked(XmlPullParser xmlPullParser) throws IOException, XmlPullParserException {
            xmlPullParser.next();
            skipEmptyTextTags(xmlPullParser);
            expect(xmlPullParser, 2, "spooler");
            xmlPullParser.next();
            while (parsePrintJobLocked(xmlPullParser)) {
                xmlPullParser.next();
            }
            skipEmptyTextTags(xmlPullParser);
            expect(xmlPullParser, 3, "spooler");
        }

        private boolean parsePrintJobLocked(XmlPullParser xmlPullParser) throws IOException, XmlPullParserException {
            skipEmptyTextTags(xmlPullParser);
            if (!accept(xmlPullParser, 2, "job")) {
                return false;
            }
            PrintJobInfo printJobInfo = new PrintJobInfo();
            printJobInfo.setId(PrintJobId.unflattenFromString(xmlPullParser.getAttributeValue(null, "id")));
            printJobInfo.setLabel(xmlPullParser.getAttributeValue(null, "label"));
            printJobInfo.setState(Integer.parseInt(xmlPullParser.getAttributeValue(null, "state")));
            printJobInfo.setAppId(Integer.parseInt(xmlPullParser.getAttributeValue(null, "appId")));
            printJobInfo.setTag(xmlPullParser.getAttributeValue(null, "tag"));
            printJobInfo.setCreationTime(Long.parseLong(xmlPullParser.getAttributeValue(null, "creationTime")));
            printJobInfo.setCopies(Integer.parseInt(xmlPullParser.getAttributeValue(null, "copies")));
            printJobInfo.setPrinterName(xmlPullParser.getAttributeValue(null, "printerName"));
            String attributeValue = xmlPullParser.getAttributeValue(null, "progress");
            if (attributeValue != null) {
                float parseFloat = Float.parseFloat(attributeValue);
                if (parseFloat != -1.0f) {
                    printJobInfo.setProgress(parseFloat);
                }
            }
            printJobInfo.setStatus(xmlPullParser.getAttributeValue(null, "status"));
            String attributeValue2 = xmlPullParser.getAttributeValue(null, "stateReason");
            if (attributeValue2 != null) {
                printJobInfo.setStatus(attributeValue2);
            }
            String attributeValue3 = xmlPullParser.getAttributeValue(null, "cancelling");
            printJobInfo.setCancelling(!TextUtils.isEmpty(attributeValue3) ? Boolean.parseBoolean(attributeValue3) : false);
            xmlPullParser.next();
            skipEmptyTextTags(xmlPullParser);
            if (accept(xmlPullParser, 2, "printerId")) {
                printJobInfo.setPrinterId(new PrinterId(ComponentName.unflattenFromString(xmlPullParser.getAttributeValue(null, "serviceName")), xmlPullParser.getAttributeValue(null, "localId")));
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "printerId");
                xmlPullParser.next();
            }
            skipEmptyTextTags(xmlPullParser);
            ArrayList arrayList = null;
            while (accept(xmlPullParser, 2, "pageRange")) {
                PageRange pageRange = new PageRange(Integer.parseInt(xmlPullParser.getAttributeValue(null, "start")), Integer.parseInt(xmlPullParser.getAttributeValue(null, "end")));
                if (arrayList == null) {
                    arrayList = new ArrayList();
                }
                arrayList.add(pageRange);
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "pageRange");
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
            }
            if (arrayList != null) {
                PageRange[] pageRangeArr = new PageRange[arrayList.size()];
                arrayList.toArray(pageRangeArr);
                printJobInfo.setPages(pageRangeArr);
            }
            skipEmptyTextTags(xmlPullParser);
            if (accept(xmlPullParser, 2, "attributes")) {
                PrintAttributes.Builder builder = new PrintAttributes.Builder();
                builder.setColorMode(Integer.parseInt(xmlPullParser.getAttributeValue(null, "colorMode")));
                String attributeValue4 = xmlPullParser.getAttributeValue(null, "duplexMode");
                if (attributeValue4 != null) {
                    builder.setDuplexMode(Integer.parseInt(attributeValue4));
                }
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                if (accept(xmlPullParser, 2, "mediaSize")) {
                    String attributeValue5 = xmlPullParser.getAttributeValue(null, "id");
                    xmlPullParser.getAttributeValue(null, "label");
                    int parseInt = Integer.parseInt(xmlPullParser.getAttributeValue(null, "widthMils"));
                    int parseInt2 = Integer.parseInt(xmlPullParser.getAttributeValue(null, "heightMils"));
                    String attributeValue6 = xmlPullParser.getAttributeValue(null, "packageName");
                    String attributeValue7 = xmlPullParser.getAttributeValue(null, "labelResId");
                    builder.setMediaSize(new PrintAttributes.MediaSize(attributeValue5, xmlPullParser.getAttributeValue(null, "label"), attributeValue6, parseInt, parseInt2, attributeValue7 != null ? Integer.parseInt(attributeValue7) : 0));
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                    expect(xmlPullParser, 3, "mediaSize");
                    xmlPullParser.next();
                }
                skipEmptyTextTags(xmlPullParser);
                if (accept(xmlPullParser, 2, "resolution")) {
                    builder.setResolution(new PrintAttributes.Resolution(xmlPullParser.getAttributeValue(null, "id"), xmlPullParser.getAttributeValue(null, "label"), Integer.parseInt(xmlPullParser.getAttributeValue(null, "horizontalDip")), Integer.parseInt(xmlPullParser.getAttributeValue(null, "verticalDpi"))));
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                    expect(xmlPullParser, 3, "resolution");
                    xmlPullParser.next();
                }
                skipEmptyTextTags(xmlPullParser);
                if (accept(xmlPullParser, 2, "margins")) {
                    builder.setMinMargins(new PrintAttributes.Margins(Integer.parseInt(xmlPullParser.getAttributeValue(null, "leftMils")), Integer.parseInt(xmlPullParser.getAttributeValue(null, "topMils")), Integer.parseInt(xmlPullParser.getAttributeValue(null, "rightMils")), Integer.parseInt(xmlPullParser.getAttributeValue(null, "bottomMils"))));
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                    expect(xmlPullParser, 3, "margins");
                    xmlPullParser.next();
                }
                printJobInfo.setAttributes(builder.build());
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "attributes");
                xmlPullParser.next();
            }
            skipEmptyTextTags(xmlPullParser);
            if (accept(xmlPullParser, 2, "documentInfo")) {
                String attributeValue8 = xmlPullParser.getAttributeValue(null, "name");
                int parseInt3 = Integer.parseInt(xmlPullParser.getAttributeValue(null, "pageCount"));
                int parseInt4 = Integer.parseInt(xmlPullParser.getAttributeValue(null, "contentType"));
                int parseInt5 = Integer.parseInt(xmlPullParser.getAttributeValue(null, "dataSize"));
                PrintDocumentInfo build = new PrintDocumentInfo.Builder(attributeValue8).setPageCount(parseInt3).setContentType(parseInt4).build();
                printJobInfo.setDocumentInfo(build);
                build.setDataSize(parseInt5);
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "documentInfo");
                xmlPullParser.next();
            }
            skipEmptyTextTags(xmlPullParser);
            if (accept(xmlPullParser, 2, "advancedOptions")) {
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                Bundle bundle = new Bundle();
                while (accept(xmlPullParser, 2, "advancedOption")) {
                    String attributeValue9 = xmlPullParser.getAttributeValue(null, "key");
                    String attributeValue10 = xmlPullParser.getAttributeValue(null, "value");
                    String attributeValue11 = xmlPullParser.getAttributeValue(null, "type");
                    if ("string".equals(attributeValue11)) {
                        bundle.putString(attributeValue9, attributeValue10);
                    } else if ("int".equals(attributeValue11)) {
                        bundle.putInt(attributeValue9, Integer.parseInt(attributeValue10));
                    }
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                    expect(xmlPullParser, 3, "advancedOption");
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                }
                printJobInfo.setAdvancedOptions(bundle);
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "advancedOptions");
                xmlPullParser.next();
            }
            PrintSpoolerService.this.mPrintJobs.add(printJobInfo);
            if (printJobInfo.shouldStayAwake()) {
                PrintSpoolerService.this.keepAwakeLocked();
            }
            SemLog.secD("PrintSpoolerService", "[RESTORED] " + printJobInfo);
            skipEmptyTextTags(xmlPullParser);
            expect(xmlPullParser, 3, "job");
            return true;
        }

        private void expect(XmlPullParser xmlPullParser, int i, String str) throws XmlPullParserException {
            if (accept(xmlPullParser, i, str)) {
                return;
            }
            throw new XmlPullParserException("Exepected event: " + i + " and tag: " + str + " but got event: " + xmlPullParser.getEventType() + " and tag:" + xmlPullParser.getName());
        }

        private void skipEmptyTextTags(XmlPullParser xmlPullParser) throws IOException, XmlPullParserException {
            while (accept(xmlPullParser, 4, null) && "\n".equals(xmlPullParser.getText())) {
                xmlPullParser.next();
            }
        }

        private boolean accept(XmlPullParser xmlPullParser, int i, String str) throws XmlPullParserException {
            if (xmlPullParser.getEventType() != i) {
                return false;
            }
            return str != null ? str.equals(xmlPullParser.getName()) : xmlPullParser.getName() == null;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void keepAwakeLocked() {
        if (this.mKeepAwake.isHeld()) {
            return;
        }
        this.mKeepAwake.acquire();
    }

    private void checkIfStillKeepAwakeLocked() {
        if (this.mKeepAwake.isHeld()) {
            int size = this.mPrintJobs.size();
            for (int i = 0; i < size; i++) {
                if (this.mPrintJobs.get(i).shouldStayAwake()) {
                    return;
                }
            }
            this.mKeepAwake.release();
        }
    }

    /* loaded from: /content/classes1.dex */
    public final class PrintSpooler extends IPrintSpooler.Stub {
        public PrintSpooler() {
        }

        public void getPrintJobInfos(IPrintSpoolerCallbacks iPrintSpoolerCallbacks, ComponentName componentName, int i, int i2, int i3) throws RemoteException {
            try {
                iPrintSpoolerCallbacks.onGetPrintJobInfosResult(PrintSpoolerService.this.getPrintJobInfos(componentName, i, i2), i3);
            } catch (Throwable th) {
                iPrintSpoolerCallbacks.onGetPrintJobInfosResult((List) null, i3);
                throw th;
            }
        }

        public void getPrintJobInfo(PrintJobId printJobId, IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i, int i2) throws RemoteException {
            try {
                iPrintSpoolerCallbacks.onGetPrintJobInfoResult(PrintSpoolerService.this.getPrintJobInfo(printJobId, i), i2);
            } catch (Throwable th) {
                iPrintSpoolerCallbacks.onGetPrintJobInfoResult((PrintJobInfo) null, i2);
                throw th;
            }
        }

        public void createPrintJob(PrintJobInfo printJobInfo) {
            PrintSpoolerService.this.createPrintJob(printJobInfo);
        }

        public void setPrintJobState(PrintJobId printJobId, int i, String str, IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i2) throws RemoteException {
            try {
                iPrintSpoolerCallbacks.onSetPrintJobStateResult(PrintSpoolerService.this.setPrintJobState(printJobId, i, str), i2);
            } catch (Throwable th) {
                iPrintSpoolerCallbacks.onSetPrintJobStateResult(false, i2);
                throw th;
            }
        }

        public void setPrintJobTag(PrintJobId printJobId, String str, IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i) throws RemoteException {
            try {
                iPrintSpoolerCallbacks.onSetPrintJobTagResult(PrintSpoolerService.this.setPrintJobTag(printJobId, str), i);
            } catch (Throwable th) {
                iPrintSpoolerCallbacks.onSetPrintJobTagResult(false, i);
                throw th;
            }
        }

        public void writePrintJobData(ParcelFileDescriptor parcelFileDescriptor, PrintJobId printJobId) {
            PrintSpoolerService.this.writePrintJobData(parcelFileDescriptor, printJobId);
        }

        public void setClient(IPrintSpoolerClient iPrintSpoolerClient) {
            Handler.getMain().executeOrSendMessage(PooledLambda.obtainMessage(new BiConsumer() { // from class: com.android.printspooler.model.-$$Lambda$PrintSpoolerService$PrintSpooler$VUOLTS6qRyAqm02mAHR9PE4KuS0
                @Override // java.util.function.BiConsumer
                public final void accept(Object obj, Object obj2) {
                    ((PrintSpoolerService) obj).setClient((IPrintSpoolerClient) obj2);
                }
            }, PrintSpoolerService.this, iPrintSpoolerClient));
        }

        public void removeObsoletePrintJobs() {
            PrintSpoolerService.this.removeObsoletePrintJobs();
        }

        protected void dump(FileDescriptor fileDescriptor, PrintWriter printWriter, String[] strArr) {
            PrintSpoolerService.this.dump(fileDescriptor, printWriter, strArr);
        }

        public void setPrintJobCancelling(PrintJobId printJobId, boolean z) {
            PrintSpoolerService.this.setPrintJobCancelling(printJobId, z);
        }

        public void pruneApprovedPrintServices(List<ComponentName> list) {
            new ApprovedPrintServices(PrintSpoolerService.this).pruneApprovedServices(list);
        }

        public void setProgress(PrintJobId printJobId, float f) throws RemoteException {
            PrintSpoolerService.this.setProgress(printJobId, f);
        }

        public void setStatus(PrintJobId printJobId, CharSequence charSequence) throws RemoteException {
            PrintSpoolerService.this.setStatus(printJobId, charSequence);
        }

        public void setStatusRes(PrintJobId printJobId, int i, CharSequence charSequence) throws RemoteException {
            PrintSpoolerService.this.setStatus(printJobId, i, charSequence);
        }

        public PrintSpoolerService getService() {
            return PrintSpoolerService.this;
        }

        public void onCustomPrinterIconLoaded(PrinterId printerId, Icon icon, IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i) throws RemoteException {
            try {
                PrintSpoolerService.this.onCustomPrinterIconLoaded(printerId, icon);
            } finally {
                iPrintSpoolerCallbacks.onCustomPrinterIconCached(i);
            }
        }

        public void getCustomPrinterIcon(PrinterId printerId, IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i) throws RemoteException {
            try {
                iPrintSpoolerCallbacks.onGetCustomPrinterIconResult(PrintSpoolerService.this.getCustomPrinterIcon(printerId), i);
            } catch (Throwable th) {
                iPrintSpoolerCallbacks.onGetCustomPrinterIconResult((Icon) null, i);
                throw th;
            }
        }

        public void clearCustomPrinterIconCache(IPrintSpoolerCallbacks iPrintSpoolerCallbacks, int i) throws RemoteException {
            try {
                PrintSpoolerService.this.clearCustomPrinterIconCache();
            } finally {
                iPrintSpoolerCallbacks.customPrinterIconCacheCleared(i);
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/PrintSpoolerProvider.java** ###

package com.android.printspooler.model;

import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.IBinder;
import com.android.printspooler.model.PrintSpoolerService;

/* loaded from: /content/classes1.dex */
public class PrintSpoolerProvider implements ServiceConnection {
    private final Runnable mCallback;
    private final Context mContext;
    private PrintSpoolerService mSpooler;

    @Override // android.content.ServiceConnection
    public void onServiceDisconnected(ComponentName componentName) {
    }

    public PrintSpoolerProvider(Context context, Runnable runnable) {
        this.mContext = context;
        this.mCallback = runnable;
        this.mContext.bindService(new Intent(this.mContext, (Class<?>) PrintSpoolerService.class), this, 1);
    }

    public PrintSpoolerService getSpooler() {
        return this.mSpooler;
    }

    public void destroy() {
        if (this.mSpooler != null) {
            this.mContext.unbindService(this);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    @Override // android.content.ServiceConnection
    public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
        PrintSpoolerService service = ((PrintSpoolerService.PrintSpooler) iBinder).getService();
        this.mSpooler = service;
        if (service != null) {
            this.mCallback.run();
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/$$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI.java** ###

package com.android.printspooler.model;

import android.print.PrintJobInfo;
import java.util.function.BiConsumer;

/* compiled from: lambda */
/* renamed from: com.android.printspooler.model.-$$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI, reason: invalid class name */
/* loaded from: /content/classes1.dex */
public final /* synthetic */ class $$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI implements BiConsumer {
    public static final /* synthetic */ $$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI INSTANCE = new $$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI();

    private /* synthetic */ $$Lambda$PrintSpoolerService$gRIXcCK9lL2zxK9JFntdYvHjEBI() {
    }

    @Override // java.util.function.BiConsumer
    public final void accept(Object obj, Object obj2) {
        ((PrintSpoolerService) obj).onPrintJobStateChanged((PrintJobInfo) obj2);
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/PageContentRepository.java** ###

package com.android.printspooler.model;

import android.app.ActivityManager;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.graphics.Bitmap;
import android.graphics.drawable.BitmapDrawable;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.IBinder;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.util.ArrayMap;
import android.util.Log;
import android.view.View;
import com.android.internal.annotations.GuardedBy;
import com.android.printspooler.renderer.IPdfRenderer;
import com.android.printspooler.renderer.PdfManipulationService;
import com.android.printspooler.util.BitmapSerializeUtils;
import com.android.printspooler.util.PageRangeUtils;
import dalvik.system.CloseGuard;
import java.io.IOException;
import java.util.Arrays;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.Map;
import libcore.io.IoUtils;

/* loaded from: /content/classes1.dex */
public final class PageContentRepository {
    private RenderSpec mLastRenderSpec;
    private final AsyncRenderer mRenderer;
    private PageRange[] mScheduledPreloadSelectedPages;
    private PageRange mScheduledPreloadVisiblePages;
    private PageRange[] mScheduledPreloadWrittenPages;
    private final CloseGuard mCloseGuard = CloseGuard.get();
    private int mState = 0;

    /* loaded from: /content/classes1.dex */
    public interface OnPageContentAvailableCallback {
        void onPageContentAvailable(BitmapDrawable bitmapDrawable);
    }

    public PageContentRepository(Context context) {
        this.mRenderer = new AsyncRenderer(context);
        Log.i("PageContentRepository", "STATE_CLOSED");
        this.mCloseGuard.open("destroy");
    }

    public void open(ParcelFileDescriptor parcelFileDescriptor, OpenDocumentCallback openDocumentCallback) {
        throwIfNotClosed();
        this.mState = 1;
        Log.i("PageContentRepository", "STATE_OPENED");
        this.mRenderer.open(parcelFileDescriptor, openDocumentCallback);
    }

    public void close(Runnable runnable) {
        throwIfNotOpened();
        this.mState = 0;
        Log.i("PageContentRepository", "STATE_CLOSED");
        this.mRenderer.close(runnable);
    }

    public void destroy(final Runnable runnable) {
        if (this.mState == 1) {
            close(new Runnable() { // from class: com.android.printspooler.model.PageContentRepository.1
                @Override // java.lang.Runnable
                public void run() {
                    PageContentRepository.this.destroy(runnable);
                }
            });
            return;
        }
        this.mCloseGuard.close();
        this.mState = 2;
        Log.i("PageContentRepository", "STATE_DESTROYED");
        this.mRenderer.destroy();
        if (runnable != null) {
            runnable.run();
        }
    }

    public void startPreload(PageRange pageRange, PageRange[] pageRangeArr, PageRange[] pageRangeArr2) {
        RenderSpec renderSpec = this.mLastRenderSpec;
        if (renderSpec == null) {
            this.mScheduledPreloadVisiblePages = pageRange;
            this.mScheduledPreloadSelectedPages = pageRangeArr;
            this.mScheduledPreloadWrittenPages = pageRangeArr2;
        } else if (this.mState == 1) {
            this.mRenderer.startPreload(pageRange, pageRangeArr, pageRangeArr2, renderSpec);
        }
    }

    public void stopPreload() {
        this.mRenderer.stopPreload();
    }

    public int getFilePageCount() {
        return this.mRenderer.getPageCount();
    }

    public PageContentProvider acquirePageContentProvider(int i, View view) {
        throwIfDestroyed();
        Log.i("PageContentRepository", "Acquiring provider for page: " + i);
        return new PageContentProvider(i, view);
    }

    public void releasePageContentProvider(PageContentProvider pageContentProvider) {
        throwIfDestroyed();
        Log.i("PageContentRepository", "Releasing provider for page: " + pageContentProvider.mPageIndex);
        pageContentProvider.cancelLoad();
    }

    protected void finalize() throws Throwable {
        try {
            if (this.mCloseGuard != null) {
                this.mCloseGuard.warnIfOpen();
            }
            if (this.mState != 2) {
                destroy(null);
            }
        } finally {
            super.finalize();
        }
    }

    private void throwIfNotOpened() {
        if (this.mState != 1) {
            throw new IllegalStateException("Not opened");
        }
    }

    private void throwIfNotClosed() {
        if (this.mState != 0) {
            throw new IllegalStateException("Not closed");
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void throwIfDestroyed() {
        if (this.mState == 2) {
            throw new IllegalStateException("Destroyed");
        }
    }

    /* loaded from: /content/classes1.dex */
    public final class PageContentProvider {
        private final int mPageIndex;

        public PageContentProvider(int i, View view) {
            this.mPageIndex = i;
        }

        public void getPageContent(RenderSpec renderSpec, OnPageContentAvailableCallback onPageContentAvailableCallback) {
            PageContentRepository.this.throwIfDestroyed();
            PageContentRepository.this.mLastRenderSpec = renderSpec;
            if (PageContentRepository.this.mScheduledPreloadVisiblePages != null) {
                PageContentRepository pageContentRepository = PageContentRepository.this;
                pageContentRepository.startPreload(pageContentRepository.mScheduledPreloadVisiblePages, PageContentRepository.this.mScheduledPreloadSelectedPages, PageContentRepository.this.mScheduledPreloadWrittenPages);
                PageContentRepository.this.mScheduledPreloadVisiblePages = null;
                PageContentRepository.this.mScheduledPreloadSelectedPages = null;
                PageContentRepository.this.mScheduledPreloadWrittenPages = null;
            }
            if (PageContentRepository.this.mState == 1) {
                PageContentRepository.this.mRenderer.renderPage(this.mPageIndex, renderSpec, onPageContentAvailableCallback);
            } else {
                PageContentRepository.this.mRenderer.getCachedPage(this.mPageIndex, renderSpec, onPageContentAvailableCallback);
            }
        }

        void cancelLoad() {
            PageContentRepository.this.throwIfDestroyed();
            if (PageContentRepository.this.mState == 1) {
                PageContentRepository.this.mRenderer.cancelRendering(this.mPageIndex);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class PageContentLruCache {
        private final int mMaxSizeInBytes;
        private final LinkedHashMap<Integer, RenderedPage> mRenderedPages = new LinkedHashMap<>();
        private int mSizeInBytes;

        public PageContentLruCache(int i) {
            this.mMaxSizeInBytes = i;
        }

        public RenderedPage getRenderedPage(int i) {
            return this.mRenderedPages.get(Integer.valueOf(i));
        }

        public RenderedPage removeRenderedPage(int i) {
            RenderedPage remove = this.mRenderedPages.remove(Integer.valueOf(i));
            if (remove != null) {
                this.mSizeInBytes -= remove.getSizeInBytes();
            }
            return remove;
        }

        public RenderedPage putRenderedPage(int i, RenderedPage renderedPage) {
            RenderedPage remove = this.mRenderedPages.remove(Integer.valueOf(i));
            if (remove != null) {
                if (!remove.renderSpec.equals(renderedPage.renderSpec)) {
                    throw new IllegalStateException("Wrong page size");
                }
            } else {
                int sizeInBytes = renderedPage.getSizeInBytes();
                int i2 = this.mSizeInBytes;
                if (i2 + sizeInBytes > this.mMaxSizeInBytes) {
                    throw new IllegalStateException("Client didn't free space");
                }
                this.mSizeInBytes = i2 + sizeInBytes;
            }
            return this.mRenderedPages.put(Integer.valueOf(i), renderedPage);
        }

        public void invalidate() {
            Iterator<Map.Entry<Integer, RenderedPage>> it = this.mRenderedPages.entrySet().iterator();
            while (it.hasNext()) {
                it.next().getValue().state = 2;
            }
        }

        public RenderedPage removeLeastNeeded() {
            if (this.mRenderedPages.isEmpty()) {
                return null;
            }
            for (Map.Entry<Integer, RenderedPage> entry : this.mRenderedPages.entrySet()) {
                RenderedPage value = entry.getValue();
                if (value.state == 2) {
                    this.mRenderedPages.remove(entry.getKey());
                    this.mSizeInBytes -= value.getSizeInBytes();
                    return value;
                }
            }
            RenderedPage remove = this.mRenderedPages.remove(Integer.valueOf(((Integer) this.mRenderedPages.eldest().getKey()).intValue()));
            this.mSizeInBytes -= remove.getSizeInBytes();
            return remove;
        }

        public int getSizeInBytes() {
            return this.mSizeInBytes;
        }

        public int getMaxSizeInBytes() {
            return this.mMaxSizeInBytes;
        }

        public void clear() {
            Iterator<Map.Entry<Integer, RenderedPage>> it = this.mRenderedPages.entrySet().iterator();
            while (it.hasNext()) {
                it.next();
                it.remove();
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    public static final class RenderSpec {
        final int bitmapHeight;
        final int bitmapWidth;
        final PrintAttributes printAttributes;

        public RenderSpec(int i, int i2, PrintAttributes.MediaSize mediaSize, PrintAttributes.Margins margins) {
            PrintAttributes build = new PrintAttributes.Builder().build();
            this.printAttributes = build;
            this.bitmapWidth = i;
            this.bitmapHeight = i2;
            build.setMediaSize(mediaSize);
            this.printAttributes.setMinMargins(margins);
        }

        public boolean equals(Object obj) {
            if (this == obj) {
                return true;
            }
            if (obj == null || RenderSpec.class != obj.getClass()) {
                return false;
            }
            RenderSpec renderSpec = (RenderSpec) obj;
            if (this.bitmapHeight != renderSpec.bitmapHeight || this.bitmapWidth != renderSpec.bitmapWidth) {
                return false;
            }
            PrintAttributes printAttributes = this.printAttributes;
            if (printAttributes != null) {
                if (!printAttributes.equals(renderSpec.printAttributes)) {
                    return false;
                }
            } else if (renderSpec.printAttributes != null) {
                return false;
            }
            return true;
        }

        public boolean hasSameSize(RenderedPage renderedPage) {
            Bitmap bitmap = renderedPage.content.getBitmap();
            return bitmap.getWidth() == this.bitmapWidth && bitmap.getHeight() == this.bitmapHeight;
        }

        public int hashCode() {
            int i = ((this.bitmapWidth * 31) + this.bitmapHeight) * 31;
            PrintAttributes printAttributes = this.printAttributes;
            return i + (printAttributes != null ? printAttributes.hashCode() : 0);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class RenderedPage {
        final BitmapDrawable content;
        RenderSpec renderSpec;
        int state = 2;

        RenderedPage(BitmapDrawable bitmapDrawable) {
            this.content = bitmapDrawable;
        }

        public int getSizeInBytes() {
            return this.content.getBitmap().getByteCount();
        }

        public void erase() {
            this.content.getBitmap().eraseColor(-1);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class AsyncRenderer implements ServiceConnection {
        private boolean mBoundToService;
        private final Context mContext;
        private boolean mDestroyed;
        private OpenTask mOpenTask;
        private final PageContentLruCache mPageContentCache;

        @GuardedBy({"mLock"})
        private IPdfRenderer mRenderer;
        private final Object mLock = new Object();
        private final ArrayMap<Integer, RenderPageTask> mPageToRenderTaskMap = new ArrayMap<>();
        private int mPageCount = -1;

        public AsyncRenderer(Context context) {
            this.mContext = context;
            this.mPageContentCache = new PageContentLruCache((((ActivityManager) context.getSystemService("activity")).getMemoryClass() * 1048576) / 4);
        }

        @Override // android.content.ServiceConnection
        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
            synchronized (this.mLock) {
                this.mRenderer = IPdfRenderer.Stub.asInterface(iBinder);
                this.mLock.notifyAll();
            }
        }

        @Override // android.content.ServiceConnection
        public void onServiceDisconnected(ComponentName componentName) {
            synchronized (this.mLock) {
                this.mRenderer = null;
            }
        }

        public void open(ParcelFileDescriptor parcelFileDescriptor, OpenDocumentCallback openDocumentCallback) {
            this.mPageContentCache.invalidate();
            OpenTask openTask = new OpenTask(parcelFileDescriptor, openDocumentCallback);
            this.mOpenTask = openTask;
            openTask.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, new Void[0]);
        }

        public void close(final Runnable runnable) {
            cancelAllRendering();
            OpenTask openTask = this.mOpenTask;
            if (openTask != null) {
                openTask.cancel();
            }
            new AsyncTask<Void, Void, Void>() { // from class: com.android.printspooler.model.PageContentRepository.AsyncRenderer.1
                @Override // android.os.AsyncTask
                protected void onPreExecute() {
                    if (AsyncRenderer.this.mDestroyed) {
                        cancel(true);
                    }
                }

                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public Void doInBackground(Void... voidArr) {
                    synchronized (AsyncRenderer.this.mLock) {
                        try {
                            if (AsyncRenderer.this.mRenderer != null) {
                                AsyncRenderer.this.mRenderer.closeDocument();
                            }
                        } catch (RemoteException unused) {
                        }
                    }
                    return null;
                }

                @Override // android.os.AsyncTask
                public void onPostExecute(Void r2) {
                    AsyncRenderer.this.mPageCount = -1;
                    Runnable runnable2 = runnable;
                    if (runnable2 != null) {
                        runnable2.run();
                    }
                }
            }.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, new Void[0]);
        }

        public void destroy() {
            if (this.mBoundToService) {
                this.mBoundToService = false;
                try {
                    this.mContext.unbindService(this);
                } catch (IllegalArgumentException e) {
                    Log.e("PageContentRepository", "Cannot unbind service", e);
                }
            }
            this.mPageContentCache.invalidate();
            this.mPageContentCache.clear();
            this.mDestroyed = true;
        }

        private int findIndexOfPage(int i, PageRange[] pageRangeArr) {
            int i2 = 0;
            for (int i3 = 0; i3 < pageRangeArr.length; i3++) {
                if (pageRangeArr[i3].contains(i)) {
                    return (i2 + i) - pageRangeArr[i3].getStart();
                }
                i2 += pageRangeArr[i3].getSize();
            }
            return -1;
        }

        void startPreload(PageRange pageRange, PageRange[] pageRangeArr, PageRange[] pageRangeArr2, RenderSpec renderSpec) {
            if (PageRangeUtils.isAllPages(pageRangeArr)) {
                pageRangeArr = new PageRange[]{new PageRange(0, this.mPageCount - 1)};
            }
            Log.i("PageContentRepository", "Preloading pages around " + pageRange + " from " + Arrays.toString(pageRangeArr));
            int findIndexOfPage = findIndexOfPage(pageRange.getStart(), pageRangeArr);
            int findIndexOfPage2 = findIndexOfPage(pageRange.getEnd(), pageRangeArr);
            if (findIndexOfPage == -1 || findIndexOfPage2 == -1) {
                return;
            }
            int maxSizeInBytes = (((this.mPageContentCache.getMaxSizeInBytes() / ((renderSpec.bitmapWidth * renderSpec.bitmapHeight) * 4)) - (findIndexOfPage2 - findIndexOfPage)) / 2) - 1;
            int max = Math.max(findIndexOfPage - maxSizeInBytes, 0);
            int i = findIndexOfPage2 + maxSizeInBytes;
            Log.i("PageContentRepository", "fromIndex=" + max + " toIndex=" + i);
            int i2 = 0;
            for (int i3 = 0; i3 < pageRangeArr.length; i3++) {
                PageRange pageRange2 = pageRangeArr[i3];
                int min = Math.min(pageRange2.getSize(), (i - i2) + 1);
                for (int max2 = Math.max(0, max - i2); max2 < min; max2++) {
                    if (PageRangeUtils.contains(pageRangeArr2, pageRange2.getStart() + max2)) {
                        Log.i("PageContentRepository", "Preloading " + (pageRange2.getStart() + max2));
                        renderPage(pageRange2.getStart() + max2, renderSpec, null);
                    }
                }
                i2 += pageRange2.getSize();
            }
        }

        public void stopPreload() {
            int size = this.mPageToRenderTaskMap.size();
            for (int i = 0; i < size; i++) {
                RenderPageTask valueAt = this.mPageToRenderTaskMap.valueAt(i);
                if (valueAt.isPreload() && !valueAt.isCancelled()) {
                    valueAt.cancel(true);
                }
            }
        }

        public int getPageCount() {
            return this.mPageCount;
        }

        public void getCachedPage(int i, RenderSpec renderSpec, OnPageContentAvailableCallback onPageContentAvailableCallback) {
            RenderedPage renderedPage = this.mPageContentCache.getRenderedPage(i);
            if (renderedPage != null && renderedPage.state == 0 && renderedPage.renderSpec.equals(renderSpec)) {
                Log.i("PageContentRepository", "Cache hit for page: " + i);
                if (onPageContentAvailableCallback != null) {
                    onPageContentAvailableCallback.onPageContentAvailable(renderedPage.content);
                }
            }
        }

        public void renderPage(int i, RenderSpec renderSpec, OnPageContentAvailableCallback onPageContentAvailableCallback) {
            RenderedPage renderedPage = this.mPageContentCache.getRenderedPage(i);
            if (renderedPage != null && renderedPage.state == 0) {
                if (renderedPage.renderSpec.equals(renderSpec)) {
                    Log.i("PageContentRepository", "Cache hit for page: " + i);
                    if (onPageContentAvailableCallback != null) {
                        onPageContentAvailableCallback.onPageContentAvailable(renderedPage.content);
                        return;
                    }
                    return;
                }
                renderedPage.state = 2;
            }
            RenderPageTask renderPageTask = this.mPageToRenderTaskMap.get(Integer.valueOf(i));
            if (renderPageTask != null && !renderPageTask.isCancelled()) {
                if (renderPageTask.mRenderSpec.equals(renderSpec)) {
                    OnPageContentAvailableCallback onPageContentAvailableCallback2 = renderPageTask.mCallback;
                    if (onPageContentAvailableCallback2 == null) {
                        renderPageTask.mCallback = onPageContentAvailableCallback;
                        return;
                    } else {
                        if (onPageContentAvailableCallback != null && onPageContentAvailableCallback2 != onPageContentAvailableCallback) {
                            throw new IllegalStateException("Page rendering not cancelled");
                        }
                        return;
                    }
                }
                renderPageTask.cancel(true);
            }
            RenderPageTask renderPageTask2 = new RenderPageTask(i, renderSpec, onPageContentAvailableCallback);
            this.mPageToRenderTaskMap.put(Integer.valueOf(i), renderPageTask2);
            renderPageTask2.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, new Void[0]);
        }

        public void cancelRendering(int i) {
            RenderPageTask renderPageTask = this.mPageToRenderTaskMap.get(Integer.valueOf(i));
            if (renderPageTask == null || renderPageTask.isCancelled()) {
                return;
            }
            renderPageTask.cancel(true);
        }

        private void cancelAllRendering() {
            int size = this.mPageToRenderTaskMap.size();
            for (int i = 0; i < size; i++) {
                RenderPageTask valueAt = this.mPageToRenderTaskMap.valueAt(i);
                if (!valueAt.isCancelled()) {
                    valueAt.cancel(true);
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public final class OpenTask extends AsyncTask<Void, Void, Integer> {
            private final OpenDocumentCallback mCallback;
            private final ParcelFileDescriptor mSource;

            public OpenTask(ParcelFileDescriptor parcelFileDescriptor, OpenDocumentCallback openDocumentCallback) {
                this.mSource = parcelFileDescriptor;
                this.mCallback = openDocumentCallback;
            }

            @Override // android.os.AsyncTask
            protected void onPreExecute() {
                if (AsyncRenderer.this.mDestroyed) {
                    cancel(true);
                    return;
                }
                Intent intent = new Intent("com.android.printspooler.renderer.ACTION_GET_RENDERER");
                intent.setClass(AsyncRenderer.this.mContext, PdfManipulationService.class);
                intent.setData(Uri.fromParts("fake-scheme", String.valueOf(AsyncRenderer.this.hashCode()), null));
                AsyncRenderer.this.mContext.bindService(intent, AsyncRenderer.this, 1);
                AsyncRenderer.this.mBoundToService = true;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public Integer doInBackground(Void... voidArr) {
                Integer valueOf;
                synchronized (AsyncRenderer.this.mLock) {
                    while (AsyncRenderer.this.mRenderer == null && !isCancelled()) {
                        try {
                            AsyncRenderer.this.mLock.wait();
                        } catch (InterruptedException unused) {
                        }
                    }
                    try {
                        try {
                            valueOf = Integer.valueOf(AsyncRenderer.this.mRenderer.openDocument(this.mSource));
                        } finally {
                            IoUtils.closeQuietly(this.mSource);
                        }
                    } catch (RemoteException unused2) {
                        Log.e("PageContentRepository", "Cannot open PDF document");
                        return -2;
                    }
                }
                return valueOf;
            }

            @Override // android.os.AsyncTask
            public void onPostExecute(Integer num) {
                int intValue = num.intValue();
                if (intValue == -3) {
                    AsyncRenderer.this.mPageCount = -1;
                    OpenDocumentCallback openDocumentCallback = this.mCallback;
                    if (openDocumentCallback != null) {
                        openDocumentCallback.onFailure(-2);
                    }
                } else if (intValue == -2) {
                    AsyncRenderer.this.mPageCount = -1;
                    OpenDocumentCallback openDocumentCallback2 = this.mCallback;
                    if (openDocumentCallback2 != null) {
                        openDocumentCallback2.onFailure(-1);
                    }
                } else {
                    AsyncRenderer.this.mPageCount = num.intValue();
                    OpenDocumentCallback openDocumentCallback3 = this.mCallback;
                    if (openDocumentCallback3 != null) {
                        openDocumentCallback3.onSuccess();
                    }
                }
                AsyncRenderer.this.mOpenTask = null;
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onCancelled(Integer num) {
                AsyncRenderer.this.mOpenTask = null;
            }

            public void cancel() {
                cancel(true);
                synchronized (AsyncRenderer.this.mLock) {
                    AsyncRenderer.this.mLock.notifyAll();
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public final class RenderPageTask extends AsyncTask<Void, Void, RenderedPage> {
            OnPageContentAvailableCallback mCallback;
            private boolean mIsFailed;
            final int mPageIndex;
            final RenderSpec mRenderSpec;
            RenderedPage mRenderedPage;

            public RenderPageTask(int i, RenderSpec renderSpec, OnPageContentAvailableCallback onPageContentAvailableCallback) {
                this.mPageIndex = i;
                this.mRenderSpec = renderSpec;
                this.mCallback = onPageContentAvailableCallback;
            }

            @Override // android.os.AsyncTask
            protected void onPreExecute() {
                RenderedPage renderedPage = AsyncRenderer.this.mPageContentCache.getRenderedPage(this.mPageIndex);
                this.mRenderedPage = renderedPage;
                if (renderedPage != null && renderedPage.state == 0) {
                    throw new IllegalStateException("Trying to render a rendered page");
                }
                RenderedPage renderedPage2 = this.mRenderedPage;
                if (renderedPage2 != null && !this.mRenderSpec.hasSameSize(renderedPage2)) {
                    Log.i("PageContentRepository", "Recycling bitmap for page: " + this.mPageIndex + " with different size.");
                    AsyncRenderer.this.mPageContentCache.removeRenderedPage(this.mPageIndex);
                    this.mRenderedPage = null;
                }
                RenderSpec renderSpec = this.mRenderSpec;
                int i = renderSpec.bitmapWidth * renderSpec.bitmapHeight * 4;
                while (true) {
                    if (this.mRenderedPage != null || AsyncRenderer.this.mPageContentCache.getSizeInBytes() <= 0 || AsyncRenderer.this.mPageContentCache.getSizeInBytes() + i <= AsyncRenderer.this.mPageContentCache.getMaxSizeInBytes()) {
                        break;
                    }
                    RenderedPage removeLeastNeeded = AsyncRenderer.this.mPageContentCache.removeLeastNeeded();
                    if (!this.mRenderSpec.hasSameSize(removeLeastNeeded)) {
                        Log.i("PageContentRepository", "Recycling bitmap for page: " + this.mPageIndex + " with different size.");
                    } else {
                        this.mRenderedPage = removeLeastNeeded;
                        removeLeastNeeded.erase();
                        Log.i("PageContentRepository", "Reused bitmap for page: " + this.mPageIndex + " cache size: " + AsyncRenderer.this.mPageContentCache.getSizeInBytes() + " bytes");
                        break;
                    }
                }
                if (this.mRenderedPage == null) {
                    Log.i("PageContentRepository", "Created bitmap for page: " + this.mPageIndex + " cache size: " + AsyncRenderer.this.mPageContentCache.getSizeInBytes() + " bytes");
                    RenderSpec renderSpec2 = this.mRenderSpec;
                    Bitmap createBitmap = Bitmap.createBitmap(renderSpec2.bitmapWidth, renderSpec2.bitmapHeight, Bitmap.Config.ARGB_8888);
                    createBitmap.eraseColor(-1);
                    this.mRenderedPage = new RenderedPage(new BitmapDrawable(AsyncRenderer.this.mContext.getResources(), createBitmap));
                }
                RenderedPage renderedPage3 = this.mRenderedPage;
                renderedPage3.renderSpec = this.mRenderSpec;
                renderedPage3.state = 1;
                AsyncRenderer.this.mPageContentCache.putRenderedPage(this.mPageIndex, this.mRenderedPage);
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public RenderedPage doInBackground(Void... voidArr) {
                if (isCancelled()) {
                    return this.mRenderedPage;
                }
                Bitmap bitmap = this.mRenderedPage.content.getBitmap();
                try {
                    ParcelFileDescriptor[] createPipe = ParcelFileDescriptor.createPipe();
                    ParcelFileDescriptor parcelFileDescriptor = createPipe[0];
                    try {
                        ParcelFileDescriptor parcelFileDescriptor2 = createPipe[1];
                        try {
                            synchronized (AsyncRenderer.this.mLock) {
                                if (AsyncRenderer.this.mRenderer != null) {
                                    AsyncRenderer.this.mRenderer.renderPage(this.mPageIndex, bitmap.getWidth(), bitmap.getHeight(), this.mRenderSpec.printAttributes, parcelFileDescriptor2);
                                } else {
                                    throw new IllegalStateException("Renderer is disconnected");
                                }
                            }
                            if (parcelFileDescriptor2 != null) {
                                parcelFileDescriptor2.close();
                            }
                            BitmapSerializeUtils.readBitmapPixels(bitmap, parcelFileDescriptor);
                            if (parcelFileDescriptor != null) {
                                parcelFileDescriptor.close();
                            }
                            this.mIsFailed = false;
                        } finally {
                        }
                    } catch (Throwable th) {
                        if (parcelFileDescriptor != null) {
                            try {
                                parcelFileDescriptor.close();
                            } catch (Throwable th2) {
                                th.addSuppressed(th2);
                            }
                        }
                        throw th;
                    }
                } catch (RemoteException | IOException | IllegalStateException e) {
                    Log.e("PageContentRepository", "Error rendering page " + this.mPageIndex, e);
                    this.mIsFailed = true;
                }
                return this.mRenderedPage;
            }

            @Override // android.os.AsyncTask
            public void onPostExecute(RenderedPage renderedPage) {
                Log.i("PageContentRepository", "Completed rendering page: " + this.mPageIndex);
                AsyncRenderer.this.mPageToRenderTaskMap.remove(Integer.valueOf(this.mPageIndex));
                if (this.mIsFailed) {
                    renderedPage.state = 2;
                } else {
                    renderedPage.state = 0;
                }
                this.mRenderedPage.content.invalidateSelf();
                OnPageContentAvailableCallback onPageContentAvailableCallback = this.mCallback;
                if (onPageContentAvailableCallback != null) {
                    if (this.mIsFailed) {
                        onPageContentAvailableCallback.onPageContentAvailable(null);
                    } else {
                        onPageContentAvailableCallback.onPageContentAvailable(renderedPage.content);
                    }
                }
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onCancelled(RenderedPage renderedPage) {
                Log.i("PageContentRepository", "Cancelled rendering page: " + this.mPageIndex);
                AsyncRenderer.this.mPageToRenderTaskMap.remove(Integer.valueOf(this.mPageIndex));
                if (renderedPage == null) {
                    return;
                }
                renderedPage.state = 2;
            }

            public boolean isPreload() {
                return this.mCallback == null;
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/model/CustomPrinterIconCache.java** ###

package com.android.printspooler.model;

import android.graphics.drawable.Icon;
import android.print.PrinterId;
import android.util.Log;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.math.BigInteger;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.util.TreeMap;

/* loaded from: /content/classes1.dex */
public class CustomPrinterIconCache {
    private final File mCacheDirectory;

    public CustomPrinterIconCache(File file) {
        File file2 = new File(file, "icons");
        this.mCacheDirectory = file2;
        if (file2.exists()) {
            return;
        }
        this.mCacheDirectory.mkdir();
    }

    private File getIconFileName(PrinterId printerId) {
        StringBuffer stringBuffer = new StringBuffer(printerId.getServiceName().getPackageName());
        stringBuffer.append("-");
        try {
            MessageDigest messageDigest = MessageDigest.getInstance("SHA-1");
            messageDigest.update((printerId.getServiceName().getClassName() + ":" + printerId.getLocalId()).getBytes("UTF-16"));
            stringBuffer.append(String.format("%#040x", new BigInteger(1, messageDigest.digest())));
            return new File(this.mCacheDirectory, stringBuffer.toString());
        } catch (UnsupportedEncodingException | NoSuchAlgorithmException e) {
            Log.e("CustomPrinterIconCache", "Could not compute custom printer icon file name", e);
            return null;
        }
    }

    public synchronized Icon getIcon(PrinterId printerId) {
        Icon icon;
        FileInputStream fileInputStream;
        File iconFileName = getIconFileName(printerId);
        icon = null;
        if (iconFileName != null && iconFileName.exists()) {
            try {
                fileInputStream = new FileInputStream(iconFileName);
            } catch (IOException e) {
                Log.e("CustomPrinterIconCache", "Could not read icon from " + iconFileName, e);
            }
            try {
                Icon createFromStream = Icon.createFromStream(fileInputStream);
                fileInputStream.close();
                icon = createFromStream;
                iconFileName.setLastModified(System.currentTimeMillis());
            } catch (Throwable th) {
                try {
                    fileInputStream.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        }
        return icon;
    }

    public void removeOldFiles(int i) {
        File[] listFiles = this.mCacheDirectory.listFiles();
        if (listFiles.length > i * 2) {
            TreeMap treeMap = new TreeMap();
            for (File file : listFiles) {
                treeMap.put(Long.valueOf(file.lastModified()), file);
            }
            while (treeMap.size() > i) {
                treeMap.remove(treeMap.firstKey());
            }
        }
    }

    public synchronized void onCustomPrinterIconLoaded(PrinterId printerId, Icon icon) {
        File iconFileName = getIconFileName(printerId);
        if (iconFileName == null) {
            return;
        }
        try {
            FileOutputStream fileOutputStream = new FileOutputStream(iconFileName);
            try {
                icon.writeToStream(fileOutputStream);
                fileOutputStream.close();
            } catch (Throwable th) {
                try {
                    fileOutputStream.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        } catch (IOException e) {
            Log.e("CustomPrinterIconCache", "Could not write icon for " + printerId + " to storage", e);
        }
        removeOldFiles(1024);
    }

    public synchronized void clear() {
        for (File file : this.mCacheDirectory.listFiles()) {
            file.delete();
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/CustomErrorEditText.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.util.AttributeSet;
import android.widget.EditText;

/* loaded from: /content/classes1.dex */
public final class CustomErrorEditText extends EditText {
    private CharSequence mError;

    public CustomErrorEditText(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
    }

    @Override // android.widget.TextView
    public CharSequence getError() {
        return this.mError;
    }

    @Override // android.widget.TextView
    public void setError(CharSequence charSequence, Drawable drawable) {
        setCompoundDrawables(null, null, drawable, null);
        this.mError = charSequence;
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/PrintOptionsLayout.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.content.res.TypedArray;
import android.util.AttributeSet;
import android.view.View;
import android.view.ViewGroup;
import com.android.printspooler.R$styleable;

/* loaded from: /content/classes1.dex */
public final class PrintOptionsLayout extends ViewGroup {
    private int mColumnCount;

    public PrintOptionsLayout(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
        TypedArray obtainStyledAttributes = context.obtainStyledAttributes(attributeSet, R$styleable.PrintOptionsLayout);
        this.mColumnCount = obtainStyledAttributes.getInteger(0, 0);
        obtainStyledAttributes.recycle();
    }

    public void setColumnCount(int i) {
        if (this.mColumnCount != i) {
            this.mColumnCount = i;
            requestLayout();
        }
    }

    @Override // android.view.View
    protected void onMeasure(int i, int i2) {
        int i3;
        int i4;
        int childMeasureSpec;
        int i5;
        View.MeasureSpec.getMode(i);
        int size = View.MeasureSpec.getSize(i);
        int i6 = size != 0 ? ((size - ((ViewGroup) this).mPaddingLeft) - ((ViewGroup) this).mPaddingRight) / this.mColumnCount : 0;
        int childCount = getChildCount();
        int i7 = this.mColumnCount;
        int i8 = (childCount / i7) + (childCount % i7);
        int i9 = 0;
        int i10 = 0;
        int i11 = 0;
        int i12 = 0;
        while (i9 < i8) {
            int i13 = 0;
            int i14 = 0;
            int i15 = 0;
            while (true) {
                int i16 = this.mColumnCount;
                if (i13 < i16 && (i3 = (i16 * i9) + i13) < childCount) {
                    View childAt = getChildAt(i3);
                    if (childAt.getVisibility() == 8) {
                        i4 = i6;
                        i5 = childCount;
                    } else {
                        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) childAt.getLayoutParams();
                        if (i6 > 0) {
                            i4 = i6;
                            childMeasureSpec = View.MeasureSpec.makeMeasureSpec((i6 - marginLayoutParams.getMarginStart()) - marginLayoutParams.getMarginEnd(), 1073741824);
                        } else {
                            i4 = i6;
                            childMeasureSpec = ViewGroup.getChildMeasureSpec(i, getPaddingStart() + getPaddingEnd() + i10, marginLayoutParams.width);
                        }
                        i5 = childCount;
                        childAt.measure(childMeasureSpec, ViewGroup.getChildMeasureSpec(i2, getPaddingTop() + getPaddingBottom() + i11, marginLayoutParams.height));
                        int combineMeasuredStates = ViewGroup.combineMeasuredStates(i12, childAt.getMeasuredState());
                        i14 += childAt.getMeasuredWidth() + marginLayoutParams.getMarginStart() + marginLayoutParams.getMarginEnd();
                        i15 = Math.max(i15, childAt.getMeasuredHeight() + marginLayoutParams.topMargin + marginLayoutParams.bottomMargin);
                        i12 = combineMeasuredStates;
                    }
                    i13++;
                    i6 = i4;
                    childCount = i5;
                }
            }
            i10 = Math.max(i10, i14);
            i11 += i15;
            i9++;
            i6 = i6;
            childCount = childCount;
        }
        setMeasuredDimension(ViewGroup.resolveSizeAndState(Math.max(i10 + getPaddingStart() + getPaddingEnd(), getMinimumWidth()), i, i12), ViewGroup.resolveSizeAndState(Math.max(i11 + getPaddingTop() + getPaddingBottom(), getMinimumHeight()), i2, i12 << 16));
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void onLayout(boolean z, int i, int i2, int i3, int i4) {
        int childCount = getChildCount();
        int i5 = this.mColumnCount;
        int i6 = (childCount / i5) + (childCount % i5);
        boolean isLayoutRtl = isLayoutRtl();
        int paddingStart = getPaddingStart();
        int paddingTop = getPaddingTop();
        for (int i7 = 0; i7 < i6; i7++) {
            int i8 = 0;
            int i9 = 0;
            while (true) {
                int i10 = this.mColumnCount;
                if (i8 >= i10) {
                    break;
                }
                int i11 = isLayoutRtl ? (i7 * i10) + ((i10 - i8) - 1) : (i10 * i7) + i8;
                if (i11 >= childCount) {
                    break;
                }
                View childAt = getChildAt(i11);
                if (childAt.getVisibility() != 8) {
                    ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) childAt.getLayoutParams();
                    int marginStart = paddingStart + marginLayoutParams.getMarginStart();
                    int i12 = marginLayoutParams.topMargin + paddingTop;
                    int measuredWidth = childAt.getMeasuredWidth() + marginStart;
                    childAt.layout(marginStart, i12, measuredWidth, childAt.getMeasuredHeight() + i12);
                    int marginEnd = measuredWidth + marginLayoutParams.getMarginEnd();
                    i9 = Math.max(i9, childAt.getMeasuredHeight() + marginLayoutParams.topMargin + marginLayoutParams.bottomMargin);
                    paddingStart = marginEnd;
                }
                i8++;
            }
            paddingStart = getPaddingStart();
            paddingTop += i9;
        }
    }

    @Override // android.view.ViewGroup
    public ViewGroup.LayoutParams generateLayoutParams(AttributeSet attributeSet) {
        return new ViewGroup.MarginLayoutParams(getContext(), attributeSet);
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/PreviewPageFrame.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.util.AttributeSet;
import android.view.accessibility.AccessibilityEvent;
import android.view.accessibility.AccessibilityNodeInfo;
import android.widget.CompoundButton;
import android.widget.LinearLayout;

/* loaded from: /content/classes1.dex */
public final class PreviewPageFrame extends LinearLayout {
    public PreviewPageFrame(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
    }

    @Override // android.widget.LinearLayout, android.view.ViewGroup, android.view.View
    public CharSequence getAccessibilityClassName() {
        return CompoundButton.class.getName();
    }

    @Override // android.view.View
    public void onInitializeAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
        super.onInitializeAccessibilityEvent(accessibilityEvent);
        accessibilityEvent.setChecked(isSelected());
    }

    @Override // android.view.View
    public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfo accessibilityNodeInfo) {
        super.onInitializeAccessibilityNodeInfo(accessibilityNodeInfo);
        accessibilityNodeInfo.setSelected(false);
        accessibilityNodeInfo.setCheckable(true);
        accessibilityNodeInfo.setChecked(isSelected());
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/EmbeddedContentContainer.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.util.AttributeSet;
import android.widget.FrameLayout;

/* loaded from: /content/classes1.dex */
public class EmbeddedContentContainer extends FrameLayout {
    private OnSizeChangeListener mSizeChangeListener;

    /* loaded from: /content/classes1.dex */
    public interface OnSizeChangeListener {
        void onSizeChanged(int i, int i2);
    }

    public EmbeddedContentContainer(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
    }

    public void setOnSizeChangeListener(OnSizeChangeListener onSizeChangeListener) {
        this.mSizeChangeListener = onSizeChangeListener;
    }

    @Override // android.view.View
    protected void onSizeChanged(int i, int i2, int i3, int i4) {
        super.onSizeChanged(i, i2, i3, i4);
        OnSizeChangeListener onSizeChangeListener = this.mSizeChangeListener;
        if (onSizeChangeListener != null) {
            onSizeChangeListener.onSizeChanged(i, i2);
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/PageContentView.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.print.PrintAttributes;
import android.util.AttributeSet;
import android.view.View;
import com.android.printspooler.model.PageContentRepository;

/* loaded from: /content/classes1.dex */
public class PageContentView extends View implements PageContentRepository.OnPageContentAvailableCallback {
    private boolean mContentRequested;
    private Drawable mEmptyState;
    private Drawable mErrorState;
    private boolean mIsFailed;
    private PrintAttributes.MediaSize mMediaSize;
    private PrintAttributes.Margins mMinMargins;
    private PageContentRepository.PageContentProvider mProvider;

    public PageContentView(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
    }

    @Override // android.view.View
    protected void onSizeChanged(int i, int i2, int i3, int i4) {
        this.mContentRequested = false;
        requestPageContentIfNeeded();
    }

    @Override // com.android.printspooler.model.PageContentRepository.OnPageContentAvailableCallback
    public void onPageContentAvailable(BitmapDrawable bitmapDrawable) {
        boolean z = bitmapDrawable == null;
        this.mIsFailed = z;
        if (z) {
            setBackground(this.mErrorState);
        } else {
            setBackground(bitmapDrawable);
        }
    }

    public PageContentRepository.PageContentProvider getPageContentProvider() {
        return this.mProvider;
    }

    public void init(PageContentRepository.PageContentProvider pageContentProvider, Drawable drawable, Drawable drawable2, PrintAttributes.MediaSize mediaSize, PrintAttributes.Margins margins) {
        PageContentRepository.PageContentProvider pageContentProvider2 = this.mProvider;
        boolean z = true;
        boolean z2 = pageContentProvider2 != null ? !pageContentProvider2.equals(pageContentProvider) : pageContentProvider != null;
        Drawable drawable3 = this.mEmptyState;
        boolean z3 = drawable3 != null ? !drawable3.equals(drawable) : drawable != null;
        PrintAttributes.MediaSize mediaSize2 = this.mMediaSize;
        boolean z4 = mediaSize2 != null ? !mediaSize2.equals(mediaSize) : mediaSize != null;
        PrintAttributes.Margins margins2 = this.mMinMargins;
        if (margins2 != null ? margins2.equals(margins) : margins == null) {
            z = false;
        }
        if (z2 || z4 || z || z3) {
            this.mIsFailed = false;
            this.mProvider = pageContentProvider;
            this.mMediaSize = mediaSize;
            this.mMinMargins = margins;
            this.mEmptyState = drawable;
            this.mErrorState = drawable2;
            this.mContentRequested = false;
            if (pageContentProvider == null) {
                setBackground(drawable);
            } else if (0 != 0) {
                setBackground(drawable2);
            }
            requestPageContentIfNeeded();
        }
    }

    private void requestPageContentIfNeeded() {
        PageContentRepository.PageContentProvider pageContentProvider;
        if (getWidth() <= 0 || getHeight() <= 0 || this.mContentRequested || (pageContentProvider = this.mProvider) == null) {
            return;
        }
        this.mContentRequested = true;
        pageContentProvider.getPageContent(new PageContentRepository.RenderSpec(getWidth(), getHeight(), this.mMediaSize, this.mMinMargins), this);
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/PrintContentView.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.support.v4.widget.ViewDragHelper;
import android.util.AttributeSet;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.inputmethod.InputMethodManager;

/* loaded from: /content/classes1.dex */
public final class PrintContentView extends ViewGroup implements View.OnClickListener {
    private int mClosedOptionsOffsetY;
    private int mCurrentOptionsOffsetY;
    private float mDragProgress;
    private View mDraggableContent;
    private final ViewDragHelper mDragger;
    private View mDynamicContent;
    private View mEmbeddedContentContainer;
    private View mEmbeddedContentScrim;
    private View mExpandCollapseHandle;
    private View mExpandCollapseIcon;
    private View mMoreOptionsButton;
    private int mOldDraggableHeight;
    private ViewGroup mOptionsContainer;
    private OptionsStateChangeListener mOptionsStateChangeListener;
    private OptionsStateController mOptionsStateController;
    private View mPrintButton;
    private final int mScrimColor;
    private View mStaticContent;
    private ViewGroup mSummaryContent;

    /* loaded from: /content/classes1.dex */
    public interface OptionsStateChangeListener {
        void onOptionsClosed();

        void onOptionsOpened();
    }

    /* loaded from: /content/classes1.dex */
    public interface OptionsStateController {
        boolean canCloseOptions();

        boolean canOpenOptions();
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public void focusableViewAvailable(View view) {
    }

    @Override // android.view.ViewGroup
    protected int getChildDrawingOrder(int i, int i2) {
        return (i - i2) - 1;
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public void requestDisallowInterceptTouchEvent(boolean z) {
    }

    static /* synthetic */ int access$412(PrintContentView printContentView, int i) {
        int i2 = printContentView.mCurrentOptionsOffsetY + i;
        printContentView.mCurrentOptionsOffsetY = i2;
        return i2;
    }

    public PrintContentView(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
        this.mCurrentOptionsOffsetY = Integer.MIN_VALUE;
        this.mDragger = ViewDragHelper.create(this, new DragCallbacks());
        this.mScrimColor = context.getColor(2130903045);
        setChildrenDrawingOrderEnabled(true);
    }

    public void setOptionsStateChangeListener(OptionsStateChangeListener optionsStateChangeListener) {
        this.mOptionsStateChangeListener = optionsStateChangeListener;
    }

    public void setOpenOptionsController(OptionsStateController optionsStateController) {
        this.mOptionsStateController = optionsStateController;
    }

    public boolean isOptionsOpened() {
        return this.mCurrentOptionsOffsetY == 0;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean isOptionsClosed() {
        return this.mCurrentOptionsOffsetY == this.mClosedOptionsOffsetY;
    }

    public void openOptions() {
        if (isOptionsOpened()) {
            return;
        }
        ViewDragHelper viewDragHelper = this.mDragger;
        View view = this.mDynamicContent;
        viewDragHelper.smoothSlideViewTo(view, view.getLeft(), getOpenedOptionsY());
        invalidate();
    }

    public void closeOptions() {
        if (isOptionsClosed()) {
            return;
        }
        ViewDragHelper viewDragHelper = this.mDragger;
        View view = this.mDynamicContent;
        viewDragHelper.smoothSlideViewTo(view, view.getLeft(), getClosedOptionsY());
        invalidate();
    }

    @Override // android.view.View
    protected void onFinishInflate() {
        this.mStaticContent = findViewById(2131099724);
        this.mSummaryContent = (ViewGroup) findViewById(2131099727);
        this.mDynamicContent = findViewById(2131099674);
        this.mDraggableContent = findViewById(2131099672);
        this.mPrintButton = findViewById(2131099717);
        this.mMoreOptionsButton = findViewById(2131099697);
        this.mOptionsContainer = (ViewGroup) findViewById(2131099703);
        this.mEmbeddedContentContainer = findViewById(2131099675);
        this.mEmbeddedContentScrim = findViewById(2131099676);
        this.mExpandCollapseHandle = findViewById(2131099680);
        this.mExpandCollapseIcon = findViewById(2131099681);
        this.mExpandCollapseHandle.setOnClickListener(this);
        this.mSummaryContent.setOnClickListener(this);
        onDragProgress(1.0f);
        setFocusableInTouchMode(true);
    }

    @Override // android.view.View.OnClickListener
    public void onClick(View view) {
        if (view == this.mExpandCollapseHandle || view == this.mSummaryContent) {
            if (isOptionsClosed() && this.mOptionsStateController.canOpenOptions()) {
                openOptions();
                return;
            } else {
                if (isOptionsOpened() && this.mOptionsStateController.canCloseOptions()) {
                    closeOptions();
                    return;
                }
                return;
            }
        }
        if (view == this.mEmbeddedContentScrim && isOptionsOpened() && this.mOptionsStateController.canCloseOptions()) {
            closeOptions();
        }
    }

    @Override // android.view.View
    public boolean onTouchEvent(MotionEvent motionEvent) {
        this.mDragger.processTouchEvent(motionEvent);
        return true;
    }

    @Override // android.view.ViewGroup
    public boolean onInterceptTouchEvent(MotionEvent motionEvent) {
        return this.mDragger.shouldInterceptTouchEvent(motionEvent) || super.onInterceptTouchEvent(motionEvent);
    }

    @Override // android.view.View
    public void computeScroll() {
        if (this.mDragger.continueSettling(true)) {
            postInvalidateOnAnimation();
        }
    }

    private int computeScrimColor() {
        return (((int) ((((-16777216) & r0) >>> 24) * (1.0f - this.mDragProgress))) << 24) | (this.mScrimColor & 16777215);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public int getOpenedOptionsY() {
        return this.mStaticContent.getBottom();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public int getClosedOptionsY() {
        return getOpenedOptionsY() + this.mClosedOptionsOffsetY;
    }

    @Override // android.view.View
    protected void onMeasure(int i, int i2) {
        boolean isOptionsOpened = isOptionsOpened();
        measureChild(this.mStaticContent, i, i2);
        if (this.mSummaryContent.getVisibility() != 8) {
            measureChild(this.mSummaryContent, i, i2);
        }
        measureChild(this.mDynamicContent, i, i2);
        measureChild(this.mPrintButton, i, i2);
        int measuredHeight = this.mSummaryContent.getMeasuredHeight() - this.mDraggableContent.getMeasuredHeight();
        this.mClosedOptionsOffsetY = measuredHeight;
        if (this.mCurrentOptionsOffsetY == Integer.MIN_VALUE) {
            this.mCurrentOptionsOffsetY = measuredHeight;
        }
        int size = View.MeasureSpec.getSize(i2);
        this.mEmbeddedContentContainer.getLayoutParams().height = (((size - this.mStaticContent.getMeasuredHeight()) - this.mSummaryContent.getMeasuredHeight()) - this.mDynamicContent.getMeasuredHeight()) + this.mDraggableContent.getMeasuredHeight();
        if (this.mOldDraggableHeight != this.mDraggableContent.getMeasuredHeight()) {
            if (this.mOldDraggableHeight != 0) {
                this.mCurrentOptionsOffsetY = isOptionsOpened ? 0 : this.mClosedOptionsOffsetY;
            }
            this.mOldDraggableHeight = this.mDraggableContent.getMeasuredHeight();
        }
        measureChild(this.mEmbeddedContentContainer, i, View.MeasureSpec.makeMeasureSpec(0, 0));
        setMeasuredDimension(ViewGroup.resolveSize(View.MeasureSpec.getSize(i), i), ViewGroup.resolveSize(size, i2));
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void onLayout(boolean z, int i, int i2, int i3, int i4) {
        int marginStart;
        View view = this.mStaticContent;
        view.layout(i, i2, i3, view.getMeasuredHeight());
        if (this.mSummaryContent.getVisibility() != 8) {
            this.mSummaryContent.layout(i, this.mStaticContent.getMeasuredHeight(), i3, this.mStaticContent.getMeasuredHeight() + this.mSummaryContent.getMeasuredHeight());
        }
        int measuredHeight = this.mStaticContent.getMeasuredHeight() + this.mCurrentOptionsOffsetY;
        int measuredHeight2 = this.mDynamicContent.getMeasuredHeight() + measuredHeight;
        this.mDynamicContent.layout(i, measuredHeight, i3, measuredHeight2);
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) this.mPrintButton.getLayoutParams();
        if (getLayoutDirection() == 0) {
            marginStart = (i3 - this.mPrintButton.getMeasuredWidth()) - marginLayoutParams.getMarginStart();
        } else {
            marginStart = i + marginLayoutParams.getMarginStart();
        }
        int measuredHeight3 = measuredHeight2 - (this.mPrintButton.getMeasuredHeight() / 2);
        this.mPrintButton.layout(marginStart, measuredHeight3, this.mPrintButton.getMeasuredWidth() + marginStart, this.mPrintButton.getMeasuredHeight() + measuredHeight3);
        int measuredHeight4 = this.mStaticContent.getMeasuredHeight() + this.mClosedOptionsOffsetY + this.mDynamicContent.getMeasuredHeight();
        this.mEmbeddedContentContainer.layout(i, measuredHeight4, i3, this.mEmbeddedContentContainer.getMeasuredHeight() + measuredHeight4);
    }

    @Override // android.view.ViewGroup
    public ViewGroup.LayoutParams generateLayoutParams(AttributeSet attributeSet) {
        return new ViewGroup.MarginLayoutParams(getContext(), attributeSet);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onDragProgress(float f) {
        if (Float.compare(this.mDragProgress, f) == 0) {
            return;
        }
        if ((this.mDragProgress == 0.0f && f > 0.0f) || (this.mDragProgress == 1.0f && f < 1.0f)) {
            this.mSummaryContent.setLayerType(2, null);
            this.mDraggableContent.setLayerType(2, null);
            this.mMoreOptionsButton.setLayerType(2, null);
            ensureImeClosedAndInputFocusCleared();
        }
        if ((this.mDragProgress > 0.0f && f == 0.0f) || (this.mDragProgress < 1.0f && f == 1.0f)) {
            this.mSummaryContent.setLayerType(0, null);
            this.mDraggableContent.setLayerType(0, null);
            this.mMoreOptionsButton.setLayerType(0, null);
            this.mMoreOptionsButton.setLayerType(0, null);
        }
        this.mDragProgress = f;
        this.mSummaryContent.setAlpha(f);
        float f2 = 1.0f - f;
        this.mOptionsContainer.setAlpha(f2);
        this.mMoreOptionsButton.setAlpha(f2);
        this.mEmbeddedContentScrim.setBackgroundColor(computeScrimColor());
        if (f == 0.0f) {
            OptionsStateChangeListener optionsStateChangeListener = this.mOptionsStateChangeListener;
            if (optionsStateChangeListener != null) {
                optionsStateChangeListener.onOptionsOpened();
            }
            this.mExpandCollapseHandle.setContentDescription(((ViewGroup) this).mContext.getString(2131427337));
            announceForAccessibility(((ViewGroup) this).mContext.getString(2131427380));
            this.mSummaryContent.setVisibility(8);
            this.mEmbeddedContentScrim.setOnClickListener(this);
            this.mExpandCollapseIcon.setBackgroundResource(2131034144);
        } else {
            this.mSummaryContent.setVisibility(0);
        }
        if (f == 1.0f) {
            OptionsStateChangeListener optionsStateChangeListener2 = this.mOptionsStateChangeListener;
            if (optionsStateChangeListener2 != null) {
                optionsStateChangeListener2.onOptionsClosed();
            }
            this.mExpandCollapseHandle.setContentDescription(((ViewGroup) this).mContext.getString(2131427344));
            announceForAccessibility(((ViewGroup) this).mContext.getString(2131427379));
            if (this.mMoreOptionsButton.getVisibility() != 8) {
                this.mMoreOptionsButton.setVisibility(4);
            }
            this.mDraggableContent.setVisibility(4);
            this.mEmbeddedContentScrim.setOnClickListener(null);
            this.mEmbeddedContentScrim.setClickable(false);
            this.mExpandCollapseIcon.setBackgroundResource(2131034145);
            return;
        }
        if (this.mMoreOptionsButton.getVisibility() != 8) {
            this.mMoreOptionsButton.setVisibility(0);
        }
        this.mDraggableContent.setVisibility(0);
    }

    private void ensureImeClosedAndInputFocusCleared() {
        View findFocus = findFocus();
        if (findFocus == null || !findFocus.isFocused()) {
            return;
        }
        InputMethodManager inputMethodManager = (InputMethodManager) ((ViewGroup) this).mContext.getSystemService("input_method");
        if (inputMethodManager.isActive(findFocus)) {
            inputMethodManager.hideSoftInputFromWindow(getWindowToken(), 0);
        }
        findFocus.clearFocus();
    }

    /* loaded from: /content/classes1.dex */
    private final class DragCallbacks extends ViewDragHelper.Callback {
        private DragCallbacks() {
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public boolean tryCaptureView(View view, int i) {
            return (!PrintContentView.this.isOptionsOpened() || PrintContentView.this.mOptionsStateController.canCloseOptions()) && (!PrintContentView.this.isOptionsClosed() || PrintContentView.this.mOptionsStateController.canOpenOptions()) && view == PrintContentView.this.mDynamicContent && i == 0;
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public void onViewPositionChanged(View view, int i, int i2, int i3, int i4) {
            if ((PrintContentView.this.isOptionsClosed() || PrintContentView.this.isOptionsClosed()) && i4 <= 0) {
                return;
            }
            PrintContentView.access$412(PrintContentView.this, i4);
            PrintContentView.this.mPrintButton.offsetTopAndBottom(i4);
            PrintContentView.this.mDraggableContent.notifySubtreeAccessibilityStateChangedIfNeeded();
            PrintContentView.this.onDragProgress((i2 - PrintContentView.this.getOpenedOptionsY()) / (PrintContentView.this.getClosedOptionsY() - PrintContentView.this.getOpenedOptionsY()));
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public void onViewReleased(View view, float f, float f2) {
            int top = view.getTop();
            int openedOptionsY = PrintContentView.this.getOpenedOptionsY();
            int closedOptionsY = PrintContentView.this.getClosedOptionsY();
            if (top == openedOptionsY || top == closedOptionsY) {
                return;
            }
            if (top < ((openedOptionsY - closedOptionsY) / 2) + closedOptionsY) {
                PrintContentView.this.mDragger.smoothSlideViewTo(view, view.getLeft(), closedOptionsY);
            } else {
                PrintContentView.this.mDragger.smoothSlideViewTo(view, view.getLeft(), openedOptionsY);
            }
            PrintContentView.this.invalidate();
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public int getOrderedChildIndex(int i) {
            return (PrintContentView.this.getChildCount() - i) - 1;
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public int getViewVerticalDragRange(View view) {
            return PrintContentView.this.mDraggableContent.getHeight();
        }

        @Override // android.support.v4.widget.ViewDragHelper.Callback
        public int clampViewPositionVertical(View view, int i, int i2) {
            PrintContentView.this.mStaticContent.getBottom();
            return Math.max(Math.min(i, PrintContentView.this.getOpenedOptionsY()), PrintContentView.this.getClosedOptionsY());
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/widget/ClickInterceptSpinner.java** ###

package com.android.printspooler.widget;

import android.content.Context;
import android.util.AttributeSet;
import android.view.View;
import android.widget.Spinner;

/* loaded from: /content/classes1.dex */
public class ClickInterceptSpinner extends Spinner {
    private View.OnClickListener mListener;

    public ClickInterceptSpinner(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
    }

    public void setPerformClickListener(View.OnClickListener onClickListener) {
        this.mListener = onClickListener;
    }

    @Override // android.widget.Spinner, android.view.View
    public boolean performClick() {
        View.OnClickListener onClickListener = this.mListener;
        if (onClickListener != null) {
            onClickListener.onClick(this);
        }
        return super.performClick();
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PageAdapter.java** ###

package com.android.printspooler.ui;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.drawable.BitmapDrawable;
import android.os.Handler;
import android.os.Looper;
import android.os.ParcelFileDescriptor;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.support.v7.widget.RecyclerView;
import android.util.Log;
import android.util.SparseArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import com.android.printspooler.model.OpenDocumentCallback;
import com.android.printspooler.model.PageContentRepository;
import com.android.printspooler.util.PageRangeUtils;
import com.android.printspooler.widget.PageContentView;
import com.android.printspooler.widget.PreviewPageFrame;
import dalvik.system.CloseGuard;
import java.util.ArrayList;
import java.util.Arrays;

/* loaded from: /content/classes1.dex */
public final class PageAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> {
    private static final PageRange[] ALL_PAGES_ARRAY = {PageRange.ALL_PAGES};
    private final ContentCallbacks mCallbacks;
    private int mColumnCount;
    private final Context mContext;
    private BitmapDrawable mEmptyState;
    private BitmapDrawable mErrorState;
    private int mFooterHeight;
    private final LayoutInflater mLayoutInflater;
    private PrintAttributes.MediaSize mMediaSize;
    private PrintAttributes.Margins mMinMargins;
    private int mPageContentHeight;
    private final PageContentRepository mPageContentRepository;
    private int mPageContentWidth;
    private final PreviewArea mPreviewArea;
    private int mPreviewListPadding;
    private int mPreviewPageMargin;
    private int mPreviewPageMinWidth;
    private PageRange[] mRequestedPages;
    private int mSelectedPageCount;
    private PageRange[] mSelectedPages;
    private int mState;
    private PageRange[] mWrittenPages;
    private final CloseGuard mCloseGuard = CloseGuard.get();
    private final SparseArray<Void> mBoundPagesInAdapter = new SparseArray<>();
    private final SparseArray<Void> mConfirmedPagesInDocument = new SparseArray<>();
    private final PageClickListener mPageClickListener = new PageClickListener();
    private int mDocumentPageCount = -1;

    /* loaded from: /content/classes1.dex */
    public interface ContentCallbacks {
        void onMalformedPdfFile();

        void onRequestContentUpdate();

        void onSecurePdfFile();
    }

    /* loaded from: /content/classes1.dex */
    public interface PreviewArea {
        int getHeight();

        int getWidth();

        void setColumnCount(int i);

        void setPadding(int i, int i2, int i3, int i4);
    }

    public PageAdapter(Context context, ContentCallbacks contentCallbacks, PreviewArea previewArea) {
        this.mContext = context;
        this.mCallbacks = contentCallbacks;
        this.mLayoutInflater = (LayoutInflater) context.getSystemService("layout_inflater");
        this.mPageContentRepository = new PageContentRepository(context);
        this.mPreviewPageMargin = this.mContext.getResources().getDimensionPixelSize(2130968608);
        this.mPreviewPageMinWidth = this.mContext.getResources().getDimensionPixelSize(2130968609);
        this.mPreviewListPadding = this.mContext.getResources().getDimensionPixelSize(2130968606);
        this.mColumnCount = this.mContext.getResources().getInteger(2131165187);
        this.mFooterHeight = this.mContext.getResources().getDimensionPixelSize(2130968607);
        this.mPreviewArea = previewArea;
        this.mCloseGuard.open("destroy");
        setHasStableIds(true);
        this.mState = 0;
        Log.i("PageAdapter", "STATE_CLOSED");
    }

    public void onOrientationChanged() {
        this.mColumnCount = this.mContext.getResources().getInteger(2131165187);
        notifyDataSetChanged();
    }

    public boolean isOpened() {
        return this.mState == 1;
    }

    public int getFilePageCount() {
        return this.mPageContentRepository.getFilePageCount();
    }

    public void open(ParcelFileDescriptor parcelFileDescriptor, final Runnable runnable) {
        throwIfNotClosed();
        this.mState = 1;
        Log.i("PageAdapter", "STATE_OPENED");
        this.mPageContentRepository.open(parcelFileDescriptor, new OpenDocumentCallback() { // from class: com.android.printspooler.ui.PageAdapter.1
            @Override // com.android.printspooler.model.OpenDocumentCallback
            public void onSuccess() {
                PageAdapter.this.notifyDataSetChanged();
                runnable.run();
            }

            @Override // com.android.printspooler.model.OpenDocumentCallback
            public void onFailure(int i) {
                if (i == -2) {
                    PageAdapter.this.mCallbacks.onSecurePdfFile();
                } else {
                    if (i != -1) {
                        return;
                    }
                    PageAdapter.this.mCallbacks.onMalformedPdfFile();
                }
            }
        });
    }

    /* JADX WARN: Removed duplicated region for block: B:28:0x0072  */
    /* JADX WARN: Removed duplicated region for block: B:35:0x0088  */
    /* JADX WARN: Removed duplicated region for block: B:37:0x008d  */
    /* JADX WARN: Removed duplicated region for block: B:39:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void update(android.print.PageRange[] r6, android.print.PageRange[] r7, int r8, android.print.PrintAttributes.MediaSize r9, android.print.PrintAttributes.Margins r10) {
        /*
            r5 = this;
            r0 = -1
            if (r8 != r0) goto L22
            if (r6 != 0) goto L19
            android.print.PageRange[] r6 = com.android.printspooler.ui.PageAdapter.ALL_PAGES_ARRAY
            android.print.PageRange[] r7 = r5.mRequestedPages
            boolean r6 = java.util.Arrays.equals(r6, r7)
            if (r6 != 0) goto L18
            android.print.PageRange[] r6 = com.android.printspooler.ui.PageAdapter.ALL_PAGES_ARRAY
            r5.mRequestedPages = r6
            com.android.printspooler.ui.PageAdapter$ContentCallbacks r5 = r5.mCallbacks
            r5.onRequestContentUpdate()
        L18:
            return
        L19:
            com.android.printspooler.model.PageContentRepository r8 = r5.mPageContentRepository
            int r8 = r8.getFilePageCount()
            if (r8 > 0) goto L22
            return
        L22:
            int r0 = r5.mDocumentPageCount
            r1 = 0
            r2 = 1
            if (r0 == r8) goto L2c
            r5.mDocumentPageCount = r8
            r0 = r2
            goto L2d
        L2c:
            r0 = r1
        L2d:
            r3 = r0
            android.print.PrintAttributes$MediaSize r4 = r5.mMediaSize
            if (r4 == 0) goto L38
            boolean r4 = r4.equals(r9)
            if (r4 != 0) goto L3d
        L38:
            r5.mMediaSize = r9
            r0 = r2
            r1 = r0
            r3 = r1
        L3d:
            android.print.PrintAttributes$Margins r9 = r5.mMinMargins
            if (r9 == 0) goto L47
            boolean r9 = r9.equals(r10)
            if (r9 != 0) goto L4c
        L47:
            r5.mMinMargins = r10
            r0 = r2
            r1 = r0
            r3 = r1
        L4c:
            if (r0 == 0) goto L5a
            android.print.PageRange[] r7 = android.print.PageRange.ALL_PAGES_ARRAY
            r5.mSelectedPages = r7
            r5.mSelectedPageCount = r8
            r5.setConfirmedPages(r7, r8)
        L57:
            r1 = r2
            r3 = r1
            goto L70
        L5a:
            android.print.PageRange[] r9 = r5.mSelectedPages
            boolean r9 = java.util.Arrays.equals(r9, r7)
            if (r9 != 0) goto L70
            r5.mSelectedPages = r7
            int r7 = com.android.printspooler.util.PageRangeUtils.getNormalizedPageCount(r7, r8)
            r5.mSelectedPageCount = r7
            android.print.PageRange[] r7 = r5.mSelectedPages
            r5.setConfirmedPages(r7, r8)
            goto L57
        L70:
            if (r6 == 0) goto L85
            boolean r7 = com.android.printspooler.util.PageRangeUtils.isAllPages(r6)
            if (r7 == 0) goto L7a
            android.print.PageRange[] r6 = r5.mRequestedPages
        L7a:
            android.print.PageRange[] r7 = r5.mWrittenPages
            boolean r7 = java.util.Arrays.equals(r7, r6)
            if (r7 != 0) goto L85
            r5.mWrittenPages = r6
            goto L86
        L85:
            r2 = r3
        L86:
            if (r1 == 0) goto L8b
            r5.updatePreviewAreaPageSizeAndEmptyState()
        L8b:
            if (r2 == 0) goto L90
            r5.notifyDataSetChanged()
        L90:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.ui.PageAdapter.update(android.print.PageRange[], android.print.PageRange[], int, android.print.PrintAttributes$MediaSize, android.print.PrintAttributes$Margins):void");
    }

    public void close(Runnable runnable) {
        throwIfNotOpened();
        this.mState = 0;
        Log.i("PageAdapter", "STATE_CLOSED");
        this.mPageContentRepository.close(runnable);
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
        View inflate;
        if (i == 0) {
            inflate = this.mLayoutInflater.inflate(2131230745, viewGroup, false);
        } else {
            inflate = this.mLayoutInflater.inflate(2131230742, viewGroup, false);
        }
        return new MyViewHolder(inflate);
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int i) {
        PageContentRepository.PageContentProvider pageContentProvider;
        Log.i("PageAdapter", "Binding holder: " + viewHolder + " with id: " + getItemId(i) + " for position: " + i);
        PreviewPageFrame previewPageFrame = (PreviewPageFrame) viewHolder.itemView;
        previewPageFrame.setOnClickListener(this.mPageClickListener);
        previewPageFrame.setTag(viewHolder);
        ((MyViewHolder) viewHolder).mPageInAdapter = i;
        int computePageIndexInDocument = computePageIndexInDocument(i);
        int computePageIndexInFile = computePageIndexInFile(computePageIndexInDocument);
        PageContentView pageContentView = (PageContentView) previewPageFrame.findViewById(2131099706);
        ViewGroup.LayoutParams layoutParams = pageContentView.getLayoutParams();
        layoutParams.width = this.mPageContentWidth;
        layoutParams.height = this.mPageContentHeight;
        PageContentRepository.PageContentProvider pageContentProvider2 = pageContentView.getPageContentProvider();
        if (computePageIndexInFile != -1) {
            Log.i("PageAdapter", "Binding provider: pageIndexInAdapter: " + i + ", pageInDocument: " + computePageIndexInDocument + ", pageIndexInFile: " + computePageIndexInFile);
            PageContentRepository.PageContentProvider acquirePageContentProvider = this.mPageContentRepository.acquirePageContentProvider(computePageIndexInFile, pageContentView);
            this.mBoundPagesInAdapter.put(i, null);
            pageContentProvider = acquirePageContentProvider;
        } else {
            onSelectedPageNotInFile(computePageIndexInDocument);
            pageContentProvider = pageContentProvider2;
        }
        pageContentView.init(pageContentProvider, this.mEmptyState, this.mErrorState, this.mMediaSize, this.mMinMargins);
        if (this.mConfirmedPagesInDocument.indexOfKey(computePageIndexInDocument) >= 0) {
            previewPageFrame.setSelected(true);
        } else {
            previewPageFrame.setSelected(false);
        }
        int i2 = computePageIndexInDocument + 1;
        previewPageFrame.setContentDescription(this.mContext.getString(2131427367, Integer.valueOf(i2), Integer.valueOf(this.mDocumentPageCount)));
        ((TextView) previewPageFrame.findViewById(2131099709)).setText(this.mContext.getString(2131427339, Integer.valueOf(i2), Integer.valueOf(this.mDocumentPageCount)));
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public int getItemCount() {
        return this.mSelectedPageCount;
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public int getItemViewType(int i) {
        return this.mConfirmedPagesInDocument.indexOfKey(computePageIndexInDocument(i)) >= 0 ? 0 : 1;
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public long getItemId(int i) {
        return computePageIndexInDocument(i);
    }

    @Override // android.support.v7.widget.RecyclerView.Adapter
    public void onViewRecycled(RecyclerView.ViewHolder viewHolder) {
        MyViewHolder myViewHolder = (MyViewHolder) viewHolder;
        recyclePageView((PageContentView) viewHolder.itemView.findViewById(2131099706), myViewHolder.mPageInAdapter);
        myViewHolder.mPageInAdapter = -1;
    }

    public PageRange[] getRequestedPages() {
        return this.mRequestedPages;
    }

    public PageRange[] getSelectedPages() {
        PageRange[] computeSelectedPages = computeSelectedPages();
        if (!Arrays.equals(this.mSelectedPages, computeSelectedPages)) {
            this.mSelectedPages = computeSelectedPages;
            this.mSelectedPageCount = PageRangeUtils.getNormalizedPageCount(computeSelectedPages, this.mDocumentPageCount);
            updatePreviewAreaPageSizeAndEmptyState();
            notifyDataSetChanged();
        }
        return this.mSelectedPages;
    }

    public void onPreviewAreaSizeChanged() {
        if (this.mMediaSize != null) {
            updatePreviewAreaPageSizeAndEmptyState();
            notifyDataSetChanged();
        }
    }

    private void updatePreviewAreaPageSizeAndEmptyState() {
        int max;
        int i;
        if (this.mMediaSize == null) {
            return;
        }
        int width = this.mPreviewArea.getWidth();
        int height = this.mPreviewArea.getHeight();
        float widthMils = this.mMediaSize.getWidthMils() / this.mMediaSize.getHeightMils();
        int min = Math.min(this.mSelectedPageCount, this.mColumnCount);
        this.mPreviewArea.setColumnCount(min);
        int i2 = this.mPreviewPageMargin;
        int i3 = min * 2 * i2;
        int min2 = Math.min((int) ((((int) (((width - ((r6 * 2) + i3)) / min) + 0.5f)) / widthMils) + 0.5f), Math.max((int) ((this.mPreviewPageMinWidth / widthMils) + 0.5f), (height - ((this.mPreviewListPadding + i2) * 2)) - this.mFooterHeight));
        this.mPageContentHeight = min2;
        int i4 = (int) ((min2 * widthMils) + 0.5f);
        this.mPageContentWidth = i4;
        int i5 = (width - ((i4 * min) + i3)) / 2;
        int i6 = this.mSelectedPageCount;
        int i7 = (i6 / min) + (i6 % min > 0 ? 1 : 0);
        int i8 = this.mPageContentHeight;
        int i9 = this.mFooterHeight;
        int i10 = this.mPreviewPageMargin;
        int i11 = i7 * (i8 + i9 + (i10 * 2));
        int i12 = this.mPreviewListPadding;
        if (i8 + i9 + i12 + (i10 * 2) > height) {
            max = Math.max(0, (((height - i8) - i9) / 2) - i10);
        } else {
            max = Math.max(i12, (height - i11) / 2);
        }
        this.mPreviewArea.setPadding(i5, max, i5, max);
        LayoutInflater from = LayoutInflater.from(this.mContext);
        View inflate = from.inflate(2131230744, (ViewGroup) null, false);
        inflate.measure(View.MeasureSpec.makeMeasureSpec(this.mPageContentWidth, 1073741824), View.MeasureSpec.makeMeasureSpec(this.mPageContentHeight, 1073741824));
        inflate.layout(0, 0, inflate.getMeasuredWidth(), inflate.getMeasuredHeight());
        int i13 = this.mPageContentHeight;
        if (i13 <= 0 || (i = this.mPageContentWidth) <= 0) {
            Log.w("PageAdapter", "Unable to create bitmap, height or width smaller than 0!");
            return;
        }
        Bitmap createBitmap = Bitmap.createBitmap(i, i13, Bitmap.Config.ARGB_8888);
        inflate.draw(new Canvas(createBitmap));
        this.mEmptyState = new BitmapDrawable(this.mContext.getResources(), createBitmap);
        View inflate2 = from.inflate(2131230743, (ViewGroup) null, false);
        inflate2.measure(View.MeasureSpec.makeMeasureSpec(this.mPageContentWidth, 1073741824), View.MeasureSpec.makeMeasureSpec(this.mPageContentHeight, 1073741824));
        inflate2.layout(0, 0, inflate2.getMeasuredWidth(), inflate2.getMeasuredHeight());
        Bitmap createBitmap2 = Bitmap.createBitmap(this.mPageContentWidth, this.mPageContentHeight, Bitmap.Config.ARGB_8888);
        inflate2.draw(new Canvas(createBitmap2));
        this.mErrorState = new BitmapDrawable(this.mContext.getResources(), createBitmap2);
    }

    private PageRange[] computeSelectedPages() {
        ArrayList arrayList = new ArrayList();
        int size = this.mConfirmedPagesInDocument.size();
        int i = 0;
        int i2 = -1;
        int i3 = -1;
        while (i < size) {
            int keyAt = this.mConfirmedPagesInDocument.keyAt(i);
            if (i2 == -1) {
                i2 = keyAt;
                i3 = i2;
            }
            if (i3 + 1 < keyAt) {
                arrayList.add(new PageRange(i2, i3));
                i2 = keyAt;
            }
            i++;
            i3 = keyAt;
        }
        if (i2 != -1 && i3 != -1) {
            arrayList.add(new PageRange(i2, i3));
        }
        PageRange[] pageRangeArr = new PageRange[arrayList.size()];
        arrayList.toArray(pageRangeArr);
        return pageRangeArr;
    }

    public void destroy(Runnable runnable) {
        this.mCloseGuard.close();
        this.mState = 2;
        Log.i("PageAdapter", "STATE_DESTROYED");
        this.mPageContentRepository.destroy(runnable);
    }

    protected void finalize() throws Throwable {
        try {
            if (this.mCloseGuard != null) {
                this.mCloseGuard.warnIfOpen();
            }
            if (this.mState != 2) {
                destroy(null);
            }
        } finally {
            super.finalize();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public int computePageIndexInDocument(int i) {
        int length = this.mSelectedPages.length;
        int i2 = 0;
        for (int i3 = 0; i3 < length; i3++) {
            PageRange asAbsoluteRange = PageRangeUtils.asAbsoluteRange(this.mSelectedPages[i3], this.mDocumentPageCount);
            i2 += asAbsoluteRange.getSize();
            if (i2 > i) {
                return asAbsoluteRange.getEnd() - ((i2 - i) - 1);
            }
        }
        return -1;
    }

    private int computePageIndexInFile(int i) {
        PageRange[] pageRangeArr;
        if (!PageRangeUtils.contains(this.mSelectedPages, i) || (pageRangeArr = this.mWrittenPages) == null) {
            return -1;
        }
        int length = pageRangeArr.length;
        int i2 = -1;
        for (int i3 = 0; i3 < length; i3++) {
            PageRange pageRange = this.mWrittenPages[i3];
            if (!pageRange.contains(i)) {
                i2 += pageRange.getSize();
            } else {
                return i2 + (i - pageRange.getStart()) + 1;
            }
        }
        return -1;
    }

    private void setConfirmedPages(PageRange[] pageRangeArr, int i) {
        this.mConfirmedPagesInDocument.clear();
        for (PageRange pageRange : pageRangeArr) {
            PageRange asAbsoluteRange = PageRangeUtils.asAbsoluteRange(pageRange, i);
            for (int start = asAbsoluteRange.getStart(); start <= asAbsoluteRange.getEnd(); start++) {
                this.mConfirmedPagesInDocument.put(start, null);
            }
        }
    }

    private void onSelectedPageNotInFile(int i) {
        PageRange[] computeRequestedPages = computeRequestedPages(i);
        if (Arrays.equals(this.mRequestedPages, computeRequestedPages)) {
            return;
        }
        this.mRequestedPages = computeRequestedPages;
        Log.i("PageAdapter", "Requesting pages: " + Arrays.toString(this.mRequestedPages));
        new Handler(Looper.getMainLooper()).post(new Runnable() { // from class: com.android.printspooler.ui.PageAdapter.2
            @Override // java.lang.Runnable
            public void run() {
                PageAdapter.this.mCallbacks.onRequestContentUpdate();
            }
        });
    }

    private PageRange[] computeRequestedPages(int i) {
        int i2;
        PageRange pageRange;
        int i3;
        PageRange pageRange2;
        PageRange[] pageRangeArr = this.mRequestedPages;
        if (pageRangeArr != null && PageRangeUtils.contains(pageRangeArr, i)) {
            return this.mRequestedPages;
        }
        ArrayList arrayList = new ArrayList();
        int length = this.mSelectedPages.length;
        PageRange[] computeBoundPagesInDocument = computeBoundPagesInDocument();
        for (PageRange pageRange3 : computeBoundPagesInDocument) {
            arrayList.add(pageRange3);
        }
        int normalizedPageCount = 50 - PageRangeUtils.getNormalizedPageCount(computeBoundPagesInDocument, this.mDocumentPageCount);
        PageRange[] pageRangeArr2 = this.mRequestedPages;
        if (!(pageRangeArr2 == null || i > pageRangeArr2[pageRangeArr2.length - 1].getEnd())) {
            Log.i("PageAdapter", "Requesting from end");
            for (int i4 = length - 1; i4 >= 0 && normalizedPageCount > 0; i4--) {
                PageRange asAbsoluteRange = PageRangeUtils.asAbsoluteRange(this.mSelectedPages[i4], this.mDocumentPageCount);
                if (i >= asAbsoluteRange.getStart()) {
                    if (asAbsoluteRange.contains(i)) {
                        int min = Math.min((i - asAbsoluteRange.getStart()) + 1, normalizedPageCount);
                        int max = Math.max((i - min) - 1, 0);
                        i3 = Math.max(min, 0);
                        pageRange2 = new PageRange(max, i);
                    } else {
                        int max2 = Math.max(Math.min(asAbsoluteRange.getSize(), normalizedPageCount), 0);
                        PageRange pageRange4 = new PageRange(Math.max((asAbsoluteRange.getEnd() - max2) - 1, 0), asAbsoluteRange.getEnd());
                        i3 = max2;
                        pageRange2 = pageRange4;
                    }
                    arrayList.add(pageRange2);
                    normalizedPageCount -= i3;
                }
            }
        } else {
            Log.i("PageAdapter", "Requesting from start");
            for (int i5 = 0; i5 < length && normalizedPageCount > 0; i5++) {
                PageRange asAbsoluteRange2 = PageRangeUtils.asAbsoluteRange(this.mSelectedPages[i5], this.mDocumentPageCount);
                if (i <= asAbsoluteRange2.getEnd()) {
                    if (asAbsoluteRange2.contains(i)) {
                        i2 = Math.min((asAbsoluteRange2.getEnd() - i) + 1, normalizedPageCount);
                        pageRange = new PageRange(i, Math.min((i + i2) - 1, this.mDocumentPageCount - 1));
                    } else {
                        int min2 = Math.min(asAbsoluteRange2.getSize(), normalizedPageCount);
                        PageRange pageRange5 = new PageRange(asAbsoluteRange2.getStart(), Math.min((asAbsoluteRange2.getStart() + min2) - 1, this.mDocumentPageCount - 1));
                        i2 = min2;
                        pageRange = pageRange5;
                    }
                    Log.i("PageAdapter", "computeRequestedPages() Adding range:" + pageRange);
                    arrayList.add(pageRange);
                    normalizedPageCount -= i2;
                }
            }
        }
        PageRange[] pageRangeArr3 = new PageRange[arrayList.size()];
        arrayList.toArray(pageRangeArr3);
        return PageRangeUtils.normalize(pageRangeArr3);
    }

    private PageRange[] computeBoundPagesInDocument() {
        ArrayList arrayList = new ArrayList();
        int size = this.mBoundPagesInAdapter.size();
        int i = 0;
        int i2 = -1;
        int i3 = -1;
        while (i < size) {
            int computePageIndexInDocument = computePageIndexInDocument(this.mBoundPagesInAdapter.keyAt(i));
            if (i2 == -1) {
                i2 = computePageIndexInDocument;
            }
            if (i3 == -1) {
                i3 = computePageIndexInDocument;
            }
            if (computePageIndexInDocument > i3 + 1) {
                arrayList.add(new PageRange(i2, i3));
                i2 = computePageIndexInDocument;
            }
            i++;
            i3 = computePageIndexInDocument;
        }
        if (i2 != -1 && i3 != -1) {
            arrayList.add(new PageRange(i2, i3));
        }
        PageRange[] pageRangeArr = new PageRange[arrayList.size()];
        arrayList.toArray(pageRangeArr);
        Log.i("PageAdapter", "Bound pages: " + Arrays.toString(pageRangeArr));
        return pageRangeArr;
    }

    private void recyclePageView(PageContentView pageContentView, int i) {
        PageContentRepository.PageContentProvider pageContentProvider = pageContentView.getPageContentProvider();
        if (pageContentProvider != null) {
            pageContentView.init(null, this.mEmptyState, this.mErrorState, this.mMediaSize, this.mMinMargins);
            this.mPageContentRepository.releasePageContentProvider(pageContentProvider);
        }
        this.mBoundPagesInAdapter.remove(i);
        pageContentView.setTag(null);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void startPreloadContent(PageRange pageRange) {
        int computePageIndexInDocument = computePageIndexInDocument(pageRange.getStart());
        int computePageIndexInDocument2 = computePageIndexInDocument(pageRange.getEnd());
        if (computePageIndexInDocument == -1 || computePageIndexInDocument2 == -1) {
            return;
        }
        this.mPageContentRepository.startPreload(new PageRange(computePageIndexInDocument, computePageIndexInDocument2), this.mSelectedPages, this.mWrittenPages);
    }

    public void stopPreloadContent() {
        this.mPageContentRepository.stopPreload();
    }

    private void throwIfNotOpened() {
        if (this.mState != 1) {
            throw new IllegalStateException("Not opened");
        }
    }

    private void throwIfNotClosed() {
        if (this.mState != 0) {
            throw new IllegalStateException("Not closed");
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class MyViewHolder extends RecyclerView.ViewHolder {
        int mPageInAdapter;

        private MyViewHolder(View view) {
            super(view);
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class PageClickListener implements View.OnClickListener {
        private PageClickListener() {
        }

        @Override // android.view.View.OnClickListener
        public void onClick(View view) {
            int i = ((MyViewHolder) ((PreviewPageFrame) view).getTag()).mPageInAdapter;
            int computePageIndexInDocument = PageAdapter.this.computePageIndexInDocument(i);
            if (PageAdapter.this.mConfirmedPagesInDocument.indexOfKey(computePageIndexInDocument) < 0) {
                PageAdapter.this.mConfirmedPagesInDocument.put(computePageIndexInDocument, null);
            } else if (PageAdapter.this.mConfirmedPagesInDocument.size() <= 1) {
                return;
            } else {
                PageAdapter.this.mConfirmedPagesInDocument.remove(computePageIndexInDocument);
            }
            PageAdapter.this.notifyItemChanged(i);
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PrinterRegistry.java** ###

package com.android.printspooler.ui;

import android.app.Activity;
import android.app.LoaderManager;
import android.content.Loader;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.print.PrinterId;
import android.print.PrinterInfo;
import java.util.ArrayList;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class PrinterRegistry {
    private final Activity mActivity;
    private final Handler mHandler;
    private final int mLoaderId;
    private OnPrintersChangeListener mOnPrintersChangeListener;
    private boolean mReady;
    private final Runnable mReadyCallback;
    private final List<PrinterInfo> mPrinters = new ArrayList();
    private final LoaderManager.LoaderCallbacks<List<PrinterInfo>> mLoaderCallbacks = new LoaderManager.LoaderCallbacks<List<PrinterInfo>>() { // from class: com.android.printspooler.ui.PrinterRegistry.1
        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoaderReset(Loader<List<PrinterInfo>> loader) {
            PrinterRegistry.this.mPrinters.clear();
            PrinterRegistry.this.mHandler.obtainMessage(1).sendToTarget();
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoadFinished(Loader<List<PrinterInfo>> loader, List<PrinterInfo> list) {
            PrinterRegistry.this.mPrinters.clear();
            PrinterRegistry.this.mPrinters.addAll(list);
            PrinterRegistry.this.mHandler.obtainMessage(0, list).sendToTarget();
            if (PrinterRegistry.this.mReady) {
                return;
            }
            PrinterRegistry.this.mReady = true;
            if (PrinterRegistry.this.mReadyCallback != null) {
                PrinterRegistry.this.mReadyCallback.run();
            }
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public Loader<List<PrinterInfo>> onCreateLoader(int i, Bundle bundle) {
            return new FusedPrintersProvider(PrinterRegistry.this.mActivity, bundle.getInt(null));
        }
    };

    /* loaded from: /content/classes1.dex */
    public interface OnPrintersChangeListener {
        void onPrintersChanged(List<PrinterInfo> list);

        void onPrintersInvalid();
    }

    public PrinterRegistry(Activity activity, Runnable runnable, int i, int i2) {
        this.mLoaderId = i;
        this.mActivity = activity;
        this.mReadyCallback = runnable;
        this.mHandler = new MyHandler(activity.getMainLooper());
        Bundle bundle = new Bundle(1);
        bundle.putInt(null, i2);
        activity.getLoaderManager().initLoader(i, bundle, this.mLoaderCallbacks);
    }

    public void setOnPrintersChangeListener(OnPrintersChangeListener onPrintersChangeListener) {
        this.mOnPrintersChangeListener = onPrintersChangeListener;
    }

    public List<PrinterInfo> getPrinters() {
        return this.mPrinters;
    }

    public void addHistoricalPrinter(PrinterInfo printerInfo) {
        if (getPrinterProvider() != null) {
            getPrinterProvider().addHistoricalPrinter(printerInfo);
        }
    }

    public void forgetFavoritePrinter(PrinterId printerId) {
        FusedPrintersProvider printerProvider = getPrinterProvider();
        if (printerProvider != null) {
            printerProvider.forgetFavoritePrinter(printerId);
        }
    }

    public boolean isFavoritePrinter(PrinterId printerId) {
        FusedPrintersProvider printerProvider = getPrinterProvider();
        if (printerProvider != null) {
            return printerProvider.isFavoritePrinter(printerId);
        }
        return false;
    }

    public void setTrackedPrinter(PrinterId printerId) {
        FusedPrintersProvider printerProvider = getPrinterProvider();
        if (printerProvider != null) {
            printerProvider.setTrackedPrinter(printerId);
        }
    }

    public boolean areHistoricalPrintersLoaded() {
        if (getPrinterProvider() != null) {
            return getPrinterProvider().areHistoricalPrintersLoaded();
        }
        return false;
    }

    private FusedPrintersProvider getPrinterProvider() {
        return (FusedPrintersProvider) this.mActivity.getLoaderManager().getLoader(this.mLoaderId);
    }

    /* loaded from: /content/classes1.dex */
    private final class MyHandler extends Handler {
        public MyHandler(Looper looper) {
            super(looper, null, false);
        }

        @Override // android.os.Handler
        public void handleMessage(Message message) {
            int i = message.what;
            if (i != 0) {
                if (i == 1 && PrinterRegistry.this.mOnPrintersChangeListener != null) {
                    PrinterRegistry.this.mOnPrintersChangeListener.onPrintersInvalid();
                    return;
                }
                return;
            }
            List<PrinterInfo> list = (List) message.obj;
            if (PrinterRegistry.this.mOnPrintersChangeListener != null) {
                PrinterRegistry.this.mOnPrintersChangeListener.onPrintersChanged(list);
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PrintActivity.java** ###

package com.android.printspooler.ui;

import android.R;
import android.app.Activity;
import android.app.AlertDialog;
import android.app.Dialog;
import android.app.DialogFragment;
import android.app.Fragment;
import android.app.FragmentTransaction;
import android.app.LoaderManager;
import android.content.ActivityNotFoundException;
import android.content.ComponentName;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.Loader;
import android.content.ServiceConnection;
import android.content.SharedPreferences;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.content.res.Configuration;
import android.database.DataSetObserver;
import android.graphics.drawable.Drawable;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.os.IBinder;
import android.os.RemoteException;
import android.os.UserManager;
import android.print.IPrintDocumentAdapter;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.print.PrintDocumentInfo;
import android.print.PrintJobInfo;
import android.print.PrintManager;
import android.print.PrintServicesLoader;
import android.print.PrinterCapabilitiesInfo;
import android.print.PrinterId;
import android.print.PrinterInfo;
import android.printservice.PrintServiceInfo;
import android.text.Editable;
import android.text.TextUtils;
import android.text.TextWatcher;
import android.util.ArrayMap;
import android.util.ArraySet;
import android.util.Log;
import android.util.TypedValue;
import android.view.KeyEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.inputmethod.InputMethodManager;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.BaseAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.Spinner;
import android.widget.SpinnerAdapter;
import android.widget.TextView;
import android.widget.Toast;
import com.android.internal.logging.MetricsLogger;
import com.android.printspooler.model.MutexFileProvider;
import com.android.printspooler.model.PrintSpoolerProvider;
import com.android.printspooler.model.PrintSpoolerService;
import com.android.printspooler.model.RemotePrintDocument;
import com.android.printspooler.renderer.IPdfEditor;
import com.android.printspooler.renderer.PdfManipulationService;
import com.android.printspooler.ui.PageAdapter;
import com.android.printspooler.ui.PrintErrorFragment;
import com.android.printspooler.ui.PrinterRegistry;
import com.android.printspooler.util.ApprovedPrintServices;
import com.android.printspooler.util.MediaSizeUtils;
import com.android.printspooler.util.PageRangeUtils;
import com.android.printspooler.widget.ClickInterceptSpinner;
import com.android.printspooler.widget.PrintContentView;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Collections;
import java.util.Formatter;
import java.util.Iterator;
import java.util.List;
import java.util.Objects;
import java.util.function.Consumer;

/* loaded from: /content/classes1.dex */
public class PrintActivity extends Activity implements RemotePrintDocument.UpdateResultCallbacks, PrintErrorFragment.OnActionListener, PageAdapter.ContentCallbacks, PrintContentView.OptionsStateChangeListener, PrintContentView.OptionsStateController, LoaderManager.LoaderCallbacks<List<PrintServiceInfo>> {
    private ComponentName mAdvancedPrintOptionsActivity;
    private boolean mArePrintServicesEnabled;
    private String mCallingPackageName;
    private Spinner mColorModeSpinner;
    private ArrayAdapter<SpinnerItem<Integer>> mColorModeSpinnerAdapter;
    private Context mContext;
    private EditText mCopiesEditText;
    private int mCurrentPageCount;
    private PrinterInfo mCurrentPrinter;
    private PrinterId mDefaultPrinter;
    private ClickInterceptSpinner mDestinationSpinner;
    private DestinationAdapter mDestinationSpinnerAdapter;
    private Spinner mDuplexModeSpinner;
    private ArrayAdapter<SpinnerItem<Integer>> mDuplexModeSpinnerAdapter;
    private MutexFileProvider mFileProvider;
    private boolean mIsFinishing;
    private boolean mIsMoreOptionsActivityInProgress;
    private MediaSizeUtils.MediaSizeComparator mMediaSizeComparator;
    private Spinner mMediaSizeSpinner;
    private ArrayAdapter<SpinnerItem<PrintAttributes.MediaSize>> mMediaSizeSpinnerAdapter;
    private Button mMoreOptionsButton;
    private PrintContentView mOptionsContent;
    private Spinner mOrientationSpinner;
    private ArrayAdapter<SpinnerItem<Integer>> mOrientationSpinnerAdapter;
    private EditText mPageRangeEditText;
    private TextView mPageRangeTitle;
    private ImageView mPrintButton;
    private PrintJobInfo mPrintJob;
    private PrintPreviewController mPrintPreviewController;
    private RemotePrintDocument mPrintedDocument;
    private final PrinterAvailabilityDetector mPrinterAvailabilityDetector;
    private PrinterRegistry mPrinterRegistry;
    private PrintersObserver mPrintersObserver;
    private ProgressMessageController mProgressMessageController;
    private Spinner mRangeOptionsSpinner;
    private final View.OnFocusChangeListener mSelectAllOnFocusListener;
    private PageRange[] mSelectedPages;
    private boolean mShowDestinationPrompt;
    private PrintSpoolerProvider mSpoolerProvider;
    private View mSummaryContainer;
    private TextView mSummaryCopies;
    private TextView mSummaryPaperSize;
    private static final String MORE_OPTIONS_ACTIVITY_IN_PROGRESS_KEY = PrintActivity.class.getName() + ".MORE_OPTIONS_ACTIVITY_IN_PROGRESS";
    private static final String MIN_COPIES_STRING = String.valueOf(1);
    private boolean mIsOptionsUiBound = false;
    private int mState = 0;
    private int mUiState = 0;

    /* JADX INFO: Access modifiers changed from: private */
    public static boolean isFinalState(int i) {
        return i == 3 || i == 8 || i == 5;
    }

    @Override // com.android.printspooler.widget.PrintContentView.OptionsStateController
    public boolean canOpenOptions() {
        return true;
    }

    public PrintActivity() {
        this.mPrinterAvailabilityDetector = new PrinterAvailabilityDetector();
        this.mSelectAllOnFocusListener = new SelectAllOnFocusListener();
    }

    @Override // android.app.Activity
    public void onCreate(final Bundle bundle) {
        super.onCreate(bundle);
        this.mContext = this;
        setTitle(2131427372);
        Bundle extras = getIntent().getExtras();
        if (bundle != null) {
            this.mIsMoreOptionsActivityInProgress = bundle.getBoolean(MORE_OPTIONS_ACTIVITY_IN_PROGRESS_KEY);
        }
        PrintJobInfo printJobInfo = (PrintJobInfo) extras.getParcelable("android.print.intent.extra.EXTRA_PRINT_JOB");
        this.mPrintJob = printJobInfo;
        if (printJobInfo == null) {
            throw new IllegalArgumentException("android.print.intent.extra.EXTRA_PRINT_JOB cannot be null");
        }
        if (printJobInfo.getAttributes() == null) {
            this.mPrintJob.setAttributes(new PrintAttributes.Builder().build());
        }
        final IBinder binder = extras.getBinder("android.print.intent.extra.EXTRA_PRINT_DOCUMENT_ADAPTER");
        if (binder == null) {
            throw new IllegalArgumentException("android.print.intent.extra.EXTRA_PRINT_DOCUMENT_ADAPTER cannot be null");
        }
        this.mCallingPackageName = extras.getString("android.intent.extra.PACKAGE_NAME");
        this.mMediaSizeComparator = new MediaSizeUtils.MediaSizeComparator(this);
        if (bundle == null) {
            MetricsLogger.action(this, 501, this.mCallingPackageName);
        }
        this.mSpoolerProvider = new PrintSpoolerProvider(this, new Runnable() { // from class: com.android.printspooler.ui.-$$Lambda$PrintActivity$HYUNY7SxaGHExxXj53kjhk3D2Uw
            @Override // java.lang.Runnable
            public final void run() {
                PrintActivity.this.lambda$onCreate$0$PrintActivity(bundle, binder);
            }
        });
        getLoaderManager().initLoader(1, null, this);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onCreate$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onCreate$0$PrintActivity(Bundle bundle, IBinder iBinder) {
        if (isFinishing() || isDestroyed()) {
            if (bundle != null) {
                this.mSpoolerProvider.getSpooler().setPrintJobState(this.mPrintJob.getId(), 7, null);
            }
        } else {
            if (bundle == null) {
                this.mSpoolerProvider.getSpooler().createPrintJob(this.mPrintJob);
            }
            onConnectedToPrintSpooler(iBinder);
        }
    }

    private void onConnectedToPrintSpooler(final IBinder iBinder) {
        this.mPrinterRegistry = new PrinterRegistry(this, new Runnable() { // from class: com.android.printspooler.ui.-$$Lambda$PrintActivity$4Iw5LkrCXwNm-n4NriDI2FmQZQc
            @Override // java.lang.Runnable
            public final void run() {
                PrintActivity.this.lambda$onConnectedToPrintSpooler$2$PrintActivity(iBinder);
            }
        }, 2, 3);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onConnectedToPrintSpooler$2, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onConnectedToPrintSpooler$2$PrintActivity(final IBinder iBinder) {
        new Handler(getMainLooper()).post(new Runnable() { // from class: com.android.printspooler.ui.-$$Lambda$PrintActivity$dgpcVufZq1t6qO-7_FTvVLHw1dY
            @Override // java.lang.Runnable
            public final void run() {
                PrintActivity.this.lambda$onConnectedToPrintSpooler$1$PrintActivity(iBinder);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: onPrinterRegistryReady, reason: merged with bridge method [inline-methods] */
    public void lambda$onConnectedToPrintSpooler$1$PrintActivity(IBinder iBinder) {
        setContentView(2131230746);
        try {
            MutexFileProvider mutexFileProvider = new MutexFileProvider(PrintSpoolerService.generateFileForPrintJob(this, this.mPrintJob.getId()));
            this.mFileProvider = mutexFileProvider;
            this.mPrintPreviewController = new PrintPreviewController(this, mutexFileProvider);
            this.mPrintedDocument = new RemotePrintDocument(this, IPrintDocumentAdapter.Stub.asInterface(iBinder), this.mFileProvider, new RemotePrintDocument.RemoteAdapterDeathObserver() { // from class: com.android.printspooler.ui.PrintActivity.1
                @Override // com.android.printspooler.model.RemotePrintDocument.RemoteAdapterDeathObserver
                public void onDied() {
                    Log.w("PrintActivity", "Printing app died unexpectedly");
                    if (PrintActivity.this.isFinishing() || PrintActivity.this.isDestroyed()) {
                        return;
                    }
                    if (!PrintActivity.isFinalState(PrintActivity.this.mState) || PrintActivity.this.mPrintedDocument.isUpdating()) {
                        Log.i("PrintActivity", "onDied client application died: " + PrintActivity.this.mCallingPackageName);
                        PrintActivity.this.setState(3);
                        PrintActivity.this.mPrintedDocument.cancel(true);
                        PrintActivity.this.doFinish();
                    }
                }
            }, this);
            this.mProgressMessageController = new ProgressMessageController(this);
            this.mDestinationSpinnerAdapter = new DestinationAdapter();
            bindUi();
            updateOptionsUi();
            this.mOptionsContent.setVisibility(0);
            this.mSelectedPages = computeSelectedPages();
            this.mPrintedDocument.start();
            ensurePreviewUiShown();
            setState(1);
        } catch (IOException e) {
            throw new IllegalStateException("Cannot create print job file", e);
        }
    }

    @Override // android.app.Activity
    public void onStart() {
        PrinterInfo printerInfo;
        super.onStart();
        PrinterRegistry printerRegistry = this.mPrinterRegistry;
        if (printerRegistry == null || (printerInfo = this.mCurrentPrinter) == null) {
            return;
        }
        printerRegistry.setTrackedPrinter(printerInfo.getId());
    }

    @Override // android.app.Activity
    public void onPause() {
        PrintSpoolerService spooler = this.mSpoolerProvider.getSpooler();
        if (this.mState == 0) {
            if (isFinishing() && spooler != null) {
                spooler.setPrintJobState(this.mPrintJob.getId(), 7, null);
            }
            super.onPause();
            return;
        }
        if (isFinishing()) {
            try {
                spooler.updatePrintJobUserConfigurableOptionsNoPersistence(this.mPrintJob);
            } catch (IllegalArgumentException e) {
                Log.i("PrintActivity", "Unable to pause printactivity ", e);
            }
            int i = this.mState;
            if (i == 5) {
                spooler.setPrintJobState(this.mPrintJob.getId(), 6, getString(2131427390));
            } else if (i == 8) {
                if (this.mCurrentPrinter == this.mDestinationSpinnerAdapter.getPdfPrinter()) {
                    spooler.setPrintJobState(this.mPrintJob.getId(), 5, null);
                } else {
                    spooler.setPrintJobState(this.mPrintJob.getId(), 2, null);
                }
            } else {
                spooler.setPrintJobState(this.mPrintJob.getId(), 7, null);
            }
        }
        super.onPause();
    }

    @Override // android.app.Activity
    protected void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putBoolean(MORE_OPTIONS_ACTIVITY_IN_PROGRESS_KEY, this.mIsMoreOptionsActivityInProgress);
    }

    @Override // android.app.Activity
    protected void onStop() {
        Log.i("PrintActivity", "onDestroy");
        this.mPrinterAvailabilityDetector.cancel();
        PrinterRegistry printerRegistry = this.mPrinterRegistry;
        if (printerRegistry != null) {
            printerRegistry.setTrackedPrinter(null);
        }
        super.onStop();
    }

    @Override // android.app.Activity, android.view.KeyEvent.Callback
    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        if (i == 4) {
            keyEvent.startTracking();
            return true;
        }
        return super.onKeyDown(i, keyEvent);
    }

    @Override // android.app.Activity, android.view.KeyEvent.Callback
    public boolean onKeyUp(int i, KeyEvent keyEvent) {
        int i2 = this.mState;
        if (i2 == 0) {
            doFinish();
            return true;
        }
        if (i2 == 3 || i2 == 2 || i2 == 8) {
            return true;
        }
        if (i == 4 && keyEvent.isTracking() && !keyEvent.isCanceled()) {
            PrintPreviewController printPreviewController = this.mPrintPreviewController;
            if (printPreviewController != null && printPreviewController.isOptionsOpened() && !hasErrors()) {
                this.mPrintPreviewController.closeOptions();
            } else {
                cancelPrint();
            }
            return true;
        }
        return super.onKeyUp(i, keyEvent);
    }

    @Override // com.android.printspooler.ui.PageAdapter.ContentCallbacks
    public void onRequestContentUpdate() {
        if (canUpdateDocument()) {
            updateDocument(false);
        }
    }

    @Override // com.android.printspooler.ui.PageAdapter.ContentCallbacks
    public void onMalformedPdfFile() {
        onPrintDocumentError("Cannot print a malformed PDF file");
    }

    @Override // com.android.printspooler.ui.PageAdapter.ContentCallbacks
    public void onSecurePdfFile() {
        onPrintDocumentError("Cannot print a password protected PDF file");
    }

    private void onPrintDocumentError(String str) {
        setState(this.mProgressMessageController.cancel());
        ensureErrorUiShown(null, 1);
        setState(4);
        this.mPrintedDocument.kill(str);
    }

    @Override // com.android.printspooler.ui.PrintErrorFragment.OnActionListener
    public void onActionPerformed() {
        if (this.mState == 4 && canUpdateDocument() && updateDocument(true)) {
            ensurePreviewUiShown();
            setState(1);
        }
    }

    @Override // com.android.printspooler.model.RemotePrintDocument.UpdateResultCallbacks
    public void onUpdateCanceled() {
        Log.i("PrintActivity", "onUpdateCanceled()");
        setState(this.mProgressMessageController.cancel());
        ensurePreviewUiShown();
        int i = this.mState;
        if (i == 2) {
            requestCreatePdfFileOrFinish();
        } else if (i == 3 || i == 5 || i == 8) {
            doFinish();
        }
    }

    @Override // com.android.printspooler.model.RemotePrintDocument.UpdateResultCallbacks
    public void onUpdateCompleted(RemotePrintDocument.RemotePrintDocumentInfo remotePrintDocumentInfo) {
        Log.i("PrintActivity", "onUpdateCompleted()");
        setState(this.mProgressMessageController.cancel());
        ensurePreviewUiShown();
        PrintDocumentInfo printDocumentInfo = remotePrintDocumentInfo.info;
        if (printDocumentInfo != null) {
            PrintDocumentInfo build = new PrintDocumentInfo.Builder(printDocumentInfo.getName()).setContentType(printDocumentInfo.getContentType()).setPageCount(PageRangeUtils.getNormalizedPageCount(remotePrintDocumentInfo.pagesWrittenToFile, getAdjustedPageCount(printDocumentInfo))).build();
            try {
                build.setDataSize(this.mFileProvider.acquireFile(null).length());
                this.mFileProvider.releaseFile();
                this.mPrintJob.setDocumentInfo(build);
                this.mPrintJob.setPages(remotePrintDocumentInfo.pagesInFileToPrint);
            } catch (Throwable th) {
                this.mFileProvider.releaseFile();
                throw th;
            }
        }
        int i = this.mState;
        if (i == 2) {
            requestCreatePdfFileOrFinish();
            return;
        }
        if (i == 3 || i == 5 || i == 8) {
            updateOptionsUi();
            doFinish();
        } else {
            updatePrintPreviewController(remotePrintDocumentInfo.changed);
            setState(1);
        }
    }

    @Override // com.android.printspooler.model.RemotePrintDocument.UpdateResultCallbacks
    public void onUpdateFailed(CharSequence charSequence) {
        Log.i("PrintActivity", "onUpdateFailed()");
        setState(this.mProgressMessageController.cancel());
        ensureErrorUiShown(charSequence, 1);
        int i = this.mState;
        if (i == 5 || i == 8 || i == 3) {
            doFinish();
        }
        setState(4);
    }

    @Override // com.android.printspooler.widget.PrintContentView.OptionsStateChangeListener
    public void onOptionsOpened() {
        MetricsLogger.action(this, 502);
        updateSelectedPagesFromPreview();
    }

    @Override // com.android.printspooler.widget.PrintContentView.OptionsStateChangeListener
    public void onOptionsClosed() {
        ((InputMethodManager) getSystemService(InputMethodManager.class)).hideSoftInputFromWindow(this.mDestinationSpinner.getWindowToken(), 0);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updatePrintPreviewController(boolean z) {
        RemotePrintDocument.RemotePrintDocumentInfo documentInfo = this.mPrintedDocument.getDocumentInfo();
        if (documentInfo.laidout) {
            this.mPrintPreviewController.onContentUpdated(z, getAdjustedPageCount(documentInfo.info), this.mPrintedDocument.getDocumentInfo().pagesWrittenToFile, this.mSelectedPages, this.mPrintJob.getAttributes().getMediaSize(), this.mPrintJob.getAttributes().getMinMargins());
        }
    }

    @Override // com.android.printspooler.widget.PrintContentView.OptionsStateController
    public boolean canCloseOptions() {
        return !hasErrors();
    }

    @Override // android.app.Activity, android.content.ComponentCallbacks
    public void onConfigurationChanged(Configuration configuration) {
        super.onConfigurationChanged(configuration);
        MediaSizeUtils.MediaSizeComparator mediaSizeComparator = this.mMediaSizeComparator;
        if (mediaSizeComparator != null) {
            mediaSizeComparator.onConfigurationChanged(configuration);
        }
        PrintPreviewController printPreviewController = this.mPrintPreviewController;
        if (printPreviewController != null) {
            printPreviewController.onOrientationChanged();
        }
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        RemotePrintDocument remotePrintDocument = this.mPrintedDocument;
        if (remotePrintDocument != null) {
            remotePrintDocument.cancel(true);
        }
        doFinish();
        super.onDestroy();
    }

    @Override // android.app.Activity
    protected void onActivityResult(int i, int i2, Intent intent) {
        if (i == 1) {
            onStartCreateDocumentActivityResult(i2, intent);
        } else if (i == 2) {
            onSelectPrinterActivityResult(i2, intent);
        } else {
            if (i != 3) {
                return;
            }
            onAdvancedPrintOptionsActivityResult(i2, intent);
        }
    }

    private void startCreateDocumentActivity() {
        PrintDocumentInfo printDocumentInfo;
        if (isResumed() && (printDocumentInfo = this.mPrintedDocument.getDocumentInfo().info) != null) {
            Intent intent = new Intent("com.sec.android.app.myfiles.CREATE_DOCUMENT");
            intent.setType("application/pdf");
            intent.putExtra("android.intent.extra.TITLE", printDocumentInfo.getName());
            intent.putExtra("android.intent.extra.PACKAGE_NAME", this.mCallingPackageName);
            if (getPackageManager().resolveActivity(intent, 1) == null) {
                intent.setAction("android.intent.action.CREATE_DOCUMENT");
            }
            try {
                startActivityForResult(intent, 1);
            } catch (Exception e) {
                Log.e("PrintActivity", "Could not create file", e);
                Toast.makeText(this, getString(2131427338), 0).show();
                onStartCreateDocumentActivityResult(0, null);
            }
        }
    }

    private void onStartCreateDocumentActivityResult(int i, Intent intent) {
        if (i == -1 && intent != null) {
            updateOptionsUi();
            final Uri data = intent.getData();
            final Uri uri = (Uri) intent.getExtra("FILE_URI");
            countPrintOperation(getPackageName());
            this.mDestinationSpinner.post(new Runnable() { // from class: com.android.printspooler.ui.PrintActivity.2
                @Override // java.lang.Runnable
                public void run() {
                    PrintActivity.this.transformDocumentAndFinish(data, uri);
                }
            });
            return;
        }
        if (i == 0) {
            Log.i("PrintActivity", "[state]1");
            this.mState = 1;
            updateDocument(false);
            updateOptionsUi();
            return;
        }
        setState(5);
        this.mDestinationSpinner.post(new Runnable() { // from class: com.android.printspooler.ui.PrintActivity.3
            @Override // java.lang.Runnable
            public void run() {
                PrintActivity.this.doFinish();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void startSelectPrinterActivity() {
        startActivityForResult(new Intent(this, (Class<?>) SelectPrinterActivity.class), 2);
    }

    private void onSelectPrinterActivityResult(int i, Intent intent) {
        PrinterInfo printerInfo;
        if (i == -1 && intent != null && (printerInfo = (PrinterInfo) intent.getParcelableExtra("INTENT_EXTRA_PRINTER")) != null) {
            this.mCurrentPrinter = printerInfo;
            this.mPrintJob.setPrinterId(printerInfo.getId());
            this.mPrintJob.setPrinterName(printerInfo.getName());
            if (canPrint(printerInfo)) {
                updatePrintAttributesFromCapabilities(printerInfo.getCapabilities());
                onPrinterAvailable(printerInfo);
            } else {
                onPrinterUnavailable(printerInfo);
            }
            this.mDestinationSpinnerAdapter.ensurePrinterInVisibleAdapterPosition(printerInfo);
            MetricsLogger.action(this, 507, printerInfo.getId().getServiceName().getPackageName());
        }
        if (this.mCurrentPrinter != null) {
            this.mDestinationSpinnerAdapter.notifyDataSetChanged();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void startAdvancedPrintOptionsActivity(PrinterInfo printerInfo) {
        if (this.mAdvancedPrintOptionsActivity == null) {
            return;
        }
        Intent intent = new Intent("android.intent.action.MAIN");
        intent.setComponent(this.mAdvancedPrintOptionsActivity);
        List<ResolveInfo> queryIntentActivities = getPackageManager().queryIntentActivities(intent, 0);
        if (queryIntentActivities.isEmpty()) {
            Log.w("PrintActivity", "Advanced options activity " + this.mAdvancedPrintOptionsActivity + " could not be found");
            return;
        }
        if (queryIntentActivities.get(0).activityInfo.exported) {
            PrintJobInfo.Builder builder = new PrintJobInfo.Builder(this.mPrintJob);
            builder.setPages(this.mSelectedPages);
            intent.putExtra("android.intent.extra.print.PRINT_JOB_INFO", builder.build());
            intent.putExtra("android.intent.extra.print.EXTRA_PRINTER_INFO", printerInfo);
            intent.putExtra("android.printservice.extra.PRINT_DOCUMENT_INFO", this.mPrintedDocument.getDocumentInfo().info);
            this.mIsMoreOptionsActivityInProgress = true;
            try {
                startActivityForResult(intent, 3);
            } catch (ActivityNotFoundException e) {
                this.mIsMoreOptionsActivityInProgress = false;
                Log.e("PrintActivity", "Error starting activity for intent: " + intent, e);
            }
            this.mMoreOptionsButton.setEnabled(!this.mIsMoreOptionsActivityInProgress);
        }
    }

    private void onAdvancedPrintOptionsActivityResult(int i, Intent intent) {
        PrintJobInfo printJobInfo;
        PrinterCapabilitiesInfo capabilities;
        this.mIsMoreOptionsActivityInProgress = false;
        this.mMoreOptionsButton.setEnabled(true);
        if (i != -1 || intent == null || (printJobInfo = (PrintJobInfo) intent.getParcelableExtra("android.intent.extra.print.PRINT_JOB_INFO")) == null) {
            return;
        }
        this.mPrintJob.setAdvancedOptions(printJobInfo.getAdvancedOptions());
        if (printJobInfo.getCopies() < 1) {
            Log.w("PrintActivity", "Cannot apply return value from advanced options activity. Copies must be 1 or more. Actual value is: " + printJobInfo.getCopies() + ". Ignoring.");
        } else {
            this.mCopiesEditText.setText(new Formatter().format("%02d", Integer.valueOf(Integer.parseInt(String.valueOf(printJobInfo.getCopies())))).toString());
            this.mPrintJob.setCopies(printJobInfo.getCopies());
        }
        PrintAttributes attributes = this.mPrintJob.getAttributes();
        PrintAttributes attributes2 = printJobInfo.getAttributes();
        if (attributes2 != null) {
            PrintAttributes.MediaSize mediaSize = attributes.getMediaSize();
            PrintAttributes.MediaSize mediaSize2 = attributes2.getMediaSize();
            if (mediaSize2 != null && !mediaSize.equals(mediaSize2)) {
                int count = this.mMediaSizeSpinnerAdapter.getCount();
                PrintAttributes.MediaSize asPortrait = attributes2.getMediaSize().asPortrait();
                int i2 = 0;
                while (true) {
                    if (i2 >= count) {
                        break;
                    }
                    if (this.mMediaSizeSpinnerAdapter.getItem(i2).value.asPortrait().equals(asPortrait)) {
                        attributes.setMediaSize(mediaSize2);
                        this.mMediaSizeSpinner.setSelection(i2);
                        if (attributes.getMediaSize().isPortrait()) {
                            if (this.mOrientationSpinner.getSelectedItemPosition() != 0) {
                                this.mOrientationSpinner.setSelection(0);
                            }
                        } else if (this.mOrientationSpinner.getSelectedItemPosition() != 1) {
                            this.mOrientationSpinner.setSelection(1);
                        }
                    } else {
                        i2++;
                    }
                }
            }
            PrintAttributes.Resolution resolution = attributes.getResolution();
            PrintAttributes.Resolution resolution2 = attributes2.getResolution();
            if (!resolution.equals(resolution2) && (capabilities = this.mCurrentPrinter.getCapabilities()) != null) {
                List<PrintAttributes.Resolution> resolutions = capabilities.getResolutions();
                int size = resolutions.size();
                int i3 = 0;
                while (true) {
                    if (i3 >= size) {
                        break;
                    }
                    PrintAttributes.Resolution resolution3 = resolutions.get(i3);
                    if (resolution3.equals(resolution2)) {
                        attributes.setResolution(resolution3);
                        break;
                    }
                    i3++;
                }
            }
            int colorMode = attributes.getColorMode();
            int colorMode2 = attributes2.getColorMode();
            if (colorMode != colorMode2) {
                int count2 = this.mColorModeSpinner.getCount();
                int i4 = 0;
                while (true) {
                    if (i4 >= count2) {
                        break;
                    }
                    if (this.mColorModeSpinnerAdapter.getItem(i4).value.intValue() == colorMode2) {
                        attributes.setColorMode(colorMode2);
                        this.mColorModeSpinner.setSelection(i4);
                        break;
                    }
                    i4++;
                }
            }
            int duplexMode = attributes.getDuplexMode();
            int duplexMode2 = attributes2.getDuplexMode();
            if (duplexMode != duplexMode2) {
                int count3 = this.mDuplexModeSpinner.getCount();
                int i5 = 0;
                while (true) {
                    if (i5 >= count3) {
                        break;
                    }
                    if (this.mDuplexModeSpinnerAdapter.getItem(i5).value.intValue() == duplexMode2) {
                        attributes.setDuplexMode(duplexMode2);
                        this.mDuplexModeSpinner.setSelection(i5);
                        break;
                    }
                    i5++;
                }
            }
        }
        PrintDocumentInfo printDocumentInfo = this.mPrintedDocument.getDocumentInfo().info;
        int adjustedPageCount = printDocumentInfo != null ? getAdjustedPageCount(printDocumentInfo) : 0;
        PageRange[] pages = printJobInfo.getPages();
        if (pages != null && adjustedPageCount > 0) {
            PageRange[] normalize = PageRangeUtils.normalize(pages);
            ArrayList arrayList = new ArrayList();
            int length = normalize.length;
            int i6 = 0;
            while (true) {
                if (i6 >= length) {
                    break;
                }
                PageRange pageRange = normalize[i6];
                if (pageRange.getEnd() >= adjustedPageCount) {
                    int start = pageRange.getStart();
                    int i7 = adjustedPageCount - 1;
                    if (start <= i7) {
                        arrayList.add(new PageRange(start, i7));
                    }
                } else {
                    arrayList.add(pageRange);
                    i6++;
                }
            }
            if (!arrayList.isEmpty()) {
                PageRange[] pageRangeArr = new PageRange[arrayList.size()];
                arrayList.toArray(pageRangeArr);
                updateSelectedPages(pageRangeArr, adjustedPageCount);
            }
        }
        if (canUpdateDocument()) {
            updateDocument(false);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void setState(int i) {
        if (isFinalState(this.mState)) {
            if (isFinalState(i)) {
                Log.i("PrintActivity", "[state]" + i);
                this.mState = i;
                updateOptionsUi();
                return;
            }
            return;
        }
        Log.i("PrintActivity", "[state]" + i);
        this.mState = i;
        updateOptionsUi();
    }

    private void updateSelectedPagesFromPreview() {
        PageRange[] selectedPages = this.mPrintPreviewController.getSelectedPages();
        if (Arrays.equals(this.mSelectedPages, selectedPages)) {
            return;
        }
        updateSelectedPages(selectedPages, getAdjustedPageCount(this.mPrintedDocument.getDocumentInfo().info));
    }

    private void updateSelectedPages(PageRange[] pageRangeArr, int i) {
        int start;
        int end;
        if (pageRangeArr == null || pageRangeArr.length <= 0) {
            return;
        }
        PageRange[] normalize = PageRangeUtils.normalize(pageRangeArr);
        if (PageRangeUtils.isAllPages(normalize, i)) {
            normalize = new PageRange[]{PageRange.ALL_PAGES};
        }
        if (Arrays.equals(this.mSelectedPages, normalize)) {
            return;
        }
        this.mSelectedPages = normalize;
        this.mPrintJob.setPages(normalize);
        if (Arrays.equals(normalize, PageRange.ALL_PAGES_ARRAY)) {
            if (this.mRangeOptionsSpinner.getSelectedItemPosition() != 0) {
                this.mRangeOptionsSpinner.setSelection(0);
                this.mPageRangeEditText.setText("");
                return;
            }
            return;
        }
        if (normalize[0].getStart() < 0 || normalize[normalize.length - 1].getEnd() >= i) {
            return;
        }
        if (this.mRangeOptionsSpinner.getSelectedItemPosition() != 1) {
            this.mRangeOptionsSpinner.setSelection(1);
        }
        StringBuilder sb = new StringBuilder();
        for (PageRange pageRange : normalize) {
            if (sb.length() > 0) {
                sb.append(',');
            }
            if (pageRange.equals(PageRange.ALL_PAGES)) {
                end = i;
                start = 1;
            } else {
                start = pageRange.getStart() + 1;
                end = pageRange.getEnd() + 1;
            }
            sb.append(start);
            if (start != end) {
                sb.append('-');
                sb.append(end);
            }
        }
        this.mPageRangeEditText.setText(sb.toString());
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void ensureProgressUiShown() {
        if (isFinishing() || isDestroyed() || this.mUiState == 2) {
            return;
        }
        this.mUiState = 2;
        this.mPrintPreviewController.setUiShown(false);
        showFragment(PrintProgressFragment.newInstance());
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void ensurePreviewUiShown() {
        if (isFinishing() || isDestroyed() || this.mUiState == 0) {
            return;
        }
        this.mUiState = 0;
        this.mPrintPreviewController.setUiShown(true);
        showFragment(null);
    }

    private void ensureErrorUiShown(CharSequence charSequence, int i) {
        if (isFinishing() || isDestroyed() || this.mUiState == 1) {
            return;
        }
        this.mUiState = 1;
        this.mPrintPreviewController.setUiShown(false);
        showFragment(PrintErrorFragment.newInstance(charSequence, i));
    }

    private void showFragment(Fragment fragment) {
        FragmentTransaction beginTransaction = getFragmentManager().beginTransaction();
        Fragment findFragmentByTag = getFragmentManager().findFragmentByTag("FRAGMENT_TAG");
        if (findFragmentByTag != null) {
            beginTransaction.remove(findFragmentByTag);
        }
        if (fragment != null) {
            beginTransaction.add(2131099675, fragment, "FRAGMENT_TAG");
        }
        beginTransaction.commitAllowingStateLoss();
        getFragmentManager().executePendingTransactions();
    }

    private void countPrintOperation(String str) {
        MetricsLogger.action(this, 505, str);
        MetricsLogger.histogram(this, "print_pages", getAdjustedPageCount(this.mPrintJob.getDocumentInfo()));
        if (this.mPrintJob.getPrinterId().equals(this.mDefaultPrinter)) {
            MetricsLogger.histogram(this, "print_default", 1);
        }
        if (((UserManager) getSystemService("user")).isManagedProfile()) {
            MetricsLogger.histogram(this, "print_work", 1);
        }
    }

    private void requestCreatePdfFileOrFinish() {
        this.mPrintedDocument.cancel(false);
        if (this.mCurrentPrinter == this.mDestinationSpinnerAdapter.getPdfPrinter()) {
            startCreateDocumentActivity();
        } else {
            countPrintOperation(this.mCurrentPrinter.getId().getServiceName().getPackageName());
            transformDocumentAndFinish(null, null);
        }
    }

    private void sendScanFile(Uri uri) {
        Intent intent = new Intent("android.intent.action.MEDIA_SCANNER_SCAN_FILE", uri);
        Context context = this.mContext;
        if (context != null) {
            context.sendBroadcast(intent);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void clearPageRanges() {
        this.mRangeOptionsSpinner.setSelection(0);
        this.mPageRangeEditText.setError(null);
        this.mPageRangeEditText.setText("");
        PageRange[] pageRangeArr = PageRange.ALL_PAGES_ARRAY;
        this.mSelectedPages = pageRangeArr;
        if (Arrays.equals(pageRangeArr, this.mPrintPreviewController.getSelectedPages())) {
            return;
        }
        updatePrintPreviewController(false);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updatePrintAttributesFromCapabilities(PrinterCapabilitiesInfo printerCapabilitiesInfo) {
        boolean z;
        PrintAttributes defaults = printerCapabilitiesInfo.getDefaults();
        ArrayList arrayList = new ArrayList(printerCapabilitiesInfo.getMediaSizes());
        Collections.sort(arrayList, this.mMediaSizeComparator);
        PrintAttributes attributes = this.mPrintJob.getAttributes();
        PrintAttributes.MediaSize mediaSize = attributes.getMediaSize();
        if (mediaSize == null) {
            attributes.setMediaSize(defaults.getMediaSize());
            z = true;
        } else {
            PrintAttributes.MediaSize mediaSize2 = null;
            boolean isPortrait = mediaSize.isPortrait();
            PrintAttributes.MediaSize asPortrait = mediaSize.asPortrait();
            int size = arrayList.size();
            z = false;
            int i = 0;
            while (true) {
                if (i >= size) {
                    break;
                }
                PrintAttributes.MediaSize mediaSize3 = (PrintAttributes.MediaSize) arrayList.get(i);
                if (asPortrait.equals(mediaSize3.asPortrait())) {
                    mediaSize2 = mediaSize3;
                    break;
                }
                i++;
            }
            if (mediaSize2 == null) {
                mediaSize2 = defaults.getMediaSize();
                z = true;
            }
            if (mediaSize2 != null) {
                if (isPortrait) {
                    attributes.setMediaSize(mediaSize2.asPortrait());
                } else {
                    attributes.setMediaSize(mediaSize2.asLandscape());
                }
            }
        }
        if ((attributes.getColorMode() & printerCapabilitiesInfo.getColorModes()) == 0) {
            attributes.setColorMode(defaults.getColorMode());
        }
        if ((attributes.getDuplexMode() & printerCapabilitiesInfo.getDuplexModes()) == 0) {
            attributes.setDuplexMode(defaults.getDuplexMode());
        }
        PrintAttributes.Resolution resolution = attributes.getResolution();
        if (resolution == null || !printerCapabilitiesInfo.getResolutions().contains(resolution)) {
            attributes.setResolution(defaults.getResolution());
        }
        boolean z2 = Objects.equals(attributes.getMinMargins(), defaults.getMinMargins()) ? z : true;
        attributes.setMinMargins(defaults.getMinMargins());
        if (z2) {
            clearPageRanges();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean updateDocument(boolean z) {
        PageRange[] selectedPages;
        if (!z && this.mPrintedDocument.hasUpdateError()) {
            return false;
        }
        if (z && this.mPrintedDocument.hasUpdateError()) {
            this.mPrintedDocument.clearUpdateError();
        }
        boolean z2 = this.mState != 2;
        if (z2) {
            selectedPages = this.mPrintPreviewController.getRequestedPages();
        } else {
            selectedPages = this.mPrintPreviewController.getSelectedPages();
        }
        boolean update = this.mPrintedDocument.update(this.mPrintJob.getAttributes(), selectedPages, z2);
        updateOptionsUi();
        if (update && !this.mPrintedDocument.hasLaidOutPages()) {
            this.mProgressMessageController.post();
            return true;
        }
        if (!update) {
            updatePrintPreviewController(false);
        }
        return false;
    }

    private void addCurrentPrinterToHistory() {
        if (this.mCurrentPrinter != null) {
            if (this.mCurrentPrinter.getId().equals(this.mDestinationSpinnerAdapter.getPdfPrinter().getId())) {
                return;
            }
            this.mPrinterRegistry.addHistoricalPrinter(this.mCurrentPrinter);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void cancelPrint() {
        setState(3);
        this.mPrintedDocument.cancel(true);
        doFinish();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updateSelectedPagesFromTextField() {
        PageRange[] computeSelectedPages = computeSelectedPages();
        if (Arrays.equals(this.mSelectedPages, computeSelectedPages)) {
            return;
        }
        this.mSelectedPages = computeSelectedPages;
        updatePrintPreviewController(false);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void confirmPrint() {
        setState(2);
        addCurrentPrinterToHistory();
        setUserPrinted();
        updateSelectedPagesFromPreview();
        updateSelectedPagesFromTextField();
        this.mPrintPreviewController.closeOptions();
        if (canUpdateDocument()) {
            updateDocument(false);
        }
        if (this.mPrintedDocument.isUpdating()) {
            return;
        }
        requestCreatePdfFileOrFinish();
    }

    private void bindUi() {
        this.mSummaryContainer = findViewById(2131099727);
        this.mSummaryCopies = (TextView) findViewById(2131099669);
        this.mSummaryPaperSize = (TextView) findViewById(2131099714);
        PrintContentView printContentView = (PrintContentView) findViewById(2131099704);
        this.mOptionsContent = printContentView;
        printContentView.setOptionsStateChangeListener(this);
        this.mOptionsContent.setOpenOptionsController(this);
        MyOnItemSelectedListener myOnItemSelectedListener = new MyOnItemSelectedListener();
        MyClickListener myClickListener = new MyClickListener();
        EditText editText = (EditText) findViewById(2131099670);
        this.mCopiesEditText = editText;
        editText.setOnFocusChangeListener(this.mSelectAllOnFocusListener);
        this.mCopiesEditText.setText(new Formatter().format("%02d", 1).toString());
        EditText editText2 = this.mCopiesEditText;
        editText2.setSelection(editText2.getText().length());
        this.mCopiesEditText.addTextChangedListener(new EditTextWatcher());
        PrintersObserver printersObserver = new PrintersObserver();
        this.mPrintersObserver = printersObserver;
        this.mDestinationSpinnerAdapter.registerDataSetObserver(printersObserver);
        ClickInterceptSpinner clickInterceptSpinner = (ClickInterceptSpinner) findViewById(2131099671);
        this.mDestinationSpinner = clickInterceptSpinner;
        clickInterceptSpinner.setAdapter((SpinnerAdapter) this.mDestinationSpinnerAdapter);
        this.mDestinationSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        this.mMediaSizeSpinnerAdapter = new ArrayAdapter<>(this, 2131230755, R.id.text1);
        Spinner spinner = (Spinner) findViewById(2131099713);
        this.mMediaSizeSpinner = spinner;
        spinner.setAdapter((SpinnerAdapter) this.mMediaSizeSpinnerAdapter);
        this.mMediaSizeSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        this.mColorModeSpinnerAdapter = new ArrayAdapter<>(this, 2131230755, R.id.text1);
        Spinner spinner2 = (Spinner) findViewById(2131099668);
        this.mColorModeSpinner = spinner2;
        spinner2.setAdapter((SpinnerAdapter) this.mColorModeSpinnerAdapter);
        this.mColorModeSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        this.mDuplexModeSpinnerAdapter = new ArrayAdapter<>(this, 2131230755, R.id.text1);
        Spinner spinner3 = (Spinner) findViewById(2131099673);
        this.mDuplexModeSpinner = spinner3;
        spinner3.setAdapter((SpinnerAdapter) this.mDuplexModeSpinnerAdapter);
        this.mDuplexModeSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        this.mOrientationSpinnerAdapter = new ArrayAdapter<>(this, 2131230755, R.id.text1);
        String[] stringArray = getResources().getStringArray(2130771971);
        this.mOrientationSpinnerAdapter.add(new SpinnerItem<>(this, 0, stringArray[0]));
        this.mOrientationSpinnerAdapter.add(new SpinnerItem<>(this, 1, stringArray[1]));
        Spinner spinner4 = (Spinner) findViewById(2131099705);
        this.mOrientationSpinner = spinner4;
        spinner4.setAdapter((SpinnerAdapter) this.mOrientationSpinnerAdapter);
        this.mOrientationSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        ArrayAdapter arrayAdapter = new ArrayAdapter(this, 2131230755, R.id.text1);
        Spinner spinner5 = (Spinner) findViewById(2131099719);
        this.mRangeOptionsSpinner = spinner5;
        spinner5.setAdapter((SpinnerAdapter) arrayAdapter);
        this.mRangeOptionsSpinner.setOnItemSelectedListener(myOnItemSelectedListener);
        updatePageRangeOptions(-1);
        this.mPageRangeTitle = (TextView) findViewById(2131099711);
        EditText editText3 = (EditText) findViewById(2131099710);
        this.mPageRangeEditText = editText3;
        editText3.setVisibility(8);
        this.mPageRangeTitle.setVisibility(8);
        this.mPageRangeEditText.setOnFocusChangeListener(this.mSelectAllOnFocusListener);
        this.mPageRangeEditText.addTextChangedListener(new RangeTextWatcher());
        Button button = (Button) findViewById(2131099697);
        this.mMoreOptionsButton = button;
        button.setOnClickListener(myClickListener);
        ImageView imageView = (ImageView) findViewById(2131099717);
        this.mPrintButton = imageView;
        imageView.setOnClickListener(myClickListener);
        this.mIsOptionsUiBound = true;
        if (hasUserEverPrinted()) {
            return;
        }
        this.mShowDestinationPrompt = true;
        this.mSummaryCopies.setEnabled(false);
        this.mSummaryPaperSize.setEnabled(false);
        this.mDestinationSpinner.setPerformClickListener(new View.OnClickListener() { // from class: com.android.printspooler.ui.-$$Lambda$PrintActivity$juVFveJJ5zfKzHT10XGPOk1lR6w
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                PrintActivity.this.lambda$bindUi$3$PrintActivity(view);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$bindUi$3, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$bindUi$3$PrintActivity(View view) {
        this.mShowDestinationPrompt = false;
        this.mSummaryCopies.setEnabled(true);
        this.mSummaryPaperSize.setEnabled(true);
        updateOptionsUi();
        this.mDestinationSpinner.setPerformClickListener(null);
        this.mDestinationSpinnerAdapter.notifyDataSetChanged();
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public Loader<List<PrintServiceInfo>> onCreateLoader(int i, Bundle bundle) {
        return new PrintServicesLoader((PrintManager) getSystemService("print"), this, 1);
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public void onLoadFinished(Loader<List<PrintServiceInfo>> loader, List<PrintServiceInfo> list) {
        ComponentName componentName;
        boolean z = false;
        if (this.mCurrentPrinter != null && list != null) {
            int size = list.size();
            for (int i = 0; i < size; i++) {
                PrintServiceInfo printServiceInfo = list.get(i);
                if (printServiceInfo.getComponentName().equals(this.mCurrentPrinter.getId().getServiceName())) {
                    String advancedOptionsActivityName = printServiceInfo.getAdvancedOptionsActivityName();
                    if (!TextUtils.isEmpty(advancedOptionsActivityName)) {
                        componentName = new ComponentName(printServiceInfo.getComponentName().getPackageName(), advancedOptionsActivityName);
                        break;
                    }
                }
            }
        }
        componentName = null;
        if (!Objects.equals(componentName, this.mAdvancedPrintOptionsActivity)) {
            this.mAdvancedPrintOptionsActivity = componentName;
            updateOptionsUi();
        }
        if (list != null && !list.isEmpty()) {
            z = true;
        }
        if (this.mArePrintServicesEnabled != z) {
            this.mArePrintServicesEnabled = z;
            DestinationAdapter destinationAdapter = this.mDestinationSpinnerAdapter;
            if (destinationAdapter != null) {
                destinationAdapter.notifyDataSetChanged();
            }
        }
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public void onLoaderReset(Loader<List<PrintServiceInfo>> loader) {
        if (isFinishing() || isDestroyed()) {
            return;
        }
        onLoadFinished(loader, (List<PrintServiceInfo>) null);
    }

    /* loaded from: /content/classes1.dex */
    public static final class PrintServiceApprovalDialog extends DialogFragment implements SharedPreferences.OnSharedPreferenceChangeListener {
        private ApprovedPrintServices mApprovedServices;

        static PrintServiceApprovalDialog newInstance(ComponentName componentName) {
            PrintServiceApprovalDialog printServiceApprovalDialog = new PrintServiceApprovalDialog();
            Bundle bundle = new Bundle();
            bundle.putParcelable("PRINTSERVICE", componentName);
            printServiceApprovalDialog.setArguments(bundle);
            return printServiceApprovalDialog;
        }

        @Override // android.app.DialogFragment, android.app.Fragment
        public void onStop() {
            super.onStop();
            this.mApprovedServices.unregisterChangeListener(this);
        }

        @Override // android.app.DialogFragment, android.app.Fragment
        public void onStart() {
            super.onStart();
            ComponentName componentName = (ComponentName) getArguments().getParcelable("PRINTSERVICE");
            synchronized (ApprovedPrintServices.sLock) {
                if (this.mApprovedServices.isApprovedService(componentName)) {
                    dismiss();
                } else {
                    this.mApprovedServices.registerChangeListenerLocked(this);
                }
            }
        }

        @Override // android.app.DialogFragment
        public Dialog onCreateDialog(Bundle bundle) {
            CharSequence charSequence;
            super.onCreateDialog(bundle);
            this.mApprovedServices = new ApprovedPrintServices(getActivity());
            PackageManager packageManager = getActivity().getPackageManager();
            try {
                charSequence = packageManager.getApplicationInfo(((ComponentName) getArguments().getParcelable("PRINTSERVICE")).getPackageName(), 0).loadLabel(packageManager);
            } catch (PackageManager.NameNotFoundException unused) {
                charSequence = null;
            }
            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity(), 2131492867);
            builder.setTitle(getString(2131427388, charSequence)).setMessage(getString(2131427387, charSequence)).setPositiveButton(R.string.ok, new DialogInterface.OnClickListener() { // from class: com.android.printspooler.ui.PrintActivity.PrintServiceApprovalDialog.1
                @Override // android.content.DialogInterface.OnClickListener
                public void onClick(DialogInterface dialogInterface, int i) {
                    ComponentName componentName = (ComponentName) PrintServiceApprovalDialog.this.getArguments().getParcelable("PRINTSERVICE");
                    PrintServiceApprovalDialog.this.mApprovedServices.unregisterChangeListener(PrintServiceApprovalDialog.this);
                    PrintServiceApprovalDialog.this.mApprovedServices.addApprovedService(componentName);
                    ((PrintActivity) PrintServiceApprovalDialog.this.getActivity()).confirmPrint();
                }
            }).setNegativeButton(R.string.cancel, (DialogInterface.OnClickListener) null);
            return builder.create();
        }

        @Override // android.content.SharedPreferences.OnSharedPreferenceChangeListener
        public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String str) {
            ComponentName componentName = (ComponentName) getArguments().getParcelable("PRINTSERVICE");
            synchronized (ApprovedPrintServices.sLock) {
                if (this.mApprovedServices.isApprovedService(componentName)) {
                    dismiss();
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class MyClickListener implements View.OnClickListener {
        private MyClickListener() {
        }

        @Override // android.view.View.OnClickListener
        public void onClick(View view) {
            if (view == PrintActivity.this.mPrintButton) {
                if (PrintActivity.this.mCurrentPrinter != null) {
                    if (PrintActivity.this.mDestinationSpinnerAdapter.getPdfPrinter() == PrintActivity.this.mCurrentPrinter) {
                        PrintActivity.this.confirmPrint();
                        return;
                    }
                    ApprovedPrintServices approvedPrintServices = new ApprovedPrintServices(PrintActivity.this);
                    ComponentName serviceName = PrintActivity.this.mCurrentPrinter.getId().getServiceName();
                    if (approvedPrintServices.isApprovedService(serviceName)) {
                        PrintActivity.this.confirmPrint();
                        return;
                    } else {
                        PrintServiceApprovalDialog.newInstance(serviceName).show(PrintActivity.this.getFragmentManager(), "approve");
                        return;
                    }
                }
                PrintActivity.this.cancelPrint();
                return;
            }
            if (view == PrintActivity.this.mMoreOptionsButton) {
                if (PrintActivity.this.mPageRangeEditText.getError() == null) {
                    PrintActivity.this.updateSelectedPagesFromTextField();
                }
                if (PrintActivity.this.mCurrentPrinter != null) {
                    PrintActivity printActivity = PrintActivity.this;
                    printActivity.startAdvancedPrintOptionsActivity(printActivity.mCurrentPrinter);
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static boolean canPrint(PrinterInfo printerInfo) {
        return (printerInfo.getCapabilities() == null || printerInfo.getStatus() == 3) ? false : true;
    }

    private void disableOptionsUi(boolean z) {
        this.mCopiesEditText.setEnabled(false);
        this.mCopiesEditText.setFocusable(false);
        this.mMediaSizeSpinner.setEnabled(false);
        this.mColorModeSpinner.setEnabled(false);
        this.mDuplexModeSpinner.setEnabled(false);
        this.mOrientationSpinner.setEnabled(false);
        this.mPrintButton.setVisibility(8);
        this.mMoreOptionsButton.setEnabled(false);
        if (z) {
            this.mRangeOptionsSpinner.setEnabled(false);
            this.mPageRangeEditText.setEnabled(false);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* JADX WARN: Removed duplicated region for block: B:110:0x02a1  */
    /* JADX WARN: Removed duplicated region for block: B:113:0x02b2  */
    /* JADX WARN: Removed duplicated region for block: B:125:0x02e7  */
    /* JADX WARN: Removed duplicated region for block: B:140:0x036c  */
    /* JADX WARN: Removed duplicated region for block: B:143:0x0375  */
    /* JADX WARN: Removed duplicated region for block: B:146:0x0399  */
    /* JADX WARN: Removed duplicated region for block: B:149:0x03cc  */
    /* JADX WARN: Removed duplicated region for block: B:164:0x0416  */
    /* JADX WARN: Removed duplicated region for block: B:167:0x0465  */
    /* JADX WARN: Removed duplicated region for block: B:172:0x0494  */
    /* JADX WARN: Removed duplicated region for block: B:174:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:175:0x0421  */
    /* JADX WARN: Removed duplicated region for block: B:182:0x03ae  */
    /* JADX WARN: Removed duplicated region for block: B:183:0x0383  */
    /* JADX WARN: Removed duplicated region for block: B:184:0x02a3  */
    /* JADX WARN: Removed duplicated region for block: B:185:0x01f7  */
    /* JADX WARN: Removed duplicated region for block: B:193:0x013f  */
    /* JADX WARN: Removed duplicated region for block: B:28:0x0095  */
    /* JADX WARN: Removed duplicated region for block: B:56:0x0164  */
    /* JADX WARN: Removed duplicated region for block: B:84:0x021c  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void updateOptionsUi() {
        /*
            Method dump skipped, instructions count: 1190
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.ui.PrintActivity.updateOptionsUi():void");
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updateSummary() {
        Editable editable;
        if (this.mIsOptionsUiBound) {
            CharSequence charSequence = null;
            if (TextUtils.isEmpty(this.mCopiesEditText.getText())) {
                editable = null;
            } else {
                editable = this.mCopiesEditText.getText();
                this.mSummaryCopies.setText(editable);
            }
            int selectedItemPosition = this.mMediaSizeSpinner.getSelectedItemPosition();
            if (selectedItemPosition >= 0) {
                charSequence = this.mMediaSizeSpinnerAdapter.getItem(selectedItemPosition).label;
                this.mSummaryPaperSize.setText(charSequence);
            }
            if (TextUtils.isEmpty(editable) || TextUtils.isEmpty(charSequence)) {
                return;
            }
            this.mSummaryContainer.setContentDescription(getString(2131427407, new Object[]{Integer.valueOf(Integer.parseInt(editable.toString())), charSequence}));
        }
    }

    private void updatePageRangeOptions(int i) {
        ArrayAdapter arrayAdapter = (ArrayAdapter) this.mRangeOptionsSpinner.getAdapter();
        arrayAdapter.clear();
        int[] intArray = getResources().getIntArray(2130771972);
        if (i > 0) {
            String.valueOf(i);
        }
        String[] strArr = {getString(2131427408, new Object[]{Integer.valueOf(i)}), getString(2131427409, new Object[]{Integer.valueOf(i)})};
        for (int i2 = 0; i2 < 2; i2++) {
            arrayAdapter.add(new SpinnerItem(this, Integer.valueOf(intArray[i2]), strArr[i2]));
        }
    }

    private PageRange[] computeSelectedPages() {
        if (hasErrors()) {
            return null;
        }
        if (this.mRangeOptionsSpinner.getSelectedItemPosition() > 0) {
            PrintDocumentInfo printDocumentInfo = this.mPrintedDocument.getDocumentInfo().info;
            return PageRangeUtils.parsePageRanges(this.mPageRangeEditText.getText(), printDocumentInfo != null ? getAdjustedPageCount(printDocumentInfo) : 0);
        }
        return PageRange.ALL_PAGES_ARRAY;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public int getAdjustedPageCount(PrintDocumentInfo printDocumentInfo) {
        int pageCount;
        return (printDocumentInfo == null || (pageCount = printDocumentInfo.getPageCount()) == -1) ? this.mPrintPreviewController.getFilePageCount() : pageCount;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean hasErrors() {
        return this.mCopiesEditText.getError() != null || (this.mPageRangeEditText.getVisibility() == 0 && this.mPageRangeEditText.getError() != null);
    }

    public void onPrinterAvailable(PrinterInfo printerInfo) {
        PrinterInfo printerInfo2 = this.mCurrentPrinter;
        if (printerInfo2 == null || !printerInfo2.equals(printerInfo)) {
            return;
        }
        setState(1);
        if (canUpdateDocument()) {
            updateDocument(false);
        }
        ensurePreviewUiShown();
    }

    public void onPrinterUnavailable(PrinterInfo printerInfo) {
        PrinterInfo printerInfo2 = this.mCurrentPrinter;
        if (printerInfo2 == null || printerInfo2.getId().equals(printerInfo.getId())) {
            setState(6);
            this.mPrintedDocument.cancel(false);
            ensureErrorUiShown(getString(2131427374), 0);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean canUpdateDocument() {
        PrinterInfo printerInfo;
        if (this.mPrintedDocument.isDestroyed() || hasErrors()) {
            return false;
        }
        PrintAttributes attributes = this.mPrintJob.getAttributes();
        int colorMode = attributes.getColorMode();
        return ((colorMode != 2 && colorMode != 1) || attributes.getMediaSize() == null || attributes.getMinMargins() == null || attributes.getResolution() == null || (printerInfo = this.mCurrentPrinter) == null || printerInfo.getCapabilities() == null || this.mCurrentPrinter.getStatus() == 3) ? false : true;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void transformDocumentAndFinish(final Uri uri, final Uri uri2) {
        new DocumentTransformer(this, this.mPrintJob, this.mFileProvider, this.mDestinationSpinnerAdapter.getPdfPrinter() == this.mCurrentPrinter ? this.mPrintJob.getAttributes() : null, new Consumer() { // from class: com.android.printspooler.ui.-$$Lambda$PrintActivity$oTDDWNwAyin7-H2hGeZKSLrVYdw
            @Override // java.util.function.Consumer
            public final void accept(Object obj) {
                PrintActivity.this.lambda$transformDocumentAndFinish$4$PrintActivity(uri, uri2, (String) obj);
            }
        }).transform();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$transformDocumentAndFinish$4, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$transformDocumentAndFinish$4$PrintActivity(Uri uri, Uri uri2, String str) {
        if (str == null) {
            if (uri != null) {
                this.mPrintedDocument.writeContent(getContentResolver(), uri);
                if (uri2 != null) {
                    sendScanFile(uri2);
                }
            }
            setState(8);
            doFinish();
            return;
        }
        onPrintDocumentError(str);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void doFinish() {
        RemotePrintDocument remotePrintDocument = this.mPrintedDocument;
        if ((remotePrintDocument == null || !remotePrintDocument.isUpdating()) && !this.mIsFinishing) {
            this.mIsFinishing = true;
            PrinterRegistry printerRegistry = this.mPrinterRegistry;
            if (printerRegistry != null) {
                printerRegistry.setTrackedPrinter(null);
                this.mPrinterRegistry.setOnPrintersChangeListener(null);
            }
            PrintersObserver printersObserver = this.mPrintersObserver;
            if (printersObserver != null) {
                this.mDestinationSpinnerAdapter.unregisterDataSetObserver(printersObserver);
            }
            PrintSpoolerProvider printSpoolerProvider = this.mSpoolerProvider;
            if (printSpoolerProvider != null) {
                printSpoolerProvider.destroy();
            }
            ProgressMessageController progressMessageController = this.mProgressMessageController;
            if (progressMessageController != null) {
                setState(progressMessageController.cancel());
            }
            if (this.mState != 0) {
                this.mPrintedDocument.finish();
                this.mPrintedDocument.destroy();
                this.mPrintPreviewController.destroy(new Runnable() { // from class: com.android.printspooler.ui.PrintActivity.4
                    @Override // java.lang.Runnable
                    public void run() {
                        PrintActivity.this.finish();
                    }
                });
                return;
            }
            finish();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class SpinnerItem<T> {
        final CharSequence label;
        final T value;

        public SpinnerItem(PrintActivity printActivity, T t, CharSequence charSequence) {
            this.value = t;
            this.label = charSequence;
        }

        public String toString() {
            return this.label.toString();
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class PrinterAvailabilityDetector implements Runnable {
        private boolean mPosted;
        private PrinterInfo mPrinter;
        private boolean mPrinterUnavailable;

        private PrinterAvailabilityDetector() {
        }

        public void updatePrinter(PrinterInfo printerInfo) {
            if (printerInfo.equals(PrintActivity.this.mDestinationSpinnerAdapter.getPdfPrinter())) {
                return;
            }
            boolean z = true;
            boolean z2 = (printerInfo.getStatus() == 3 || printerInfo.getCapabilities() == null) ? false : true;
            PrinterInfo printerInfo2 = this.mPrinter;
            if (printerInfo2 == null || !printerInfo2.getId().equals(printerInfo.getId())) {
                unpostIfNeeded();
                this.mPrinterUnavailable = false;
                this.mPrinter = new PrinterInfo.Builder(printerInfo).build();
            } else {
                if ((this.mPrinter.getStatus() != 3 || printerInfo.getStatus() == 3) && (this.mPrinter.getCapabilities() != null || printerInfo.getCapabilities() == null)) {
                    z = false;
                }
                this.mPrinter = printerInfo;
            }
            if (z2) {
                unpostIfNeeded();
                this.mPrinterUnavailable = false;
                if (z) {
                    PrintActivity.this.onPrinterAvailable(this.mPrinter);
                    return;
                }
                return;
            }
            if (this.mPrinterUnavailable) {
                return;
            }
            postIfNeeded();
        }

        public void cancel() {
            unpostIfNeeded();
            this.mPrinterUnavailable = false;
        }

        private void postIfNeeded() {
            if (this.mPosted) {
                return;
            }
            this.mPosted = true;
            PrintActivity.this.mDestinationSpinner.postDelayed(this, 10000L);
        }

        private void unpostIfNeeded() {
            if (this.mPosted) {
                this.mPosted = false;
                PrintActivity.this.mDestinationSpinner.removeCallbacks(this);
            }
        }

        @Override // java.lang.Runnable
        public void run() {
            this.mPosted = false;
            this.mPrinterUnavailable = true;
            PrintActivity.this.onPrinterUnavailable(this.mPrinter);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class PrinterHolder {
        PrinterInfo printer;
        boolean removed;

        public PrinterHolder(PrinterInfo printerInfo) {
            this.printer = printerInfo;
        }
    }

    private boolean hasUserEverPrinted() {
        return getSharedPreferences("has_printed", 0).getBoolean("has_printed", false);
    }

    private void setUserPrinted() {
        SharedPreferences sharedPreferences = getSharedPreferences("has_printed", 0);
        if (sharedPreferences.getBoolean("has_printed", false)) {
            return;
        }
        SharedPreferences.Editor edit = sharedPreferences.edit();
        edit.putBoolean("has_printed", true);
        edit.apply();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class DestinationAdapter extends BaseAdapter implements PrinterRegistry.OnPrintersChangeListener {
        private boolean hadPromptView;
        private final PrinterHolder mFakePdfPrinterHolder;
        private boolean mHistoricalPrintersLoaded;
        private final List<PrinterHolder> mPrinterHolders = new ArrayList();

        public DestinationAdapter() {
            boolean areHistoricalPrintersLoaded = PrintActivity.this.mPrinterRegistry.areHistoricalPrintersLoaded();
            this.mHistoricalPrintersLoaded = areHistoricalPrintersLoaded;
            if (areHistoricalPrintersLoaded) {
                addPrinters(this.mPrinterHolders, PrintActivity.this.mPrinterRegistry.getPrinters());
            }
            PrintActivity.this.mPrinterRegistry.setOnPrintersChangeListener(this);
            this.mFakePdfPrinterHolder = new PrinterHolder(createFakePdfPrinter());
        }

        public PrinterInfo getPdfPrinter() {
            return this.mFakePdfPrinterHolder.printer;
        }

        public int getPrinterIndex(PrinterId printerId) {
            for (int i = 0; i < getCount(); i++) {
                PrinterHolder printerHolder = (PrinterHolder) getItem(i);
                if (printerHolder != null && printerHolder.printer.getId().equals(printerId)) {
                    return i;
                }
            }
            return -1;
        }

        public void ensurePrinterInVisibleAdapterPosition(PrinterInfo printerInfo) {
            boolean z;
            int size = this.mPrinterHolders.size();
            int i = 0;
            while (true) {
                if (i >= size) {
                    z = false;
                    break;
                }
                PrinterHolder printerHolder = this.mPrinterHolders.get(i);
                if (printerHolder.printer.getId().equals(printerInfo.getId())) {
                    if (i >= getCount() - 2) {
                        int count = getCount() - 3;
                        List<PrinterHolder> list = this.mPrinterHolders;
                        list.set(i, list.get(count));
                        this.mPrinterHolders.set(count, printerHolder);
                    }
                    z = true;
                } else {
                    i++;
                }
            }
            if (!z) {
                PrinterHolder printerHolder2 = new PrinterHolder(printerInfo);
                printerHolder2.removed = true;
                this.mPrinterHolders.add(Math.max(0, getCount() - 3), printerHolder2);
            }
            notifyDataSetChanged();
        }

        @Override // android.widget.Adapter
        public int getCount() {
            if (this.mHistoricalPrintersLoaded) {
                return Math.min(this.mPrinterHolders.size() + 2, 9);
            }
            return 0;
        }

        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean isEnabled(int i) {
            Object item = getItem(i);
            if (!(item instanceof PrinterHolder)) {
                return true;
            }
            PrinterHolder printerHolder = (PrinterHolder) item;
            return (printerHolder.removed || printerHolder.printer.getStatus() == 3) ? false : true;
        }

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            if (this.mPrinterHolders.isEmpty()) {
                if (i == 0) {
                    return this.mFakePdfPrinterHolder;
                }
                return null;
            }
            if (i < 1) {
                return this.mPrinterHolders.get(i);
            }
            if (i == 1) {
                return this.mFakePdfPrinterHolder;
            }
            if (i < getCount() - 1) {
                return this.mPrinterHolders.get(i - 1);
            }
            return null;
        }

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            if (this.mPrinterHolders.isEmpty()) {
                if (i == 0) {
                    return 2147483647L;
                }
                if (i == 1) {
                    return 2147483646L;
                }
            } else {
                if (i == 1) {
                    return 2147483647L;
                }
                if (i == getCount() - 1) {
                    return 2147483646L;
                }
            }
            return i;
        }

        @Override // android.widget.BaseAdapter, android.widget.SpinnerAdapter
        public View getDropDownView(int i, View view, ViewGroup viewGroup) {
            View view2 = getView(i, view, viewGroup);
            view2.setEnabled(isEnabled(i));
            return view2;
        }

        private String getMoreItemTitle() {
            if (PrintActivity.this.mArePrintServicesEnabled) {
                return PrintActivity.this.getString(2131427329);
            }
            return PrintActivity.this.getString(2131427369);
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            Drawable loadIcon;
            String description;
            String str;
            Drawable drawable;
            if (PrintActivity.this.mShowDestinationPrompt) {
                if (view != null) {
                    return view;
                }
                View inflate = PrintActivity.this.getLayoutInflater().inflate(2131230752, viewGroup, false);
                this.hadPromptView = true;
                return inflate;
            }
            if (this.hadPromptView || view == null) {
                view = PrintActivity.this.getLayoutInflater().inflate(2131230751, viewGroup, false);
            }
            if (this.mPrinterHolders.isEmpty()) {
                if (i == 0 && getPdfPrinter() != null) {
                    str = ((PrinterHolder) getItem(i)).printer.getName();
                    drawable = PrintActivity.this.getResources().getDrawable(2131034156, null);
                    loadIcon = drawable;
                    description = null;
                } else if (i == 1) {
                    str = getMoreItemTitle();
                    description = null;
                    loadIcon = description;
                } else {
                    str = null;
                    description = null;
                    loadIcon = description;
                }
            } else if (i == 1 && getPdfPrinter() != null) {
                str = ((PrinterHolder) getItem(i)).printer.getName();
                drawable = PrintActivity.this.getResources().getDrawable(2131034156, null);
                loadIcon = drawable;
                description = null;
            } else if (i == getCount() - 1) {
                str = getMoreItemTitle();
                description = null;
                loadIcon = description;
            } else {
                PrinterInfo printerInfo = ((PrinterHolder) getItem(i)).printer;
                String name = printerInfo.getName();
                loadIcon = printerInfo.loadIcon(PrintActivity.this);
                description = printerInfo.getDescription();
                str = name;
            }
            ((TextView) view.findViewById(2131099734)).setText(str);
            TextView textView = (TextView) view.findViewById(2131099726);
            if (!TextUtils.isEmpty(description)) {
                textView.setText(description);
                textView.setVisibility(0);
            } else {
                textView.setText((CharSequence) null);
                textView.setVisibility(8);
            }
            ImageView imageView = (ImageView) view.findViewById(2131099686);
            if (loadIcon != null) {
                imageView.setVisibility(0);
                if (!isEnabled(i)) {
                    loadIcon.mutate();
                    TypedValue typedValue = new TypedValue();
                    PrintActivity.this.getTheme().resolveAttribute(R.attr.disabledAlpha, typedValue, true);
                    loadIcon.setAlpha((int) (typedValue.getFloat() * 255.0f));
                }
                imageView.setImageDrawable(loadIcon);
            } else {
                imageView.setVisibility(4);
            }
            return view;
        }

        @Override // com.android.printspooler.ui.PrinterRegistry.OnPrintersChangeListener
        public void onPrintersChanged(List<PrinterInfo> list) {
            this.mHistoricalPrintersLoaded = PrintActivity.this.mPrinterRegistry.areHistoricalPrintersLoaded();
            if (this.mPrinterHolders.isEmpty()) {
                addPrinters(this.mPrinterHolders, list);
                notifyDataSetChanged();
                return;
            }
            ArrayMap arrayMap = new ArrayMap();
            int size = list.size();
            for (int i = 0; i < size; i++) {
                PrinterInfo printerInfo = list.get(i);
                arrayMap.put(printerInfo.getId(), printerInfo);
            }
            ArrayList arrayList = new ArrayList();
            int size2 = this.mPrinterHolders.size();
            for (int i2 = 0; i2 < size2; i2++) {
                PrinterHolder printerHolder = this.mPrinterHolders.get(i2);
                PrinterId id = printerHolder.printer.getId();
                PrinterInfo printerInfo2 = (PrinterInfo) arrayMap.remove(id);
                if (printerInfo2 == null) {
                    if (PrintActivity.this.mCurrentPrinter != null && PrintActivity.this.mCurrentPrinter.getId().equals(id)) {
                        printerHolder.removed = true;
                        PrintActivity.this.onPrinterUnavailable(printerHolder.printer);
                        arrayList.add(printerHolder);
                    }
                } else {
                    printerHolder.printer = printerInfo2;
                    printerHolder.removed = false;
                    if (PrintActivity.canPrint(printerInfo2)) {
                        PrintActivity.this.onPrinterAvailable(printerHolder.printer);
                    } else {
                        PrintActivity.this.onPrinterUnavailable(printerHolder.printer);
                    }
                    arrayList.add(printerHolder);
                }
            }
            addPrinters(arrayList, arrayMap.values());
            this.mPrinterHolders.clear();
            this.mPrinterHolders.addAll(arrayList);
            notifyDataSetChanged();
        }

        @Override // com.android.printspooler.ui.PrinterRegistry.OnPrintersChangeListener
        public void onPrintersInvalid() {
            this.mPrinterHolders.clear();
            notifyDataSetInvalidated();
        }

        public PrinterHolder getPrinterHolder(PrinterId printerId) {
            int count = getCount();
            for (int i = 0; i < count; i++) {
                Object item = getItem(i);
                if (item instanceof PrinterHolder) {
                    PrinterHolder printerHolder = (PrinterHolder) item;
                    if (printerId.equals(printerHolder.printer.getId())) {
                        return printerHolder;
                    }
                }
            }
            return null;
        }

        public boolean pruneRemovedPrinter(PrinterId printerId) {
            for (int size = this.mPrinterHolders.size() - 1; size >= 0; size--) {
                PrinterHolder printerHolder = this.mPrinterHolders.get(size);
                if (printerHolder.printer.getId().equals(printerId) && printerHolder.removed) {
                    this.mPrinterHolders.remove(size);
                    return true;
                }
            }
            return false;
        }

        private void addPrinters(List<PrinterHolder> list, Collection<PrinterInfo> collection) {
            Iterator<PrinterInfo> it = collection.iterator();
            while (it.hasNext()) {
                list.add(new PrinterHolder(it.next()));
            }
        }

        private PrinterInfo createFakePdfPrinter() {
            ArraySet allPredefinedSizes = PrintAttributes.MediaSize.getAllPredefinedSizes();
            PrintAttributes.MediaSize mediaSize = MediaSizeUtils.getDefault(PrintActivity.this);
            PrinterId printerId = new PrinterId(PrintActivity.this.getComponentName(), "PDF printer");
            PrinterCapabilitiesInfo.Builder builder = new PrinterCapabilitiesInfo.Builder(printerId);
            int size = allPredefinedSizes.size();
            for (int i = 0; i < size; i++) {
                PrintAttributes.MediaSize mediaSize2 = (PrintAttributes.MediaSize) allPredefinedSizes.valueAt(i);
                builder.addMediaSize(mediaSize2, mediaSize2.equals(mediaSize));
            }
            builder.addResolution(new PrintAttributes.Resolution("PDF resolution", "PDF resolution", 300, 300), true);
            builder.setColorModes(3, 2);
            return new PrinterInfo.Builder(printerId, PrintActivity.this.getString(2131427398), 1).setCapabilities(builder.build()).build();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class PrintersObserver extends DataSetObserver {
        private PrintersObserver() {
        }

        @Override // android.database.DataSetObserver
        public void onChanged() {
            PrinterHolder printerHolder;
            PrinterInfo printerInfo = PrintActivity.this.mCurrentPrinter;
            if (printerInfo == null || (printerHolder = PrintActivity.this.mDestinationSpinnerAdapter.getPrinterHolder(printerInfo.getId())) == null) {
                return;
            }
            PrinterInfo printerInfo2 = printerHolder.printer;
            if (printerHolder.removed) {
                PrintActivity.this.onPrinterUnavailable(printerInfo2);
            }
            if (PrintActivity.this.mDestinationSpinner.getSelectedItem() != printerHolder) {
                PrintActivity.this.mDestinationSpinner.setSelection(PrintActivity.this.mDestinationSpinnerAdapter.getPrinterIndex(printerInfo2.getId()));
            }
            if (printerInfo.equals(printerInfo2)) {
                return;
            }
            PrinterCapabilitiesInfo capabilities = printerInfo.getCapabilities();
            PrinterCapabilitiesInfo capabilities2 = printerInfo2.getCapabilities();
            boolean z = capabilities != null;
            boolean z2 = capabilities2 != null;
            boolean z3 = capabilities == null && capabilities2 != null;
            boolean z4 = capabilities != null && capabilities2 == null;
            boolean capabilitiesChanged = capabilitiesChanged(capabilities, capabilities2);
            int status = printerInfo.getStatus();
            int status2 = printerInfo2.getStatus();
            boolean z5 = status2 != 3;
            boolean z6 = status == 3 && status != status2;
            boolean z7 = status2 == 3 && status != status2;
            PrintActivity.this.mPrinterAvailabilityDetector.updatePrinter(printerInfo2);
            PrintActivity.this.mCurrentPrinter = printerInfo2;
            boolean z8 = (capabilitiesChanged && z2 && z5) || (z6 && z2) || (z5 && z3);
            if (capabilitiesChanged && z2) {
                PrintActivity.this.updatePrintAttributesFromCapabilities(capabilities2);
            }
            if (z8) {
                PrintActivity.this.updatePrintPreviewController(false);
            }
            if ((z5 && z3) || (z6 && z2)) {
                PrintActivity.this.onPrinterAvailable(printerInfo2);
            } else if ((z7 && z) || (z5 && z4)) {
                PrintActivity.this.onPrinterUnavailable(printerInfo2);
            }
            if (z8 && PrintActivity.this.canUpdateDocument()) {
                PrintActivity.this.updateDocument(false);
            }
            if (PrintActivity.this.getLoaderManager().getLoader(1) != null) {
                PrintActivity.this.getLoaderManager().getLoader(1).forceLoad();
            }
            PrintActivity.this.updateOptionsUi();
            PrintActivity.this.updateSummary();
        }

        private boolean capabilitiesChanged(PrinterCapabilitiesInfo printerCapabilitiesInfo, PrinterCapabilitiesInfo printerCapabilitiesInfo2) {
            return printerCapabilitiesInfo == null ? printerCapabilitiesInfo2 != null : !printerCapabilitiesInfo.equals(printerCapabilitiesInfo2);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class MyOnItemSelectedListener implements AdapterView.OnItemSelectedListener {
        @Override // android.widget.AdapterView.OnItemSelectedListener
        public void onNothingSelected(AdapterView<?> adapterView) {
        }

        private MyOnItemSelectedListener() {
        }

        /* JADX WARN: Multi-variable type inference failed */
        /* JADX WARN: Removed duplicated region for block: B:46:0x02e3  */
        /* JADX WARN: Removed duplicated region for block: B:49:0x02f5  */
        /* JADX WARN: Removed duplicated region for block: B:51:? A[RETURN, SYNTHETIC] */
        @Override // android.widget.AdapterView.OnItemSelectedListener
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void onItemSelected(android.widget.AdapterView<?> r4, android.view.View r5, int r6, long r7) {
            /*
                Method dump skipped, instructions count: 763
                To view this dump add '--comments-level debug' option
            */
            throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.ui.PrintActivity.MyOnItemSelectedListener.onItemSelected(android.widget.AdapterView, android.view.View, int, long):void");
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class SelectAllOnFocusListener implements View.OnFocusChangeListener {
        private SelectAllOnFocusListener() {
        }

        @Override // android.view.View.OnFocusChangeListener
        public void onFocusChange(View view, boolean z) {
            EditText editText = (EditText) view;
            if (!TextUtils.isEmpty(editText.getText())) {
                editText.setSelection(editText.getText().length());
            }
            if (view == PrintActivity.this.mPageRangeEditText && !z && PrintActivity.this.mPageRangeEditText.getError() == null) {
                PrintActivity.this.updateSelectedPagesFromTextField();
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class RangeTextWatcher implements TextWatcher {
        @Override // android.text.TextWatcher
        public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        }

        @Override // android.text.TextWatcher
        public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        }

        private RangeTextWatcher() {
        }

        @Override // android.text.TextWatcher
        public void afterTextChanged(Editable editable) {
            boolean hasErrors = PrintActivity.this.hasErrors();
            PrintDocumentInfo printDocumentInfo = PrintActivity.this.mPrintedDocument.getDocumentInfo().info;
            if (PageRangeUtils.parsePageRanges(editable, printDocumentInfo != null ? PrintActivity.this.getAdjustedPageCount(printDocumentInfo) : 0).length == 0) {
                if (PrintActivity.this.mPageRangeEditText.getError() == null) {
                    PrintActivity.this.mPageRangeEditText.setError("");
                    PrintActivity.this.updateOptionsUi();
                    return;
                }
                return;
            }
            if (PrintActivity.this.mPageRangeEditText.getError() != null) {
                PrintActivity.this.mPageRangeEditText.setError(null);
                PrintActivity.this.updateOptionsUi();
            }
            if (hasErrors && PrintActivity.this.canUpdateDocument()) {
                PrintActivity.this.updateDocument(false);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class EditTextWatcher implements TextWatcher {
        @Override // android.text.TextWatcher
        public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        }

        @Override // android.text.TextWatcher
        public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        }

        private EditTextWatcher() {
        }

        @Override // android.text.TextWatcher
        public void afterTextChanged(Editable editable) {
            int i;
            boolean hasErrors = PrintActivity.this.hasErrors();
            if (editable.length() == 0) {
                if (PrintActivity.this.mCopiesEditText.getError() == null) {
                    PrintActivity.this.mCopiesEditText.setError("");
                    PrintActivity.this.updateOptionsUi();
                    return;
                }
                return;
            }
            try {
                i = Integer.parseInt(editable.toString());
            } catch (NumberFormatException unused) {
                i = 0;
            }
            if (PrintActivity.this.mState != 0) {
                MetricsLogger.action(PrintActivity.this, 508, 1);
            }
            if (i < 1) {
                if (PrintActivity.this.mCopiesEditText.getError() == null) {
                    PrintActivity.this.mCopiesEditText.setError("");
                    PrintActivity.this.updateOptionsUi();
                    return;
                }
                return;
            }
            PrintActivity.this.mPrintJob.setCopies(i);
            if (PrintActivity.this.mCopiesEditText.getError() != null) {
                PrintActivity.this.mCopiesEditText.setError(null);
                PrintActivity.this.updateOptionsUi();
            }
            if (hasErrors && PrintActivity.this.canUpdateDocument()) {
                PrintActivity.this.updateDocument(false);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class ProgressMessageController implements Runnable {
        private final Handler mHandler;
        private boolean mPosted;
        private int mPreviousState = -1;

        public ProgressMessageController(Context context) {
            this.mHandler = new Handler(context.getMainLooper(), null, false);
        }

        public void post() {
            if (PrintActivity.this.mState == 7) {
                PrintActivity.this.setState(7);
                PrintActivity.this.ensureProgressUiShown();
            } else {
                if (this.mPosted) {
                    return;
                }
                this.mPreviousState = -1;
                this.mPosted = true;
                this.mHandler.postDelayed(this, 1000L);
            }
        }

        private int getStateAfterCancel() {
            int i = this.mPreviousState;
            return i == -1 ? PrintActivity.this.mState : i;
        }

        public int cancel() {
            int stateAfterCancel;
            if (!this.mPosted) {
                stateAfterCancel = getStateAfterCancel();
            } else {
                this.mPosted = false;
                this.mHandler.removeCallbacks(this);
                stateAfterCancel = getStateAfterCancel();
            }
            this.mPreviousState = -1;
            return stateAfterCancel;
        }

        @Override // java.lang.Runnable
        public void run() {
            this.mPosted = false;
            this.mPreviousState = PrintActivity.this.mState;
            PrintActivity.this.setState(7);
            PrintActivity.this.ensureProgressUiShown();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static final class DocumentTransformer implements ServiceConnection {
        private final PrintAttributes mAttributesToApply;
        private final Consumer<String> mCallback;
        private final Context mContext;
        private final MutexFileProvider mFileProvider;
        private boolean mIsTransformationStarted;
        private final PageRange[] mPagesToShred;
        private final PrintJobInfo mPrintJob;

        @Override // android.content.ServiceConnection
        public void onServiceDisconnected(ComponentName componentName) {
        }

        public DocumentTransformer(Context context, PrintJobInfo printJobInfo, MutexFileProvider mutexFileProvider, PrintAttributes printAttributes, Consumer<String> consumer) {
            this.mContext = context;
            this.mPrintJob = printJobInfo;
            this.mFileProvider = mutexFileProvider;
            this.mCallback = consumer;
            this.mPagesToShred = computePagesToShred(printJobInfo);
            this.mAttributesToApply = printAttributes;
        }

        public void transform() {
            if (this.mPagesToShred.length <= 0 && this.mAttributesToApply == null) {
                this.mCallback.accept(null);
                return;
            }
            Intent intent = new Intent("com.android.printspooler.renderer.ACTION_GET_EDITOR");
            intent.setClass(this.mContext, PdfManipulationService.class);
            this.mContext.bindService(intent, this, 1);
        }

        @Override // android.content.ServiceConnection
        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
            if (this.mIsTransformationStarted) {
                return;
            }
            final IPdfEditor asInterface = IPdfEditor.Stub.asInterface(iBinder);
            new AsyncTask<Void, Void, String>() { // from class: com.android.printspooler.ui.PrintActivity.DocumentTransformer.1
                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public String doInBackground(Void... voidArr) {
                    try {
                        DocumentTransformer.this.doTransform(asInterface);
                        DocumentTransformer.this.updatePrintJob();
                        return null;
                    } catch (RemoteException | IOException | IllegalStateException e) {
                        return e.toString();
                    }
                }

                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public void onPostExecute(String str) {
                    DocumentTransformer.this.mContext.unbindService(DocumentTransformer.this);
                    DocumentTransformer.this.mCallback.accept(str);
                }
            }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, new Void[0]);
            this.mIsTransformationStarted = true;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* JADX WARN: Removed duplicated region for block: B:31:0x00ad  */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void doTransform(com.android.printspooler.renderer.IPdfEditor r9) throws java.io.IOException, android.os.RemoteException {
            /*
                r8 = this;
                r0 = 0
                java.lang.String r1 = "PrintActivity"
                java.lang.StringBuilder r2 = new java.lang.StringBuilder     // Catch: java.lang.Throwable -> L9a
                r2.<init>()     // Catch: java.lang.Throwable -> L9a
                java.lang.String r3 = "trying to remove pages "
                r2.append(r3)     // Catch: java.lang.Throwable -> L9a
                android.print.PageRange[] r3 = r8.mPagesToShred     // Catch: java.lang.Throwable -> L9a
                java.util.List r3 = java.util.Arrays.asList(r3)     // Catch: java.lang.Throwable -> L9a
                r2.append(r3)     // Catch: java.lang.Throwable -> L9a
                java.lang.String r2 = r2.toString()     // Catch: java.lang.Throwable -> L9a
                android.util.Log.secI(r1, r2)     // Catch: java.lang.Throwable -> L9a
                com.android.printspooler.model.MutexFileProvider r1 = r8.mFileProvider     // Catch: java.lang.Throwable -> L9a
                java.io.File r1 = r1.acquireFile(r0)     // Catch: java.lang.Throwable -> L9a
                r2 = 805306368(0x30000000, float:4.656613E-10)
                android.os.ParcelFileDescriptor r3 = android.os.ParcelFileDescriptor.open(r1, r2)     // Catch: java.lang.Throwable -> L9a
                r9.openDocument(r3)     // Catch: java.lang.Throwable -> L93
                r3.close()     // Catch: java.lang.Throwable -> L93
                android.print.PageRange[] r4 = r8.mPagesToShred     // Catch: java.lang.Throwable -> L93
                r9.removePages(r4)     // Catch: java.lang.Throwable -> L93
                android.print.PrintAttributes r4 = r8.mAttributesToApply     // Catch: java.lang.Throwable -> L93
                if (r4 == 0) goto L3d
                android.print.PrintAttributes r4 = r8.mAttributesToApply     // Catch: java.lang.Throwable -> L93
                r9.applyPrintAttributes(r4)     // Catch: java.lang.Throwable -> L93
            L3d:
                java.lang.String r4 = "print_job"
                java.lang.String r5 = ".pdf"
                android.content.Context r6 = r8.mContext     // Catch: java.lang.Throwable -> L93
                java.io.File r6 = r6.getCacheDir()     // Catch: java.lang.Throwable -> L93
                java.io.File r4 = java.io.File.createTempFile(r4, r5, r6)     // Catch: java.lang.Throwable -> L93
                android.os.ParcelFileDescriptor r2 = android.os.ParcelFileDescriptor.open(r4, r2)     // Catch: java.lang.Throwable -> L8e
                r9.write(r2)     // Catch: java.lang.Throwable -> L8a
                r2.close()     // Catch: java.lang.Throwable -> L8a
                r9.closeDocument()     // Catch: java.lang.Throwable -> L8a
                r1.delete()     // Catch: java.lang.Throwable -> L8a
                java.io.FileInputStream r9 = new java.io.FileInputStream     // Catch: java.lang.Throwable -> L8a
                r9.<init>(r4)     // Catch: java.lang.Throwable -> L8a
                java.io.FileOutputStream r5 = new java.io.FileOutputStream     // Catch: java.lang.Throwable -> L83
                r5.<init>(r1)     // Catch: java.lang.Throwable -> L83
                libcore.io.Streams.copy(r9, r5)     // Catch: java.lang.Throwable -> L7f
                libcore.io.IoUtils.closeQuietly(r3)
                libcore.io.IoUtils.closeQuietly(r2)
                libcore.io.IoUtils.closeQuietly(r9)
                libcore.io.IoUtils.closeQuietly(r5)
                if (r4 == 0) goto L79
                r4.delete()
            L79:
                com.android.printspooler.model.MutexFileProvider r8 = r8.mFileProvider
                r8.releaseFile()
                return
            L7f:
                r0 = move-exception
                r1 = r9
                r9 = r0
                goto L98
            L83:
                r1 = move-exception
                r5 = r0
                r0 = r3
                r7 = r1
                r1 = r9
                r9 = r7
                goto L9f
            L8a:
                r9 = move-exception
                r1 = r0
                r5 = r1
                goto L98
            L8e:
                r9 = move-exception
                r1 = r0
                r2 = r1
                r5 = r2
                goto L98
            L93:
                r9 = move-exception
                r1 = r0
                r2 = r1
                r4 = r2
                r5 = r4
            L98:
                r0 = r3
                goto L9f
            L9a:
                r9 = move-exception
                r1 = r0
                r2 = r1
                r4 = r2
                r5 = r4
            L9f:
                libcore.io.IoUtils.closeQuietly(r0)
                libcore.io.IoUtils.closeQuietly(r2)
                libcore.io.IoUtils.closeQuietly(r1)
                libcore.io.IoUtils.closeQuietly(r5)
                if (r4 == 0) goto Lb0
                r4.delete()
            Lb0:
                com.android.printspooler.model.MutexFileProvider r8 = r8.mFileProvider
                r8.releaseFile()
                throw r9
            */
            throw new UnsupportedOperationException("Method not decompiled: com.android.printspooler.ui.PrintActivity.DocumentTransformer.doTransform(com.android.printspooler.renderer.IPdfEditor):void");
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void updatePrintJob() {
            int normalizedPageCount = PageRangeUtils.getNormalizedPageCount(this.mPrintJob.getPages(), 0);
            this.mPrintJob.setPages(new PageRange[]{PageRange.ALL_PAGES});
            PrintDocumentInfo documentInfo = this.mPrintJob.getDocumentInfo();
            PrintDocumentInfo build = new PrintDocumentInfo.Builder(documentInfo.getName()).setContentType(documentInfo.getContentType()).setPageCount(normalizedPageCount).build();
            try {
                build.setDataSize(this.mFileProvider.acquireFile(null).length());
                this.mFileProvider.releaseFile();
                this.mPrintJob.setDocumentInfo(build);
            } catch (Throwable th) {
                this.mFileProvider.releaseFile();
                throw th;
            }
        }

        private static PageRange[] computePagesToShred(PrintJobInfo printJobInfo) {
            ArrayList arrayList = new ArrayList();
            PageRange[] pages = printJobInfo.getPages();
            int length = pages.length;
            PageRange pageRange = null;
            int i = 0;
            while (i < length) {
                PageRange pageRange2 = pages[i];
                if (pageRange == null) {
                    int start = pageRange2.getStart() - 1;
                    if (start >= 0) {
                        arrayList.add(new PageRange(0, start));
                    }
                } else {
                    int end = pageRange.getEnd() + 1;
                    int start2 = pageRange2.getStart() - 1;
                    if (end <= start2) {
                        arrayList.add(new PageRange(end, start2));
                    }
                }
                if (i == length - 1 && pageRange2.getEnd() != Integer.MAX_VALUE) {
                    arrayList.add(new PageRange(pageRange2.getEnd() + 1, Integer.MAX_VALUE));
                }
                i++;
                pageRange = pageRange2;
            }
            PageRange[] pageRangeArr = new PageRange[arrayList.size()];
            arrayList.toArray(pageRangeArr);
            return pageRangeArr;
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PrintPreviewController.java** ###

package com.android.printspooler.ui;

import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.os.ParcelFileDescriptor;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.support.v7.widget.GridLayoutManager;
import android.support.v7.widget.RecyclerView;
import com.android.internal.os.SomeArgs;
import com.android.printspooler.model.MutexFileProvider;
import com.android.printspooler.ui.PageAdapter;
import com.android.printspooler.widget.EmbeddedContentContainer;
import com.android.printspooler.widget.PrintContentView;
import com.android.printspooler.widget.PrintOptionsLayout;
import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.List;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public class PrintPreviewController implements MutexFileProvider.OnReleaseRequestCallback, PageAdapter.PreviewArea, EmbeddedContentContainer.OnSizeChangeListener {
    private final PrintActivity mActivity;
    private final PrintContentView mContentView;
    private int mDocumentPageCount;
    private final EmbeddedContentContainer mEmbeddedContentContainer;
    private final MutexFileProvider mFileProvider;
    private final MyHandler mHandler;
    private final GridLayoutManager mLayoutManger;
    private final PageAdapter mPageAdapter;
    private final PreloadController mPreloadController;
    private final PrintOptionsLayout mPrintOptionsLayout;
    private final RecyclerView mRecyclerView;

    public PrintPreviewController(PrintActivity printActivity, MutexFileProvider mutexFileProvider) {
        this.mActivity = printActivity;
        this.mHandler = new MyHandler(printActivity.getMainLooper());
        this.mFileProvider = mutexFileProvider;
        this.mPrintOptionsLayout = (PrintOptionsLayout) printActivity.findViewById(2131099703);
        this.mPageAdapter = new PageAdapter(printActivity, printActivity, this);
        this.mLayoutManger = new GridLayoutManager(this.mActivity, this.mActivity.getResources().getInteger(2131165187));
        RecyclerView recyclerView = (RecyclerView) printActivity.findViewById(2131099715);
        this.mRecyclerView = recyclerView;
        recyclerView.setLayoutManager(this.mLayoutManger);
        this.mRecyclerView.setAdapter(this.mPageAdapter);
        this.mRecyclerView.setItemViewCacheSize(0);
        PreloadController preloadController = new PreloadController();
        this.mPreloadController = preloadController;
        this.mRecyclerView.addOnScrollListener(preloadController);
        this.mContentView = (PrintContentView) printActivity.findViewById(2131099704);
        EmbeddedContentContainer embeddedContentContainer = (EmbeddedContentContainer) printActivity.findViewById(2131099675);
        this.mEmbeddedContentContainer = embeddedContentContainer;
        embeddedContentContainer.setOnSizeChangeListener(this);
    }

    @Override // com.android.printspooler.widget.EmbeddedContentContainer.OnSizeChangeListener
    public void onSizeChanged(int i, int i2) {
        this.mPageAdapter.onPreviewAreaSizeChanged();
    }

    public boolean isOptionsOpened() {
        return this.mContentView.isOptionsOpened();
    }

    public void closeOptions() {
        this.mContentView.closeOptions();
    }

    public void setUiShown(boolean z) {
        if (z) {
            this.mRecyclerView.setVisibility(0);
        } else {
            this.mRecyclerView.setVisibility(8);
        }
    }

    public void onOrientationChanged() {
        this.mPrintOptionsLayout.setColumnCount(this.mActivity.getResources().getInteger(2131165188));
        this.mPageAdapter.onOrientationChanged();
    }

    public int getFilePageCount() {
        return this.mPageAdapter.getFilePageCount();
    }

    public PageRange[] getSelectedPages() {
        return this.mPageAdapter.getSelectedPages();
    }

    public PageRange[] getRequestedPages() {
        return this.mPageAdapter.getRequestedPages();
    }

    public void onContentUpdated(boolean z, int i, PageRange[] pageRangeArr, PageRange[] pageRangeArr2, PrintAttributes.MediaSize mediaSize, PrintAttributes.Margins margins) {
        if (i != this.mDocumentPageCount) {
            this.mDocumentPageCount = i;
            z = true;
        }
        if (z && this.mPageAdapter.isOpened()) {
            this.mHandler.enqueueOperation(this.mHandler.obtainMessage(2));
        }
        if ((z || !this.mPageAdapter.isOpened()) && pageRangeArr != null) {
            this.mHandler.enqueueOperation(this.mHandler.obtainMessage(1));
        }
        SomeArgs obtain = SomeArgs.obtain();
        obtain.arg1 = pageRangeArr;
        obtain.arg2 = pageRangeArr2;
        obtain.arg3 = mediaSize;
        obtain.arg4 = margins;
        obtain.argi1 = i;
        this.mHandler.enqueueOperation(this.mHandler.obtainMessage(4, obtain));
        if (!z || pageRangeArr == null) {
            return;
        }
        this.mHandler.enqueueOperation(this.mHandler.obtainMessage(5));
    }

    @Override // com.android.printspooler.model.MutexFileProvider.OnReleaseRequestCallback
    public void onReleaseRequested(File file) {
        this.mHandler.post(new Runnable() { // from class: com.android.printspooler.ui.PrintPreviewController.1
            @Override // java.lang.Runnable
            public void run() {
                if (PrintPreviewController.this.mPageAdapter.isOpened()) {
                    PrintPreviewController.this.mHandler.enqueueOperation(PrintPreviewController.this.mHandler.obtainMessage(2));
                }
            }
        });
    }

    public void destroy(Runnable runnable) {
        this.mHandler.cancelQueuedOperations();
        this.mRecyclerView.setAdapter(null);
        this.mPageAdapter.destroy(runnable);
    }

    @Override // com.android.printspooler.ui.PageAdapter.PreviewArea
    public int getWidth() {
        return this.mEmbeddedContentContainer.getWidth();
    }

    @Override // com.android.printspooler.ui.PageAdapter.PreviewArea
    public int getHeight() {
        return this.mEmbeddedContentContainer.getHeight();
    }

    @Override // com.android.printspooler.ui.PageAdapter.PreviewArea
    public void setColumnCount(int i) {
        this.mLayoutManger.setSpanCount(i);
    }

    @Override // com.android.printspooler.ui.PageAdapter.PreviewArea
    public void setPadding(int i, int i2, int i3, int i4) {
        this.mRecyclerView.setPadding(i, i2, i3, i4);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class MyHandler extends Handler {
        private boolean mAsyncOperationInProgress;
        private final Runnable mOnAsyncOperationDoneCallback;
        private final List<Message> mPendingOperations;

        public MyHandler(Looper looper) {
            super(looper, null, false);
            this.mOnAsyncOperationDoneCallback = new Runnable() { // from class: com.android.printspooler.ui.PrintPreviewController.MyHandler.1
                @Override // java.lang.Runnable
                public void run() {
                    MyHandler.this.mAsyncOperationInProgress = false;
                    MyHandler.this.handleNextOperation();
                }
            };
            this.mPendingOperations = new ArrayList();
        }

        public void cancelQueuedOperations() {
            this.mPendingOperations.clear();
        }

        public void enqueueOperation(Message message) {
            this.mPendingOperations.add(message);
            handleNextOperation();
        }

        public void handleNextOperation() {
            while (!this.mPendingOperations.isEmpty() && !this.mAsyncOperationInProgress) {
                handleMessage(this.mPendingOperations.remove(0));
            }
        }

        @Override // android.os.Handler
        public void handleMessage(Message message) {
            int i = message.what;
            if (i == 1) {
                try {
                    ParcelFileDescriptor open = ParcelFileDescriptor.open(PrintPreviewController.this.mFileProvider.acquireFile(PrintPreviewController.this), 268435456);
                    this.mAsyncOperationInProgress = true;
                    PrintPreviewController.this.mPageAdapter.open(open, new Runnable() { // from class: com.android.printspooler.ui.PrintPreviewController.MyHandler.2
                        @Override // java.lang.Runnable
                        public void run() {
                            if (PrintPreviewController.this.mDocumentPageCount == -1) {
                                PrintPreviewController printPreviewController = PrintPreviewController.this;
                                printPreviewController.mDocumentPageCount = printPreviewController.mPageAdapter.getFilePageCount();
                                PrintPreviewController.this.mActivity.updateOptionsUi();
                            }
                            MyHandler.this.mOnAsyncOperationDoneCallback.run();
                        }
                    });
                    return;
                } catch (FileNotFoundException unused) {
                    return;
                }
            }
            if (i == 2) {
                this.mAsyncOperationInProgress = true;
                PrintPreviewController.this.mPageAdapter.close(new Runnable() { // from class: com.android.printspooler.ui.PrintPreviewController.MyHandler.3
                    @Override // java.lang.Runnable
                    public void run() {
                        PrintPreviewController.this.mFileProvider.releaseFile();
                        MyHandler.this.mOnAsyncOperationDoneCallback.run();
                    }
                });
                return;
            }
            if (i != 4) {
                if (i != 5) {
                    return;
                }
                PrintPreviewController.this.mPreloadController.startPreloadContent();
                return;
            }
            SomeArgs someArgs = (SomeArgs) message.obj;
            PageRange[] pageRangeArr = (PageRange[]) someArgs.arg1;
            PageRange[] pageRangeArr2 = (PageRange[]) someArgs.arg2;
            PrintAttributes.MediaSize mediaSize = (PrintAttributes.MediaSize) someArgs.arg3;
            PrintAttributes.Margins margins = (PrintAttributes.Margins) someArgs.arg4;
            int i2 = someArgs.argi1;
            someArgs.recycle();
            PrintPreviewController.this.mPageAdapter.update(pageRangeArr, pageRangeArr2, i2, mediaSize, margins);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class PreloadController extends RecyclerView.OnScrollListener {
        private int mOldScrollState;

        public PreloadController() {
            this.mOldScrollState = PrintPreviewController.this.mRecyclerView.getScrollState();
        }

        @Override // android.support.v7.widget.RecyclerView.OnScrollListener
        public void onScrollStateChanged(RecyclerView recyclerView, int i) {
            int i2 = this.mOldScrollState;
            if (i2 == 0 || i2 == 1) {
                if (i == 2) {
                    stopPreloadContent();
                }
            } else if (i2 == 2 && (i == 0 || i == 1)) {
                startPreloadContent();
            }
            this.mOldScrollState = i;
        }

        public void startPreloadContent() {
            PageRange computeShownPages;
            PageAdapter pageAdapter = (PageAdapter) PrintPreviewController.this.mRecyclerView.getAdapter();
            if (pageAdapter == null || !pageAdapter.isOpened() || (computeShownPages = computeShownPages()) == null) {
                return;
            }
            pageAdapter.startPreloadContent(computeShownPages);
        }

        public void stopPreloadContent() {
            PageAdapter pageAdapter = (PageAdapter) PrintPreviewController.this.mRecyclerView.getAdapter();
            if (pageAdapter == null || !pageAdapter.isOpened()) {
                return;
            }
            pageAdapter.stopPreloadContent();
        }

        private PageRange computeShownPages() {
            if (PrintPreviewController.this.mRecyclerView.getChildCount() <= 0) {
                return null;
            }
            RecyclerView.LayoutManager layoutManager = PrintPreviewController.this.mRecyclerView.getLayoutManager();
            return new PageRange(PrintPreviewController.this.mRecyclerView.getChildViewHolder(layoutManager.getChildAt(0)).getLayoutPosition(), PrintPreviewController.this.mRecyclerView.getChildViewHolder(layoutManager.getChildAt(layoutManager.getChildCount() - 1)).getLayoutPosition());
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/FusedPrintersProvider.java** ###

package com.android.printspooler.ui;

import android.app.Activity;
import android.app.LoaderManager;
import android.content.ComponentName;
import android.content.Loader;
import android.content.pm.ServiceInfo;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.location.LocationRequest;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.os.SystemClock;
import android.print.PrintManager;
import android.print.PrintServicesLoader;
import android.print.PrinterDiscoverySession;
import android.print.PrinterId;
import android.print.PrinterInfo;
import android.printservice.PrintServiceInfo;
import android.util.ArrayMap;
import android.util.ArraySet;
import android.util.AtomicFile;
import android.util.Log;
import android.util.Pair;
import android.util.Slog;
import android.util.Xml;
import com.android.internal.util.FastXmlSerializer;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashSet;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import libcore.io.IoUtils;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;

/* loaded from: /content/classes1.dex */
public final class FusedPrintersProvider extends Loader<List<PrinterInfo>> implements LocationListener {
    private PrinterDiscoverySession mDiscoverySession;
    private final List<Pair<PrinterInfo, Location>> mFavoritePrinters;
    private Location mLocation;
    private final Object mLocationLock;
    private final LocationManager mLocationManager;
    private Location mLocationOfLastPrinterUpdate;
    private final PersistenceManager mPersistenceManager;
    private final List<PrinterInfo> mPrinters;
    private boolean mPrintersUpdatedBefore;
    private PrinterId mTrackedPrinter;

    @Override // android.location.LocationListener
    public void onProviderDisabled(String str) {
    }

    @Override // android.location.LocationListener
    public void onProviderEnabled(String str) {
    }

    @Override // android.location.LocationListener
    public void onStatusChanged(String str, int i, Bundle bundle) {
    }

    /* JADX INFO: Access modifiers changed from: private */
    public Location getCurrentLocation() {
        Location location;
        synchronized (this.mLocationLock) {
            location = this.mLocation;
        }
        return location;
    }

    public FusedPrintersProvider(Activity activity, int i) {
        super(activity);
        this.mPrinters = new ArrayList();
        this.mFavoritePrinters = new ArrayList();
        this.mLocationLock = new Object();
        this.mPersistenceManager = new PersistenceManager(activity, i);
        this.mLocationManager = (LocationManager) activity.getSystemService("location");
    }

    public void addHistoricalPrinter(PrinterInfo printerInfo) {
        this.mPersistenceManager.addPrinterAndWritePrinterHistory(printerInfo);
    }

    private void updateAndAddPrinter(List<PrinterInfo> list, PrinterInfo printerInfo, Map<PrinterId, PrinterInfo> map) {
        PrinterInfo remove = map.remove(printerInfo.getId());
        if (remove != null) {
            list.add(remove);
        } else {
            list.add(printerInfo);
        }
    }

    private void computeAndDeliverResult(Map<PrinterId, PrinterInfo> map, List<Pair<PrinterInfo, Location>> list) {
        ArrayList arrayList = new ArrayList();
        HashSet hashSet = new HashSet(4);
        Location currentLocation = getCurrentLocation();
        int size = list.size();
        if (currentLocation != null) {
            for (int i = 0; i < size && arrayList.size() != 4; i++) {
                PrinterInfo printerInfo = (PrinterInfo) list.get(i).first;
                Location location = (Location) list.get(i).second;
                if (location != null && !hashSet.contains(printerInfo.getId()) && location.distanceTo(currentLocation) <= 100.0f) {
                    updateAndAddPrinter(arrayList, printerInfo, map);
                    hashSet.add(printerInfo.getId());
                }
            }
        }
        for (int i2 = 0; i2 < size && arrayList.size() != 4; i2++) {
            PrinterInfo printerInfo2 = (PrinterInfo) list.get(i2).first;
            if (!hashSet.contains(printerInfo2.getId())) {
                updateAndAddPrinter(arrayList, printerInfo2, map);
                hashSet.add(printerInfo2.getId());
            }
        }
        int size2 = this.mPrinters.size();
        for (int i3 = 0; i3 < size2; i3++) {
            PrinterInfo remove = map.remove(this.mPrinters.get(i3).getId());
            if (remove != null) {
                arrayList.add(remove);
            }
        }
        arrayList.addAll(map.values());
        this.mPrinters.clear();
        this.mPrinters.addAll(arrayList);
        if (isStarted()) {
            deliverResult(arrayList);
        } else {
            onContentChanged();
        }
    }

    @Override // android.content.Loader
    protected void onStartLoading() {
        Log.i("FusedPrintersProvider", "onStartLoading() " + hashCode());
        this.mLocationManager.requestLocationUpdates(LocationRequest.create().setQuality(201).setInterval(30000L), this, Looper.getMainLooper());
        Location lastLocation = this.mLocationManager.getLastLocation();
        if (lastLocation != null) {
            onLocationChanged(lastLocation);
        }
        new Handler(Looper.getMainLooper()).post(new Runnable() { // from class: com.android.printspooler.ui.FusedPrintersProvider.1
            @Override // java.lang.Runnable
            public void run() {
                FusedPrintersProvider.this.deliverResult(new ArrayList(FusedPrintersProvider.this.mPrinters));
            }
        });
        onForceLoad();
    }

    @Override // android.content.Loader
    protected void onStopLoading() {
        Log.i("FusedPrintersProvider", "onStopLoading() " + hashCode());
        onCancelLoad();
        this.mLocationManager.removeUpdates(this);
    }

    @Override // android.content.Loader
    protected void onForceLoad() {
        Log.i("FusedPrintersProvider", "onForceLoad() " + hashCode());
        loadInternal();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void loadInternal() {
        if (this.mDiscoverySession == null) {
            this.mDiscoverySession = ((PrintManager) getContext().getSystemService("print")).createPrinterDiscoverySession();
            this.mPersistenceManager.readPrinterHistory();
        } else if (this.mPersistenceManager.isHistoryChanged()) {
            this.mPersistenceManager.readPrinterHistory();
        }
        if (!this.mPersistenceManager.isReadHistoryCompleted() || this.mDiscoverySession.isPrinterDiscoveryStarted()) {
            return;
        }
        this.mDiscoverySession.setOnPrintersChangeListener(new PrinterDiscoverySession.OnPrintersChangeListener() { // from class: com.android.printspooler.ui.FusedPrintersProvider.2
            public void onPrintersChanged() {
                List printers = FusedPrintersProvider.this.mDiscoverySession.getPrinters();
                Log.i("FusedPrintersProvider", "onPrintersChanged() count:" + printers.size() + " " + FusedPrintersProvider.this.hashCode());
                StringBuilder sb = new StringBuilder();
                sb.append("[onPrintersChanged] Printers: ");
                sb.append(printers);
                Log.i("FusedPrintersProvider", sb.toString());
                FusedPrintersProvider fusedPrintersProvider = FusedPrintersProvider.this;
                fusedPrintersProvider.updatePrinters(printers, fusedPrintersProvider.mFavoritePrinters, FusedPrintersProvider.this.getCurrentLocation());
            }
        });
        int size = this.mFavoritePrinters.size();
        ArrayList arrayList = new ArrayList(size);
        for (int i = 0; i < size; i++) {
            arrayList.add(((PrinterInfo) this.mFavoritePrinters.get(i).first).getId());
        }
        this.mDiscoverySession.startPrinterDiscovery(arrayList);
        updatePrinters(this.mDiscoverySession.getPrinters(), this.mFavoritePrinters, getCurrentLocation());
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updatePrinters(List<PrinterInfo> list, List<Pair<PrinterInfo, Location>> list2, Location location) {
        if (this.mPrintersUpdatedBefore && this.mPrinters.equals(list) && this.mFavoritePrinters.equals(list2) && Objects.equals(this.mLocationOfLastPrinterUpdate, location)) {
            return;
        }
        this.mLocationOfLastPrinterUpdate = location;
        this.mPrintersUpdatedBefore = true;
        this.mPersistenceManager.updateHistoricalPrintersIfNeeded(list);
        LinkedHashMap linkedHashMap = new LinkedHashMap();
        int size = list.size();
        for (int i = 0; i < size; i++) {
            PrinterInfo printerInfo = list.get(i);
            linkedHashMap.put(printerInfo.getId(), printerInfo);
        }
        computeAndDeliverResult(linkedHashMap, list2);
    }

    @Override // android.content.Loader
    protected boolean onCancelLoad() {
        Log.i("FusedPrintersProvider", "onCancelLoad() " + hashCode());
        return cancelInternal();
    }

    private boolean cancelInternal() {
        PrinterDiscoverySession printerDiscoverySession = this.mDiscoverySession;
        if (printerDiscoverySession != null && printerDiscoverySession.isPrinterDiscoveryStarted()) {
            PrinterId printerId = this.mTrackedPrinter;
            if (printerId != null) {
                this.mDiscoverySession.stopPrinterStateTracking(printerId);
                this.mTrackedPrinter = null;
            }
            this.mDiscoverySession.stopPrinterDiscovery();
            return true;
        }
        if (this.mPersistenceManager.isReadHistoryInProgress()) {
            return this.mPersistenceManager.stopReadPrinterHistory();
        }
        return false;
    }

    @Override // android.content.Loader
    protected void onReset() {
        Log.i("FusedPrintersProvider", "onReset() " + hashCode());
        onStopLoading();
        this.mPrinters.clear();
        PrinterDiscoverySession printerDiscoverySession = this.mDiscoverySession;
        if (printerDiscoverySession != null) {
            printerDiscoverySession.destroy();
        }
    }

    @Override // android.content.Loader
    protected void onAbandon() {
        Log.i("FusedPrintersProvider", "onAbandon() " + hashCode());
        onStopLoading();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public boolean isLocationAcceptable(Location location) {
        return location != null && location.getElapsedRealtimeNanos() > SystemClock.elapsedRealtimeNanos() - 600000000000L && location.hasAccuracy() && location.getAccuracy() < 50.0f;
    }

    @Override // android.location.LocationListener
    public void onLocationChanged(Location location) {
        synchronized (this.mLocationLock) {
            if (isLocationAcceptable(location) && !location.equals(this.mLocation) && (this.mLocation == null || location.getElapsedRealtimeNanos() > this.mLocation.getElapsedRealtimeNanos() + 2.7E10d || !this.mLocation.hasAccuracy() || location.getAccuracy() < this.mLocation.getAccuracy())) {
                this.mLocation = location;
                if (areHistoricalPrintersLoaded()) {
                    updatePrinters(this.mDiscoverySession.getPrinters(), this.mFavoritePrinters, this.mLocation);
                }
            }
        }
    }

    public boolean areHistoricalPrintersLoaded() {
        return this.mPersistenceManager.mReadHistoryCompleted;
    }

    public void setTrackedPrinter(PrinterId printerId) {
        PrinterDiscoverySession printerDiscoverySession;
        if (isStarted() && (printerDiscoverySession = this.mDiscoverySession) != null && printerDiscoverySession.isPrinterDiscoveryStarted()) {
            PrinterId printerId2 = this.mTrackedPrinter;
            if (printerId2 != null) {
                if (printerId2.equals(printerId)) {
                    return;
                } else {
                    this.mDiscoverySession.stopPrinterStateTracking(this.mTrackedPrinter);
                }
            }
            this.mTrackedPrinter = printerId;
            if (printerId != null) {
                this.mDiscoverySession.startPrinterStateTracking(printerId);
            }
        }
    }

    public boolean isFavoritePrinter(PrinterId printerId) {
        int size = this.mFavoritePrinters.size();
        for (int i = 0; i < size; i++) {
            if (((PrinterInfo) this.mFavoritePrinters.get(i).first).getId().equals(printerId)) {
                return true;
            }
        }
        return false;
    }

    public void forgetFavoritePrinter(PrinterId printerId) {
        int size = this.mFavoritePrinters.size();
        ArrayList arrayList = new ArrayList(size - 1);
        for (int i = 0; i < size; i++) {
            if (!((PrinterInfo) this.mFavoritePrinters.get(i).first).getId().equals(printerId)) {
                arrayList.add(this.mFavoritePrinters.get(i));
            }
        }
        this.mPersistenceManager.removeHistoricalPrinterAndWritePrinterHistory(printerId);
        updatePrinters(this.mDiscoverySession.getPrinters(), arrayList, getCurrentLocation());
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class PersistenceManager implements LoaderManager.LoaderCallbacks<List<PrintServiceInfo>> {
        private boolean mAreEnabledServicesUpdated;
        private List<PrintServiceInfo> mEnabledServices;
        private List<Pair<PrinterInfo, Location>> mHistoricalPrinters;
        private volatile long mLastReadHistoryTimestamp;
        private boolean mReadHistoryCompleted;
        private ReadTask mReadTask;
        private final AtomicFile mStatePersistFile;

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoaderReset(Loader<List<PrintServiceInfo>> loader) {
        }

        private PersistenceManager(Activity activity, int i) {
            this.mHistoricalPrinters = new ArrayList();
            this.mStatePersistFile = new AtomicFile(new File(activity.getFilesDir(), "printer_history.xml"), "printer-history");
            this.mEnabledServices = ((PrintManager) activity.getSystemService("print")).getPrintServices(1);
            this.mAreEnabledServicesUpdated = true;
            new Handler(activity.getMainLooper()).post(new Runnable(FusedPrintersProvider.this, activity, i) { // from class: com.android.printspooler.ui.FusedPrintersProvider.PersistenceManager.1
                final /* synthetic */ Activity val$activity;
                final /* synthetic */ int val$internalLoaderId;

                {
                    this.val$activity = activity;
                    this.val$internalLoaderId = i;
                }

                @Override // java.lang.Runnable
                public void run() {
                    this.val$activity.getLoaderManager().initLoader(this.val$internalLoaderId, null, PersistenceManager.this);
                }
            });
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public Loader<List<PrintServiceInfo>> onCreateLoader(int i, Bundle bundle) {
            return new PrintServicesLoader((PrintManager) FusedPrintersProvider.this.getContext().getSystemService("print"), FusedPrintersProvider.this.getContext(), 1);
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoadFinished(Loader<List<PrintServiceInfo>> loader, List<PrintServiceInfo> list) {
            this.mAreEnabledServicesUpdated = true;
            this.mEnabledServices = list;
            if (FusedPrintersProvider.this.isStarted()) {
                FusedPrintersProvider.this.forceLoad();
            }
        }

        public boolean isReadHistoryInProgress() {
            return this.mReadTask != null;
        }

        public boolean isReadHistoryCompleted() {
            return this.mReadHistoryCompleted;
        }

        public boolean stopReadPrinterHistory() {
            return this.mReadTask.cancel(true);
        }

        public void readPrinterHistory() {
            Log.i("FusedPrintersProvider", "read history started " + FusedPrintersProvider.this.hashCode());
            ReadTask readTask = new ReadTask();
            this.mReadTask = readTask;
            readTask.executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, null);
        }

        public void updateHistoricalPrintersIfNeeded(List<PrinterInfo> list) {
            int size = list.size();
            boolean z = false;
            for (int i = 0; i < size; i++) {
                z |= updateHistoricalPrinterIfNeeded(list.get(i));
            }
            if (z) {
                writePrinterHistory();
            }
        }

        public boolean updateHistoricalPrinterIfNeeded(PrinterInfo printerInfo) {
            int size = this.mHistoricalPrinters.size();
            boolean z = false;
            for (int i = 0; i < size; i++) {
                PrinterInfo printerInfo2 = (PrinterInfo) this.mHistoricalPrinters.get(i).first;
                if (printerInfo2.getId().equals(printerInfo.getId()) && !printerInfo2.equalsIgnoringStatus(printerInfo)) {
                    this.mHistoricalPrinters.set(i, new Pair<>(printerInfo, (Location) this.mHistoricalPrinters.get(i).second));
                    if (!printerInfo2.getName().equals(printerInfo.getName()) && Objects.equals(printerInfo2.getDescription(), printerInfo.getDescription())) {
                        z = true;
                    }
                }
            }
            return z;
        }

        public void addPrinterAndWritePrinterHistory(PrinterInfo printerInfo) {
            if (this.mHistoricalPrinters.size() >= 50) {
                this.mHistoricalPrinters.remove(0);
            }
            Location currentLocation = FusedPrintersProvider.this.getCurrentLocation();
            if (!FusedPrintersProvider.this.isLocationAcceptable(currentLocation)) {
                currentLocation = null;
            }
            this.mHistoricalPrinters.add(new Pair<>(printerInfo, currentLocation));
            writePrinterHistory();
        }

        public void removeHistoricalPrinterAndWritePrinterHistory(PrinterId printerId) {
            boolean z = false;
            for (int size = this.mHistoricalPrinters.size() - 1; size >= 0; size--) {
                if (((PrinterInfo) this.mHistoricalPrinters.get(size).first).getId().equals(printerId)) {
                    this.mHistoricalPrinters.remove(size);
                    z = true;
                }
            }
            if (z) {
                writePrinterHistory();
            }
        }

        private void writePrinterHistory() {
            new WriteTask().executeOnExecutor(AsyncTask.SERIAL_EXECUTOR, new ArrayList(this.mHistoricalPrinters));
        }

        public boolean isHistoryChanged() {
            return this.mAreEnabledServicesUpdated || this.mLastReadHistoryTimestamp != this.mStatePersistFile.getBaseFile().lastModified();
        }

        /* JADX INFO: Access modifiers changed from: private */
        public List<Pair<PrinterInfo, Location>> sortFavoritePrinters(List<Pair<PrinterInfo, Location>> list) {
            ArrayMap arrayMap = new ArrayMap();
            int size = list.size();
            float f = 1.0f;
            for (int i = size - 1; i >= 0; i--) {
                PrinterId id = ((PrinterInfo) list.get(i).first).getId();
                PrinterRecord printerRecord = (PrinterRecord) arrayMap.get(id);
                if (printerRecord == null) {
                    printerRecord = new PrinterRecord(this);
                    arrayMap.put(id, printerRecord);
                }
                printerRecord.printers.add(list.get(i));
                printerRecord.weight += f;
                f = (float) (f * 0.949999988079071d);
            }
            ArrayList arrayList = new ArrayList(arrayMap.values());
            Collections.sort(arrayList);
            int size2 = arrayList.size();
            ArrayList arrayList2 = new ArrayList(size);
            for (int i2 = 0; i2 < size2; i2++) {
                arrayList2.addAll(((PrinterRecord) arrayList.get(i2)).printers);
            }
            return arrayList2;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public final class PrinterRecord implements Comparable<PrinterRecord> {
            public final List<Pair<PrinterInfo, Location>> printers = new ArrayList();
            public float weight;

            public PrinterRecord(PersistenceManager persistenceManager) {
            }

            @Override // java.lang.Comparable
            public int compareTo(PrinterRecord printerRecord) {
                return Float.floatToIntBits(printerRecord.weight) - Float.floatToIntBits(this.weight);
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public final class ReadTask extends AsyncTask<Void, Void, List<Pair<PrinterInfo, Location>>> {
            private ReadTask() {
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public List<Pair<PrinterInfo, Location>> doInBackground(Void... voidArr) {
                return doReadPrinterHistory();
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onPostExecute(List<Pair<PrinterInfo, Location>> list) {
                Log.i("FusedPrintersProvider", "read history completed " + FusedPrintersProvider.this.hashCode());
                ArraySet arraySet = new ArraySet();
                int size = PersistenceManager.this.mEnabledServices.size();
                for (int i = 0; i < size; i++) {
                    ServiceInfo serviceInfo = ((PrintServiceInfo) PersistenceManager.this.mEnabledServices.get(i)).getResolveInfo().serviceInfo;
                    arraySet.add(new ComponentName(serviceInfo.packageName, serviceInfo.name));
                }
                PersistenceManager.this.mAreEnabledServicesUpdated = false;
                for (int size2 = list.size() - 1; size2 >= 0; size2--) {
                    if (!arraySet.contains(((PrinterInfo) list.get(size2).first).getId().getServiceName())) {
                        list.remove(size2);
                    }
                }
                PersistenceManager.this.mHistoricalPrinters = list;
                FusedPrintersProvider.this.mFavoritePrinters.clear();
                List list2 = FusedPrintersProvider.this.mFavoritePrinters;
                PersistenceManager persistenceManager = PersistenceManager.this;
                list2.addAll(persistenceManager.sortFavoritePrinters(persistenceManager.mHistoricalPrinters));
                PersistenceManager.this.mReadHistoryCompleted = true;
                FusedPrintersProvider fusedPrintersProvider = FusedPrintersProvider.this;
                fusedPrintersProvider.updatePrinters(fusedPrintersProvider.mDiscoverySession.getPrinters(), FusedPrintersProvider.this.mFavoritePrinters, FusedPrintersProvider.this.getCurrentLocation());
                PersistenceManager.this.mReadTask = null;
                FusedPrintersProvider.this.loadInternal();
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onCancelled(List<Pair<PrinterInfo, Location>> list) {
                PersistenceManager.this.mReadTask = null;
            }

            private List<Pair<PrinterInfo, Location>> doReadPrinterHistory() {
                try {
                    FileInputStream openRead = PersistenceManager.this.mStatePersistFile.openRead();
                    try {
                        try {
                            ArrayList arrayList = new ArrayList();
                            XmlPullParser newPullParser = Xml.newPullParser();
                            newPullParser.setInput(openRead, StandardCharsets.UTF_8.name());
                            parseState(newPullParser, arrayList);
                            PersistenceManager.this.mLastReadHistoryTimestamp = PersistenceManager.this.mStatePersistFile.getBaseFile().lastModified();
                            return arrayList;
                        } catch (IOException | IllegalStateException | IndexOutOfBoundsException | NullPointerException | NumberFormatException | XmlPullParserException e) {
                            Slog.w("FusedPrintersProvider", "Failed parsing ", e);
                            IoUtils.closeQuietly(openRead);
                            return Collections.emptyList();
                        }
                    } finally {
                        IoUtils.closeQuietly(openRead);
                    }
                } catch (FileNotFoundException unused) {
                    Log.i("FusedPrintersProvider", "No existing printer history " + FusedPrintersProvider.this.hashCode());
                    return new ArrayList();
                }
            }

            private void parseState(XmlPullParser xmlPullParser, List<Pair<PrinterInfo, Location>> list) throws IOException, XmlPullParserException {
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 2, "printers");
                xmlPullParser.next();
                while (parsePrinter(xmlPullParser, list)) {
                    if (isCancelled()) {
                        return;
                    } else {
                        xmlPullParser.next();
                    }
                }
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "printers");
            }

            private boolean parsePrinter(XmlPullParser xmlPullParser, List<Pair<PrinterInfo, Location>> list) throws IOException, XmlPullParserException {
                skipEmptyTextTags(xmlPullParser);
                if (!accept(xmlPullParser, 2, "printer")) {
                    return false;
                }
                Location location = null;
                String attributeValue = xmlPullParser.getAttributeValue(null, "name");
                String attributeValue2 = xmlPullParser.getAttributeValue(null, "description");
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 2, "printerId");
                PrinterId printerId = new PrinterId(ComponentName.unflattenFromString(xmlPullParser.getAttributeValue(null, "serviceName")), xmlPullParser.getAttributeValue(null, "localId"));
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "printerId");
                xmlPullParser.next();
                skipEmptyTextTags(xmlPullParser);
                if (accept(xmlPullParser, 2, "location")) {
                    Location location2 = new Location("");
                    location2.setLongitude(Double.parseDouble(xmlPullParser.getAttributeValue(null, "longitude")));
                    location2.setLatitude(Double.parseDouble(xmlPullParser.getAttributeValue(null, "latitude")));
                    location2.setAccuracy(Float.parseFloat(xmlPullParser.getAttributeValue(null, "accuracy")));
                    xmlPullParser.next();
                    skipEmptyTextTags(xmlPullParser);
                    expect(xmlPullParser, 3, "location");
                    xmlPullParser.next();
                    location = location2;
                }
                PrinterInfo.Builder builder = new PrinterInfo.Builder(printerId, attributeValue, 3);
                builder.setDescription(attributeValue2);
                PrinterInfo build = builder.build();
                list.add(new Pair<>(build, location));
                Log.i("FusedPrintersProvider", "[RESTORED] " + build);
                skipEmptyTextTags(xmlPullParser);
                expect(xmlPullParser, 3, "printer");
                return true;
            }

            private void expect(XmlPullParser xmlPullParser, int i, String str) throws XmlPullParserException {
                if (accept(xmlPullParser, i, str)) {
                    return;
                }
                throw new XmlPullParserException("Exepected event: " + i + " and tag: " + str + " but got event: " + xmlPullParser.getEventType() + " and tag:" + xmlPullParser.getName());
            }

            private void skipEmptyTextTags(XmlPullParser xmlPullParser) throws IOException, XmlPullParserException {
                while (accept(xmlPullParser, 4, null) && "\n".equals(xmlPullParser.getText())) {
                    xmlPullParser.next();
                }
            }

            private boolean accept(XmlPullParser xmlPullParser, int i, String str) throws XmlPullParserException {
                if (xmlPullParser.getEventType() != i) {
                    return false;
                }
                return str != null ? str.equals(xmlPullParser.getName()) : xmlPullParser.getName() == null;
            }
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes1.dex */
        public final class WriteTask extends AsyncTask<List<Pair<PrinterInfo, Location>>, Void, Void> {
            private WriteTask() {
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public Void doInBackground(List<Pair<PrinterInfo, Location>>... listArr) {
                doWritePrinterHistory(listArr[0]);
                return null;
            }

            private void doWritePrinterHistory(List<Pair<PrinterInfo, Location>> list) {
                FileOutputStream startWrite;
                FileOutputStream fileOutputStream = null;
                try {
                    try {
                        startWrite = PersistenceManager.this.mStatePersistFile.startWrite();
                    } catch (Throwable th) {
                        th = th;
                    }
                } catch (IOException e) {
                    e = e;
                }
                try {
                    FastXmlSerializer fastXmlSerializer = new FastXmlSerializer();
                    fastXmlSerializer.setOutput(startWrite, StandardCharsets.UTF_8.name());
                    fastXmlSerializer.startDocument(null, Boolean.TRUE);
                    fastXmlSerializer.startTag(null, "printers");
                    int size = list.size();
                    for (int i = 0; i < size; i++) {
                        PrinterInfo printerInfo = (PrinterInfo) list.get(i).first;
                        fastXmlSerializer.startTag(null, "printer");
                        fastXmlSerializer.attribute(null, "name", printerInfo.getName());
                        String description = printerInfo.getDescription();
                        if (description != null) {
                            fastXmlSerializer.attribute(null, "description", description);
                        }
                        PrinterId id = printerInfo.getId();
                        fastXmlSerializer.startTag(null, "printerId");
                        fastXmlSerializer.attribute(null, "localId", id.getLocalId());
                        fastXmlSerializer.attribute(null, "serviceName", id.getServiceName().flattenToString());
                        fastXmlSerializer.endTag(null, "printerId");
                        Location location = (Location) list.get(i).second;
                        if (location != null) {
                            fastXmlSerializer.startTag(null, "location");
                            fastXmlSerializer.attribute(null, "longitude", String.valueOf(location.getLongitude()));
                            fastXmlSerializer.attribute(null, "latitude", String.valueOf(location.getLatitude()));
                            fastXmlSerializer.attribute(null, "accuracy", String.valueOf(location.getAccuracy()));
                            fastXmlSerializer.endTag(null, "location");
                        }
                        fastXmlSerializer.endTag(null, "printer");
                        Log.i("FusedPrintersProvider", "[PERSISTED] " + printerInfo);
                    }
                    fastXmlSerializer.endTag(null, "printers");
                    fastXmlSerializer.endDocument();
                    PersistenceManager.this.mStatePersistFile.finishWrite(startWrite);
                    Log.i("FusedPrintersProvider", "[PERSIST END]");
                    IoUtils.closeQuietly(startWrite);
                } catch (IOException e2) {
                    e = e2;
                    fileOutputStream = startWrite;
                    Slog.w("FusedPrintersProvider", "Failed to write printer history, restoring backup.", e);
                    PersistenceManager.this.mStatePersistFile.failWrite(fileOutputStream);
                    IoUtils.closeQuietly(fileOutputStream);
                } catch (Throwable th2) {
                    th = th2;
                    fileOutputStream = startWrite;
                    IoUtils.closeQuietly(fileOutputStream);
                    throw th;
                }
            }
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/SelectPrinterActivity.java** ###

package com.android.printspooler.ui;

import android.R;
import android.app.Activity;
import android.app.LoaderManager;
import android.content.ComponentName;
import android.content.Intent;
import android.content.IntentSender;
import android.content.Loader;
import android.database.DataSetObserver;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.print.PrintManager;
import android.print.PrintServicesLoader;
import android.print.PrinterId;
import android.print.PrinterInfo;
import android.printservice.PrintServiceInfo;
import android.provider.Settings;
import android.text.TextUtils;
import android.util.ArrayMap;
import android.util.Log;
import android.util.TypedValue;
import android.view.ContextMenu;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.view.accessibility.AccessibilityManager;
import android.widget.AdapterView;
import android.widget.BaseAdapter;
import android.widget.Filter;
import android.widget.Filterable;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SearchView;
import android.widget.TextView;
import android.widget.Toast;
import com.android.internal.logging.MetricsLogger;
import com.android.printspooler.ui.PrinterRegistry;
import com.android.printspooler.ui.SelectPrinterActivity;
import java.util.ArrayList;
import java.util.List;

/* loaded from: /content/classes1.dex */
public final class SelectPrinterActivity extends Activity implements LoaderManager.LoaderCallbacks<List<PrintServiceInfo>> {
    private AnnounceFilterResult mAnnounceFilterResult;
    private boolean mDidSearch;
    private ArrayMap<ComponentName, PrintServiceInfo> mEnabledPrintServices;
    private ListView mListView;
    private PrinterInfo mPrinterForInfoIntent;
    private PrinterRegistry mPrinterRegistry;

    /* JADX INFO: Access modifiers changed from: private */
    public void startAddPrinterActivity() {
        MetricsLogger.action(this, 510);
        startActivity(new Intent(this, (Class<?>) AddPrinterActivity.class));
    }

    @Override // android.app.Activity
    public void onCreate(Bundle bundle) {
        boolean z;
        super.onCreate(bundle);
        getActionBar().setIcon(R.drawable.ic_voice_search_api_holo_dark);
        setContentView(2131230756);
        getActionBar().setDisplayHomeAsUpEnabled(true);
        this.mEnabledPrintServices = new ArrayMap<>();
        this.mPrinterRegistry = new PrinterRegistry(this, null, 1, 2);
        this.mListView = (ListView) findViewById(R.id.list);
        final DestinationAdapter destinationAdapter = new DestinationAdapter();
        destinationAdapter.registerDataSetObserver(new DataSetObserver() { // from class: com.android.printspooler.ui.SelectPrinterActivity.1
            @Override // android.database.DataSetObserver
            public void onChanged() {
                if (SelectPrinterActivity.this.isFinishing() || destinationAdapter.getCount() > 0) {
                    return;
                }
                SelectPrinterActivity.this.updateEmptyView(destinationAdapter);
            }

            @Override // android.database.DataSetObserver
            public void onInvalidated() {
                if (SelectPrinterActivity.this.isFinishing()) {
                    return;
                }
                SelectPrinterActivity.this.updateEmptyView(destinationAdapter);
            }
        });
        this.mListView.setAdapter((ListAdapter) destinationAdapter);
        this.mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() { // from class: com.android.printspooler.ui.SelectPrinterActivity.2
            @Override // android.widget.AdapterView.OnItemClickListener
            public void onItemClick(AdapterView<?> adapterView, View view, int i, long j) {
                if (((DestinationAdapter) SelectPrinterActivity.this.mListView.getAdapter()).isActionable(i)) {
                    PrinterInfo printerInfo = (PrinterInfo) SelectPrinterActivity.this.mListView.getAdapter().getItem(i);
                    if (printerInfo == null) {
                        SelectPrinterActivity.this.startAddPrinterActivity();
                    } else {
                        SelectPrinterActivity.this.onPrinterSelected(printerInfo);
                    }
                }
            }
        });
        findViewById(2131099660).setOnClickListener(new View.OnClickListener() { // from class: com.android.printspooler.ui.SelectPrinterActivity.3
            @Override // android.view.View.OnClickListener
            public void onClick(View view) {
                SelectPrinterActivity.this.startAddPrinterActivity();
            }
        });
        registerForContextMenu(this.mListView);
        getLoaderManager().initLoader(3, null, this);
        if (bundle == null || !bundle.getBoolean("KEY_NOT_FIRST_CREATE")) {
            List printServices = ((PrintManager) getSystemService("print")).getPrintServices(3);
            int i = 0;
            if (printServices != null) {
                int size = printServices.size();
                int i2 = 0;
                z = false;
                while (i < size) {
                    if (((PrintServiceInfo) printServices.get(i)).isEnabled()) {
                        i2 = 1;
                    } else {
                        z = true;
                    }
                    i++;
                }
                i = i2;
            } else {
                z = false;
            }
            if (i == 0) {
                startAddPrinterActivity();
            } else if (z && !TextUtils.isEmpty(Settings.Secure.getString(getContentResolver(), "disabled_print_services"))) {
                Toast.makeText(this, getString(2131427389), 1).show();
            }
        }
        if (bundle != null) {
            this.mDidSearch = bundle.getBoolean("DID_SEARCH");
            this.mPrinterForInfoIntent = (PrinterInfo) bundle.getParcelable("KEY_PRINTER_FOR_INFO_INTENT");
        }
    }

    @Override // android.app.Activity
    protected void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putBoolean("KEY_NOT_FIRST_CREATE", true);
        bundle.putBoolean("DID_SEARCH", this.mDidSearch);
        bundle.putParcelable("KEY_PRINTER_FOR_INFO_INTENT", this.mPrinterForInfoIntent);
    }

    @Override // android.app.Activity
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        getMenuInflater().inflate(2131296256, menu);
        SearchView searchView = (SearchView) menu.findItem(2131099653).getActionView();
        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() { // from class: com.android.printspooler.ui.SelectPrinterActivity.4
            @Override // android.widget.SearchView.OnQueryTextListener
            public boolean onQueryTextSubmit(String str) {
                return true;
            }

            @Override // android.widget.SearchView.OnQueryTextListener
            public boolean onQueryTextChange(String str) {
                ((DestinationAdapter) SelectPrinterActivity.this.mListView.getAdapter()).getFilter().filter(str);
                return true;
            }
        });
        searchView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() { // from class: com.android.printspooler.ui.SelectPrinterActivity.5
            @Override // android.view.View.OnAttachStateChangeListener
            public void onViewAttachedToWindow(View view) {
                if (AccessibilityManager.getInstance(SelectPrinterActivity.this).isEnabled()) {
                    view.announceForAccessibility(SelectPrinterActivity.this.getString(2131427384));
                }
            }

            @Override // android.view.View.OnAttachStateChangeListener
            public void onViewDetachedFromWindow(View view) {
                if (SelectPrinterActivity.this.isFinishing() || !AccessibilityManager.getInstance(SelectPrinterActivity.this).isEnabled()) {
                    return;
                }
                view.announceForAccessibility(SelectPrinterActivity.this.getString(2131427383));
            }
        });
        return true;
    }

    @Override // android.app.Activity
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() == 16908332) {
            finish();
            return true;
        }
        return super.onOptionsItemSelected(menuItem);
    }

    @Override // android.app.Activity, android.view.View.OnCreateContextMenuListener
    public void onCreateContextMenu(ContextMenu contextMenu, View view, ContextMenu.ContextMenuInfo contextMenuInfo) {
        ListView listView = this.mListView;
        if (view == listView) {
            PrinterInfo printerInfo = (PrinterInfo) listView.getAdapter().getItem(((AdapterView.AdapterContextMenuInfo) contextMenuInfo).position);
            if (printerInfo == null) {
                return;
            }
            contextMenu.setHeaderTitle(printerInfo.getName());
            if (printerInfo.getStatus() != 3) {
                MenuItem add = contextMenu.add(0, 2131427386, 0, 2131427386);
                Intent intent = new Intent();
                intent.putExtra("EXTRA_PRINTER", printerInfo);
                add.setIntent(intent);
            }
            if (this.mPrinterRegistry.isFavoritePrinter(printerInfo.getId())) {
                MenuItem add2 = contextMenu.add(0, 2131427376, 0, 2131427376);
                Intent intent2 = new Intent();
                intent2.putExtra("EXTRA_PRINTER_ID", printerInfo.getId());
                add2.setIntent(intent2);
            }
        }
    }

    @Override // android.app.Activity
    public boolean onContextItemSelected(MenuItem menuItem) {
        int itemId = menuItem.getItemId();
        if (itemId == 2131427376) {
            this.mPrinterRegistry.forgetFavoritePrinter((PrinterId) menuItem.getIntent().getParcelableExtra("EXTRA_PRINTER_ID"));
            return true;
        }
        if (itemId != 2131427386) {
            return false;
        }
        onPrinterSelected((PrinterInfo) menuItem.getIntent().getParcelableExtra("EXTRA_PRINTER"));
        return true;
    }

    private synchronized void onPrintServicesUpdate() {
        updateEmptyView((DestinationAdapter) this.mListView.getAdapter());
        invalidateOptionsMenu();
    }

    @Override // android.app.Activity
    public void onStart() {
        super.onStart();
        onPrintServicesUpdate();
    }

    @Override // android.app.Activity
    public void onPause() {
        AnnounceFilterResult announceFilterResult = this.mAnnounceFilterResult;
        if (announceFilterResult != null) {
            announceFilterResult.remove();
        }
        super.onPause();
    }

    @Override // android.app.Activity
    public void onStop() {
        super.onStop();
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        if (isFinishing()) {
            DestinationAdapter destinationAdapter = (DestinationAdapter) this.mListView.getAdapter();
            List<PrinterInfo> printers = destinationAdapter.getPrinters();
            int size = destinationAdapter.getPrinters().size();
            MetricsLogger.action(this, 503, size);
            MetricsLogger.count(this, "printers_listed", size);
            int i = 0;
            int i2 = 0;
            for (int i3 = 0; i3 < size; i3++) {
                PrinterInfo printerInfo = printers.get(i3);
                if (printerInfo.getInfoIntent() != null) {
                    i++;
                }
                if (printerInfo.getHasCustomPrinterIcon()) {
                    i2++;
                }
            }
            MetricsLogger.count(this, "printers_info", i);
            MetricsLogger.count(this, "printers_icon", i2);
        }
        super.onDestroy();
    }

    @Override // android.app.Activity
    protected void onActivityResult(int i, int i2, Intent intent) {
        PrinterInfo printerInfo;
        if (i != 1) {
            return;
        }
        if (i2 == -1 && intent != null && intent.getBooleanExtra("android.printservice.extra.SELECT_PRINTER", false) && (printerInfo = this.mPrinterForInfoIntent) != null && printerInfo.getStatus() != 3) {
            onPrinterSelected(this.mPrinterForInfoIntent);
        }
        this.mPrinterForInfoIntent = null;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void onPrinterSelected(PrinterInfo printerInfo) {
        Intent intent = new Intent();
        intent.putExtra("INTENT_EXTRA_PRINTER", printerInfo);
        setResult(-1, intent);
        finish();
    }

    public void updateEmptyView(DestinationAdapter destinationAdapter) {
        if (this.mListView.getEmptyView() == null) {
            this.mListView.setEmptyView(findViewById(2131099677));
        }
        TextView textView = (TextView) findViewById(2131099734);
        View findViewById = findViewById(2131099718);
        if (this.mEnabledPrintServices.size() == 0) {
            textView.setText(2131427377);
            findViewById.setVisibility(8);
        } else if (destinationAdapter.getUnfilteredCount() <= 0) {
            textView.setText(2131427385);
            findViewById.setVisibility(0);
        } else {
            textView.setText(2131427378);
            findViewById.setVisibility(8);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void announceSearchResultIfNeeded() {
        if (AccessibilityManager.getInstance(this).isEnabled()) {
            if (this.mAnnounceFilterResult == null) {
                this.mAnnounceFilterResult = new AnnounceFilterResult();
            }
            this.mAnnounceFilterResult.post();
        }
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public Loader<List<PrintServiceInfo>> onCreateLoader(int i, Bundle bundle) {
        return new PrintServicesLoader((PrintManager) getSystemService("print"), this, 1);
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public void onLoadFinished(Loader<List<PrintServiceInfo>> loader, List<PrintServiceInfo> list) {
        this.mEnabledPrintServices.clear();
        if (list != null && !list.isEmpty()) {
            int size = list.size();
            for (int i = 0; i < size; i++) {
                PrintServiceInfo printServiceInfo = list.get(i);
                this.mEnabledPrintServices.put(printServiceInfo.getComponentName(), printServiceInfo);
            }
        }
        onPrintServicesUpdate();
    }

    @Override // android.app.LoaderManager.LoaderCallbacks
    public void onLoaderReset(Loader<List<PrintServiceInfo>> loader) {
        if (isFinishing()) {
            return;
        }
        onLoadFinished(loader, (List<PrintServiceInfo>) null);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class DestinationAdapter extends BaseAdapter implements Filterable {
        private CharSequence mLastSearchString;
        private final Object mLock = new Object();
        private final List<PrinterInfo> mPrinters = new ArrayList();
        private final List<PrinterInfo> mFilteredPrinters = new ArrayList();

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            return i;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getViewTypeCount() {
            return 2;
        }

        List<PrinterInfo> getPrinters() {
            return this.mPrinters;
        }

        public DestinationAdapter() {
            SelectPrinterActivity.this.mPrinterRegistry.setOnPrintersChangeListener(new PrinterRegistry.OnPrintersChangeListener(SelectPrinterActivity.this) { // from class: com.android.printspooler.ui.SelectPrinterActivity.DestinationAdapter.1
                @Override // com.android.printspooler.ui.PrinterRegistry.OnPrintersChangeListener
                public void onPrintersChanged(List<PrinterInfo> list) {
                    synchronized (DestinationAdapter.this.mLock) {
                        DestinationAdapter.this.mPrinters.clear();
                        DestinationAdapter.this.mPrinters.addAll(list);
                        DestinationAdapter.this.mFilteredPrinters.clear();
                        DestinationAdapter.this.mFilteredPrinters.addAll(list);
                        if (!TextUtils.isEmpty(DestinationAdapter.this.mLastSearchString)) {
                            DestinationAdapter.this.getFilter().filter(DestinationAdapter.this.mLastSearchString);
                        }
                    }
                    DestinationAdapter.this.notifyDataSetChanged();
                }

                @Override // com.android.printspooler.ui.PrinterRegistry.OnPrintersChangeListener
                public void onPrintersInvalid() {
                    synchronized (DestinationAdapter.this.mLock) {
                        DestinationAdapter.this.mPrinters.clear();
                        DestinationAdapter.this.mFilteredPrinters.clear();
                    }
                    DestinationAdapter.this.notifyDataSetInvalidated();
                }
            });
        }

        @Override // android.widget.Filterable
        public Filter getFilter() {
            return new Filter() { // from class: com.android.printspooler.ui.SelectPrinterActivity.DestinationAdapter.2
                @Override // android.widget.Filter
                protected Filter.FilterResults performFiltering(CharSequence charSequence) {
                    synchronized (DestinationAdapter.this.mLock) {
                        if (TextUtils.isEmpty(charSequence)) {
                            return null;
                        }
                        Filter.FilterResults filterResults = new Filter.FilterResults();
                        ArrayList arrayList = new ArrayList();
                        String lowerCase = charSequence.toString().toLowerCase();
                        int size = DestinationAdapter.this.mPrinters.size();
                        for (int i = 0; i < size; i++) {
                            PrinterInfo printerInfo = (PrinterInfo) DestinationAdapter.this.mPrinters.get(i);
                            String description = printerInfo.getDescription();
                            if (printerInfo.getName().toLowerCase().contains(lowerCase) || (description != null && description.toLowerCase().contains(lowerCase))) {
                                arrayList.add(printerInfo);
                            }
                        }
                        filterResults.values = arrayList;
                        filterResults.count = arrayList.size();
                        return filterResults;
                    }
                }

                @Override // android.widget.Filter
                protected void publishResults(CharSequence charSequence, Filter.FilterResults filterResults) {
                    boolean z;
                    synchronized (DestinationAdapter.this.mLock) {
                        int size = DestinationAdapter.this.mFilteredPrinters.size();
                        DestinationAdapter.this.mLastSearchString = charSequence;
                        DestinationAdapter.this.mFilteredPrinters.clear();
                        if (filterResults == null) {
                            DestinationAdapter.this.mFilteredPrinters.addAll(DestinationAdapter.this.mPrinters);
                        } else {
                            DestinationAdapter.this.mFilteredPrinters.addAll((List) filterResults.values);
                        }
                        z = size != DestinationAdapter.this.mFilteredPrinters.size();
                    }
                    if (z) {
                        SelectPrinterActivity.this.announceSearchResultIfNeeded();
                    }
                    if (!SelectPrinterActivity.this.mDidSearch) {
                        MetricsLogger.action(SelectPrinterActivity.this, 509);
                        SelectPrinterActivity.this.mDidSearch = true;
                    }
                    DestinationAdapter.this.notifyDataSetChanged();
                }
            };
        }

        public int getUnfilteredCount() {
            int size;
            synchronized (this.mLock) {
                size = this.mPrinters.size();
            }
            return size;
        }

        @Override // android.widget.Adapter
        public int getCount() {
            synchronized (this.mLock) {
                if (this.mFilteredPrinters.isEmpty()) {
                    return 0;
                }
                return this.mFilteredPrinters.size() + 1;
            }
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getItemViewType(int i) {
            return getItem(i) == null ? 0 : 1;
        }

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            synchronized (this.mLock) {
                if (i >= this.mFilteredPrinters.size()) {
                    return null;
                }
                return this.mFilteredPrinters.get(i);
            }
        }

        @Override // android.widget.BaseAdapter, android.widget.SpinnerAdapter
        public View getDropDownView(int i, View view, ViewGroup viewGroup) {
            return getView(i, view, viewGroup);
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            final PrinterInfo printerInfo = (PrinterInfo) getItem(i);
            if (printerInfo == null) {
                return view == null ? SelectPrinterActivity.this.getLayoutInflater().inflate(2131230722, viewGroup, false) : view;
            }
            if (view == null) {
                view = SelectPrinterActivity.this.getLayoutInflater().inflate(2131230753, viewGroup, false);
            }
            view.setEnabled(isActionable(i));
            String name = printerInfo.getName();
            Drawable loadIcon = printerInfo.loadIcon(SelectPrinterActivity.this);
            PrintServiceInfo printServiceInfo = (PrintServiceInfo) SelectPrinterActivity.this.mEnabledPrintServices.get(printerInfo.getId().getServiceName());
            String charSequence = printServiceInfo != null ? printServiceInfo.getResolveInfo().loadLabel(SelectPrinterActivity.this.getPackageManager()).toString() : null;
            String description = printerInfo.getDescription();
            if (TextUtils.isEmpty(charSequence)) {
                charSequence = description;
            } else if (!TextUtils.isEmpty(description)) {
                charSequence = SelectPrinterActivity.this.getString(2131427391, new Object[]{charSequence, description});
            }
            ((TextView) view.findViewById(2131099734)).setText(name);
            TextView textView = (TextView) view.findViewById(2131099726);
            if (!TextUtils.isEmpty(charSequence)) {
                textView.setText(charSequence);
                textView.setVisibility(0);
            } else {
                textView.setText((CharSequence) null);
                textView.setVisibility(8);
            }
            LinearLayout linearLayout = (LinearLayout) view.findViewById(2131099696);
            if (printerInfo.getInfoIntent() != null) {
                linearLayout.setVisibility(0);
                linearLayout.setOnClickListener(new View.OnClickListener() { // from class: com.android.printspooler.ui.-$$Lambda$SelectPrinterActivity$DestinationAdapter$IPLnqUKCj1WVNMkbu6lKJqfrG6Y
                    @Override // android.view.View.OnClickListener
                    public final void onClick(View view2) {
                        SelectPrinterActivity.DestinationAdapter.this.lambda$getView$0$SelectPrinterActivity$DestinationAdapter(printerInfo, view2);
                    }
                });
            } else {
                linearLayout.setVisibility(8);
            }
            ImageView imageView = (ImageView) view.findViewById(2131099686);
            if (loadIcon != null) {
                imageView.setVisibility(0);
                if (!isActionable(i)) {
                    loadIcon.mutate();
                    TypedValue typedValue = new TypedValue();
                    SelectPrinterActivity.this.getTheme().resolveAttribute(R.attr.disabledAlpha, typedValue, true);
                    loadIcon.setAlpha((int) (typedValue.getFloat() * 255.0f));
                }
                imageView.setImageDrawable(loadIcon);
            } else {
                imageView.setVisibility(8);
            }
            return view;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$getView$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$getView$0$SelectPrinterActivity$DestinationAdapter(PrinterInfo printerInfo, View view) {
            Intent intent = new Intent();
            intent.putExtra("android.printservice.extra.CAN_SELECT_PRINTER", true);
            try {
                SelectPrinterActivity.this.mPrinterForInfoIntent = printerInfo;
                SelectPrinterActivity.this.startIntentSenderForResult(printerInfo.getInfoIntent().getIntentSender(), 1, intent, 0, 0, 0);
            } catch (IntentSender.SendIntentException e) {
                SelectPrinterActivity.this.mPrinterForInfoIntent = null;
                Log.e("SelectPrinterFragment", "Could not execute pending info intent: %s", e);
            }
        }

        public boolean isActionable(int i) {
            PrinterInfo printerInfo = (PrinterInfo) getItem(i);
            return printerInfo == null || printerInfo.getStatus() != 3;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public final class AnnounceFilterResult implements Runnable {
        private AnnounceFilterResult() {
        }

        public void post() {
            remove();
            SelectPrinterActivity.this.mListView.postDelayed(this, 1000L);
        }

        public void remove() {
            SelectPrinterActivity.this.mListView.removeCallbacks(this);
        }

        @Override // java.lang.Runnable
        public void run() {
            String quantityString;
            int count = SelectPrinterActivity.this.mListView.getAdapter().getCount();
            if (count <= 0) {
                quantityString = SelectPrinterActivity.this.getString(2131427378);
            } else {
                quantityString = SelectPrinterActivity.this.getResources().getQuantityString(2131361792, count, Integer.valueOf(count));
            }
            SelectPrinterActivity.this.mListView.announceForAccessibility(quantityString);
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/AddPrinterActivity.java** ###

package com.android.printspooler.ui;

import android.app.ListActivity;
import android.app.LoaderManager;
import android.content.ActivityNotFoundException;
import android.content.ComponentName;
import android.content.Intent;
import android.content.Loader;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.database.DataSetObserver;
import android.net.Uri;
import android.os.Bundle;
import android.print.PrintManager;
import android.print.PrintServiceRecommendationsLoader;
import android.print.PrintServicesLoader;
import android.printservice.PrintServiceInfo;
import android.printservice.recommendation.RecommendationInfo;
import android.provider.Settings;
import android.text.TextUtils;
import android.util.ArraySet;
import android.util.Log;
import android.util.Pair;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;
import com.android.internal.logging.MetricsLogger;
import java.text.Collator;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class AddPrinterActivity extends ListActivity implements AdapterView.OnItemClickListener {
    private DisabledServicesAdapter mDisabledServicesAdapter;
    private EnabledServicesAdapter mEnabledServicesAdapter;
    private boolean mHasVending;
    private NoPrintServiceMessageAdapter mNoPrintServiceMessageAdapter;
    private RecommendedServicesAdapter mRecommendedServicesAdapter;

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        setContentView(2131230720);
        try {
            getPackageManager().getPackageInfo("com.android.vending", 0);
            this.mHasVending = true;
        } catch (PackageManager.NameNotFoundException unused) {
            this.mHasVending = false;
        }
        this.mEnabledServicesAdapter = new EnabledServicesAdapter();
        this.mDisabledServicesAdapter = new DisabledServicesAdapter();
        if (this.mHasVending) {
            this.mRecommendedServicesAdapter = new RecommendedServicesAdapter();
        } else {
            this.mNoPrintServiceMessageAdapter = new NoPrintServiceMessageAdapter();
        }
        ArrayList arrayList = new ArrayList(3);
        arrayList.add(this.mEnabledServicesAdapter);
        if (this.mHasVending) {
            arrayList.add(this.mRecommendedServicesAdapter);
        }
        arrayList.add(this.mDisabledServicesAdapter);
        if (!this.mHasVending) {
            arrayList.add(this.mNoPrintServiceMessageAdapter);
        }
        setListAdapter(new CombinedAdapter(this, arrayList));
        getListView().setOnItemClickListener(this);
        PrintServiceInfoLoaderCallbacks printServiceInfoLoaderCallbacks = new PrintServiceInfoLoaderCallbacks();
        getLoaderManager().initLoader(1, null, printServiceInfoLoaderCallbacks);
        getLoaderManager().initLoader(2, null, printServiceInfoLoaderCallbacks);
        if (this.mHasVending) {
            getLoaderManager().initLoader(3, null, new PrintServicePrintServiceRecommendationLoaderCallbacks());
        }
        getLoaderManager().initLoader(4, null, printServiceInfoLoaderCallbacks);
    }

    @Override // android.app.ListActivity, android.app.Activity
    protected void onDestroy() {
        if (isFinishing()) {
            MetricsLogger.action(this, 504, this.mEnabledServicesAdapter.getCount());
        }
        super.onDestroy();
    }

    /* loaded from: /content/classes1.dex */
    private class PrintServiceInfoLoaderCallbacks implements LoaderManager.LoaderCallbacks<List<PrintServiceInfo>> {
        private PrintServiceInfoLoaderCallbacks() {
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public Loader<List<PrintServiceInfo>> onCreateLoader(int i, Bundle bundle) {
            if (i == 1) {
                return new PrintServicesLoader((PrintManager) AddPrinterActivity.this.getSystemService("print"), AddPrinterActivity.this, 1);
            }
            if (i == 2) {
                return new PrintServicesLoader((PrintManager) AddPrinterActivity.this.getSystemService("print"), AddPrinterActivity.this, 2);
            }
            if (i != 4) {
                return null;
            }
            return new PrintServicesLoader((PrintManager) AddPrinterActivity.this.getSystemService("print"), AddPrinterActivity.this, 3);
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoadFinished(Loader<List<PrintServiceInfo>> loader, List<PrintServiceInfo> list) {
            int id = loader.getId();
            if (id == 1) {
                AddPrinterActivity.this.mEnabledServicesAdapter.updateData(list);
                return;
            }
            if (id == 2) {
                AddPrinterActivity.this.mDisabledServicesAdapter.updateData(list);
            } else {
                if (id != 4) {
                    return;
                }
                if (AddPrinterActivity.this.mHasVending) {
                    AddPrinterActivity.this.mRecommendedServicesAdapter.updateInstalledServices(list);
                } else {
                    AddPrinterActivity.this.mNoPrintServiceMessageAdapter.updateInstalledServices(list);
                }
            }
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoaderReset(Loader<List<PrintServiceInfo>> loader) {
            if (AddPrinterActivity.this.isFinishing()) {
                return;
            }
            int id = loader.getId();
            if (id == 1) {
                AddPrinterActivity.this.mEnabledServicesAdapter.updateData(null);
                return;
            }
            if (id == 2) {
                AddPrinterActivity.this.mDisabledServicesAdapter.updateData(null);
            } else {
                if (id != 4) {
                    return;
                }
                if (AddPrinterActivity.this.mHasVending) {
                    AddPrinterActivity.this.mRecommendedServicesAdapter.updateInstalledServices(null);
                } else {
                    AddPrinterActivity.this.mNoPrintServiceMessageAdapter.updateInstalledServices(null);
                }
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    private class PrintServicePrintServiceRecommendationLoaderCallbacks implements LoaderManager.LoaderCallbacks<List<RecommendationInfo>> {
        private PrintServicePrintServiceRecommendationLoaderCallbacks() {
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public Loader<List<RecommendationInfo>> onCreateLoader(int i, Bundle bundle) {
            return new PrintServiceRecommendationsLoader((PrintManager) AddPrinterActivity.this.getSystemService("print"), AddPrinterActivity.this);
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoadFinished(Loader<List<RecommendationInfo>> loader, List<RecommendationInfo> list) {
            AddPrinterActivity.this.mRecommendedServicesAdapter.updateRecommendations(list);
        }

        @Override // android.app.LoaderManager.LoaderCallbacks
        public void onLoaderReset(Loader<List<RecommendationInfo>> loader) {
            if (AddPrinterActivity.this.isFinishing()) {
                return;
            }
            AddPrinterActivity.this.mRecommendedServicesAdapter.updateRecommendations(null);
        }
    }

    @Override // android.widget.AdapterView.OnItemClickListener
    public void onItemClick(AdapterView<?> adapterView, View view, int i, long j) {
        ((ActionAdapter) getListAdapter()).performAction(i);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public abstract class ActionAdapter extends BaseAdapter {
        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean areAllItemsEnabled() {
            return false;
        }

        abstract void performAction(int i);

        private ActionAdapter(AddPrinterActivity addPrinterActivity) {
        }
    }

    /* loaded from: /content/classes1.dex */
    private class CombinedAdapter extends ActionAdapter {
        private final ArrayList<ActionAdapter> mAdapters;

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            return i;
        }

        CombinedAdapter(AddPrinterActivity addPrinterActivity, ArrayList<ActionAdapter> arrayList) {
            super();
            this.mAdapters = arrayList;
            int size = arrayList.size();
            for (int i = 0; i < size; i++) {
                this.mAdapters.get(i).registerDataSetObserver(new DataSetObserver(addPrinterActivity) { // from class: com.android.printspooler.ui.AddPrinterActivity.CombinedAdapter.1
                    @Override // android.database.DataSetObserver
                    public void onChanged() {
                        CombinedAdapter.this.notifyDataSetChanged();
                    }

                    @Override // android.database.DataSetObserver
                    public void onInvalidated() {
                        CombinedAdapter.this.notifyDataSetChanged();
                    }
                });
            }
        }

        @Override // android.widget.Adapter
        public int getCount() {
            int size = this.mAdapters.size();
            int i = 0;
            for (int i2 = 0; i2 < size; i2++) {
                i += this.mAdapters.get(i2).getCount();
            }
            return i;
        }

        private Pair<ActionAdapter, Integer> getSubAdapter(int i) {
            int size = this.mAdapters.size();
            for (int i2 = 0; i2 < size; i2++) {
                ActionAdapter actionAdapter = this.mAdapters.get(i2);
                if (i < actionAdapter.getCount()) {
                    return new Pair<>(actionAdapter, Integer.valueOf(i));
                }
                i -= actionAdapter.getCount();
            }
            throw new IllegalArgumentException("Invalid position");
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getItemViewType(int i) {
            int size = this.mAdapters.size();
            int i2 = 0;
            for (int i3 = 0; i3 < size; i3++) {
                ActionAdapter actionAdapter = this.mAdapters.get(i3);
                if (i < actionAdapter.getCount()) {
                    return i2 + actionAdapter.getItemViewType(i);
                }
                i2 += actionAdapter.getViewTypeCount();
                i -= actionAdapter.getCount();
            }
            throw new IllegalArgumentException("Invalid position");
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getViewTypeCount() {
            int size = this.mAdapters.size();
            int i = 0;
            for (int i2 = 0; i2 < size; i2++) {
                i += this.mAdapters.get(i2).getViewTypeCount();
            }
            return i;
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            Pair<ActionAdapter, Integer> subAdapter = getSubAdapter(i);
            return ((ActionAdapter) subAdapter.first).getView(((Integer) subAdapter.second).intValue(), view, viewGroup);
        }

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            Pair<ActionAdapter, Integer> subAdapter = getSubAdapter(i);
            return ((ActionAdapter) subAdapter.first).getItem(((Integer) subAdapter.second).intValue());
        }

        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean isEnabled(int i) {
            Pair<ActionAdapter, Integer> subAdapter = getSubAdapter(i);
            return ((ActionAdapter) subAdapter.first).isEnabled(((Integer) subAdapter.second).intValue());
        }

        @Override // com.android.printspooler.ui.AddPrinterActivity.ActionAdapter
        public void performAction(int i) {
            Pair<ActionAdapter, Integer> subAdapter = getSubAdapter(i);
            ((ActionAdapter) subAdapter.first).performAction(((Integer) subAdapter.second).intValue());
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public abstract class PrintServiceInfoAdapter extends ActionAdapter {
        private List<PrintServiceInfo> mServices;

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            return i;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getItemViewType(int i) {
            return i == 0 ? 0 : 1;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getViewTypeCount() {
            return 2;
        }

        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean isEnabled(int i) {
            return i != 0;
        }

        PrintServiceInfoAdapter(AddPrinterActivity addPrinterActivity) {
            super();
            this.mServices = Collections.emptyList();
        }

        void updateData(List<PrintServiceInfo> list) {
            if (list == null || list.isEmpty()) {
                this.mServices = Collections.emptyList();
            } else {
                this.mServices = list;
            }
            notifyDataSetChanged();
        }

        @Override // android.widget.Adapter
        public int getCount() {
            if (this.mServices.isEmpty()) {
                return 0;
            }
            return this.mServices.size() + 1;
        }

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            if (i == 0) {
                return null;
            }
            return this.mServices.get(i - 1);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class EnabledServicesAdapter extends PrintServiceInfoAdapter {
        private EnabledServicesAdapter() {
            super(AddPrinterActivity.this);
        }

        @Override // com.android.printspooler.ui.AddPrinterActivity.ActionAdapter
        public void performAction(int i) {
            Intent addPrinterIntent = getAddPrinterIntent((PrintServiceInfo) getItem(i));
            if (addPrinterIntent != null) {
                try {
                    AddPrinterActivity.this.startActivity(addPrinterIntent);
                } catch (ActivityNotFoundException | SecurityException e) {
                    Log.e("AddPrinterActivity", "Cannot start add printers activity", e);
                }
            }
        }

        private Intent getAddPrinterIntent(PrintServiceInfo printServiceInfo) {
            String addPrintersActivityName = printServiceInfo.getAddPrintersActivityName();
            if (TextUtils.isEmpty(addPrintersActivityName)) {
                return null;
            }
            Intent intent = new Intent("android.intent.action.MAIN");
            intent.setComponent(new ComponentName(printServiceInfo.getComponentName().getPackageName(), addPrintersActivityName));
            List<ResolveInfo> queryIntentActivities = AddPrinterActivity.this.getPackageManager().queryIntentActivities(intent, 0);
            if (queryIntentActivities.isEmpty() || !queryIntentActivities.get(0).activityInfo.exported) {
                return null;
            }
            return intent;
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            if (i == 0) {
                if (view == null) {
                    view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230721, viewGroup, false);
                }
                ((TextView) view.findViewById(2131099731)).setText(2131427343);
                return view;
            }
            if (view == null) {
                view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230725, viewGroup, false);
            }
            PrintServiceInfo printServiceInfo = (PrintServiceInfo) getItem(i);
            TextView textView = (TextView) view.findViewById(2131099734);
            ImageView imageView = (ImageView) view.findViewById(2131099686);
            TextView textView2 = (TextView) view.findViewById(2131099726);
            textView.setText(printServiceInfo.getResolveInfo().loadLabel(AddPrinterActivity.this.getPackageManager()));
            imageView.setImageDrawable(printServiceInfo.getResolveInfo().loadIcon(AddPrinterActivity.this.getPackageManager()));
            if (getAddPrinterIntent(printServiceInfo) == null) {
                textView2.setText(AddPrinterActivity.this.getString(2131427336));
            } else {
                textView2.setText(AddPrinterActivity.this.getString(2131427405));
            }
            return view;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class DisabledServicesAdapter extends PrintServiceInfoAdapter {
        private DisabledServicesAdapter() {
            super(AddPrinterActivity.this);
        }

        @Override // com.android.printspooler.ui.AddPrinterActivity.ActionAdapter
        public void performAction(int i) {
            ((PrintManager) AddPrinterActivity.this.getSystemService("print")).setPrintServiceEnabled(((PrintServiceInfo) getItem(i)).getComponentName(), true);
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            if (i == 0) {
                if (view == null) {
                    view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230721, viewGroup, false);
                }
                ((TextView) view.findViewById(2131099731)).setText(2131427341);
                return view;
            }
            if (view == null) {
                view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230724, viewGroup, false);
            }
            PrintServiceInfo printServiceInfo = (PrintServiceInfo) getItem(i);
            TextView textView = (TextView) view.findViewById(2131099734);
            ImageView imageView = (ImageView) view.findViewById(2131099686);
            textView.setText(printServiceInfo.getResolveInfo().loadLabel(AddPrinterActivity.this.getPackageManager()));
            imageView.setImageDrawable(printServiceInfo.getResolveInfo().loadIcon(AddPrinterActivity.this.getPackageManager()));
            return view;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class RecommendedServicesAdapter extends ActionAdapter {
        private List<RecommendationInfo> mFilteredRecommendations;
        private final ArraySet<String> mInstalledServices;
        private List<RecommendationInfo> mRecommendations;

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            return i;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getViewTypeCount() {
            return 3;
        }

        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean isEnabled(int i) {
            return i != 0;
        }

        private RecommendedServicesAdapter() {
            super();
            this.mInstalledServices = new ArraySet<>();
        }

        @Override // android.widget.Adapter
        public int getCount() {
            List<RecommendationInfo> list = this.mFilteredRecommendations;
            if (list == null) {
                return 2;
            }
            return list.size() + 2;
        }

        private int getAllServicesPos() {
            return getCount() - 1;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getItemViewType(int i) {
            if (i == 0) {
                return 0;
            }
            return getAllServicesPos() == i ? 1 : 2;
        }

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            if (i == 0 || i == getAllServicesPos()) {
                return null;
            }
            return this.mFilteredRecommendations.get(i - 1);
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            if (i == 0) {
                if (view == null) {
                    view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230721, viewGroup, false);
                }
                ((TextView) view.findViewById(2131099731)).setText(2131427396);
                return view;
            }
            if (i == getAllServicesPos()) {
                return view == null ? AddPrinterActivity.this.getLayoutInflater().inflate(2131230723, viewGroup, false) : view;
            }
            RecommendationInfo recommendationInfo = (RecommendationInfo) getItem(i);
            if (view == null) {
                view = AddPrinterActivity.this.getLayoutInflater().inflate(2131230750, viewGroup, false);
            }
            ((TextView) view.findViewById(2131099734)).setText(recommendationInfo.getName());
            ((TextView) view.findViewById(2131099726)).setText(AddPrinterActivity.this.getResources().getQuantityString(2131361793, recommendationInfo.getNumDiscoveredPrinters(), Integer.valueOf(recommendationInfo.getNumDiscoveredPrinters())));
            return view;
        }

        @Override // com.android.printspooler.ui.AddPrinterActivity.ActionAdapter
        public void performAction(int i) {
            if (i == getAllServicesPos()) {
                String string = Settings.Secure.getString(AddPrinterActivity.this.getContentResolver(), "print_service_search_uri");
                if (string != null) {
                    try {
                        AddPrinterActivity.this.startActivity(new Intent("android.intent.action.VIEW", Uri.parse(string)));
                        return;
                    } catch (ActivityNotFoundException e) {
                        Log.e("AddPrinterActivity", "Cannot start market", e);
                        return;
                    }
                }
                return;
            }
            RecommendationInfo recommendationInfo = (RecommendationInfo) getItem(i);
            MetricsLogger.action(AddPrinterActivity.this, 512, recommendationInfo.getPackageName().toString());
            try {
                AddPrinterActivity.this.startActivity(new Intent("android.intent.action.VIEW", Uri.parse(AddPrinterActivity.this.getString(2131427410, new Object[]{recommendationInfo.getPackageName()}))));
            } catch (ActivityNotFoundException e2) {
                Log.e("AddPrinterActivity", "Cannot start market", e2);
            }
        }

        private void filterRecommendations() {
            if (this.mRecommendations == null) {
                this.mFilteredRecommendations = null;
            } else {
                this.mFilteredRecommendations = new ArrayList();
                int size = this.mRecommendations.size();
                for (int i = 0; i < size; i++) {
                    RecommendationInfo recommendationInfo = this.mRecommendations.get(i);
                    if (!this.mInstalledServices.contains(recommendationInfo.getPackageName())) {
                        this.mFilteredRecommendations.add(recommendationInfo);
                    }
                }
            }
            notifyDataSetChanged();
        }

        public void updateInstalledServices(List<PrintServiceInfo> list) {
            this.mInstalledServices.clear();
            if (list != null) {
                int size = list.size();
                for (int i = 0; i < size; i++) {
                    this.mInstalledServices.add(list.get(i).getComponentName().getPackageName());
                }
            }
            filterRecommendations();
        }

        public void updateRecommendations(List<RecommendationInfo> list) {
            if (list != null) {
                final Collator collator = Collator.getInstance();
                Collections.sort(list, new Comparator<RecommendationInfo>(this) { // from class: com.android.printspooler.ui.AddPrinterActivity.RecommendedServicesAdapter.1
                    @Override // java.util.Comparator
                    public int compare(RecommendationInfo recommendationInfo, RecommendationInfo recommendationInfo2) {
                        if (recommendationInfo.getNumDiscoveredPrinters() != recommendationInfo2.getNumDiscoveredPrinters()) {
                            return recommendationInfo2.getNumDiscoveredPrinters() - recommendationInfo.getNumDiscoveredPrinters();
                        }
                        if (recommendationInfo.recommendsMultiVendorService() != recommendationInfo2.recommendsMultiVendorService()) {
                            return recommendationInfo.recommendsMultiVendorService() ? 1 : -1;
                        }
                        return collator.compare(recommendationInfo.getName().toString(), recommendationInfo2.getName().toString());
                    }
                });
            }
            this.mRecommendations = list;
            filterRecommendations();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class NoPrintServiceMessageAdapter extends ActionAdapter {
        private boolean mHasPrintService;

        @Override // android.widget.Adapter
        public Object getItem(int i) {
            return null;
        }

        @Override // android.widget.Adapter
        public long getItemId(int i) {
            return i;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getItemViewType(int i) {
            return 0;
        }

        @Override // android.widget.BaseAdapter, android.widget.Adapter
        public int getViewTypeCount() {
            return 1;
        }

        @Override // android.widget.BaseAdapter, android.widget.ListAdapter
        public boolean isEnabled(int i) {
            return i != 0;
        }

        @Override // com.android.printspooler.ui.AddPrinterActivity.ActionAdapter
        public void performAction(int i) {
        }

        private NoPrintServiceMessageAdapter() {
            super();
        }

        void updateInstalledServices(List<PrintServiceInfo> list) {
            if (list == null || list.isEmpty()) {
                this.mHasPrintService = false;
            } else {
                this.mHasPrintService = true;
            }
            notifyDataSetChanged();
        }

        @Override // android.widget.Adapter
        public int getCount() {
            return !this.mHasPrintService ? 1 : 0;
        }

        @Override // android.widget.Adapter
        public View getView(int i, View view, ViewGroup viewGroup) {
            return view == null ? AddPrinterActivity.this.getLayoutInflater().inflate(2131230726, viewGroup, false) : view;
        }
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PrintErrorFragment.java** ###

package com.android.printspooler.ui;

import android.app.Fragment;
import android.os.Bundle;
import android.text.TextUtils;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;

/* loaded from: /content/classes1.dex */
public final class PrintErrorFragment extends Fragment {

    /* loaded from: /content/classes1.dex */
    public interface OnActionListener {
        void onActionPerformed();
    }

    public static PrintErrorFragment newInstance(CharSequence charSequence, int i) {
        Bundle bundle = new Bundle();
        bundle.putCharSequence("EXTRA_MESSAGE", charSequence);
        bundle.putInt("EXTRA_ACTION", i);
        PrintErrorFragment printErrorFragment = new PrintErrorFragment();
        printErrorFragment.setArguments(bundle);
        return printErrorFragment;
    }

    @Override // android.app.Fragment
    public View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        return layoutInflater.inflate(2131230748, viewGroup, false);
    }

    @Override // android.app.Fragment
    public void onViewCreated(View view, Bundle bundle) {
        super.onViewCreated(view, bundle);
        CharSequence charSequence = getArguments().getCharSequence("EXTRA_MESSAGE");
        if (!TextUtils.isEmpty(charSequence)) {
            ((TextView) view.findViewById(2131099695)).setText(charSequence);
        }
        Button button = (Button) view.findViewById(2131099649);
        int i = getArguments().getInt("EXTRA_ACTION");
        if (i == 0) {
            button.setVisibility(8);
        } else if (i == 1) {
            button.setVisibility(0);
            button.setText(2131427375);
        }
        button.setOnClickListener(new View.OnClickListener() { // from class: com.android.printspooler.ui.PrintErrorFragment.1
            @Override // android.view.View.OnClickListener
            public void onClick(View view2) {
                if (PrintErrorFragment.this.getActivity() instanceof OnActionListener) {
                    ((OnActionListener) PrintErrorFragment.this.getActivity()).onActionPerformed();
                }
            }
        });
    }
}


### **classes_dex_1/sources/com/android/printspooler/ui/PrintProgressFragment.java** ###

package com.android.printspooler.ui;

import android.app.Fragment;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

/* loaded from: /content/classes1.dex */
public final class PrintProgressFragment extends Fragment {
    public static PrintProgressFragment newInstance() {
        return new PrintProgressFragment();
    }

    @Override // android.app.Fragment
    public View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        return layoutInflater.inflate(2131230749, viewGroup, false);
    }
}


### **classes_dex_1/sources/android/arch/lifecycle/CompositeGeneratedAdaptersObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
public class CompositeGeneratedAdaptersObserver implements GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/ViewModel.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
public abstract class ViewModel {
}


### **classes_dex_1/sources/android/arch/lifecycle/AndroidViewModel.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
public class AndroidViewModel extends ViewModel {
}


### **classes_dex_1/sources/android/arch/lifecycle/FullLifecycleObserverAdapter.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
class FullLifecycleObserverAdapter implements GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/LiveData$LifecycleBoundObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
class LiveData$LifecycleBoundObserver extends Object<T>.ObserverWrapper implements GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/FullLifecycleObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
interface FullLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/GenericLifecycleObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
public interface GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/LiveData$ObserverWrapper.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
abstract class LiveData$ObserverWrapper {
}


### **classes_dex_1/sources/android/arch/lifecycle/ReflectiveGenericLifecycleObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
class ReflectiveGenericLifecycleObserver implements GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/arch/lifecycle/SingleGeneratedAdapterObserver.java** ###

package android.arch.lifecycle;

/* loaded from: /content/classes1.dex */
public class SingleGeneratedAdapterObserver implements GenericLifecycleObserver {
}


### **classes_dex_1/sources/android/support/design/widget/CoordinatorLayout$SavedState.java** ###

package android.support.design.widget;

import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.view.AbsSavedState;
import android.util.SparseArray;

/* loaded from: /content/classes1.dex */
public class CoordinatorLayout$SavedState extends AbsSavedState {
    public static final Parcelable.Creator<CoordinatorLayout$SavedState> CREATOR = new Parcelable.ClassLoaderCreator<CoordinatorLayout$SavedState>() { // from class: android.support.design.widget.CoordinatorLayout$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.ClassLoaderCreator
        public CoordinatorLayout$SavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
            return new CoordinatorLayout$SavedState(parcel, classLoader);
        }

        @Override // android.os.Parcelable.Creator
        public CoordinatorLayout$SavedState createFromParcel(Parcel parcel) {
            return new CoordinatorLayout$SavedState(parcel, null);
        }

        @Override // android.os.Parcelable.Creator
        public CoordinatorLayout$SavedState[] newArray(int i) {
            return new CoordinatorLayout$SavedState[i];
        }
    };
    SparseArray<Parcelable> behaviorStates;

    public CoordinatorLayout$SavedState(Parcel parcel, ClassLoader classLoader) {
        super(parcel, classLoader);
        int readInt = parcel.readInt();
        int[] iArr = new int[readInt];
        parcel.readIntArray(iArr);
        Parcelable[] readParcelableArray = parcel.readParcelableArray(classLoader);
        this.behaviorStates = new SparseArray<>(readInt);
        for (int i = 0; i < readInt; i++) {
            this.behaviorStates.append(iArr[i], readParcelableArray[i]);
        }
    }

    @Override // android.support.v4.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        SparseArray<Parcelable> sparseArray = this.behaviorStates;
        int size = sparseArray != null ? sparseArray.size() : 0;
        parcel.writeInt(size);
        int[] iArr = new int[size];
        Parcelable[] parcelableArr = new Parcelable[size];
        for (int i2 = 0; i2 < size; i2++) {
            iArr[i2] = this.behaviorStates.keyAt(i2);
            parcelableArr[i2] = this.behaviorStates.valueAt(i2);
        }
        parcel.writeIntArray(iArr);
        parcel.writeParcelableArray(parcelableArr, i);
    }
}


### **classes_dex_1/sources/android/support/annotation/Keep.java** ###

package android.support.annotation;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target({ElementType.PACKAGE, ElementType.TYPE, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.METHOD, ElementType.FIELD})
@Retention(RetentionPolicy.CLASS)
/* loaded from: /content/classes1.dex */
public @interface Keep {
}


### **classes_dex_1/sources/android/support/v7/recyclerview/R$styleable.java** ###

package android.support.v7.recyclerview;

import android.R;

/* loaded from: /content/classes1.dex */
public final class R$styleable {
    public static final int[] RecyclerView = {R.attr.orientation, R.attr.descendantFocusability, 2130837506, 2130837507, 2130837508, 2130837509, 2130837510, 2130837522, 2130837529, 2130837530, 2130837531};
    public static final int RecyclerView_android_descendantFocusability = 1;
    public static final int RecyclerView_android_orientation = 0;
    public static final int RecyclerView_fastScrollEnabled = 2;
    public static final int RecyclerView_fastScrollHorizontalThumbDrawable = 3;
    public static final int RecyclerView_fastScrollHorizontalTrackDrawable = 4;
    public static final int RecyclerView_fastScrollVerticalThumbDrawable = 5;
    public static final int RecyclerView_fastScrollVerticalTrackDrawable = 6;
    public static final int RecyclerView_layoutManager = 7;
    public static final int RecyclerView_reverseLayout = 8;
    public static final int RecyclerView_spanCount = 9;
    public static final int RecyclerView_stackFromEnd = 10;
}


### **classes_dex_1/sources/android/support/v7/recyclerview/R$dimen.java** ###

package android.support.v7.recyclerview;

/* loaded from: /content/classes1.dex */
public final class R$dimen {
    public static final int fastscroll_default_thickness = 2130968583;
    public static final int fastscroll_margin = 2130968584;
    public static final int fastscroll_minimum_range = 2130968585;
}


### **classes_dex_1/sources/android/support/v7/widget/StaggeredGridLayoutManager.java** ###

package android.support.v7.widget;

import android.content.Context;
import android.graphics.Rect;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;
import android.support.v7.widget.RecyclerView;
import android.util.AttributeSet;
import android.view.View;
import android.view.ViewGroup;
import android.view.accessibility.AccessibilityEvent;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.BitSet;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class StaggeredGridLayoutManager extends RecyclerView.LayoutManager {
    private int mFullSizeSpec;
    private boolean mLastLayoutFromEnd;
    private boolean mLastLayoutRTL;
    private final LayoutState mLayoutState;
    private int mOrientation;
    private SavedState mPendingSavedState;
    private int[] mPrefetchDistances;
    OrientationHelper mPrimaryOrientation;
    private BitSet mRemainingSpans;
    OrientationHelper mSecondaryOrientation;
    private int mSizePerSpan;
    Span[] mSpans;
    private int mSpanCount = -1;
    boolean mReverseLayout = false;
    boolean mShouldReverseLayout = false;
    int mPendingScrollPosition = -1;
    int mPendingScrollPositionOffset = Integer.MIN_VALUE;
    LazySpanLookup mLazySpanLookup = new LazySpanLookup();
    private int mGapStrategy = 2;
    private final Rect mTmpRect = new Rect();
    private final AnchorInfo mAnchorInfo = new AnchorInfo();
    private boolean mLaidOutInvalidFullSpan = false;
    private boolean mSmoothScrollbarEnabled = true;
    private final Runnable mCheckForGapsRunnable = new Runnable() { // from class: android.support.v7.widget.StaggeredGridLayoutManager.1
        @Override // java.lang.Runnable
        public void run() {
            StaggeredGridLayoutManager.this.checkForGaps();
        }
    };

    public StaggeredGridLayoutManager(Context context, AttributeSet attributeSet, int i, int i2) {
        RecyclerView.LayoutManager.Properties properties = RecyclerView.LayoutManager.getProperties(context, attributeSet, i, i2);
        setOrientation(properties.orientation);
        setSpanCount(properties.spanCount);
        setReverseLayout(properties.reverseLayout);
        this.mLayoutState = new LayoutState();
        createOrientationHelpers();
    }

    public StaggeredGridLayoutManager(int i, int i2) {
        this.mOrientation = i2;
        setSpanCount(i);
        this.mLayoutState = new LayoutState();
        createOrientationHelpers();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean isAutoMeasureEnabled() {
        return this.mGapStrategy != 0;
    }

    private void createOrientationHelpers() {
        this.mPrimaryOrientation = OrientationHelper.createOrientationHelper(this, this.mOrientation);
        this.mSecondaryOrientation = OrientationHelper.createOrientationHelper(this, 1 - this.mOrientation);
    }

    boolean checkForGaps() {
        int firstChildPosition;
        int lastChildPosition;
        if (getChildCount() == 0 || this.mGapStrategy == 0 || !isAttachedToWindow()) {
            return false;
        }
        if (this.mShouldReverseLayout) {
            firstChildPosition = getLastChildPosition();
            lastChildPosition = getFirstChildPosition();
        } else {
            firstChildPosition = getFirstChildPosition();
            lastChildPosition = getLastChildPosition();
        }
        if (firstChildPosition == 0 && hasGapsToFix() != null) {
            this.mLazySpanLookup.clear();
            requestSimpleAnimationsInNextLayout();
            requestLayout();
            return true;
        }
        if (!this.mLaidOutInvalidFullSpan) {
            return false;
        }
        int i = this.mShouldReverseLayout ? -1 : 1;
        int i2 = lastChildPosition + 1;
        LazySpanLookup.FullSpanItem firstFullSpanItemInRange = this.mLazySpanLookup.getFirstFullSpanItemInRange(firstChildPosition, i2, i, true);
        if (firstFullSpanItemInRange == null) {
            this.mLaidOutInvalidFullSpan = false;
            this.mLazySpanLookup.forceInvalidateAfter(i2);
            return false;
        }
        LazySpanLookup.FullSpanItem firstFullSpanItemInRange2 = this.mLazySpanLookup.getFirstFullSpanItemInRange(firstChildPosition, firstFullSpanItemInRange.mPosition, i * (-1), true);
        if (firstFullSpanItemInRange2 == null) {
            this.mLazySpanLookup.forceInvalidateAfter(firstFullSpanItemInRange.mPosition);
        } else {
            this.mLazySpanLookup.forceInvalidateAfter(firstFullSpanItemInRange2.mPosition + 1);
        }
        requestSimpleAnimationsInNextLayout();
        requestLayout();
        return true;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onScrollStateChanged(int i) {
        if (i == 0) {
            checkForGaps();
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onDetachedFromWindow(RecyclerView recyclerView, RecyclerView.Recycler recycler) {
        super.onDetachedFromWindow(recyclerView, recycler);
        removeCallbacks(this.mCheckForGapsRunnable);
        for (int i = 0; i < this.mSpanCount; i++) {
            this.mSpans[i].clear();
        }
        recyclerView.requestLayout();
    }

    /* JADX WARN: Code restructure failed: missing block: B:29:0x0074, code lost:
    
        if (r10 == r11) goto L37;
     */
    /* JADX WARN: Code restructure failed: missing block: B:30:0x008a, code lost:
    
        r10 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:45:0x0088, code lost:
    
        r10 = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:50:0x0086, code lost:
    
        if (r10 == r11) goto L37;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    android.view.View hasGapsToFix() {
        /*
            r12 = this;
            int r0 = r12.getChildCount()
            r1 = 1
            int r0 = r0 - r1
            java.util.BitSet r2 = new java.util.BitSet
            int r3 = r12.mSpanCount
            r2.<init>(r3)
            int r3 = r12.mSpanCount
            r4 = 0
            r2.set(r4, r3, r1)
            int r3 = r12.mOrientation
            r5 = -1
            if (r3 != r1) goto L20
            boolean r3 = r12.isLayoutRTL()
            if (r3 == 0) goto L20
            r3 = r1
            goto L21
        L20:
            r3 = r5
        L21:
            boolean r6 = r12.mShouldReverseLayout
            if (r6 == 0) goto L27
            r6 = r5
            goto L2b
        L27:
            int r0 = r0 + 1
            r6 = r0
            r0 = r4
        L2b:
            if (r0 >= r6) goto L2e
            r5 = r1
        L2e:
            if (r0 == r6) goto Lab
            android.view.View r7 = r12.getChildAt(r0)
            android.view.ViewGroup$LayoutParams r8 = r7.getLayoutParams()
            android.support.v7.widget.StaggeredGridLayoutManager$LayoutParams r8 = (android.support.v7.widget.StaggeredGridLayoutManager.LayoutParams) r8
            android.support.v7.widget.StaggeredGridLayoutManager$Span r9 = r8.mSpan
            int r9 = r9.mIndex
            boolean r9 = r2.get(r9)
            if (r9 == 0) goto L54
            android.support.v7.widget.StaggeredGridLayoutManager$Span r9 = r8.mSpan
            boolean r9 = r12.checkSpanForGap(r9)
            if (r9 == 0) goto L4d
            return r7
        L4d:
            android.support.v7.widget.StaggeredGridLayoutManager$Span r9 = r8.mSpan
            int r9 = r9.mIndex
            r2.clear(r9)
        L54:
            boolean r9 = r8.mFullSpan
            if (r9 == 0) goto L59
            goto La9
        L59:
            int r9 = r0 + r5
            if (r9 == r6) goto La9
            android.view.View r9 = r12.getChildAt(r9)
            boolean r10 = r12.mShouldReverseLayout
            if (r10 == 0) goto L77
            android.support.v7.widget.OrientationHelper r10 = r12.mPrimaryOrientation
            int r10 = r10.getDecoratedEnd(r7)
            android.support.v7.widget.OrientationHelper r11 = r12.mPrimaryOrientation
            int r11 = r11.getDecoratedEnd(r9)
            if (r10 >= r11) goto L74
            return r7
        L74:
            if (r10 != r11) goto L8a
            goto L88
        L77:
            android.support.v7.widget.OrientationHelper r10 = r12.mPrimaryOrientation
            int r10 = r10.getDecoratedStart(r7)
            android.support.v7.widget.OrientationHelper r11 = r12.mPrimaryOrientation
            int r11 = r11.getDecoratedStart(r9)
            if (r10 <= r11) goto L86
            return r7
        L86:
            if (r10 != r11) goto L8a
        L88:
            r10 = r1
            goto L8b
        L8a:
            r10 = r4
        L8b:
            if (r10 == 0) goto La9
            android.view.ViewGroup$LayoutParams r9 = r9.getLayoutParams()
            android.support.v7.widget.StaggeredGridLayoutManager$LayoutParams r9 = (android.support.v7.widget.StaggeredGridLayoutManager.LayoutParams) r9
            android.support.v7.widget.StaggeredGridLayoutManager$Span r8 = r8.mSpan
            int r8 = r8.mIndex
            android.support.v7.widget.StaggeredGridLayoutManager$Span r9 = r9.mSpan
            int r9 = r9.mIndex
            int r8 = r8 - r9
            if (r8 >= 0) goto La0
            r8 = r1
            goto La1
        La0:
            r8 = r4
        La1:
            if (r3 >= 0) goto La5
            r9 = r1
            goto La6
        La5:
            r9 = r4
        La6:
            if (r8 == r9) goto La9
            return r7
        La9:
            int r0 = r0 + r5
            goto L2e
        Lab:
            r12 = 0
            return r12
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.StaggeredGridLayoutManager.hasGapsToFix():android.view.View");
    }

    private boolean checkSpanForGap(Span span) {
        if (this.mShouldReverseLayout) {
            if (span.getEndLine() < this.mPrimaryOrientation.getEndAfterPadding()) {
                ArrayList<View> arrayList = span.mViews;
                return !span.getLayoutParams(arrayList.get(arrayList.size() - 1)).mFullSpan;
            }
        } else if (span.getStartLine() > this.mPrimaryOrientation.getStartAfterPadding()) {
            return !span.getLayoutParams(span.mViews.get(0)).mFullSpan;
        }
        return false;
    }

    public void setSpanCount(int i) {
        assertNotInLayoutOrScroll(null);
        if (i != this.mSpanCount) {
            invalidateSpanAssignments();
            this.mSpanCount = i;
            this.mRemainingSpans = new BitSet(this.mSpanCount);
            this.mSpans = new Span[this.mSpanCount];
            for (int i2 = 0; i2 < this.mSpanCount; i2++) {
                this.mSpans[i2] = new Span(i2);
            }
            requestLayout();
        }
    }

    public void setOrientation(int i) {
        if (i != 0 && i != 1) {
            throw new IllegalArgumentException("invalid orientation.");
        }
        assertNotInLayoutOrScroll(null);
        if (i == this.mOrientation) {
            return;
        }
        this.mOrientation = i;
        OrientationHelper orientationHelper = this.mPrimaryOrientation;
        this.mPrimaryOrientation = this.mSecondaryOrientation;
        this.mSecondaryOrientation = orientationHelper;
        requestLayout();
    }

    public void setReverseLayout(boolean z) {
        assertNotInLayoutOrScroll(null);
        SavedState savedState = this.mPendingSavedState;
        if (savedState != null && savedState.mReverseLayout != z) {
            savedState.mReverseLayout = z;
        }
        this.mReverseLayout = z;
        requestLayout();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void assertNotInLayoutOrScroll(String str) {
        if (this.mPendingSavedState == null) {
            super.assertNotInLayoutOrScroll(str);
        }
    }

    public void invalidateSpanAssignments() {
        this.mLazySpanLookup.clear();
        requestLayout();
    }

    private void resolveShouldLayoutReverse() {
        if (this.mOrientation == 1 || !isLayoutRTL()) {
            this.mShouldReverseLayout = this.mReverseLayout;
        } else {
            this.mShouldReverseLayout = !this.mReverseLayout;
        }
    }

    boolean isLayoutRTL() {
        return getLayoutDirection() == 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void setMeasuredDimension(Rect rect, int i, int i2) {
        int chooseSize;
        int chooseSize2;
        int paddingLeft = getPaddingLeft() + getPaddingRight();
        int paddingTop = getPaddingTop() + getPaddingBottom();
        if (this.mOrientation == 1) {
            chooseSize2 = RecyclerView.LayoutManager.chooseSize(i2, rect.height() + paddingTop, getMinimumHeight());
            chooseSize = RecyclerView.LayoutManager.chooseSize(i, (this.mSizePerSpan * this.mSpanCount) + paddingLeft, getMinimumWidth());
        } else {
            chooseSize = RecyclerView.LayoutManager.chooseSize(i, rect.width() + paddingLeft, getMinimumWidth());
            chooseSize2 = RecyclerView.LayoutManager.chooseSize(i2, (this.mSizePerSpan * this.mSpanCount) + paddingTop, getMinimumHeight());
        }
        setMeasuredDimension(chooseSize, chooseSize2);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {
        onLayoutChildren(recycler, state, true);
    }

    /* JADX WARN: Code restructure failed: missing block: B:82:0x0157, code lost:
    
        if (checkForGaps() != false) goto L90;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void onLayoutChildren(android.support.v7.widget.RecyclerView.Recycler r9, android.support.v7.widget.RecyclerView.State r10, boolean r11) {
        /*
            Method dump skipped, instructions count: 379
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.StaggeredGridLayoutManager.onLayoutChildren(android.support.v7.widget.RecyclerView$Recycler, android.support.v7.widget.RecyclerView$State, boolean):void");
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutCompleted(RecyclerView.State state) {
        super.onLayoutCompleted(state);
        this.mPendingScrollPosition = -1;
        this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
        this.mPendingSavedState = null;
        this.mAnchorInfo.reset();
    }

    private void repositionToWrapContentIfNecessary() {
        if (this.mSecondaryOrientation.getMode() == 1073741824) {
            return;
        }
        float f = 0.0f;
        int childCount = getChildCount();
        for (int i = 0; i < childCount; i++) {
            View childAt = getChildAt(i);
            float decoratedMeasurement = this.mSecondaryOrientation.getDecoratedMeasurement(childAt);
            if (decoratedMeasurement >= f) {
                if (((LayoutParams) childAt.getLayoutParams()).isFullSpan()) {
                    decoratedMeasurement = (decoratedMeasurement * 1.0f) / this.mSpanCount;
                }
                f = Math.max(f, decoratedMeasurement);
            }
        }
        int i2 = this.mSizePerSpan;
        int round = Math.round(f * this.mSpanCount);
        if (this.mSecondaryOrientation.getMode() == Integer.MIN_VALUE) {
            round = Math.min(round, this.mSecondaryOrientation.getTotalSpace());
        }
        updateMeasureSpecs(round);
        if (this.mSizePerSpan == i2) {
            return;
        }
        for (int i3 = 0; i3 < childCount; i3++) {
            View childAt2 = getChildAt(i3);
            LayoutParams layoutParams = (LayoutParams) childAt2.getLayoutParams();
            if (!layoutParams.mFullSpan) {
                if (isLayoutRTL() && this.mOrientation == 1) {
                    int i4 = this.mSpanCount;
                    int i5 = layoutParams.mSpan.mIndex;
                    childAt2.offsetLeftAndRight(((-((i4 - 1) - i5)) * this.mSizePerSpan) - ((-((i4 - 1) - i5)) * i2));
                } else {
                    int i6 = layoutParams.mSpan.mIndex;
                    int i7 = this.mSizePerSpan * i6;
                    int i8 = i6 * i2;
                    if (this.mOrientation == 1) {
                        childAt2.offsetLeftAndRight(i7 - i8);
                    } else {
                        childAt2.offsetTopAndBottom(i7 - i8);
                    }
                }
            }
        }
    }

    private void applyPendingSavedState(AnchorInfo anchorInfo) {
        int startAfterPadding;
        SavedState savedState = this.mPendingSavedState;
        int i = savedState.mSpanOffsetsSize;
        if (i > 0) {
            if (i == this.mSpanCount) {
                for (int i2 = 0; i2 < this.mSpanCount; i2++) {
                    this.mSpans[i2].clear();
                    SavedState savedState2 = this.mPendingSavedState;
                    int i3 = savedState2.mSpanOffsets[i2];
                    if (i3 != Integer.MIN_VALUE) {
                        if (savedState2.mAnchorLayoutFromEnd) {
                            startAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
                        } else {
                            startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
                        }
                        i3 += startAfterPadding;
                    }
                    this.mSpans[i2].setLine(i3);
                }
            } else {
                savedState.invalidateSpanInfo();
                SavedState savedState3 = this.mPendingSavedState;
                savedState3.mAnchorPosition = savedState3.mVisibleAnchorPosition;
            }
        }
        SavedState savedState4 = this.mPendingSavedState;
        this.mLastLayoutRTL = savedState4.mLastLayoutRTL;
        setReverseLayout(savedState4.mReverseLayout);
        resolveShouldLayoutReverse();
        SavedState savedState5 = this.mPendingSavedState;
        int i4 = savedState5.mAnchorPosition;
        if (i4 != -1) {
            this.mPendingScrollPosition = i4;
            anchorInfo.mLayoutFromEnd = savedState5.mAnchorLayoutFromEnd;
        } else {
            anchorInfo.mLayoutFromEnd = this.mShouldReverseLayout;
        }
        SavedState savedState6 = this.mPendingSavedState;
        if (savedState6.mSpanLookupSize > 1) {
            LazySpanLookup lazySpanLookup = this.mLazySpanLookup;
            lazySpanLookup.mData = savedState6.mSpanLookup;
            lazySpanLookup.mFullSpanItems = savedState6.mFullSpanItems;
        }
    }

    void updateAnchorInfoForLayout(RecyclerView.State state, AnchorInfo anchorInfo) {
        if (updateAnchorFromPendingData(state, anchorInfo) || updateAnchorFromChildren(state, anchorInfo)) {
            return;
        }
        anchorInfo.assignCoordinateFromPadding();
        anchorInfo.mPosition = 0;
    }

    private boolean updateAnchorFromChildren(RecyclerView.State state, AnchorInfo anchorInfo) {
        int findFirstReferenceChildPosition;
        if (this.mLastLayoutFromEnd) {
            findFirstReferenceChildPosition = findLastReferenceChildPosition(state.getItemCount());
        } else {
            findFirstReferenceChildPosition = findFirstReferenceChildPosition(state.getItemCount());
        }
        anchorInfo.mPosition = findFirstReferenceChildPosition;
        anchorInfo.mOffset = Integer.MIN_VALUE;
        return true;
    }

    boolean updateAnchorFromPendingData(RecyclerView.State state, AnchorInfo anchorInfo) {
        int i;
        int startAfterPadding;
        if (!state.isPreLayout() && (i = this.mPendingScrollPosition) != -1) {
            if (i < 0 || i >= state.getItemCount()) {
                this.mPendingScrollPosition = -1;
                this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
            } else {
                SavedState savedState = this.mPendingSavedState;
                if (savedState == null || savedState.mAnchorPosition == -1 || savedState.mSpanOffsetsSize < 1) {
                    View findViewByPosition = findViewByPosition(this.mPendingScrollPosition);
                    if (findViewByPosition != null) {
                        anchorInfo.mPosition = this.mShouldReverseLayout ? getLastChildPosition() : getFirstChildPosition();
                        if (this.mPendingScrollPositionOffset != Integer.MIN_VALUE) {
                            if (anchorInfo.mLayoutFromEnd) {
                                anchorInfo.mOffset = (this.mPrimaryOrientation.getEndAfterPadding() - this.mPendingScrollPositionOffset) - this.mPrimaryOrientation.getDecoratedEnd(findViewByPosition);
                            } else {
                                anchorInfo.mOffset = (this.mPrimaryOrientation.getStartAfterPadding() + this.mPendingScrollPositionOffset) - this.mPrimaryOrientation.getDecoratedStart(findViewByPosition);
                            }
                            return true;
                        }
                        if (this.mPrimaryOrientation.getDecoratedMeasurement(findViewByPosition) > this.mPrimaryOrientation.getTotalSpace()) {
                            if (anchorInfo.mLayoutFromEnd) {
                                startAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
                            } else {
                                startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
                            }
                            anchorInfo.mOffset = startAfterPadding;
                            return true;
                        }
                        int decoratedStart = this.mPrimaryOrientation.getDecoratedStart(findViewByPosition) - this.mPrimaryOrientation.getStartAfterPadding();
                        if (decoratedStart < 0) {
                            anchorInfo.mOffset = -decoratedStart;
                            return true;
                        }
                        int endAfterPadding = this.mPrimaryOrientation.getEndAfterPadding() - this.mPrimaryOrientation.getDecoratedEnd(findViewByPosition);
                        if (endAfterPadding < 0) {
                            anchorInfo.mOffset = endAfterPadding;
                            return true;
                        }
                        anchorInfo.mOffset = Integer.MIN_VALUE;
                    } else {
                        int i2 = this.mPendingScrollPosition;
                        anchorInfo.mPosition = i2;
                        int i3 = this.mPendingScrollPositionOffset;
                        if (i3 == Integer.MIN_VALUE) {
                            anchorInfo.mLayoutFromEnd = calculateScrollDirectionForPosition(i2) == 1;
                            anchorInfo.assignCoordinateFromPadding();
                        } else {
                            anchorInfo.assignCoordinateFromPadding(i3);
                        }
                        anchorInfo.mInvalidateOffsets = true;
                    }
                } else {
                    anchorInfo.mOffset = Integer.MIN_VALUE;
                    anchorInfo.mPosition = this.mPendingScrollPosition;
                }
                return true;
            }
        }
        return false;
    }

    void updateMeasureSpecs(int i) {
        this.mSizePerSpan = i / this.mSpanCount;
        this.mFullSizeSpec = View.MeasureSpec.makeMeasureSpec(i, this.mSecondaryOrientation.getMode());
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean supportsPredictiveItemAnimations() {
        return this.mPendingSavedState == null;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollOffset(RecyclerView.State state) {
        return computeScrollOffset(state);
    }

    private int computeScrollOffset(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        return ScrollbarHelper.computeScrollOffset(state, this.mPrimaryOrientation, findFirstVisibleItemClosestToStart(!this.mSmoothScrollbarEnabled), findFirstVisibleItemClosestToEnd(!this.mSmoothScrollbarEnabled), this, this.mSmoothScrollbarEnabled, this.mShouldReverseLayout);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollOffset(RecyclerView.State state) {
        return computeScrollOffset(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollExtent(RecyclerView.State state) {
        return computeScrollExtent(state);
    }

    private int computeScrollExtent(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        return ScrollbarHelper.computeScrollExtent(state, this.mPrimaryOrientation, findFirstVisibleItemClosestToStart(!this.mSmoothScrollbarEnabled), findFirstVisibleItemClosestToEnd(!this.mSmoothScrollbarEnabled), this, this.mSmoothScrollbarEnabled);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollExtent(RecyclerView.State state) {
        return computeScrollExtent(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollRange(RecyclerView.State state) {
        return computeScrollRange(state);
    }

    private int computeScrollRange(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        return ScrollbarHelper.computeScrollRange(state, this.mPrimaryOrientation, findFirstVisibleItemClosestToStart(!this.mSmoothScrollbarEnabled), findFirstVisibleItemClosestToEnd(!this.mSmoothScrollbarEnabled), this, this.mSmoothScrollbarEnabled);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollRange(RecyclerView.State state) {
        return computeScrollRange(state);
    }

    private void measureChildWithDecorationsAndMargin(View view, LayoutParams layoutParams, boolean z) {
        if (layoutParams.mFullSpan) {
            if (this.mOrientation == 1) {
                measureChildWithDecorationsAndMargin(view, this.mFullSizeSpec, RecyclerView.LayoutManager.getChildMeasureSpec(getHeight(), getHeightMode(), getPaddingTop() + getPaddingBottom(), ((ViewGroup.MarginLayoutParams) layoutParams).height, true), z);
                return;
            } else {
                measureChildWithDecorationsAndMargin(view, RecyclerView.LayoutManager.getChildMeasureSpec(getWidth(), getWidthMode(), getPaddingLeft() + getPaddingRight(), ((ViewGroup.MarginLayoutParams) layoutParams).width, true), this.mFullSizeSpec, z);
                return;
            }
        }
        if (this.mOrientation == 1) {
            measureChildWithDecorationsAndMargin(view, RecyclerView.LayoutManager.getChildMeasureSpec(this.mSizePerSpan, getWidthMode(), 0, ((ViewGroup.MarginLayoutParams) layoutParams).width, false), RecyclerView.LayoutManager.getChildMeasureSpec(getHeight(), getHeightMode(), getPaddingTop() + getPaddingBottom(), ((ViewGroup.MarginLayoutParams) layoutParams).height, true), z);
        } else {
            measureChildWithDecorationsAndMargin(view, RecyclerView.LayoutManager.getChildMeasureSpec(getWidth(), getWidthMode(), getPaddingLeft() + getPaddingRight(), ((ViewGroup.MarginLayoutParams) layoutParams).width, true), RecyclerView.LayoutManager.getChildMeasureSpec(this.mSizePerSpan, getHeightMode(), 0, ((ViewGroup.MarginLayoutParams) layoutParams).height, false), z);
        }
    }

    private void measureChildWithDecorationsAndMargin(View view, int i, int i2, boolean z) {
        boolean shouldMeasureChild;
        calculateItemDecorationsForChild(view, this.mTmpRect);
        LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
        int i3 = ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin;
        Rect rect = this.mTmpRect;
        int updateSpecWithExtra = updateSpecWithExtra(i, i3 + rect.left, ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin + rect.right);
        int i4 = ((ViewGroup.MarginLayoutParams) layoutParams).topMargin;
        Rect rect2 = this.mTmpRect;
        int updateSpecWithExtra2 = updateSpecWithExtra(i2, i4 + rect2.top, ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin + rect2.bottom);
        if (z) {
            shouldMeasureChild = shouldReMeasureChild(view, updateSpecWithExtra, updateSpecWithExtra2, layoutParams);
        } else {
            shouldMeasureChild = shouldMeasureChild(view, updateSpecWithExtra, updateSpecWithExtra2, layoutParams);
        }
        if (shouldMeasureChild) {
            view.measure(updateSpecWithExtra, updateSpecWithExtra2);
        }
    }

    private int updateSpecWithExtra(int i, int i2, int i3) {
        if (i2 == 0 && i3 == 0) {
            return i;
        }
        int mode = View.MeasureSpec.getMode(i);
        return (mode == Integer.MIN_VALUE || mode == 1073741824) ? View.MeasureSpec.makeMeasureSpec(Math.max(0, (View.MeasureSpec.getSize(i) - i2) - i3), mode) : i;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onRestoreInstanceState(Parcelable parcelable) {
        if (parcelable instanceof SavedState) {
            this.mPendingSavedState = (SavedState) parcelable;
            requestLayout();
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public Parcelable onSaveInstanceState() {
        int startLine;
        int startAfterPadding;
        int[] iArr;
        if (this.mPendingSavedState != null) {
            return new SavedState(this.mPendingSavedState);
        }
        SavedState savedState = new SavedState();
        savedState.mReverseLayout = this.mReverseLayout;
        savedState.mAnchorLayoutFromEnd = this.mLastLayoutFromEnd;
        savedState.mLastLayoutRTL = this.mLastLayoutRTL;
        LazySpanLookup lazySpanLookup = this.mLazySpanLookup;
        if (lazySpanLookup != null && (iArr = lazySpanLookup.mData) != null) {
            savedState.mSpanLookup = iArr;
            savedState.mSpanLookupSize = iArr.length;
            savedState.mFullSpanItems = lazySpanLookup.mFullSpanItems;
        } else {
            savedState.mSpanLookupSize = 0;
        }
        if (getChildCount() > 0) {
            savedState.mAnchorPosition = this.mLastLayoutFromEnd ? getLastChildPosition() : getFirstChildPosition();
            savedState.mVisibleAnchorPosition = findFirstVisibleItemPositionInt();
            int i = this.mSpanCount;
            savedState.mSpanOffsetsSize = i;
            savedState.mSpanOffsets = new int[i];
            for (int i2 = 0; i2 < this.mSpanCount; i2++) {
                if (this.mLastLayoutFromEnd) {
                    startLine = this.mSpans[i2].getEndLine(Integer.MIN_VALUE);
                    if (startLine != Integer.MIN_VALUE) {
                        startAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
                        startLine -= startAfterPadding;
                        savedState.mSpanOffsets[i2] = startLine;
                    } else {
                        savedState.mSpanOffsets[i2] = startLine;
                    }
                } else {
                    startLine = this.mSpans[i2].getStartLine(Integer.MIN_VALUE);
                    if (startLine != Integer.MIN_VALUE) {
                        startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
                        startLine -= startAfterPadding;
                        savedState.mSpanOffsets[i2] = startLine;
                    } else {
                        savedState.mSpanOffsets[i2] = startLine;
                    }
                }
            }
        } else {
            savedState.mAnchorPosition = -1;
            savedState.mVisibleAnchorPosition = -1;
            savedState.mSpanOffsetsSize = 0;
        }
        return savedState;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onInitializeAccessibilityNodeInfoForItem(RecyclerView.Recycler recycler, RecyclerView.State state, View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
        ViewGroup.LayoutParams layoutParams = view.getLayoutParams();
        if (!(layoutParams instanceof LayoutParams)) {
            super.onInitializeAccessibilityNodeInfoForItem(view, accessibilityNodeInfoCompat);
            return;
        }
        LayoutParams layoutParams2 = (LayoutParams) layoutParams;
        if (this.mOrientation == 0) {
            accessibilityNodeInfoCompat.setCollectionItemInfo(AccessibilityNodeInfoCompat.CollectionItemInfoCompat.obtain(layoutParams2.getSpanIndex(), layoutParams2.mFullSpan ? this.mSpanCount : 1, -1, -1, layoutParams2.mFullSpan, false));
        } else {
            accessibilityNodeInfoCompat.setCollectionItemInfo(AccessibilityNodeInfoCompat.CollectionItemInfoCompat.obtain(-1, -1, layoutParams2.getSpanIndex(), layoutParams2.mFullSpan ? this.mSpanCount : 1, layoutParams2.mFullSpan, false));
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onInitializeAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
        super.onInitializeAccessibilityEvent(accessibilityEvent);
        if (getChildCount() > 0) {
            View findFirstVisibleItemClosestToStart = findFirstVisibleItemClosestToStart(false);
            View findFirstVisibleItemClosestToEnd = findFirstVisibleItemClosestToEnd(false);
            if (findFirstVisibleItemClosestToStart == null || findFirstVisibleItemClosestToEnd == null) {
                return;
            }
            int position = getPosition(findFirstVisibleItemClosestToStart);
            int position2 = getPosition(findFirstVisibleItemClosestToEnd);
            if (position < position2) {
                accessibilityEvent.setFromIndex(position);
                accessibilityEvent.setToIndex(position2);
            } else {
                accessibilityEvent.setFromIndex(position2);
                accessibilityEvent.setToIndex(position);
            }
        }
    }

    int findFirstVisibleItemPositionInt() {
        View findFirstVisibleItemClosestToEnd = this.mShouldReverseLayout ? findFirstVisibleItemClosestToEnd(true) : findFirstVisibleItemClosestToStart(true);
        if (findFirstVisibleItemClosestToEnd == null) {
            return -1;
        }
        return getPosition(findFirstVisibleItemClosestToEnd);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int getRowCountForAccessibility(RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 0) {
            return this.mSpanCount;
        }
        return super.getRowCountForAccessibility(recycler, state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int getColumnCountForAccessibility(RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 1) {
            return this.mSpanCount;
        }
        return super.getColumnCountForAccessibility(recycler, state);
    }

    View findFirstVisibleItemClosestToStart(boolean z) {
        int startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
        int endAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
        int childCount = getChildCount();
        View view = null;
        for (int i = 0; i < childCount; i++) {
            View childAt = getChildAt(i);
            int decoratedStart = this.mPrimaryOrientation.getDecoratedStart(childAt);
            if (this.mPrimaryOrientation.getDecoratedEnd(childAt) > startAfterPadding && decoratedStart < endAfterPadding) {
                if (decoratedStart >= startAfterPadding || !z) {
                    return childAt;
                }
                if (view == null) {
                    view = childAt;
                }
            }
        }
        return view;
    }

    View findFirstVisibleItemClosestToEnd(boolean z) {
        int startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
        int endAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
        View view = null;
        for (int childCount = getChildCount() - 1; childCount >= 0; childCount--) {
            View childAt = getChildAt(childCount);
            int decoratedStart = this.mPrimaryOrientation.getDecoratedStart(childAt);
            int decoratedEnd = this.mPrimaryOrientation.getDecoratedEnd(childAt);
            if (decoratedEnd > startAfterPadding && decoratedStart < endAfterPadding) {
                if (decoratedEnd <= endAfterPadding || !z) {
                    return childAt;
                }
                if (view == null) {
                    view = childAt;
                }
            }
        }
        return view;
    }

    private void fixEndGap(RecyclerView.Recycler recycler, RecyclerView.State state, boolean z) {
        int endAfterPadding;
        int maxEnd = getMaxEnd(Integer.MIN_VALUE);
        if (maxEnd != Integer.MIN_VALUE && (endAfterPadding = this.mPrimaryOrientation.getEndAfterPadding() - maxEnd) > 0) {
            int i = endAfterPadding - (-scrollBy(-endAfterPadding, recycler, state));
            if (!z || i <= 0) {
                return;
            }
            this.mPrimaryOrientation.offsetChildren(i);
        }
    }

    private void fixStartGap(RecyclerView.Recycler recycler, RecyclerView.State state, boolean z) {
        int startAfterPadding;
        int minStart = getMinStart(Integer.MAX_VALUE);
        if (minStart != Integer.MAX_VALUE && (startAfterPadding = minStart - this.mPrimaryOrientation.getStartAfterPadding()) > 0) {
            int scrollBy = startAfterPadding - scrollBy(startAfterPadding, recycler, state);
            if (!z || scrollBy <= 0) {
                return;
            }
            this.mPrimaryOrientation.offsetChildren(-scrollBy);
        }
    }

    private void updateLayoutState(int i, RecyclerView.State state) {
        int i2;
        int i3;
        int targetScrollPosition;
        LayoutState layoutState = this.mLayoutState;
        boolean z = false;
        layoutState.mAvailable = 0;
        layoutState.mCurrentPosition = i;
        if (!isSmoothScrolling() || (targetScrollPosition = state.getTargetScrollPosition()) == -1) {
            i2 = 0;
            i3 = 0;
        } else {
            if (this.mShouldReverseLayout == (targetScrollPosition < i)) {
                i2 = this.mPrimaryOrientation.getTotalSpace();
                i3 = 0;
            } else {
                i3 = this.mPrimaryOrientation.getTotalSpace();
                i2 = 0;
            }
        }
        if (getClipToPadding()) {
            this.mLayoutState.mStartLine = this.mPrimaryOrientation.getStartAfterPadding() - i3;
            this.mLayoutState.mEndLine = this.mPrimaryOrientation.getEndAfterPadding() + i2;
        } else {
            this.mLayoutState.mEndLine = this.mPrimaryOrientation.getEnd() + i2;
            this.mLayoutState.mStartLine = -i3;
        }
        LayoutState layoutState2 = this.mLayoutState;
        layoutState2.mStopInFocusable = false;
        layoutState2.mRecycle = true;
        if (this.mPrimaryOrientation.getMode() == 0 && this.mPrimaryOrientation.getEnd() == 0) {
            z = true;
        }
        layoutState2.mInfinite = z;
    }

    private void setLayoutStateDirection(int i) {
        LayoutState layoutState = this.mLayoutState;
        layoutState.mLayoutDirection = i;
        layoutState.mItemDirection = this.mShouldReverseLayout != (i == -1) ? -1 : 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void offsetChildrenHorizontal(int i) {
        super.offsetChildrenHorizontal(i);
        for (int i2 = 0; i2 < this.mSpanCount; i2++) {
            this.mSpans[i2].onOffset(i);
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void offsetChildrenVertical(int i) {
        super.offsetChildrenVertical(i);
        for (int i2 = 0; i2 < this.mSpanCount; i2++) {
            this.mSpans[i2].onOffset(i);
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsRemoved(RecyclerView recyclerView, int i, int i2) {
        handleUpdate(i, i2, 2);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsAdded(RecyclerView recyclerView, int i, int i2) {
        handleUpdate(i, i2, 1);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsChanged(RecyclerView recyclerView) {
        this.mLazySpanLookup.clear();
        requestLayout();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsMoved(RecyclerView recyclerView, int i, int i2, int i3) {
        handleUpdate(i, i2, 8);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsUpdated(RecyclerView recyclerView, int i, int i2, Object obj) {
        handleUpdate(i, i2, 4);
    }

    /* JADX WARN: Removed duplicated region for block: B:11:0x0025  */
    /* JADX WARN: Removed duplicated region for block: B:16:0x0043 A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:18:0x0044  */
    /* JADX WARN: Removed duplicated region for block: B:27:0x003c  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void handleUpdate(int r7, int r8, int r9) {
        /*
            r6 = this;
            boolean r0 = r6.mShouldReverseLayout
            if (r0 == 0) goto L9
            int r0 = r6.getLastChildPosition()
            goto Ld
        L9:
            int r0 = r6.getFirstChildPosition()
        Ld:
            r1 = 8
            if (r9 != r1) goto L1a
            if (r7 >= r8) goto L16
            int r2 = r8 + 1
            goto L1c
        L16:
            int r2 = r7 + 1
            r3 = r8
            goto L1d
        L1a:
            int r2 = r7 + r8
        L1c:
            r3 = r7
        L1d:
            android.support.v7.widget.StaggeredGridLayoutManager$LazySpanLookup r4 = r6.mLazySpanLookup
            r4.invalidateAfter(r3)
            r4 = 1
            if (r9 == r4) goto L3c
            r5 = 2
            if (r9 == r5) goto L36
            if (r9 == r1) goto L2b
            goto L41
        L2b:
            android.support.v7.widget.StaggeredGridLayoutManager$LazySpanLookup r9 = r6.mLazySpanLookup
            r9.offsetForRemoval(r7, r4)
            android.support.v7.widget.StaggeredGridLayoutManager$LazySpanLookup r7 = r6.mLazySpanLookup
            r7.offsetForAddition(r8, r4)
            goto L41
        L36:
            android.support.v7.widget.StaggeredGridLayoutManager$LazySpanLookup r9 = r6.mLazySpanLookup
            r9.offsetForRemoval(r7, r8)
            goto L41
        L3c:
            android.support.v7.widget.StaggeredGridLayoutManager$LazySpanLookup r9 = r6.mLazySpanLookup
            r9.offsetForAddition(r7, r8)
        L41:
            if (r2 > r0) goto L44
            return
        L44:
            boolean r7 = r6.mShouldReverseLayout
            if (r7 == 0) goto L4d
            int r7 = r6.getFirstChildPosition()
            goto L51
        L4d:
            int r7 = r6.getLastChildPosition()
        L51:
            if (r3 > r7) goto L56
            r6.requestLayout()
        L56:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.StaggeredGridLayoutManager.handleUpdate(int, int, int):void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r9v0 */
    /* JADX WARN: Type inference failed for: r9v1, types: [int, boolean] */
    /* JADX WARN: Type inference failed for: r9v7 */
    private int fill(RecyclerView.Recycler recycler, LayoutState layoutState, RecyclerView.State state) {
        int i;
        int startAfterPadding;
        int maxEnd;
        Span span;
        int decoratedMeasurement;
        int i2;
        int i3;
        int decoratedMeasurement2;
        boolean z;
        boolean areAllStartsEqual;
        ?? r9 = 0;
        this.mRemainingSpans.set(0, this.mSpanCount, true);
        if (this.mLayoutState.mInfinite) {
            i = layoutState.mLayoutDirection == 1 ? Integer.MAX_VALUE : Integer.MIN_VALUE;
        } else if (layoutState.mLayoutDirection == 1) {
            i = layoutState.mEndLine + layoutState.mAvailable;
        } else {
            i = layoutState.mStartLine - layoutState.mAvailable;
        }
        int i4 = i;
        updateAllRemainingSpans(layoutState.mLayoutDirection, i4);
        if (this.mShouldReverseLayout) {
            startAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
        } else {
            startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
        }
        int i5 = startAfterPadding;
        boolean z2 = false;
        while (layoutState.hasMore(state) && (this.mLayoutState.mInfinite || !this.mRemainingSpans.isEmpty())) {
            View next = layoutState.next(recycler);
            LayoutParams layoutParams = (LayoutParams) next.getLayoutParams();
            int viewLayoutPosition = layoutParams.getViewLayoutPosition();
            int span2 = this.mLazySpanLookup.getSpan(viewLayoutPosition);
            boolean z3 = span2 == -1 ? true : r9;
            if (z3) {
                span = layoutParams.mFullSpan ? this.mSpans[r9] : getNextSpan(layoutState);
                this.mLazySpanLookup.setSpan(viewLayoutPosition, span);
            } else {
                span = this.mSpans[span2];
            }
            Span span3 = span;
            layoutParams.mSpan = span3;
            if (layoutState.mLayoutDirection == 1) {
                addView(next);
            } else {
                addView(next, r9);
            }
            measureChildWithDecorationsAndMargin(next, layoutParams, r9);
            if (layoutState.mLayoutDirection == 1) {
                int maxEnd2 = layoutParams.mFullSpan ? getMaxEnd(i5) : span3.getEndLine(i5);
                int decoratedMeasurement3 = this.mPrimaryOrientation.getDecoratedMeasurement(next) + maxEnd2;
                if (z3 && layoutParams.mFullSpan) {
                    LazySpanLookup.FullSpanItem createFullSpanItemFromEnd = createFullSpanItemFromEnd(maxEnd2);
                    createFullSpanItemFromEnd.mGapDir = -1;
                    createFullSpanItemFromEnd.mPosition = viewLayoutPosition;
                    this.mLazySpanLookup.addFullSpanItem(createFullSpanItemFromEnd);
                }
                i2 = decoratedMeasurement3;
                decoratedMeasurement = maxEnd2;
            } else {
                int minStart = layoutParams.mFullSpan ? getMinStart(i5) : span3.getStartLine(i5);
                decoratedMeasurement = minStart - this.mPrimaryOrientation.getDecoratedMeasurement(next);
                if (z3 && layoutParams.mFullSpan) {
                    LazySpanLookup.FullSpanItem createFullSpanItemFromStart = createFullSpanItemFromStart(minStart);
                    createFullSpanItemFromStart.mGapDir = 1;
                    createFullSpanItemFromStart.mPosition = viewLayoutPosition;
                    this.mLazySpanLookup.addFullSpanItem(createFullSpanItemFromStart);
                }
                i2 = minStart;
            }
            if (layoutParams.mFullSpan && layoutState.mItemDirection == -1) {
                if (z3) {
                    this.mLaidOutInvalidFullSpan = true;
                } else {
                    if (layoutState.mLayoutDirection == 1) {
                        areAllStartsEqual = areAllEndsEqual();
                    } else {
                        areAllStartsEqual = areAllStartsEqual();
                    }
                    if (!areAllStartsEqual) {
                        LazySpanLookup.FullSpanItem fullSpanItem = this.mLazySpanLookup.getFullSpanItem(viewLayoutPosition);
                        if (fullSpanItem != null) {
                            fullSpanItem.mHasUnwantedGapAfter = true;
                        }
                        this.mLaidOutInvalidFullSpan = true;
                    }
                }
            }
            attachViewToSpans(next, layoutParams, layoutState);
            if (isLayoutRTL() && this.mOrientation == 1) {
                int endAfterPadding = layoutParams.mFullSpan ? this.mSecondaryOrientation.getEndAfterPadding() : this.mSecondaryOrientation.getEndAfterPadding() - (((this.mSpanCount - 1) - span3.mIndex) * this.mSizePerSpan);
                decoratedMeasurement2 = endAfterPadding;
                i3 = endAfterPadding - this.mSecondaryOrientation.getDecoratedMeasurement(next);
            } else {
                int startAfterPadding2 = layoutParams.mFullSpan ? this.mSecondaryOrientation.getStartAfterPadding() : (span3.mIndex * this.mSizePerSpan) + this.mSecondaryOrientation.getStartAfterPadding();
                i3 = startAfterPadding2;
                decoratedMeasurement2 = this.mSecondaryOrientation.getDecoratedMeasurement(next) + startAfterPadding2;
            }
            if (this.mOrientation == 1) {
                layoutDecoratedWithMargins(next, i3, decoratedMeasurement, decoratedMeasurement2, i2);
            } else {
                layoutDecoratedWithMargins(next, decoratedMeasurement, i3, i2, decoratedMeasurement2);
            }
            if (layoutParams.mFullSpan) {
                updateAllRemainingSpans(this.mLayoutState.mLayoutDirection, i4);
            } else {
                updateRemainingSpans(span3, this.mLayoutState.mLayoutDirection, i4);
            }
            recycle(recycler, this.mLayoutState);
            if (this.mLayoutState.mStopInFocusable && next.hasFocusable()) {
                if (layoutParams.mFullSpan) {
                    this.mRemainingSpans.clear();
                } else {
                    z = false;
                    this.mRemainingSpans.set(span3.mIndex, false);
                    r9 = z;
                    z2 = true;
                }
            }
            z = false;
            r9 = z;
            z2 = true;
        }
        int i6 = r9;
        if (!z2) {
            recycle(recycler, this.mLayoutState);
        }
        if (this.mLayoutState.mLayoutDirection == -1) {
            maxEnd = this.mPrimaryOrientation.getStartAfterPadding() - getMinStart(this.mPrimaryOrientation.getStartAfterPadding());
        } else {
            maxEnd = getMaxEnd(this.mPrimaryOrientation.getEndAfterPadding()) - this.mPrimaryOrientation.getEndAfterPadding();
        }
        return maxEnd > 0 ? Math.min(layoutState.mAvailable, maxEnd) : i6;
    }

    private LazySpanLookup.FullSpanItem createFullSpanItemFromEnd(int i) {
        LazySpanLookup.FullSpanItem fullSpanItem = new LazySpanLookup.FullSpanItem();
        fullSpanItem.mGapPerSpan = new int[this.mSpanCount];
        for (int i2 = 0; i2 < this.mSpanCount; i2++) {
            fullSpanItem.mGapPerSpan[i2] = i - this.mSpans[i2].getEndLine(i);
        }
        return fullSpanItem;
    }

    private LazySpanLookup.FullSpanItem createFullSpanItemFromStart(int i) {
        LazySpanLookup.FullSpanItem fullSpanItem = new LazySpanLookup.FullSpanItem();
        fullSpanItem.mGapPerSpan = new int[this.mSpanCount];
        for (int i2 = 0; i2 < this.mSpanCount; i2++) {
            fullSpanItem.mGapPerSpan[i2] = this.mSpans[i2].getStartLine(i) - i;
        }
        return fullSpanItem;
    }

    private void attachViewToSpans(View view, LayoutParams layoutParams, LayoutState layoutState) {
        if (layoutState.mLayoutDirection == 1) {
            if (layoutParams.mFullSpan) {
                appendViewToAllSpans(view);
                return;
            } else {
                layoutParams.mSpan.appendToSpan(view);
                return;
            }
        }
        if (layoutParams.mFullSpan) {
            prependViewToAllSpans(view);
        } else {
            layoutParams.mSpan.prependToSpan(view);
        }
    }

    private void recycle(RecyclerView.Recycler recycler, LayoutState layoutState) {
        int min;
        int min2;
        if (!layoutState.mRecycle || layoutState.mInfinite) {
            return;
        }
        if (layoutState.mAvailable == 0) {
            if (layoutState.mLayoutDirection == -1) {
                recycleFromEnd(recycler, layoutState.mEndLine);
                return;
            } else {
                recycleFromStart(recycler, layoutState.mStartLine);
                return;
            }
        }
        if (layoutState.mLayoutDirection == -1) {
            int i = layoutState.mStartLine;
            int maxStart = i - getMaxStart(i);
            if (maxStart < 0) {
                min2 = layoutState.mEndLine;
            } else {
                min2 = layoutState.mEndLine - Math.min(maxStart, layoutState.mAvailable);
            }
            recycleFromEnd(recycler, min2);
            return;
        }
        int minEnd = getMinEnd(layoutState.mEndLine) - layoutState.mEndLine;
        if (minEnd < 0) {
            min = layoutState.mStartLine;
        } else {
            min = Math.min(minEnd, layoutState.mAvailable) + layoutState.mStartLine;
        }
        recycleFromStart(recycler, min);
    }

    private void appendViewToAllSpans(View view) {
        for (int i = this.mSpanCount - 1; i >= 0; i--) {
            this.mSpans[i].appendToSpan(view);
        }
    }

    private void prependViewToAllSpans(View view) {
        for (int i = this.mSpanCount - 1; i >= 0; i--) {
            this.mSpans[i].prependToSpan(view);
        }
    }

    private void updateAllRemainingSpans(int i, int i2) {
        for (int i3 = 0; i3 < this.mSpanCount; i3++) {
            if (!this.mSpans[i3].mViews.isEmpty()) {
                updateRemainingSpans(this.mSpans[i3], i, i2);
            }
        }
    }

    private void updateRemainingSpans(Span span, int i, int i2) {
        int deletedSize = span.getDeletedSize();
        if (i == -1) {
            if (span.getStartLine() + deletedSize <= i2) {
                this.mRemainingSpans.set(span.mIndex, false);
            }
        } else if (span.getEndLine() - deletedSize >= i2) {
            this.mRemainingSpans.set(span.mIndex, false);
        }
    }

    private int getMaxStart(int i) {
        int startLine = this.mSpans[0].getStartLine(i);
        for (int i2 = 1; i2 < this.mSpanCount; i2++) {
            int startLine2 = this.mSpans[i2].getStartLine(i);
            if (startLine2 > startLine) {
                startLine = startLine2;
            }
        }
        return startLine;
    }

    private int getMinStart(int i) {
        int startLine = this.mSpans[0].getStartLine(i);
        for (int i2 = 1; i2 < this.mSpanCount; i2++) {
            int startLine2 = this.mSpans[i2].getStartLine(i);
            if (startLine2 < startLine) {
                startLine = startLine2;
            }
        }
        return startLine;
    }

    boolean areAllEndsEqual() {
        int endLine = this.mSpans[0].getEndLine(Integer.MIN_VALUE);
        for (int i = 1; i < this.mSpanCount; i++) {
            if (this.mSpans[i].getEndLine(Integer.MIN_VALUE) != endLine) {
                return false;
            }
        }
        return true;
    }

    boolean areAllStartsEqual() {
        int startLine = this.mSpans[0].getStartLine(Integer.MIN_VALUE);
        for (int i = 1; i < this.mSpanCount; i++) {
            if (this.mSpans[i].getStartLine(Integer.MIN_VALUE) != startLine) {
                return false;
            }
        }
        return true;
    }

    private int getMaxEnd(int i) {
        int endLine = this.mSpans[0].getEndLine(i);
        for (int i2 = 1; i2 < this.mSpanCount; i2++) {
            int endLine2 = this.mSpans[i2].getEndLine(i);
            if (endLine2 > endLine) {
                endLine = endLine2;
            }
        }
        return endLine;
    }

    private int getMinEnd(int i) {
        int endLine = this.mSpans[0].getEndLine(i);
        for (int i2 = 1; i2 < this.mSpanCount; i2++) {
            int endLine2 = this.mSpans[i2].getEndLine(i);
            if (endLine2 < endLine) {
                endLine = endLine2;
            }
        }
        return endLine;
    }

    private void recycleFromStart(RecyclerView.Recycler recycler, int i) {
        while (getChildCount() > 0) {
            View childAt = getChildAt(0);
            if (this.mPrimaryOrientation.getDecoratedEnd(childAt) > i || this.mPrimaryOrientation.getTransformedEndWithDecoration(childAt) > i) {
                return;
            }
            LayoutParams layoutParams = (LayoutParams) childAt.getLayoutParams();
            if (layoutParams.mFullSpan) {
                for (int i2 = 0; i2 < this.mSpanCount; i2++) {
                    if (this.mSpans[i2].mViews.size() == 1) {
                        return;
                    }
                }
                for (int i3 = 0; i3 < this.mSpanCount; i3++) {
                    this.mSpans[i3].popStart();
                }
            } else if (layoutParams.mSpan.mViews.size() == 1) {
                return;
            } else {
                layoutParams.mSpan.popStart();
            }
            removeAndRecycleView(childAt, recycler);
        }
    }

    private void recycleFromEnd(RecyclerView.Recycler recycler, int i) {
        for (int childCount = getChildCount() - 1; childCount >= 0; childCount--) {
            View childAt = getChildAt(childCount);
            if (this.mPrimaryOrientation.getDecoratedStart(childAt) < i || this.mPrimaryOrientation.getTransformedStartWithDecoration(childAt) < i) {
                return;
            }
            LayoutParams layoutParams = (LayoutParams) childAt.getLayoutParams();
            if (layoutParams.mFullSpan) {
                for (int i2 = 0; i2 < this.mSpanCount; i2++) {
                    if (this.mSpans[i2].mViews.size() == 1) {
                        return;
                    }
                }
                for (int i3 = 0; i3 < this.mSpanCount; i3++) {
                    this.mSpans[i3].popEnd();
                }
            } else if (layoutParams.mSpan.mViews.size() == 1) {
                return;
            } else {
                layoutParams.mSpan.popEnd();
            }
            removeAndRecycleView(childAt, recycler);
        }
    }

    private boolean preferLastSpan(int i) {
        if (this.mOrientation == 0) {
            return (i == -1) != this.mShouldReverseLayout;
        }
        return ((i == -1) == this.mShouldReverseLayout) == isLayoutRTL();
    }

    private Span getNextSpan(LayoutState layoutState) {
        int i;
        int i2;
        int i3 = -1;
        if (preferLastSpan(layoutState.mLayoutDirection)) {
            i = this.mSpanCount - 1;
            i2 = -1;
        } else {
            i = 0;
            i3 = this.mSpanCount;
            i2 = 1;
        }
        Span span = null;
        if (layoutState.mLayoutDirection == 1) {
            int i4 = Integer.MAX_VALUE;
            int startAfterPadding = this.mPrimaryOrientation.getStartAfterPadding();
            while (i != i3) {
                Span span2 = this.mSpans[i];
                int endLine = span2.getEndLine(startAfterPadding);
                if (endLine < i4) {
                    span = span2;
                    i4 = endLine;
                }
                i += i2;
            }
            return span;
        }
        int i5 = Integer.MIN_VALUE;
        int endAfterPadding = this.mPrimaryOrientation.getEndAfterPadding();
        while (i != i3) {
            Span span3 = this.mSpans[i];
            int startLine = span3.getStartLine(endAfterPadding);
            if (startLine > i5) {
                span = span3;
                i5 = startLine;
            }
            i += i2;
        }
        return span;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean canScrollVertically() {
        return this.mOrientation == 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean canScrollHorizontally() {
        return this.mOrientation == 0;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollHorizontallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        return scrollBy(i, recycler, state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollVerticallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        return scrollBy(i, recycler, state);
    }

    private int calculateScrollDirectionForPosition(int i) {
        if (getChildCount() == 0) {
            return this.mShouldReverseLayout ? 1 : -1;
        }
        return (i < getFirstChildPosition()) != this.mShouldReverseLayout ? -1 : 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void collectAdjacentPrefetchPositions(int i, int i2, RecyclerView.State state, RecyclerView.LayoutManager.LayoutPrefetchRegistry layoutPrefetchRegistry) {
        int endLine;
        int i3;
        if (this.mOrientation != 0) {
            i = i2;
        }
        if (getChildCount() == 0 || i == 0) {
            return;
        }
        prepareLayoutStateForDelta(i, state);
        int[] iArr = this.mPrefetchDistances;
        if (iArr == null || iArr.length < this.mSpanCount) {
            this.mPrefetchDistances = new int[this.mSpanCount];
        }
        int i4 = 0;
        for (int i5 = 0; i5 < this.mSpanCount; i5++) {
            LayoutState layoutState = this.mLayoutState;
            if (layoutState.mItemDirection == -1) {
                endLine = layoutState.mStartLine;
                i3 = this.mSpans[i5].getStartLine(endLine);
            } else {
                endLine = this.mSpans[i5].getEndLine(layoutState.mEndLine);
                i3 = this.mLayoutState.mEndLine;
            }
            int i6 = endLine - i3;
            if (i6 >= 0) {
                this.mPrefetchDistances[i4] = i6;
                i4++;
            }
        }
        Arrays.sort(this.mPrefetchDistances, 0, i4);
        for (int i7 = 0; i7 < i4 && this.mLayoutState.hasMore(state); i7++) {
            layoutPrefetchRegistry.addPosition(this.mLayoutState.mCurrentPosition, this.mPrefetchDistances[i7]);
            LayoutState layoutState2 = this.mLayoutState;
            layoutState2.mCurrentPosition += layoutState2.mItemDirection;
        }
    }

    void prepareLayoutStateForDelta(int i, RecyclerView.State state) {
        int i2;
        int firstChildPosition;
        if (i > 0) {
            firstChildPosition = getLastChildPosition();
            i2 = 1;
        } else {
            i2 = -1;
            firstChildPosition = getFirstChildPosition();
        }
        this.mLayoutState.mRecycle = true;
        updateLayoutState(firstChildPosition, state);
        setLayoutStateDirection(i2);
        LayoutState layoutState = this.mLayoutState;
        layoutState.mCurrentPosition = firstChildPosition + layoutState.mItemDirection;
        layoutState.mAvailable = Math.abs(i);
    }

    int scrollBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (getChildCount() == 0 || i == 0) {
            return 0;
        }
        prepareLayoutStateForDelta(i, state);
        int fill = fill(recycler, this.mLayoutState, state);
        if (this.mLayoutState.mAvailable >= fill) {
            i = i < 0 ? -fill : fill;
        }
        this.mPrimaryOrientation.offsetChildren(-i);
        this.mLastLayoutFromEnd = this.mShouldReverseLayout;
        LayoutState layoutState = this.mLayoutState;
        layoutState.mAvailable = 0;
        recycle(recycler, layoutState);
        return i;
    }

    int getLastChildPosition() {
        int childCount = getChildCount();
        if (childCount == 0) {
            return 0;
        }
        return getPosition(getChildAt(childCount - 1));
    }

    int getFirstChildPosition() {
        if (getChildCount() == 0) {
            return 0;
        }
        return getPosition(getChildAt(0));
    }

    private int findFirstReferenceChildPosition(int i) {
        int childCount = getChildCount();
        for (int i2 = 0; i2 < childCount; i2++) {
            int position = getPosition(getChildAt(i2));
            if (position >= 0 && position < i) {
                return position;
            }
        }
        return 0;
    }

    private int findLastReferenceChildPosition(int i) {
        for (int childCount = getChildCount() - 1; childCount >= 0; childCount--) {
            int position = getPosition(getChildAt(childCount));
            if (position >= 0 && position < i) {
                return position;
            }
        }
        return 0;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateDefaultLayoutParams() {
        if (this.mOrientation == 0) {
            return new LayoutParams(-2, -1);
        }
        return new LayoutParams(-1, -2);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateLayoutParams(Context context, AttributeSet attributeSet) {
        return new LayoutParams(context, attributeSet);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateLayoutParams(ViewGroup.LayoutParams layoutParams) {
        if (layoutParams instanceof ViewGroup.MarginLayoutParams) {
            return new LayoutParams((ViewGroup.MarginLayoutParams) layoutParams);
        }
        return new LayoutParams(layoutParams);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean checkLayoutParams(RecyclerView.LayoutParams layoutParams) {
        return layoutParams instanceof LayoutParams;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public View onFocusSearchFailed(View view, int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        View findContainingItemView;
        int firstChildPosition;
        int findLastPartiallyVisibleItemPosition;
        int findLastPartiallyVisibleItemPosition2;
        int findLastPartiallyVisibleItemPosition3;
        View focusableViewAfter;
        if (getChildCount() == 0 || (findContainingItemView = findContainingItemView(view)) == null) {
            return null;
        }
        resolveShouldLayoutReverse();
        int convertFocusDirectionToLayoutDirection = convertFocusDirectionToLayoutDirection(i);
        if (convertFocusDirectionToLayoutDirection == Integer.MIN_VALUE) {
            return null;
        }
        LayoutParams layoutParams = (LayoutParams) findContainingItemView.getLayoutParams();
        boolean z = layoutParams.mFullSpan;
        Span span = layoutParams.mSpan;
        if (convertFocusDirectionToLayoutDirection == 1) {
            firstChildPosition = getLastChildPosition();
        } else {
            firstChildPosition = getFirstChildPosition();
        }
        updateLayoutState(firstChildPosition, state);
        setLayoutStateDirection(convertFocusDirectionToLayoutDirection);
        LayoutState layoutState = this.mLayoutState;
        layoutState.mCurrentPosition = layoutState.mItemDirection + firstChildPosition;
        layoutState.mAvailable = (int) (this.mPrimaryOrientation.getTotalSpace() * 0.33333334f);
        LayoutState layoutState2 = this.mLayoutState;
        layoutState2.mStopInFocusable = true;
        layoutState2.mRecycle = false;
        fill(recycler, layoutState2, state);
        this.mLastLayoutFromEnd = this.mShouldReverseLayout;
        if (!z && (focusableViewAfter = span.getFocusableViewAfter(firstChildPosition, convertFocusDirectionToLayoutDirection)) != null && focusableViewAfter != findContainingItemView) {
            return focusableViewAfter;
        }
        if (preferLastSpan(convertFocusDirectionToLayoutDirection)) {
            for (int i2 = this.mSpanCount - 1; i2 >= 0; i2--) {
                View focusableViewAfter2 = this.mSpans[i2].getFocusableViewAfter(firstChildPosition, convertFocusDirectionToLayoutDirection);
                if (focusableViewAfter2 != null && focusableViewAfter2 != findContainingItemView) {
                    return focusableViewAfter2;
                }
            }
        } else {
            for (int i3 = 0; i3 < this.mSpanCount; i3++) {
                View focusableViewAfter3 = this.mSpans[i3].getFocusableViewAfter(firstChildPosition, convertFocusDirectionToLayoutDirection);
                if (focusableViewAfter3 != null && focusableViewAfter3 != findContainingItemView) {
                    return focusableViewAfter3;
                }
            }
        }
        boolean z2 = (this.mReverseLayout ^ true) == (convertFocusDirectionToLayoutDirection == -1);
        if (!z) {
            if (z2) {
                findLastPartiallyVisibleItemPosition3 = span.findFirstPartiallyVisibleItemPosition();
            } else {
                findLastPartiallyVisibleItemPosition3 = span.findLastPartiallyVisibleItemPosition();
            }
            View findViewByPosition = findViewByPosition(findLastPartiallyVisibleItemPosition3);
            if (findViewByPosition != null && findViewByPosition != findContainingItemView) {
                return findViewByPosition;
            }
        }
        if (preferLastSpan(convertFocusDirectionToLayoutDirection)) {
            for (int i4 = this.mSpanCount - 1; i4 >= 0; i4--) {
                if (i4 != span.mIndex) {
                    if (z2) {
                        findLastPartiallyVisibleItemPosition2 = this.mSpans[i4].findFirstPartiallyVisibleItemPosition();
                    } else {
                        findLastPartiallyVisibleItemPosition2 = this.mSpans[i4].findLastPartiallyVisibleItemPosition();
                    }
                    View findViewByPosition2 = findViewByPosition(findLastPartiallyVisibleItemPosition2);
                    if (findViewByPosition2 != null && findViewByPosition2 != findContainingItemView) {
                        return findViewByPosition2;
                    }
                }
            }
        } else {
            for (int i5 = 0; i5 < this.mSpanCount; i5++) {
                if (z2) {
                    findLastPartiallyVisibleItemPosition = this.mSpans[i5].findFirstPartiallyVisibleItemPosition();
                } else {
                    findLastPartiallyVisibleItemPosition = this.mSpans[i5].findLastPartiallyVisibleItemPosition();
                }
                View findViewByPosition3 = findViewByPosition(findLastPartiallyVisibleItemPosition);
                if (findViewByPosition3 != null && findViewByPosition3 != findContainingItemView) {
                    return findViewByPosition3;
                }
            }
        }
        return null;
    }

    private int convertFocusDirectionToLayoutDirection(int i) {
        return i != 1 ? i != 2 ? i != 17 ? i != 33 ? i != 66 ? (i == 130 && this.mOrientation == 1) ? 1 : Integer.MIN_VALUE : this.mOrientation == 0 ? 1 : Integer.MIN_VALUE : this.mOrientation == 1 ? -1 : Integer.MIN_VALUE : this.mOrientation == 0 ? -1 : Integer.MIN_VALUE : (this.mOrientation != 1 && isLayoutRTL()) ? -1 : 1 : (this.mOrientation != 1 && isLayoutRTL()) ? 1 : -1;
    }

    /* loaded from: /content/classes1.dex */
    public static class LayoutParams extends RecyclerView.LayoutParams {
        boolean mFullSpan;
        Span mSpan;

        public LayoutParams(Context context, AttributeSet attributeSet) {
            super(context, attributeSet);
        }

        public LayoutParams(int i, int i2) {
            super(i, i2);
        }

        public LayoutParams(ViewGroup.MarginLayoutParams marginLayoutParams) {
            super(marginLayoutParams);
        }

        public LayoutParams(ViewGroup.LayoutParams layoutParams) {
            super(layoutParams);
        }

        public boolean isFullSpan() {
            return this.mFullSpan;
        }

        public final int getSpanIndex() {
            Span span = this.mSpan;
            if (span == null) {
                return -1;
            }
            return span.mIndex;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public class Span {
        final int mIndex;
        ArrayList<View> mViews = new ArrayList<>();
        int mCachedStart = Integer.MIN_VALUE;
        int mCachedEnd = Integer.MIN_VALUE;
        int mDeletedSize = 0;

        Span(int i) {
            this.mIndex = i;
        }

        int getStartLine(int i) {
            int i2 = this.mCachedStart;
            if (i2 != Integer.MIN_VALUE) {
                return i2;
            }
            if (this.mViews.size() == 0) {
                return i;
            }
            calculateCachedStart();
            return this.mCachedStart;
        }

        void calculateCachedStart() {
            LazySpanLookup.FullSpanItem fullSpanItem;
            View view = this.mViews.get(0);
            LayoutParams layoutParams = getLayoutParams(view);
            this.mCachedStart = StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedStart(view);
            if (layoutParams.mFullSpan && (fullSpanItem = StaggeredGridLayoutManager.this.mLazySpanLookup.getFullSpanItem(layoutParams.getViewLayoutPosition())) != null && fullSpanItem.mGapDir == -1) {
                this.mCachedStart -= fullSpanItem.getGapForSpan(this.mIndex);
            }
        }

        int getStartLine() {
            int i = this.mCachedStart;
            if (i != Integer.MIN_VALUE) {
                return i;
            }
            calculateCachedStart();
            return this.mCachedStart;
        }

        int getEndLine(int i) {
            int i2 = this.mCachedEnd;
            if (i2 != Integer.MIN_VALUE) {
                return i2;
            }
            if (this.mViews.size() == 0) {
                return i;
            }
            calculateCachedEnd();
            return this.mCachedEnd;
        }

        void calculateCachedEnd() {
            LazySpanLookup.FullSpanItem fullSpanItem;
            ArrayList<View> arrayList = this.mViews;
            View view = arrayList.get(arrayList.size() - 1);
            LayoutParams layoutParams = getLayoutParams(view);
            this.mCachedEnd = StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedEnd(view);
            if (layoutParams.mFullSpan && (fullSpanItem = StaggeredGridLayoutManager.this.mLazySpanLookup.getFullSpanItem(layoutParams.getViewLayoutPosition())) != null && fullSpanItem.mGapDir == 1) {
                this.mCachedEnd += fullSpanItem.getGapForSpan(this.mIndex);
            }
        }

        int getEndLine() {
            int i = this.mCachedEnd;
            if (i != Integer.MIN_VALUE) {
                return i;
            }
            calculateCachedEnd();
            return this.mCachedEnd;
        }

        void prependToSpan(View view) {
            LayoutParams layoutParams = getLayoutParams(view);
            layoutParams.mSpan = this;
            this.mViews.add(0, view);
            this.mCachedStart = Integer.MIN_VALUE;
            if (this.mViews.size() == 1) {
                this.mCachedEnd = Integer.MIN_VALUE;
            }
            if (layoutParams.isItemRemoved() || layoutParams.isItemChanged()) {
                this.mDeletedSize += StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedMeasurement(view);
            }
        }

        void appendToSpan(View view) {
            LayoutParams layoutParams = getLayoutParams(view);
            layoutParams.mSpan = this;
            this.mViews.add(view);
            this.mCachedEnd = Integer.MIN_VALUE;
            if (this.mViews.size() == 1) {
                this.mCachedStart = Integer.MIN_VALUE;
            }
            if (layoutParams.isItemRemoved() || layoutParams.isItemChanged()) {
                this.mDeletedSize += StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedMeasurement(view);
            }
        }

        void cacheReferenceLineAndClear(boolean z, int i) {
            int startLine;
            if (z) {
                startLine = getEndLine(Integer.MIN_VALUE);
            } else {
                startLine = getStartLine(Integer.MIN_VALUE);
            }
            clear();
            if (startLine == Integer.MIN_VALUE) {
                return;
            }
            if (!z || startLine >= StaggeredGridLayoutManager.this.mPrimaryOrientation.getEndAfterPadding()) {
                if (z || startLine <= StaggeredGridLayoutManager.this.mPrimaryOrientation.getStartAfterPadding()) {
                    if (i != Integer.MIN_VALUE) {
                        startLine += i;
                    }
                    this.mCachedEnd = startLine;
                    this.mCachedStart = startLine;
                }
            }
        }

        void clear() {
            this.mViews.clear();
            invalidateCache();
            this.mDeletedSize = 0;
        }

        void invalidateCache() {
            this.mCachedStart = Integer.MIN_VALUE;
            this.mCachedEnd = Integer.MIN_VALUE;
        }

        void setLine(int i) {
            this.mCachedStart = i;
            this.mCachedEnd = i;
        }

        void popEnd() {
            int size = this.mViews.size();
            View remove = this.mViews.remove(size - 1);
            LayoutParams layoutParams = getLayoutParams(remove);
            layoutParams.mSpan = null;
            if (layoutParams.isItemRemoved() || layoutParams.isItemChanged()) {
                this.mDeletedSize -= StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedMeasurement(remove);
            }
            if (size == 1) {
                this.mCachedStart = Integer.MIN_VALUE;
            }
            this.mCachedEnd = Integer.MIN_VALUE;
        }

        void popStart() {
            View remove = this.mViews.remove(0);
            LayoutParams layoutParams = getLayoutParams(remove);
            layoutParams.mSpan = null;
            if (this.mViews.size() == 0) {
                this.mCachedEnd = Integer.MIN_VALUE;
            }
            if (layoutParams.isItemRemoved() || layoutParams.isItemChanged()) {
                this.mDeletedSize -= StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedMeasurement(remove);
            }
            this.mCachedStart = Integer.MIN_VALUE;
        }

        public int getDeletedSize() {
            return this.mDeletedSize;
        }

        LayoutParams getLayoutParams(View view) {
            return (LayoutParams) view.getLayoutParams();
        }

        void onOffset(int i) {
            int i2 = this.mCachedStart;
            if (i2 != Integer.MIN_VALUE) {
                this.mCachedStart = i2 + i;
            }
            int i3 = this.mCachedEnd;
            if (i3 != Integer.MIN_VALUE) {
                this.mCachedEnd = i3 + i;
            }
        }

        public int findFirstPartiallyVisibleItemPosition() {
            if (StaggeredGridLayoutManager.this.mReverseLayout) {
                return findOnePartiallyVisibleChild(this.mViews.size() - 1, -1, true);
            }
            return findOnePartiallyVisibleChild(0, this.mViews.size(), true);
        }

        public int findLastPartiallyVisibleItemPosition() {
            if (StaggeredGridLayoutManager.this.mReverseLayout) {
                return findOnePartiallyVisibleChild(0, this.mViews.size(), true);
            }
            return findOnePartiallyVisibleChild(this.mViews.size() - 1, -1, true);
        }

        int findOnePartiallyOrCompletelyVisibleChild(int i, int i2, boolean z, boolean z2, boolean z3) {
            int startAfterPadding = StaggeredGridLayoutManager.this.mPrimaryOrientation.getStartAfterPadding();
            int endAfterPadding = StaggeredGridLayoutManager.this.mPrimaryOrientation.getEndAfterPadding();
            int i3 = i2 > i ? 1 : -1;
            while (i != i2) {
                View view = this.mViews.get(i);
                int decoratedStart = StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedStart(view);
                int decoratedEnd = StaggeredGridLayoutManager.this.mPrimaryOrientation.getDecoratedEnd(view);
                boolean z4 = false;
                boolean z5 = !z3 ? decoratedStart >= endAfterPadding : decoratedStart > endAfterPadding;
                if (!z3 ? decoratedEnd > startAfterPadding : decoratedEnd >= startAfterPadding) {
                    z4 = true;
                }
                if (z5 && z4) {
                    if (z && z2) {
                        if (decoratedStart >= startAfterPadding && decoratedEnd <= endAfterPadding) {
                            return StaggeredGridLayoutManager.this.getPosition(view);
                        }
                    } else {
                        if (z2) {
                            return StaggeredGridLayoutManager.this.getPosition(view);
                        }
                        if (decoratedStart < startAfterPadding || decoratedEnd > endAfterPadding) {
                            return StaggeredGridLayoutManager.this.getPosition(view);
                        }
                    }
                }
                i += i3;
            }
            return -1;
        }

        int findOnePartiallyVisibleChild(int i, int i2, boolean z) {
            return findOnePartiallyOrCompletelyVisibleChild(i, i2, false, false, z);
        }

        public View getFocusableViewAfter(int i, int i2) {
            View view = null;
            if (i2 == -1) {
                int size = this.mViews.size();
                int i3 = 0;
                while (i3 < size) {
                    View view2 = this.mViews.get(i3);
                    StaggeredGridLayoutManager staggeredGridLayoutManager = StaggeredGridLayoutManager.this;
                    if (staggeredGridLayoutManager.mReverseLayout && staggeredGridLayoutManager.getPosition(view2) <= i) {
                        break;
                    }
                    StaggeredGridLayoutManager staggeredGridLayoutManager2 = StaggeredGridLayoutManager.this;
                    if ((!staggeredGridLayoutManager2.mReverseLayout && staggeredGridLayoutManager2.getPosition(view2) >= i) || !view2.hasFocusable()) {
                        break;
                    }
                    i3++;
                    view = view2;
                }
            } else {
                int size2 = this.mViews.size() - 1;
                while (size2 >= 0) {
                    View view3 = this.mViews.get(size2);
                    StaggeredGridLayoutManager staggeredGridLayoutManager3 = StaggeredGridLayoutManager.this;
                    if (staggeredGridLayoutManager3.mReverseLayout && staggeredGridLayoutManager3.getPosition(view3) >= i) {
                        break;
                    }
                    StaggeredGridLayoutManager staggeredGridLayoutManager4 = StaggeredGridLayoutManager.this;
                    if ((!staggeredGridLayoutManager4.mReverseLayout && staggeredGridLayoutManager4.getPosition(view3) <= i) || !view3.hasFocusable()) {
                        break;
                    }
                    size2--;
                    view = view3;
                }
            }
            return view;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class LazySpanLookup {
        int[] mData;
        List<FullSpanItem> mFullSpanItems;

        LazySpanLookup() {
        }

        int forceInvalidateAfter(int i) {
            List<FullSpanItem> list = this.mFullSpanItems;
            if (list != null) {
                for (int size = list.size() - 1; size >= 0; size--) {
                    if (this.mFullSpanItems.get(size).mPosition >= i) {
                        this.mFullSpanItems.remove(size);
                    }
                }
            }
            return invalidateAfter(i);
        }

        int invalidateAfter(int i) {
            int[] iArr = this.mData;
            if (iArr == null || i >= iArr.length) {
                return -1;
            }
            int invalidateFullSpansAfter = invalidateFullSpansAfter(i);
            if (invalidateFullSpansAfter == -1) {
                int[] iArr2 = this.mData;
                Arrays.fill(iArr2, i, iArr2.length, -1);
                return this.mData.length;
            }
            int i2 = invalidateFullSpansAfter + 1;
            Arrays.fill(this.mData, i, i2, -1);
            return i2;
        }

        int getSpan(int i) {
            int[] iArr = this.mData;
            if (iArr == null || i >= iArr.length) {
                return -1;
            }
            return iArr[i];
        }

        void setSpan(int i, Span span) {
            ensureSize(i);
            this.mData[i] = span.mIndex;
        }

        int sizeForPosition(int i) {
            int length = this.mData.length;
            while (length <= i) {
                length *= 2;
            }
            return length;
        }

        void ensureSize(int i) {
            int[] iArr = this.mData;
            if (iArr == null) {
                int[] iArr2 = new int[Math.max(i, 10) + 1];
                this.mData = iArr2;
                Arrays.fill(iArr2, -1);
            } else if (i >= iArr.length) {
                int[] iArr3 = new int[sizeForPosition(i)];
                this.mData = iArr3;
                System.arraycopy(iArr, 0, iArr3, 0, iArr.length);
                int[] iArr4 = this.mData;
                Arrays.fill(iArr4, iArr.length, iArr4.length, -1);
            }
        }

        void clear() {
            int[] iArr = this.mData;
            if (iArr != null) {
                Arrays.fill(iArr, -1);
            }
            this.mFullSpanItems = null;
        }

        void offsetForRemoval(int i, int i2) {
            int[] iArr = this.mData;
            if (iArr == null || i >= iArr.length) {
                return;
            }
            int i3 = i + i2;
            ensureSize(i3);
            int[] iArr2 = this.mData;
            System.arraycopy(iArr2, i3, iArr2, i, (iArr2.length - i) - i2);
            int[] iArr3 = this.mData;
            Arrays.fill(iArr3, iArr3.length - i2, iArr3.length, -1);
            offsetFullSpansForRemoval(i, i2);
        }

        private void offsetFullSpansForRemoval(int i, int i2) {
            List<FullSpanItem> list = this.mFullSpanItems;
            if (list == null) {
                return;
            }
            int i3 = i + i2;
            for (int size = list.size() - 1; size >= 0; size--) {
                FullSpanItem fullSpanItem = this.mFullSpanItems.get(size);
                int i4 = fullSpanItem.mPosition;
                if (i4 >= i) {
                    if (i4 < i3) {
                        this.mFullSpanItems.remove(size);
                    } else {
                        fullSpanItem.mPosition = i4 - i2;
                    }
                }
            }
        }

        void offsetForAddition(int i, int i2) {
            int[] iArr = this.mData;
            if (iArr == null || i >= iArr.length) {
                return;
            }
            int i3 = i + i2;
            ensureSize(i3);
            int[] iArr2 = this.mData;
            System.arraycopy(iArr2, i, iArr2, i3, (iArr2.length - i) - i2);
            Arrays.fill(this.mData, i, i3, -1);
            offsetFullSpansForAddition(i, i2);
        }

        private void offsetFullSpansForAddition(int i, int i2) {
            List<FullSpanItem> list = this.mFullSpanItems;
            if (list == null) {
                return;
            }
            for (int size = list.size() - 1; size >= 0; size--) {
                FullSpanItem fullSpanItem = this.mFullSpanItems.get(size);
                int i3 = fullSpanItem.mPosition;
                if (i3 >= i) {
                    fullSpanItem.mPosition = i3 + i2;
                }
            }
        }

        private int invalidateFullSpansAfter(int i) {
            if (this.mFullSpanItems == null) {
                return -1;
            }
            FullSpanItem fullSpanItem = getFullSpanItem(i);
            if (fullSpanItem != null) {
                this.mFullSpanItems.remove(fullSpanItem);
            }
            int size = this.mFullSpanItems.size();
            int i2 = 0;
            while (true) {
                if (i2 >= size) {
                    i2 = -1;
                    break;
                }
                if (this.mFullSpanItems.get(i2).mPosition >= i) {
                    break;
                }
                i2++;
            }
            if (i2 == -1) {
                return -1;
            }
            FullSpanItem fullSpanItem2 = this.mFullSpanItems.get(i2);
            this.mFullSpanItems.remove(i2);
            return fullSpanItem2.mPosition;
        }

        public void addFullSpanItem(FullSpanItem fullSpanItem) {
            if (this.mFullSpanItems == null) {
                this.mFullSpanItems = new ArrayList();
            }
            int size = this.mFullSpanItems.size();
            for (int i = 0; i < size; i++) {
                FullSpanItem fullSpanItem2 = this.mFullSpanItems.get(i);
                if (fullSpanItem2.mPosition == fullSpanItem.mPosition) {
                    this.mFullSpanItems.remove(i);
                }
                if (fullSpanItem2.mPosition >= fullSpanItem.mPosition) {
                    this.mFullSpanItems.add(i, fullSpanItem);
                    return;
                }
            }
            this.mFullSpanItems.add(fullSpanItem);
        }

        public FullSpanItem getFullSpanItem(int i) {
            List<FullSpanItem> list = this.mFullSpanItems;
            if (list == null) {
                return null;
            }
            for (int size = list.size() - 1; size >= 0; size--) {
                FullSpanItem fullSpanItem = this.mFullSpanItems.get(size);
                if (fullSpanItem.mPosition == i) {
                    return fullSpanItem;
                }
            }
            return null;
        }

        public FullSpanItem getFirstFullSpanItemInRange(int i, int i2, int i3, boolean z) {
            List<FullSpanItem> list = this.mFullSpanItems;
            if (list == null) {
                return null;
            }
            int size = list.size();
            for (int i4 = 0; i4 < size; i4++) {
                FullSpanItem fullSpanItem = this.mFullSpanItems.get(i4);
                int i5 = fullSpanItem.mPosition;
                if (i5 >= i2) {
                    return null;
                }
                if (i5 >= i && (i3 == 0 || fullSpanItem.mGapDir == i3 || (z && fullSpanItem.mHasUnwantedGapAfter))) {
                    return fullSpanItem;
                }
            }
            return null;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: /content/classes1.dex */
        public static class FullSpanItem implements Parcelable {
            public static final Parcelable.Creator<FullSpanItem> CREATOR = new Parcelable.Creator<FullSpanItem>() { // from class: android.support.v7.widget.StaggeredGridLayoutManager.LazySpanLookup.FullSpanItem.1
                /* JADX WARN: Can't rename method to resolve collision */
                @Override // android.os.Parcelable.Creator
                public FullSpanItem createFromParcel(Parcel parcel) {
                    return new FullSpanItem(parcel);
                }

                /* JADX WARN: Can't rename method to resolve collision */
                @Override // android.os.Parcelable.Creator
                public FullSpanItem[] newArray(int i) {
                    return new FullSpanItem[i];
                }
            };
            int mGapDir;
            int[] mGapPerSpan;
            boolean mHasUnwantedGapAfter;
            int mPosition;

            @Override // android.os.Parcelable
            public int describeContents() {
                return 0;
            }

            FullSpanItem(Parcel parcel) {
                this.mPosition = parcel.readInt();
                this.mGapDir = parcel.readInt();
                this.mHasUnwantedGapAfter = parcel.readInt() == 1;
                int readInt = parcel.readInt();
                if (readInt > 0) {
                    int[] iArr = new int[readInt];
                    this.mGapPerSpan = iArr;
                    parcel.readIntArray(iArr);
                }
            }

            FullSpanItem() {
            }

            int getGapForSpan(int i) {
                int[] iArr = this.mGapPerSpan;
                if (iArr == null) {
                    return 0;
                }
                return iArr[i];
            }

            @Override // android.os.Parcelable
            public void writeToParcel(Parcel parcel, int i) {
                parcel.writeInt(this.mPosition);
                parcel.writeInt(this.mGapDir);
                parcel.writeInt(this.mHasUnwantedGapAfter ? 1 : 0);
                int[] iArr = this.mGapPerSpan;
                if (iArr != null && iArr.length > 0) {
                    parcel.writeInt(iArr.length);
                    parcel.writeIntArray(this.mGapPerSpan);
                } else {
                    parcel.writeInt(0);
                }
            }

            public String toString() {
                return "FullSpanItem{mPosition=" + this.mPosition + ", mGapDir=" + this.mGapDir + ", mHasUnwantedGapAfter=" + this.mHasUnwantedGapAfter + ", mGapPerSpan=" + Arrays.toString(this.mGapPerSpan) + '}';
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class SavedState implements Parcelable {
        public static final Parcelable.Creator<SavedState> CREATOR = new Parcelable.Creator<SavedState>() { // from class: android.support.v7.widget.StaggeredGridLayoutManager.SavedState.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public SavedState createFromParcel(Parcel parcel) {
                return new SavedState(parcel);
            }

            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public SavedState[] newArray(int i) {
                return new SavedState[i];
            }
        };
        boolean mAnchorLayoutFromEnd;
        int mAnchorPosition;
        List<LazySpanLookup.FullSpanItem> mFullSpanItems;
        boolean mLastLayoutRTL;
        boolean mReverseLayout;
        int[] mSpanLookup;
        int mSpanLookupSize;
        int[] mSpanOffsets;
        int mSpanOffsetsSize;
        int mVisibleAnchorPosition;

        @Override // android.os.Parcelable
        public int describeContents() {
            return 0;
        }

        public SavedState() {
        }

        SavedState(Parcel parcel) {
            this.mAnchorPosition = parcel.readInt();
            this.mVisibleAnchorPosition = parcel.readInt();
            int readInt = parcel.readInt();
            this.mSpanOffsetsSize = readInt;
            if (readInt > 0) {
                int[] iArr = new int[readInt];
                this.mSpanOffsets = iArr;
                parcel.readIntArray(iArr);
            }
            int readInt2 = parcel.readInt();
            this.mSpanLookupSize = readInt2;
            if (readInt2 > 0) {
                int[] iArr2 = new int[readInt2];
                this.mSpanLookup = iArr2;
                parcel.readIntArray(iArr2);
            }
            this.mReverseLayout = parcel.readInt() == 1;
            this.mAnchorLayoutFromEnd = parcel.readInt() == 1;
            this.mLastLayoutRTL = parcel.readInt() == 1;
            this.mFullSpanItems = parcel.readArrayList(LazySpanLookup.FullSpanItem.class.getClassLoader());
        }

        public SavedState(SavedState savedState) {
            this.mSpanOffsetsSize = savedState.mSpanOffsetsSize;
            this.mAnchorPosition = savedState.mAnchorPosition;
            this.mVisibleAnchorPosition = savedState.mVisibleAnchorPosition;
            this.mSpanOffsets = savedState.mSpanOffsets;
            this.mSpanLookupSize = savedState.mSpanLookupSize;
            this.mSpanLookup = savedState.mSpanLookup;
            this.mReverseLayout = savedState.mReverseLayout;
            this.mAnchorLayoutFromEnd = savedState.mAnchorLayoutFromEnd;
            this.mLastLayoutRTL = savedState.mLastLayoutRTL;
            this.mFullSpanItems = savedState.mFullSpanItems;
        }

        void invalidateSpanInfo() {
            this.mSpanOffsets = null;
            this.mSpanOffsetsSize = 0;
            this.mSpanLookupSize = 0;
            this.mSpanLookup = null;
            this.mFullSpanItems = null;
        }

        @Override // android.os.Parcelable
        public void writeToParcel(Parcel parcel, int i) {
            parcel.writeInt(this.mAnchorPosition);
            parcel.writeInt(this.mVisibleAnchorPosition);
            parcel.writeInt(this.mSpanOffsetsSize);
            if (this.mSpanOffsetsSize > 0) {
                parcel.writeIntArray(this.mSpanOffsets);
            }
            parcel.writeInt(this.mSpanLookupSize);
            if (this.mSpanLookupSize > 0) {
                parcel.writeIntArray(this.mSpanLookup);
            }
            parcel.writeInt(this.mReverseLayout ? 1 : 0);
            parcel.writeInt(this.mAnchorLayoutFromEnd ? 1 : 0);
            parcel.writeInt(this.mLastLayoutRTL ? 1 : 0);
            parcel.writeList(this.mFullSpanItems);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public class AnchorInfo {
        boolean mInvalidateOffsets;
        boolean mLayoutFromEnd;
        int mOffset;
        int mPosition;
        int[] mSpanReferenceLines;
        boolean mValid;

        AnchorInfo() {
            reset();
        }

        void reset() {
            this.mPosition = -1;
            this.mOffset = Integer.MIN_VALUE;
            this.mLayoutFromEnd = false;
            this.mInvalidateOffsets = false;
            this.mValid = false;
            int[] iArr = this.mSpanReferenceLines;
            if (iArr != null) {
                Arrays.fill(iArr, -1);
            }
        }

        void saveSpanReferenceLines(Span[] spanArr) {
            int length = spanArr.length;
            int[] iArr = this.mSpanReferenceLines;
            if (iArr == null || iArr.length < length) {
                this.mSpanReferenceLines = new int[StaggeredGridLayoutManager.this.mSpans.length];
            }
            for (int i = 0; i < length; i++) {
                this.mSpanReferenceLines[i] = spanArr[i].getStartLine(Integer.MIN_VALUE);
            }
        }

        void assignCoordinateFromPadding() {
            this.mOffset = this.mLayoutFromEnd ? StaggeredGridLayoutManager.this.mPrimaryOrientation.getEndAfterPadding() : StaggeredGridLayoutManager.this.mPrimaryOrientation.getStartAfterPadding();
        }

        void assignCoordinateFromPadding(int i) {
            if (this.mLayoutFromEnd) {
                this.mOffset = StaggeredGridLayoutManager.this.mPrimaryOrientation.getEndAfterPadding() - i;
            } else {
                this.mOffset = StaggeredGridLayoutManager.this.mPrimaryOrientation.getStartAfterPadding() + i;
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/SimpleItemAnimator.java** ###

package android.support.v7.widget;

import android.support.v7.widget.RecyclerView;
import android.view.View;

/* loaded from: /content/classes1.dex */
public abstract class SimpleItemAnimator extends RecyclerView.ItemAnimator {
    boolean mSupportsChangeAnimations = true;

    public abstract boolean animateAdd(RecyclerView.ViewHolder viewHolder);

    public abstract boolean animateChange(RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder viewHolder2, int i, int i2, int i3, int i4);

    public abstract boolean animateMove(RecyclerView.ViewHolder viewHolder, int i, int i2, int i3, int i4);

    public abstract boolean animateRemove(RecyclerView.ViewHolder viewHolder);

    public void onAddFinished(RecyclerView.ViewHolder viewHolder) {
    }

    public void onAddStarting(RecyclerView.ViewHolder viewHolder) {
    }

    public void onChangeFinished(RecyclerView.ViewHolder viewHolder, boolean z) {
    }

    public void onChangeStarting(RecyclerView.ViewHolder viewHolder, boolean z) {
    }

    public void onMoveFinished(RecyclerView.ViewHolder viewHolder) {
    }

    public void onMoveStarting(RecyclerView.ViewHolder viewHolder) {
    }

    public void onRemoveFinished(RecyclerView.ViewHolder viewHolder) {
    }

    public void onRemoveStarting(RecyclerView.ViewHolder viewHolder) {
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean canReuseUpdatedViewHolder(RecyclerView.ViewHolder viewHolder) {
        return !this.mSupportsChangeAnimations || viewHolder.isInvalid();
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean animateDisappearance(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        int i = itemHolderInfo.left;
        int i2 = itemHolderInfo.top;
        View view = viewHolder.itemView;
        int left = itemHolderInfo2 == null ? view.getLeft() : itemHolderInfo2.left;
        int top = itemHolderInfo2 == null ? view.getTop() : itemHolderInfo2.top;
        if (!viewHolder.isRemoved() && (i != left || i2 != top)) {
            view.layout(left, top, view.getWidth() + left, view.getHeight() + top);
            return animateMove(viewHolder, i, i2, left, top);
        }
        return animateRemove(viewHolder);
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean animateAppearance(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        if (itemHolderInfo != null && (itemHolderInfo.left != itemHolderInfo2.left || itemHolderInfo.top != itemHolderInfo2.top)) {
            return animateMove(viewHolder, itemHolderInfo.left, itemHolderInfo.top, itemHolderInfo2.left, itemHolderInfo2.top);
        }
        return animateAdd(viewHolder);
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean animatePersistence(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        if (itemHolderInfo.left != itemHolderInfo2.left || itemHolderInfo.top != itemHolderInfo2.top) {
            return animateMove(viewHolder, itemHolderInfo.left, itemHolderInfo.top, itemHolderInfo2.left, itemHolderInfo2.top);
        }
        dispatchMoveFinished(viewHolder);
        return false;
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean animateChange(RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder viewHolder2, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        int i;
        int i2;
        int i3 = itemHolderInfo.left;
        int i4 = itemHolderInfo.top;
        if (viewHolder2.shouldIgnore()) {
            int i5 = itemHolderInfo.left;
            i2 = itemHolderInfo.top;
            i = i5;
        } else {
            i = itemHolderInfo2.left;
            i2 = itemHolderInfo2.top;
        }
        return animateChange(viewHolder, viewHolder2, i3, i4, i, i2);
    }

    public final void dispatchRemoveFinished(RecyclerView.ViewHolder viewHolder) {
        onRemoveFinished(viewHolder);
        dispatchAnimationFinished(viewHolder);
    }

    public final void dispatchMoveFinished(RecyclerView.ViewHolder viewHolder) {
        onMoveFinished(viewHolder);
        dispatchAnimationFinished(viewHolder);
    }

    public final void dispatchAddFinished(RecyclerView.ViewHolder viewHolder) {
        onAddFinished(viewHolder);
        dispatchAnimationFinished(viewHolder);
    }

    public final void dispatchChangeFinished(RecyclerView.ViewHolder viewHolder, boolean z) {
        onChangeFinished(viewHolder, z);
        dispatchAnimationFinished(viewHolder);
    }

    public final void dispatchRemoveStarting(RecyclerView.ViewHolder viewHolder) {
        onRemoveStarting(viewHolder);
    }

    public final void dispatchMoveStarting(RecyclerView.ViewHolder viewHolder) {
        onMoveStarting(viewHolder);
    }

    public final void dispatchAddStarting(RecyclerView.ViewHolder viewHolder) {
        onAddStarting(viewHolder);
    }

    public final void dispatchChangeStarting(RecyclerView.ViewHolder viewHolder, boolean z) {
        onChangeStarting(viewHolder, z);
    }
}


### **classes_dex_1/sources/android/support/v7/widget/FastScroller.java** ###

package android.support.v7.widget;

import android.R;
import android.animation.Animator;
import android.animation.AnimatorListenerAdapter;
import android.animation.ValueAnimator;
import android.graphics.Canvas;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.StateListDrawable;
import android.support.v4.view.ViewCompat;
import android.support.v7.widget.RecyclerView;
import android.view.MotionEvent;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public class FastScroller extends RecyclerView.ItemDecoration implements RecyclerView.OnItemTouchListener {
    float mHorizontalDragX;
    int mHorizontalThumbCenterX;
    private final StateListDrawable mHorizontalThumbDrawable;
    private final int mHorizontalThumbHeight;
    int mHorizontalThumbWidth;
    private final Drawable mHorizontalTrackDrawable;
    private final int mHorizontalTrackHeight;
    private final int mMargin;
    private RecyclerView mRecyclerView;
    private final int mScrollbarMinimumRange;
    float mVerticalDragY;
    int mVerticalThumbCenterY;
    private final StateListDrawable mVerticalThumbDrawable;
    int mVerticalThumbHeight;
    private final int mVerticalThumbWidth;
    private final Drawable mVerticalTrackDrawable;
    private final int mVerticalTrackWidth;
    private static final int[] PRESSED_STATE_SET = {R.attr.state_pressed};
    private static final int[] EMPTY_STATE_SET = new int[0];
    private int mRecyclerViewWidth = 0;
    private int mRecyclerViewHeight = 0;
    private boolean mNeedVerticalScrollbar = false;
    private boolean mNeedHorizontalScrollbar = false;
    private int mState = 0;
    private int mDragState = 0;
    private final int[] mVerticalRange = new int[2];
    private final int[] mHorizontalRange = new int[2];
    private final ValueAnimator mShowHideAnimator = ValueAnimator.ofFloat(0.0f, 1.0f);
    private int mAnimationState = 0;
    private final Runnable mHideRunnable = new Runnable() { // from class: android.support.v7.widget.FastScroller.1
        @Override // java.lang.Runnable
        public void run() {
            FastScroller.this.hide(500);
        }
    };
    private final RecyclerView.OnScrollListener mOnScrollListener = new RecyclerView.OnScrollListener() { // from class: android.support.v7.widget.FastScroller.2
        @Override // android.support.v7.widget.RecyclerView.OnScrollListener
        public void onScrolled(RecyclerView recyclerView, int i, int i2) {
            FastScroller.this.updateScrollPosition(recyclerView.computeHorizontalScrollOffset(), recyclerView.computeVerticalScrollOffset());
        }
    };

    @Override // android.support.v7.widget.RecyclerView.OnItemTouchListener
    public void onRequestDisallowInterceptTouchEvent(boolean z) {
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public FastScroller(RecyclerView recyclerView, StateListDrawable stateListDrawable, Drawable drawable, StateListDrawable stateListDrawable2, Drawable drawable2, int i, int i2, int i3) {
        this.mVerticalThumbDrawable = stateListDrawable;
        this.mVerticalTrackDrawable = drawable;
        this.mHorizontalThumbDrawable = stateListDrawable2;
        this.mHorizontalTrackDrawable = drawable2;
        this.mVerticalThumbWidth = Math.max(i, stateListDrawable.getIntrinsicWidth());
        this.mVerticalTrackWidth = Math.max(i, drawable.getIntrinsicWidth());
        this.mHorizontalThumbHeight = Math.max(i, stateListDrawable2.getIntrinsicWidth());
        this.mHorizontalTrackHeight = Math.max(i, drawable2.getIntrinsicWidth());
        this.mScrollbarMinimumRange = i2;
        this.mMargin = i3;
        this.mVerticalThumbDrawable.setAlpha(255);
        this.mVerticalTrackDrawable.setAlpha(255);
        this.mShowHideAnimator.addListener(new AnimatorListener());
        this.mShowHideAnimator.addUpdateListener(new AnimatorUpdater());
        attachToRecyclerView(recyclerView);
    }

    public void attachToRecyclerView(RecyclerView recyclerView) {
        RecyclerView recyclerView2 = this.mRecyclerView;
        if (recyclerView2 == recyclerView) {
            return;
        }
        if (recyclerView2 != null) {
            destroyCallbacks();
        }
        this.mRecyclerView = recyclerView;
        if (recyclerView != null) {
            setupCallbacks();
        }
    }

    private void setupCallbacks() {
        this.mRecyclerView.addItemDecoration(this);
        this.mRecyclerView.addOnItemTouchListener(this);
        this.mRecyclerView.addOnScrollListener(this.mOnScrollListener);
    }

    private void destroyCallbacks() {
        this.mRecyclerView.removeItemDecoration(this);
        this.mRecyclerView.removeOnItemTouchListener(this);
        this.mRecyclerView.removeOnScrollListener(this.mOnScrollListener);
        cancelHide();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void requestRedraw() {
        this.mRecyclerView.invalidate();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void setState(int i) {
        if (i == 2 && this.mState != 2) {
            this.mVerticalThumbDrawable.setState(PRESSED_STATE_SET);
            cancelHide();
        }
        if (i == 0) {
            requestRedraw();
        } else {
            show();
        }
        if (this.mState == 2 && i != 2) {
            this.mVerticalThumbDrawable.setState(EMPTY_STATE_SET);
            resetHideDelay(1200);
        } else if (i == 1) {
            resetHideDelay(1500);
        }
        this.mState = i;
    }

    private boolean isLayoutRTL() {
        return ViewCompat.getLayoutDirection(this.mRecyclerView) == 1;
    }

    boolean isVisible() {
        return this.mState == 1;
    }

    boolean isHidden() {
        return this.mState == 0;
    }

    public void show() {
        int i = this.mAnimationState;
        if (i != 0) {
            if (i != 3) {
                return;
            } else {
                this.mShowHideAnimator.cancel();
            }
        }
        this.mAnimationState = 1;
        ValueAnimator valueAnimator = this.mShowHideAnimator;
        valueAnimator.setFloatValues(((Float) valueAnimator.getAnimatedValue()).floatValue(), 1.0f);
        this.mShowHideAnimator.setDuration(500L);
        this.mShowHideAnimator.setStartDelay(0L);
        this.mShowHideAnimator.start();
    }

    void hide(int i) {
        int i2 = this.mAnimationState;
        if (i2 == 1) {
            this.mShowHideAnimator.cancel();
        } else if (i2 != 2) {
            return;
        }
        this.mAnimationState = 3;
        ValueAnimator valueAnimator = this.mShowHideAnimator;
        valueAnimator.setFloatValues(((Float) valueAnimator.getAnimatedValue()).floatValue(), 0.0f);
        this.mShowHideAnimator.setDuration(i);
        this.mShowHideAnimator.start();
    }

    private void cancelHide() {
        this.mRecyclerView.removeCallbacks(this.mHideRunnable);
    }

    private void resetHideDelay(int i) {
        cancelHide();
        this.mRecyclerView.postDelayed(this.mHideRunnable, i);
    }

    @Override // android.support.v7.widget.RecyclerView.ItemDecoration
    public void onDrawOver(Canvas canvas, RecyclerView recyclerView, RecyclerView.State state) {
        if (this.mRecyclerViewWidth != this.mRecyclerView.getWidth() || this.mRecyclerViewHeight != this.mRecyclerView.getHeight()) {
            this.mRecyclerViewWidth = this.mRecyclerView.getWidth();
            this.mRecyclerViewHeight = this.mRecyclerView.getHeight();
            setState(0);
        } else if (this.mAnimationState != 0) {
            if (this.mNeedVerticalScrollbar) {
                drawVerticalScrollbar(canvas);
            }
            if (this.mNeedHorizontalScrollbar) {
                drawHorizontalScrollbar(canvas);
            }
        }
    }

    private void drawVerticalScrollbar(Canvas canvas) {
        int i = this.mRecyclerViewWidth;
        int i2 = this.mVerticalThumbWidth;
        int i3 = i - i2;
        int i4 = this.mVerticalThumbCenterY;
        int i5 = this.mVerticalThumbHeight;
        int i6 = i4 - (i5 / 2);
        this.mVerticalThumbDrawable.setBounds(0, 0, i2, i5);
        this.mVerticalTrackDrawable.setBounds(0, 0, this.mVerticalTrackWidth, this.mRecyclerViewHeight);
        if (isLayoutRTL()) {
            this.mVerticalTrackDrawable.draw(canvas);
            canvas.translate(this.mVerticalThumbWidth, i6);
            canvas.scale(-1.0f, 1.0f);
            this.mVerticalThumbDrawable.draw(canvas);
            canvas.scale(1.0f, 1.0f);
            canvas.translate(-this.mVerticalThumbWidth, -i6);
            return;
        }
        canvas.translate(i3, 0.0f);
        this.mVerticalTrackDrawable.draw(canvas);
        canvas.translate(0.0f, i6);
        this.mVerticalThumbDrawable.draw(canvas);
        canvas.translate(-i3, -i6);
    }

    private void drawHorizontalScrollbar(Canvas canvas) {
        int i = this.mRecyclerViewHeight;
        int i2 = this.mHorizontalThumbHeight;
        int i3 = this.mHorizontalThumbCenterX;
        int i4 = this.mHorizontalThumbWidth;
        this.mHorizontalThumbDrawable.setBounds(0, 0, i4, i2);
        this.mHorizontalTrackDrawable.setBounds(0, 0, this.mRecyclerViewWidth, this.mHorizontalTrackHeight);
        canvas.translate(0.0f, i - i2);
        this.mHorizontalTrackDrawable.draw(canvas);
        canvas.translate(i3 - (i4 / 2), 0.0f);
        this.mHorizontalThumbDrawable.draw(canvas);
        canvas.translate(-r2, -r0);
    }

    void updateScrollPosition(int i, int i2) {
        int computeVerticalScrollRange = this.mRecyclerView.computeVerticalScrollRange();
        int i3 = this.mRecyclerViewHeight;
        this.mNeedVerticalScrollbar = computeVerticalScrollRange - i3 > 0 && i3 >= this.mScrollbarMinimumRange;
        int computeHorizontalScrollRange = this.mRecyclerView.computeHorizontalScrollRange();
        int i4 = this.mRecyclerViewWidth;
        boolean z = computeHorizontalScrollRange - i4 > 0 && i4 >= this.mScrollbarMinimumRange;
        this.mNeedHorizontalScrollbar = z;
        if (!this.mNeedVerticalScrollbar && !z) {
            if (this.mState != 0) {
                setState(0);
                return;
            }
            return;
        }
        if (this.mNeedVerticalScrollbar) {
            float f = i3;
            this.mVerticalThumbCenterY = (int) ((f * (i2 + (f / 2.0f))) / computeVerticalScrollRange);
            this.mVerticalThumbHeight = Math.min(i3, (i3 * i3) / computeVerticalScrollRange);
        }
        if (this.mNeedHorizontalScrollbar) {
            float f2 = i4;
            this.mHorizontalThumbCenterX = (int) ((f2 * (i + (f2 / 2.0f))) / computeHorizontalScrollRange);
            this.mHorizontalThumbWidth = Math.min(i4, (i4 * i4) / computeHorizontalScrollRange);
        }
        int i5 = this.mState;
        if (i5 == 0 || i5 == 1) {
            setState(1);
        }
    }

    @Override // android.support.v7.widget.RecyclerView.OnItemTouchListener
    public boolean onInterceptTouchEvent(RecyclerView recyclerView, MotionEvent motionEvent) {
        int i = this.mState;
        if (i == 1) {
            boolean isPointInsideVerticalThumb = isPointInsideVerticalThumb(motionEvent.getX(), motionEvent.getY());
            boolean isPointInsideHorizontalThumb = isPointInsideHorizontalThumb(motionEvent.getX(), motionEvent.getY());
            if (motionEvent.getAction() != 0) {
                return false;
            }
            if (!isPointInsideVerticalThumb && !isPointInsideHorizontalThumb) {
                return false;
            }
            if (isPointInsideHorizontalThumb) {
                this.mDragState = 1;
                this.mHorizontalDragX = (int) motionEvent.getX();
            } else if (isPointInsideVerticalThumb) {
                this.mDragState = 2;
                this.mVerticalDragY = (int) motionEvent.getY();
            }
            setState(2);
        } else if (i != 2) {
            return false;
        }
        return true;
    }

    @Override // android.support.v7.widget.RecyclerView.OnItemTouchListener
    public void onTouchEvent(RecyclerView recyclerView, MotionEvent motionEvent) {
        if (this.mState == 0) {
            return;
        }
        if (motionEvent.getAction() == 0) {
            boolean isPointInsideVerticalThumb = isPointInsideVerticalThumb(motionEvent.getX(), motionEvent.getY());
            boolean isPointInsideHorizontalThumb = isPointInsideHorizontalThumb(motionEvent.getX(), motionEvent.getY());
            if (isPointInsideVerticalThumb || isPointInsideHorizontalThumb) {
                if (isPointInsideHorizontalThumb) {
                    this.mDragState = 1;
                    this.mHorizontalDragX = (int) motionEvent.getX();
                } else if (isPointInsideVerticalThumb) {
                    this.mDragState = 2;
                    this.mVerticalDragY = (int) motionEvent.getY();
                }
                setState(2);
                return;
            }
            return;
        }
        if (motionEvent.getAction() == 1 && this.mState == 2) {
            this.mVerticalDragY = 0.0f;
            this.mHorizontalDragX = 0.0f;
            setState(1);
            this.mDragState = 0;
            return;
        }
        if (motionEvent.getAction() == 2 && this.mState == 2) {
            show();
            if (this.mDragState == 1) {
                horizontalScrollTo(motionEvent.getX());
            }
            if (this.mDragState == 2) {
                verticalScrollTo(motionEvent.getY());
            }
        }
    }

    private void verticalScrollTo(float f) {
        int[] verticalRange = getVerticalRange();
        float max = Math.max(verticalRange[0], Math.min(verticalRange[1], f));
        if (Math.abs(this.mVerticalThumbCenterY - max) < 2.0f) {
            return;
        }
        int scrollTo = scrollTo(this.mVerticalDragY, max, verticalRange, this.mRecyclerView.computeVerticalScrollRange(), this.mRecyclerView.computeVerticalScrollOffset(), this.mRecyclerViewHeight);
        if (scrollTo != 0) {
            this.mRecyclerView.scrollBy(0, scrollTo);
        }
        this.mVerticalDragY = max;
    }

    private void horizontalScrollTo(float f) {
        int[] horizontalRange = getHorizontalRange();
        float max = Math.max(horizontalRange[0], Math.min(horizontalRange[1], f));
        if (Math.abs(this.mHorizontalThumbCenterX - max) < 2.0f) {
            return;
        }
        int scrollTo = scrollTo(this.mHorizontalDragX, max, horizontalRange, this.mRecyclerView.computeHorizontalScrollRange(), this.mRecyclerView.computeHorizontalScrollOffset(), this.mRecyclerViewWidth);
        if (scrollTo != 0) {
            this.mRecyclerView.scrollBy(scrollTo, 0);
        }
        this.mHorizontalDragX = max;
    }

    private int scrollTo(float f, float f2, int[] iArr, int i, int i2, int i3) {
        int i4 = iArr[1] - iArr[0];
        if (i4 == 0) {
            return 0;
        }
        int i5 = i - i3;
        int i6 = (int) (((f2 - f) / i4) * i5);
        int i7 = i2 + i6;
        if (i7 >= i5 || i7 < 0) {
            return 0;
        }
        return i6;
    }

    boolean isPointInsideVerticalThumb(float f, float f2) {
        if (!isLayoutRTL() ? f >= this.mRecyclerViewWidth - this.mVerticalThumbWidth : f <= this.mVerticalThumbWidth / 2) {
            int i = this.mVerticalThumbCenterY;
            int i2 = this.mVerticalThumbHeight;
            if (f2 >= i - (i2 / 2) && f2 <= i + (i2 / 2)) {
                return true;
            }
        }
        return false;
    }

    boolean isPointInsideHorizontalThumb(float f, float f2) {
        if (f2 >= this.mRecyclerViewHeight - this.mHorizontalThumbHeight) {
            int i = this.mHorizontalThumbCenterX;
            int i2 = this.mHorizontalThumbWidth;
            if (f >= i - (i2 / 2) && f <= i + (i2 / 2)) {
                return true;
            }
        }
        return false;
    }

    Drawable getHorizontalTrackDrawable() {
        return this.mHorizontalTrackDrawable;
    }

    Drawable getHorizontalThumbDrawable() {
        return this.mHorizontalThumbDrawable;
    }

    Drawable getVerticalTrackDrawable() {
        return this.mVerticalTrackDrawable;
    }

    Drawable getVerticalThumbDrawable() {
        return this.mVerticalThumbDrawable;
    }

    private int[] getVerticalRange() {
        int[] iArr = this.mVerticalRange;
        int i = this.mMargin;
        iArr[0] = i;
        iArr[1] = this.mRecyclerViewHeight - i;
        return iArr;
    }

    private int[] getHorizontalRange() {
        int[] iArr = this.mHorizontalRange;
        int i = this.mMargin;
        iArr[0] = i;
        iArr[1] = this.mRecyclerViewWidth - i;
        return iArr;
    }

    /* loaded from: /content/classes1.dex */
    private class AnimatorListener extends AnimatorListenerAdapter {
        private boolean mCanceled;

        private AnimatorListener() {
            this.mCanceled = false;
        }

        @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
        public void onAnimationEnd(Animator animator) {
            if (this.mCanceled) {
                this.mCanceled = false;
            } else if (((Float) FastScroller.this.mShowHideAnimator.getAnimatedValue()).floatValue() == 0.0f) {
                FastScroller.this.mAnimationState = 0;
                FastScroller.this.setState(0);
            } else {
                FastScroller.this.mAnimationState = 2;
                FastScroller.this.requestRedraw();
            }
        }

        @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
        public void onAnimationCancel(Animator animator) {
            this.mCanceled = true;
        }
    }

    /* loaded from: /content/classes1.dex */
    private class AnimatorUpdater implements ValueAnimator.AnimatorUpdateListener {
        private AnimatorUpdater() {
        }

        @Override // android.animation.ValueAnimator.AnimatorUpdateListener
        public void onAnimationUpdate(ValueAnimator valueAnimator) {
            int floatValue = (int) (((Float) valueAnimator.getAnimatedValue()).floatValue() * 255.0f);
            FastScroller.this.mVerticalThumbDrawable.setAlpha(floatValue);
            FastScroller.this.mVerticalTrackDrawable.setAlpha(floatValue);
            FastScroller.this.requestRedraw();
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/OrientationHelper.java** ###

package android.support.v7.widget;

import android.graphics.Rect;
import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.ViewGroup;

/* loaded from: /content/classes1.dex */
public abstract class OrientationHelper {
    private int mLastTotalSpace;
    protected final RecyclerView.LayoutManager mLayoutManager;
    final Rect mTmpRect;

    public abstract int getDecoratedEnd(View view);

    public abstract int getDecoratedMeasurement(View view);

    public abstract int getDecoratedMeasurementInOther(View view);

    public abstract int getDecoratedStart(View view);

    public abstract int getEnd();

    public abstract int getEndAfterPadding();

    public abstract int getEndPadding();

    public abstract int getMode();

    public abstract int getModeInOther();

    public abstract int getStartAfterPadding();

    public abstract int getTotalSpace();

    public abstract int getTransformedEndWithDecoration(View view);

    public abstract int getTransformedStartWithDecoration(View view);

    public abstract void offsetChildren(int i);

    private OrientationHelper(RecyclerView.LayoutManager layoutManager) {
        this.mLastTotalSpace = Integer.MIN_VALUE;
        this.mTmpRect = new Rect();
        this.mLayoutManager = layoutManager;
    }

    public void onLayoutComplete() {
        this.mLastTotalSpace = getTotalSpace();
    }

    public int getTotalSpaceChange() {
        if (Integer.MIN_VALUE == this.mLastTotalSpace) {
            return 0;
        }
        return getTotalSpace() - this.mLastTotalSpace;
    }

    public static OrientationHelper createOrientationHelper(RecyclerView.LayoutManager layoutManager, int i) {
        if (i == 0) {
            return createHorizontalHelper(layoutManager);
        }
        if (i == 1) {
            return createVerticalHelper(layoutManager);
        }
        throw new IllegalArgumentException("invalid orientation");
    }

    public static OrientationHelper createHorizontalHelper(RecyclerView.LayoutManager layoutManager) {
        return new OrientationHelper(layoutManager) { // from class: android.support.v7.widget.OrientationHelper.1
            @Override // android.support.v7.widget.OrientationHelper
            public int getEndAfterPadding() {
                return this.mLayoutManager.getWidth() - this.mLayoutManager.getPaddingRight();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getEnd() {
                return this.mLayoutManager.getWidth();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public void offsetChildren(int i) {
                this.mLayoutManager.offsetChildrenHorizontal(i);
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getStartAfterPadding() {
                return this.mLayoutManager.getPaddingLeft();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedMeasurement(View view) {
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
                return this.mLayoutManager.getDecoratedMeasuredWidth(view) + ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin + ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedMeasurementInOther(View view) {
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
                return this.mLayoutManager.getDecoratedMeasuredHeight(view) + ((ViewGroup.MarginLayoutParams) layoutParams).topMargin + ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedEnd(View view) {
                return this.mLayoutManager.getDecoratedRight(view) + ((ViewGroup.MarginLayoutParams) ((RecyclerView.LayoutParams) view.getLayoutParams())).rightMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedStart(View view) {
                return this.mLayoutManager.getDecoratedLeft(view) - ((ViewGroup.MarginLayoutParams) ((RecyclerView.LayoutParams) view.getLayoutParams())).leftMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTransformedEndWithDecoration(View view) {
                this.mLayoutManager.getTransformedBoundingBox(view, true, this.mTmpRect);
                return this.mTmpRect.right;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTransformedStartWithDecoration(View view) {
                this.mLayoutManager.getTransformedBoundingBox(view, true, this.mTmpRect);
                return this.mTmpRect.left;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTotalSpace() {
                return (this.mLayoutManager.getWidth() - this.mLayoutManager.getPaddingLeft()) - this.mLayoutManager.getPaddingRight();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getEndPadding() {
                return this.mLayoutManager.getPaddingRight();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getMode() {
                return this.mLayoutManager.getWidthMode();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getModeInOther() {
                return this.mLayoutManager.getHeightMode();
            }
        };
    }

    public static OrientationHelper createVerticalHelper(RecyclerView.LayoutManager layoutManager) {
        return new OrientationHelper(layoutManager) { // from class: android.support.v7.widget.OrientationHelper.2
            @Override // android.support.v7.widget.OrientationHelper
            public int getEndAfterPadding() {
                return this.mLayoutManager.getHeight() - this.mLayoutManager.getPaddingBottom();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getEnd() {
                return this.mLayoutManager.getHeight();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public void offsetChildren(int i) {
                this.mLayoutManager.offsetChildrenVertical(i);
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getStartAfterPadding() {
                return this.mLayoutManager.getPaddingTop();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedMeasurement(View view) {
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
                return this.mLayoutManager.getDecoratedMeasuredHeight(view) + ((ViewGroup.MarginLayoutParams) layoutParams).topMargin + ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedMeasurementInOther(View view) {
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
                return this.mLayoutManager.getDecoratedMeasuredWidth(view) + ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin + ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedEnd(View view) {
                return this.mLayoutManager.getDecoratedBottom(view) + ((ViewGroup.MarginLayoutParams) ((RecyclerView.LayoutParams) view.getLayoutParams())).bottomMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getDecoratedStart(View view) {
                return this.mLayoutManager.getDecoratedTop(view) - ((ViewGroup.MarginLayoutParams) ((RecyclerView.LayoutParams) view.getLayoutParams())).topMargin;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTransformedEndWithDecoration(View view) {
                this.mLayoutManager.getTransformedBoundingBox(view, true, this.mTmpRect);
                return this.mTmpRect.bottom;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTransformedStartWithDecoration(View view) {
                this.mLayoutManager.getTransformedBoundingBox(view, true, this.mTmpRect);
                return this.mTmpRect.top;
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getTotalSpace() {
                return (this.mLayoutManager.getHeight() - this.mLayoutManager.getPaddingTop()) - this.mLayoutManager.getPaddingBottom();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getEndPadding() {
                return this.mLayoutManager.getPaddingBottom();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getMode() {
                return this.mLayoutManager.getHeightMode();
            }

            @Override // android.support.v7.widget.OrientationHelper
            public int getModeInOther() {
                return this.mLayoutManager.getWidthMode();
            }
        };
    }
}


### **classes_dex_1/sources/android/support/v7/widget/RecyclerViewAccessibilityDelegate.java** ###

package android.support.v7.widget;

import android.os.Bundle;
import android.support.v4.view.AccessibilityDelegateCompat;
import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;
import android.view.View;
import android.view.accessibility.AccessibilityEvent;

/* loaded from: /content/classes1.dex */
public class RecyclerViewAccessibilityDelegate extends AccessibilityDelegateCompat {
    final AccessibilityDelegateCompat mItemDelegate = new ItemDelegate(this);
    final RecyclerView mRecyclerView;

    public RecyclerViewAccessibilityDelegate(RecyclerView recyclerView) {
        this.mRecyclerView = recyclerView;
    }

    boolean shouldIgnore() {
        return this.mRecyclerView.hasPendingAdapterUpdates();
    }

    @Override // android.support.v4.view.AccessibilityDelegateCompat
    public boolean performAccessibilityAction(View view, int i, Bundle bundle) {
        if (super.performAccessibilityAction(view, i, bundle)) {
            return true;
        }
        if (shouldIgnore() || this.mRecyclerView.getLayoutManager() == null) {
            return false;
        }
        return this.mRecyclerView.getLayoutManager().performAccessibilityAction(i, bundle);
    }

    @Override // android.support.v4.view.AccessibilityDelegateCompat
    public void onInitializeAccessibilityNodeInfo(View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
        super.onInitializeAccessibilityNodeInfo(view, accessibilityNodeInfoCompat);
        accessibilityNodeInfoCompat.setClassName(RecyclerView.class.getName());
        if (shouldIgnore() || this.mRecyclerView.getLayoutManager() == null) {
            return;
        }
        this.mRecyclerView.getLayoutManager().onInitializeAccessibilityNodeInfo(accessibilityNodeInfoCompat);
    }

    @Override // android.support.v4.view.AccessibilityDelegateCompat
    public void onInitializeAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
        super.onInitializeAccessibilityEvent(view, accessibilityEvent);
        accessibilityEvent.setClassName(RecyclerView.class.getName());
        if (!(view instanceof RecyclerView) || shouldIgnore()) {
            return;
        }
        RecyclerView recyclerView = (RecyclerView) view;
        if (recyclerView.getLayoutManager() != null) {
            recyclerView.getLayoutManager().onInitializeAccessibilityEvent(accessibilityEvent);
        }
    }

    public AccessibilityDelegateCompat getItemDelegate() {
        return this.mItemDelegate;
    }

    /* loaded from: /content/classes1.dex */
    public static class ItemDelegate extends AccessibilityDelegateCompat {
        final RecyclerViewAccessibilityDelegate mRecyclerViewDelegate;

        public ItemDelegate(RecyclerViewAccessibilityDelegate recyclerViewAccessibilityDelegate) {
            this.mRecyclerViewDelegate = recyclerViewAccessibilityDelegate;
        }

        @Override // android.support.v4.view.AccessibilityDelegateCompat
        public void onInitializeAccessibilityNodeInfo(View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
            super.onInitializeAccessibilityNodeInfo(view, accessibilityNodeInfoCompat);
            if (this.mRecyclerViewDelegate.shouldIgnore() || this.mRecyclerViewDelegate.mRecyclerView.getLayoutManager() == null) {
                return;
            }
            this.mRecyclerViewDelegate.mRecyclerView.getLayoutManager().onInitializeAccessibilityNodeInfoForItem(view, accessibilityNodeInfoCompat);
        }

        @Override // android.support.v4.view.AccessibilityDelegateCompat
        public boolean performAccessibilityAction(View view, int i, Bundle bundle) {
            if (super.performAccessibilityAction(view, i, bundle)) {
                return true;
            }
            if (this.mRecyclerViewDelegate.shouldIgnore() || this.mRecyclerViewDelegate.mRecyclerView.getLayoutManager() == null) {
                return false;
            }
            return this.mRecyclerViewDelegate.mRecyclerView.getLayoutManager().performAccessibilityActionForItem(view, i, bundle);
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/LayoutState.java** ###

package android.support.v7.widget;

import android.support.v7.widget.RecyclerView;
import android.view.View;

/* loaded from: /content/classes1.dex */
class LayoutState {
    int mAvailable;
    int mCurrentPosition;
    boolean mInfinite;
    int mItemDirection;
    int mLayoutDirection;
    boolean mStopInFocusable;
    boolean mRecycle = true;
    int mStartLine = 0;
    int mEndLine = 0;

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean hasMore(RecyclerView.State state) {
        int i = this.mCurrentPosition;
        return i >= 0 && i < state.getItemCount();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View next(RecyclerView.Recycler recycler) {
        View viewForPosition = recycler.getViewForPosition(this.mCurrentPosition);
        this.mCurrentPosition += this.mItemDirection;
        return viewForPosition;
    }

    public String toString() {
        return "LayoutState{mAvailable=" + this.mAvailable + ", mCurrentPosition=" + this.mCurrentPosition + ", mItemDirection=" + this.mItemDirection + ", mLayoutDirection=" + this.mLayoutDirection + ", mStartLine=" + this.mStartLine + ", mEndLine=" + this.mEndLine + '}';
    }
}


### **classes_dex_1/sources/android/support/v7/widget/ViewInfoStore.java** ###

package android.support.v7.widget;

import android.support.v4.util.ArrayMap;
import android.support.v4.util.LongSparseArray;
import android.support.v4.util.Pools$Pool;
import android.support.v4.util.Pools$SimplePool;
import android.support.v7.widget.RecyclerView;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public class ViewInfoStore {
    final ArrayMap<RecyclerView.ViewHolder, InfoRecord> mLayoutHolderMap = new ArrayMap<>();
    final LongSparseArray<RecyclerView.ViewHolder> mOldChangedHolders = new LongSparseArray<>();

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public interface ProcessCallback {
        void processAppeared(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2);

        void processDisappeared(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2);

        void processPersistent(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo2);

        void unused(RecyclerView.ViewHolder viewHolder);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void clear() {
        this.mLayoutHolderMap.clear();
        this.mOldChangedHolders.clear();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addToPreLayout(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        if (infoRecord == null) {
            infoRecord = InfoRecord.obtain();
            this.mLayoutHolderMap.put(viewHolder, infoRecord);
        }
        infoRecord.preInfo = itemHolderInfo;
        infoRecord.flags |= 4;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isDisappearing(RecyclerView.ViewHolder viewHolder) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        return (infoRecord == null || (infoRecord.flags & 1) == 0) ? false : true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public RecyclerView.ItemAnimator.ItemHolderInfo popFromPreLayout(RecyclerView.ViewHolder viewHolder) {
        return popFromLayoutStep(viewHolder, 4);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public RecyclerView.ItemAnimator.ItemHolderInfo popFromPostLayout(RecyclerView.ViewHolder viewHolder) {
        return popFromLayoutStep(viewHolder, 8);
    }

    private RecyclerView.ItemAnimator.ItemHolderInfo popFromLayoutStep(RecyclerView.ViewHolder viewHolder, int i) {
        InfoRecord valueAt;
        RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo;
        int indexOfKey = this.mLayoutHolderMap.indexOfKey(viewHolder);
        if (indexOfKey >= 0 && (valueAt = this.mLayoutHolderMap.valueAt(indexOfKey)) != null) {
            int i2 = valueAt.flags;
            if ((i2 & i) != 0) {
                valueAt.flags = (~i) & i2;
                if (i == 4) {
                    itemHolderInfo = valueAt.preInfo;
                } else if (i == 8) {
                    itemHolderInfo = valueAt.postInfo;
                } else {
                    throw new IllegalArgumentException("Must provide flag PRE or POST");
                }
                if ((valueAt.flags & 12) == 0) {
                    this.mLayoutHolderMap.removeAt(indexOfKey);
                    InfoRecord.recycle(valueAt);
                }
                return itemHolderInfo;
            }
        }
        return null;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addToOldChangeHolders(long j, RecyclerView.ViewHolder viewHolder) {
        this.mOldChangedHolders.put(j, viewHolder);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addToAppearedInPreLayoutHolders(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        if (infoRecord == null) {
            infoRecord = InfoRecord.obtain();
            this.mLayoutHolderMap.put(viewHolder, infoRecord);
        }
        infoRecord.flags |= 2;
        infoRecord.preInfo = itemHolderInfo;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isInPreLayout(RecyclerView.ViewHolder viewHolder) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        return (infoRecord == null || (infoRecord.flags & 4) == 0) ? false : true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public RecyclerView.ViewHolder getFromOldChangeHolders(long j) {
        return this.mOldChangedHolders.get(j);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addToPostLayout(RecyclerView.ViewHolder viewHolder, RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        if (infoRecord == null) {
            infoRecord = InfoRecord.obtain();
            this.mLayoutHolderMap.put(viewHolder, infoRecord);
        }
        infoRecord.postInfo = itemHolderInfo;
        infoRecord.flags |= 8;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addToDisappearedInLayout(RecyclerView.ViewHolder viewHolder) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        if (infoRecord == null) {
            infoRecord = InfoRecord.obtain();
            this.mLayoutHolderMap.put(viewHolder, infoRecord);
        }
        infoRecord.flags |= 1;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeFromDisappearedInLayout(RecyclerView.ViewHolder viewHolder) {
        InfoRecord infoRecord = this.mLayoutHolderMap.get(viewHolder);
        if (infoRecord == null) {
            return;
        }
        infoRecord.flags &= -2;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void process(ProcessCallback processCallback) {
        for (int size = this.mLayoutHolderMap.size() - 1; size >= 0; size--) {
            RecyclerView.ViewHolder keyAt = this.mLayoutHolderMap.keyAt(size);
            InfoRecord removeAt = this.mLayoutHolderMap.removeAt(size);
            int i = removeAt.flags;
            if ((i & 3) == 3) {
                processCallback.unused(keyAt);
            } else if ((i & 1) != 0) {
                RecyclerView.ItemAnimator.ItemHolderInfo itemHolderInfo = removeAt.preInfo;
                if (itemHolderInfo == null) {
                    processCallback.unused(keyAt);
                } else {
                    processCallback.processDisappeared(keyAt, itemHolderInfo, removeAt.postInfo);
                }
            } else if ((i & 14) == 14) {
                processCallback.processAppeared(keyAt, removeAt.preInfo, removeAt.postInfo);
            } else if ((i & 12) == 12) {
                processCallback.processPersistent(keyAt, removeAt.preInfo, removeAt.postInfo);
            } else if ((i & 4) != 0) {
                processCallback.processDisappeared(keyAt, removeAt.preInfo, null);
            } else if ((i & 8) != 0) {
                processCallback.processAppeared(keyAt, removeAt.preInfo, removeAt.postInfo);
            }
            InfoRecord.recycle(removeAt);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeViewHolder(RecyclerView.ViewHolder viewHolder) {
        int size = this.mOldChangedHolders.size() - 1;
        while (true) {
            if (size < 0) {
                break;
            }
            if (viewHolder == this.mOldChangedHolders.valueAt(size)) {
                this.mOldChangedHolders.removeAt(size);
                break;
            }
            size--;
        }
        InfoRecord remove = this.mLayoutHolderMap.remove(viewHolder);
        if (remove != null) {
            InfoRecord.recycle(remove);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void onDetach() {
        InfoRecord.drainCache();
    }

    public void onViewDetached(RecyclerView.ViewHolder viewHolder) {
        removeFromDisappearedInLayout(viewHolder);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class InfoRecord {
        static Pools$Pool<InfoRecord> sPool = new Pools$SimplePool(20);
        int flags;
        RecyclerView.ItemAnimator.ItemHolderInfo postInfo;
        RecyclerView.ItemAnimator.ItemHolderInfo preInfo;

        private InfoRecord() {
        }

        static InfoRecord obtain() {
            InfoRecord acquire = sPool.acquire();
            return acquire == null ? new InfoRecord() : acquire;
        }

        static void recycle(InfoRecord infoRecord) {
            infoRecord.flags = 0;
            infoRecord.preInfo = null;
            infoRecord.postInfo = null;
            sPool.release(infoRecord);
        }

        static void drainCache() {
            do {
            } while (sPool.acquire() != null);
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/RecyclerView.java** ###

package android.support.v7.widget;

import android.R;
import android.annotation.SuppressLint;
import android.content.Context;
import android.content.res.Resources;
import android.content.res.TypedArray;
import android.database.Observable;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.PointF;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.StateListDrawable;
import android.os.Build;
import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.os.SystemClock;
import android.support.v4.os.TraceCompat;
import android.support.v4.view.AbsSavedState;
import android.support.v4.view.MotionEventCompat;
import android.support.v4.view.NestedScrollingChild;
import android.support.v4.view.NestedScrollingChildHelper;
import android.support.v4.view.ViewCompat;
import android.support.v4.view.ViewConfigurationCompat;
import android.support.v4.view.accessibility.AccessibilityEventCompat;
import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;
import android.support.v7.recyclerview.R$dimen;
import android.support.v7.recyclerview.R$styleable;
import android.support.v7.widget.AdapterHelper;
import android.support.v7.widget.ChildHelper;
import android.support.v7.widget.GapWorker;
import android.support.v7.widget.ViewBoundsCheck;
import android.support.v7.widget.ViewInfoStore;
import android.util.AttributeSet;
import android.util.Log;
import android.util.SparseArray;
import android.view.Display;
import android.view.FocusFinder;
import android.view.MotionEvent;
import android.view.VelocityTracker;
import android.view.View;
import android.view.ViewConfiguration;
import android.view.ViewGroup;
import android.view.ViewParent;
import android.view.accessibility.AccessibilityEvent;
import android.view.accessibility.AccessibilityManager;
import android.view.animation.Interpolator;
import android.widget.EdgeEffect;
import android.widget.OverScroller;
import java.lang.ref.WeakReference;
import java.lang.reflect.Constructor;
import java.lang.reflect.InvocationTargetException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class RecyclerView extends ViewGroup implements NestedScrollingChild {
    static final boolean ALLOW_SIZE_IN_UNSPECIFIED_SPEC;
    private static final boolean ALLOW_THREAD_GAP_WORK;
    private static final int[] CLIP_TO_PADDING_ATTR;
    private static final boolean FORCE_ABS_FOCUS_SEARCH_DIRECTION;
    static final boolean FORCE_INVALIDATE_DISPLAY_LIST;
    private static final boolean IGNORE_DETACHED_FOCUSED_CHILD;
    private static final Class<?>[] LAYOUT_MANAGER_CONSTRUCTOR_SIGNATURE;
    private static final int[] NESTED_SCROLLING_ATTRS;
    static final boolean POST_UPDATES_ON_ANIMATION;
    static final Interpolator sQuinticInterpolator;
    RecyclerViewAccessibilityDelegate mAccessibilityDelegate;
    private final AccessibilityManager mAccessibilityManager;
    private OnItemTouchListener mActiveOnItemTouchListener;
    Adapter mAdapter;
    AdapterHelper mAdapterHelper;
    boolean mAdapterUpdateDuringMeasure;
    private EdgeEffect mBottomGlow;
    private ChildDrawingOrderCallback mChildDrawingOrderCallback;
    ChildHelper mChildHelper;
    boolean mClipToPadding;
    boolean mDataSetHasChangedAfterLayout;
    boolean mDispatchItemsChangedEvent;
    private int mDispatchScrollCounter;
    private int mEatenAccessibilityChangeFlags;
    private EdgeEffectFactory mEdgeEffectFactory;
    boolean mEnableFastScroller;
    boolean mFirstLayoutComplete;
    GapWorker mGapWorker;
    boolean mHasFixedSize;
    private boolean mIgnoreMotionEventTillDown;
    private int mInitialTouchX;
    private int mInitialTouchY;
    private int mInterceptRequestLayoutDepth;
    boolean mIsAttached;
    ItemAnimator mItemAnimator;
    private ItemAnimator.ItemAnimatorListener mItemAnimatorListener;
    private Runnable mItemAnimatorRunner;
    final ArrayList<ItemDecoration> mItemDecorations;
    boolean mItemsAddedOrRemoved;
    boolean mItemsChanged;
    private int mLastTouchX;
    private int mLastTouchY;
    LayoutManager mLayout;
    boolean mLayoutFrozen;
    private int mLayoutOrScrollCounter;
    boolean mLayoutWasDefered;
    private EdgeEffect mLeftGlow;
    private final int mMaxFlingVelocity;
    private final int mMinFlingVelocity;
    private final int[] mMinMaxLayoutPositions;
    private final int[] mNestedOffsets;
    private final RecyclerViewDataObserver mObserver;
    private List<OnChildAttachStateChangeListener> mOnChildAttachStateListeners;
    private OnFlingListener mOnFlingListener;
    private final ArrayList<OnItemTouchListener> mOnItemTouchListeners;
    final List<ViewHolder> mPendingAccessibilityImportanceChange;
    private SavedState mPendingSavedState;
    boolean mPostedAnimatorRunner;
    GapWorker.LayoutPrefetchRegistryImpl mPrefetchRegistry;
    private boolean mPreserveFocusAfterLayout;
    final Recycler mRecycler;
    RecyclerListener mRecyclerListener;
    private EdgeEffect mRightGlow;
    private float mScaledHorizontalScrollFactor;
    private float mScaledVerticalScrollFactor;
    private final int[] mScrollConsumed;
    private OnScrollListener mScrollListener;
    private List<OnScrollListener> mScrollListeners;
    private final int[] mScrollOffset;
    private int mScrollPointerId;
    private int mScrollState;
    private final int[] mScrollStepConsumed;
    private NestedScrollingChildHelper mScrollingChildHelper;
    final State mState;
    final Rect mTempRect;
    private final Rect mTempRect2;
    final RectF mTempRectF;
    private EdgeEffect mTopGlow;
    private int mTouchSlop;
    final Runnable mUpdateChildViewsRunnable;
    private VelocityTracker mVelocityTracker;
    final ViewFlinger mViewFlinger;
    private final ViewInfoStore.ProcessCallback mViewInfoProcessCallback;
    final ViewInfoStore mViewInfoStore;

    /* loaded from: /content/classes1.dex */
    public interface ChildDrawingOrderCallback {
        int onGetChildDrawingOrder(int i, int i2);
    }

    /* loaded from: /content/classes1.dex */
    public interface OnChildAttachStateChangeListener {
        void onChildViewAttachedToWindow(View view);

        void onChildViewDetachedFromWindow(View view);
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class OnFlingListener {
        public abstract boolean onFling(int i, int i2);
    }

    /* loaded from: /content/classes1.dex */
    public interface OnItemTouchListener {
        boolean onInterceptTouchEvent(RecyclerView recyclerView, MotionEvent motionEvent);

        void onRequestDisallowInterceptTouchEvent(boolean z);

        void onTouchEvent(RecyclerView recyclerView, MotionEvent motionEvent);
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class OnScrollListener {
        public void onScrollStateChanged(RecyclerView recyclerView, int i) {
        }

        public void onScrolled(RecyclerView recyclerView, int i, int i2) {
        }
    }

    /* loaded from: /content/classes1.dex */
    public interface RecyclerListener {
        void onViewRecycled(ViewHolder viewHolder);
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class ViewCacheExtension {
        public abstract View getViewForPositionAndType(Recycler recycler, int i, int i2);
    }

    public void onChildAttachedToWindow(View view) {
    }

    public void onChildDetachedFromWindow(View view) {
    }

    public void onScrollStateChanged(int i) {
    }

    public void onScrolled(int i, int i2) {
    }

    static {
        int i = Build.VERSION.SDK_INT;
        NESTED_SCROLLING_ATTRS = new int[]{R.attr.nestedScrollingEnabled};
        CLIP_TO_PADDING_ATTR = new int[]{R.attr.clipToPadding};
        FORCE_INVALIDATE_DISPLAY_LIST = i == 18 || i == 19 || i == 20;
        ALLOW_SIZE_IN_UNSPECIFIED_SPEC = i >= 23;
        POST_UPDATES_ON_ANIMATION = i >= 16;
        ALLOW_THREAD_GAP_WORK = i >= 21;
        FORCE_ABS_FOCUS_SEARCH_DIRECTION = i <= 15;
        IGNORE_DETACHED_FOCUSED_CHILD = i <= 15;
        Class<?> cls = Integer.TYPE;
        LAYOUT_MANAGER_CONSTRUCTOR_SIGNATURE = new Class[]{Context.class, AttributeSet.class, cls, cls};
        sQuinticInterpolator = new Interpolator() { // from class: android.support.v7.widget.RecyclerView.3
            @Override // android.animation.TimeInterpolator
            public float getInterpolation(float f) {
                float f2 = f - 1.0f;
                return (f2 * f2 * f2 * f2 * f2) + 1.0f;
            }
        };
    }

    public RecyclerView(Context context) {
        this(context, null);
    }

    public RecyclerView(Context context, AttributeSet attributeSet) {
        this(context, attributeSet, 0);
    }

    public RecyclerView(Context context, AttributeSet attributeSet, int i) {
        super(context, attributeSet, i);
        this.mObserver = new RecyclerViewDataObserver();
        this.mRecycler = new Recycler();
        this.mViewInfoStore = new ViewInfoStore();
        this.mUpdateChildViewsRunnable = new Runnable() { // from class: android.support.v7.widget.RecyclerView.1
            @Override // java.lang.Runnable
            public void run() {
                RecyclerView recyclerView = RecyclerView.this;
                if (!recyclerView.mFirstLayoutComplete || recyclerView.isLayoutRequested()) {
                    return;
                }
                RecyclerView recyclerView2 = RecyclerView.this;
                if (!recyclerView2.mIsAttached) {
                    recyclerView2.requestLayout();
                } else if (recyclerView2.mLayoutFrozen) {
                    recyclerView2.mLayoutWasDefered = true;
                } else {
                    recyclerView2.consumePendingUpdateOperations();
                }
            }
        };
        this.mTempRect = new Rect();
        this.mTempRect2 = new Rect();
        this.mTempRectF = new RectF();
        this.mItemDecorations = new ArrayList<>();
        this.mOnItemTouchListeners = new ArrayList<>();
        this.mInterceptRequestLayoutDepth = 0;
        this.mDataSetHasChangedAfterLayout = false;
        this.mDispatchItemsChangedEvent = false;
        this.mLayoutOrScrollCounter = 0;
        this.mDispatchScrollCounter = 0;
        this.mEdgeEffectFactory = new EdgeEffectFactory();
        this.mItemAnimator = new DefaultItemAnimator();
        this.mScrollState = 0;
        this.mScrollPointerId = -1;
        this.mScaledHorizontalScrollFactor = Float.MIN_VALUE;
        this.mScaledVerticalScrollFactor = Float.MIN_VALUE;
        boolean z = true;
        this.mPreserveFocusAfterLayout = true;
        this.mViewFlinger = new ViewFlinger();
        this.mPrefetchRegistry = ALLOW_THREAD_GAP_WORK ? new GapWorker.LayoutPrefetchRegistryImpl() : null;
        this.mState = new State();
        this.mItemsAddedOrRemoved = false;
        this.mItemsChanged = false;
        this.mItemAnimatorListener = new ItemAnimatorRestoreListener();
        this.mPostedAnimatorRunner = false;
        this.mMinMaxLayoutPositions = new int[2];
        this.mScrollOffset = new int[2];
        this.mScrollConsumed = new int[2];
        this.mNestedOffsets = new int[2];
        this.mScrollStepConsumed = new int[2];
        this.mPendingAccessibilityImportanceChange = new ArrayList();
        this.mItemAnimatorRunner = new Runnable() { // from class: android.support.v7.widget.RecyclerView.2
            @Override // java.lang.Runnable
            public void run() {
                ItemAnimator itemAnimator = RecyclerView.this.mItemAnimator;
                if (itemAnimator != null) {
                    itemAnimator.runPendingAnimations();
                }
                RecyclerView.this.mPostedAnimatorRunner = false;
            }
        };
        this.mViewInfoProcessCallback = new ViewInfoStore.ProcessCallback() { // from class: android.support.v7.widget.RecyclerView.4
            @Override // android.support.v7.widget.ViewInfoStore.ProcessCallback
            public void processDisappeared(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2) {
                RecyclerView.this.mRecycler.unscrapView(viewHolder);
                RecyclerView.this.animateDisappearance(viewHolder, itemHolderInfo, itemHolderInfo2);
            }

            @Override // android.support.v7.widget.ViewInfoStore.ProcessCallback
            public void processAppeared(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2) {
                RecyclerView.this.animateAppearance(viewHolder, itemHolderInfo, itemHolderInfo2);
            }

            @Override // android.support.v7.widget.ViewInfoStore.ProcessCallback
            public void processPersistent(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2) {
                viewHolder.setIsRecyclable(false);
                RecyclerView recyclerView = RecyclerView.this;
                if (recyclerView.mDataSetHasChangedAfterLayout) {
                    if (recyclerView.mItemAnimator.animateChange(viewHolder, viewHolder, itemHolderInfo, itemHolderInfo2)) {
                        RecyclerView.this.postAnimationRunner();
                    }
                } else if (recyclerView.mItemAnimator.animatePersistence(viewHolder, itemHolderInfo, itemHolderInfo2)) {
                    RecyclerView.this.postAnimationRunner();
                }
            }

            @Override // android.support.v7.widget.ViewInfoStore.ProcessCallback
            public void unused(ViewHolder viewHolder) {
                RecyclerView recyclerView = RecyclerView.this;
                recyclerView.mLayout.removeAndRecycleView(viewHolder.itemView, recyclerView.mRecycler);
            }
        };
        if (attributeSet != null) {
            TypedArray obtainStyledAttributes = context.obtainStyledAttributes(attributeSet, CLIP_TO_PADDING_ATTR, i, 0);
            this.mClipToPadding = obtainStyledAttributes.getBoolean(0, true);
            obtainStyledAttributes.recycle();
        } else {
            this.mClipToPadding = true;
        }
        setScrollContainer(true);
        setFocusableInTouchMode(true);
        ViewConfiguration viewConfiguration = ViewConfiguration.get(context);
        this.mTouchSlop = viewConfiguration.getScaledTouchSlop();
        this.mScaledHorizontalScrollFactor = ViewConfigurationCompat.getScaledHorizontalScrollFactor(viewConfiguration, context);
        this.mScaledVerticalScrollFactor = ViewConfigurationCompat.getScaledVerticalScrollFactor(viewConfiguration, context);
        this.mMinFlingVelocity = viewConfiguration.getScaledMinimumFlingVelocity();
        this.mMaxFlingVelocity = viewConfiguration.getScaledMaximumFlingVelocity();
        setWillNotDraw(getOverScrollMode() == 2);
        this.mItemAnimator.setListener(this.mItemAnimatorListener);
        initAdapterManager();
        initChildrenHelper();
        initAutofill();
        if (ViewCompat.getImportantForAccessibility(this) == 0) {
            ViewCompat.setImportantForAccessibility(this, 1);
        }
        this.mAccessibilityManager = (AccessibilityManager) getContext().getSystemService("accessibility");
        setAccessibilityDelegateCompat(new RecyclerViewAccessibilityDelegate(this));
        if (attributeSet != null) {
            TypedArray obtainStyledAttributes2 = context.obtainStyledAttributes(attributeSet, R$styleable.RecyclerView, i, 0);
            String string = obtainStyledAttributes2.getString(R$styleable.RecyclerView_layoutManager);
            if (obtainStyledAttributes2.getInt(R$styleable.RecyclerView_android_descendantFocusability, -1) == -1) {
                setDescendantFocusability(262144);
            }
            boolean z2 = obtainStyledAttributes2.getBoolean(R$styleable.RecyclerView_fastScrollEnabled, false);
            this.mEnableFastScroller = z2;
            if (z2) {
                initFastScroller((StateListDrawable) obtainStyledAttributes2.getDrawable(R$styleable.RecyclerView_fastScrollVerticalThumbDrawable), obtainStyledAttributes2.getDrawable(R$styleable.RecyclerView_fastScrollVerticalTrackDrawable), (StateListDrawable) obtainStyledAttributes2.getDrawable(R$styleable.RecyclerView_fastScrollHorizontalThumbDrawable), obtainStyledAttributes2.getDrawable(R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable));
            }
            obtainStyledAttributes2.recycle();
            createLayoutManager(context, string, attributeSet, i, 0);
            if (Build.VERSION.SDK_INT >= 21) {
                TypedArray obtainStyledAttributes3 = context.obtainStyledAttributes(attributeSet, NESTED_SCROLLING_ATTRS, i, 0);
                boolean z3 = obtainStyledAttributes3.getBoolean(0, true);
                obtainStyledAttributes3.recycle();
                z = z3;
            }
        } else {
            setDescendantFocusability(262144);
        }
        setNestedScrollingEnabled(z);
    }

    String exceptionLabel() {
        return " " + super.toString() + ", adapter:" + this.mAdapter + ", layout:" + this.mLayout + ", context:" + getContext();
    }

    @SuppressLint({"InlinedApi"})
    private void initAutofill() {
        if (ViewCompat.getImportantForAutofill(this) == 0) {
            ViewCompat.setImportantForAutofill(this, 8);
        }
    }

    public void setAccessibilityDelegateCompat(RecyclerViewAccessibilityDelegate recyclerViewAccessibilityDelegate) {
        this.mAccessibilityDelegate = recyclerViewAccessibilityDelegate;
        ViewCompat.setAccessibilityDelegate(this, recyclerViewAccessibilityDelegate);
    }

    private void createLayoutManager(Context context, String str, AttributeSet attributeSet, int i, int i2) {
        ClassLoader classLoader;
        Constructor constructor;
        if (str != null) {
            String trim = str.trim();
            if (trim.isEmpty()) {
                return;
            }
            String fullClassName = getFullClassName(context, trim);
            try {
                if (isInEditMode()) {
                    classLoader = getClass().getClassLoader();
                } else {
                    classLoader = context.getClassLoader();
                }
                Class<? extends U> asSubclass = classLoader.loadClass(fullClassName).asSubclass(LayoutManager.class);
                Object[] objArr = null;
                try {
                    constructor = asSubclass.getConstructor(LAYOUT_MANAGER_CONSTRUCTOR_SIGNATURE);
                    objArr = new Object[]{context, attributeSet, Integer.valueOf(i), Integer.valueOf(i2)};
                } catch (NoSuchMethodException e) {
                    try {
                        constructor = asSubclass.getConstructor(new Class[0]);
                    } catch (NoSuchMethodException e2) {
                        e2.initCause(e);
                        throw new IllegalStateException(attributeSet.getPositionDescription() + ": Error creating LayoutManager " + fullClassName, e2);
                    }
                }
                constructor.setAccessible(true);
                setLayoutManager((LayoutManager) constructor.newInstance(objArr));
            } catch (ClassCastException e3) {
                throw new IllegalStateException(attributeSet.getPositionDescription() + ": Class is not a LayoutManager " + fullClassName, e3);
            } catch (ClassNotFoundException e4) {
                throw new IllegalStateException(attributeSet.getPositionDescription() + ": Unable to find LayoutManager " + fullClassName, e4);
            } catch (IllegalAccessException e5) {
                throw new IllegalStateException(attributeSet.getPositionDescription() + ": Cannot access non-public constructor " + fullClassName, e5);
            } catch (InstantiationException e6) {
                throw new IllegalStateException(attributeSet.getPositionDescription() + ": Could not instantiate the LayoutManager: " + fullClassName, e6);
            } catch (InvocationTargetException e7) {
                throw new IllegalStateException(attributeSet.getPositionDescription() + ": Could not instantiate the LayoutManager: " + fullClassName, e7);
            }
        }
    }

    private String getFullClassName(Context context, String str) {
        if (str.charAt(0) == '.') {
            return context.getPackageName() + str;
        }
        if (str.contains(".")) {
            return str;
        }
        return RecyclerView.class.getPackage().getName() + '.' + str;
    }

    private void initChildrenHelper() {
        this.mChildHelper = new ChildHelper(new ChildHelper.Callback() { // from class: android.support.v7.widget.RecyclerView.5
            @Override // android.support.v7.widget.ChildHelper.Callback
            public int getChildCount() {
                return RecyclerView.this.getChildCount();
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void addView(View view, int i) {
                RecyclerView.this.addView(view, i);
                RecyclerView.this.dispatchChildAttached(view);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public int indexOfChild(View view) {
                return RecyclerView.this.indexOfChild(view);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void removeViewAt(int i) {
                View childAt = RecyclerView.this.getChildAt(i);
                if (childAt != null) {
                    RecyclerView.this.dispatchChildDetached(childAt);
                    childAt.clearAnimation();
                }
                RecyclerView.this.removeViewAt(i);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public View getChildAt(int i) {
                return RecyclerView.this.getChildAt(i);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void removeAllViews() {
                int childCount = getChildCount();
                for (int i = 0; i < childCount; i++) {
                    View childAt = getChildAt(i);
                    RecyclerView.this.dispatchChildDetached(childAt);
                    childAt.clearAnimation();
                }
                RecyclerView.this.removeAllViews();
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public ViewHolder getChildViewHolder(View view) {
                return RecyclerView.getChildViewHolderInt(view);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void attachViewToParent(View view, int i, ViewGroup.LayoutParams layoutParams) {
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
                if (childViewHolderInt != null) {
                    if (!childViewHolderInt.isTmpDetached() && !childViewHolderInt.shouldIgnore()) {
                        throw new IllegalArgumentException("Called attach on a child which is not detached: " + childViewHolderInt + RecyclerView.this.exceptionLabel());
                    }
                    childViewHolderInt.clearTmpDetachFlag();
                }
                RecyclerView.this.attachViewToParent(view, i, layoutParams);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void detachViewFromParent(int i) {
                ViewHolder childViewHolderInt;
                View childAt = getChildAt(i);
                if (childAt != null && (childViewHolderInt = RecyclerView.getChildViewHolderInt(childAt)) != null) {
                    if (childViewHolderInt.isTmpDetached() && !childViewHolderInt.shouldIgnore()) {
                        throw new IllegalArgumentException("called detach on an already detached child " + childViewHolderInt + RecyclerView.this.exceptionLabel());
                    }
                    childViewHolderInt.addFlags(256);
                }
                RecyclerView.this.detachViewFromParent(i);
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void onEnteredHiddenState(View view) {
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
                if (childViewHolderInt != null) {
                    childViewHolderInt.onEnteredHiddenState(RecyclerView.this);
                }
            }

            @Override // android.support.v7.widget.ChildHelper.Callback
            public void onLeftHiddenState(View view) {
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
                if (childViewHolderInt != null) {
                    childViewHolderInt.onLeftHiddenState(RecyclerView.this);
                }
            }
        });
    }

    void initAdapterManager() {
        this.mAdapterHelper = new AdapterHelper(new AdapterHelper.Callback() { // from class: android.support.v7.widget.RecyclerView.6
            @Override // android.support.v7.widget.AdapterHelper.Callback
            public ViewHolder findViewHolder(int i) {
                ViewHolder findViewHolderForPosition = RecyclerView.this.findViewHolderForPosition(i, true);
                if (findViewHolderForPosition == null || RecyclerView.this.mChildHelper.isHidden(findViewHolderForPosition.itemView)) {
                    return null;
                }
                return findViewHolderForPosition;
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void offsetPositionsForRemovingInvisible(int i, int i2) {
                RecyclerView.this.offsetPositionRecordsForRemove(i, i2, true);
                RecyclerView recyclerView = RecyclerView.this;
                recyclerView.mItemsAddedOrRemoved = true;
                recyclerView.mState.mDeletedInvisibleItemCountSincePreviousLayout += i2;
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void offsetPositionsForRemovingLaidOutOrNewView(int i, int i2) {
                RecyclerView.this.offsetPositionRecordsForRemove(i, i2, false);
                RecyclerView.this.mItemsAddedOrRemoved = true;
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void markViewHoldersUpdated(int i, int i2, Object obj) {
                RecyclerView.this.viewRangeUpdate(i, i2, obj);
                RecyclerView.this.mItemsChanged = true;
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void onDispatchFirstPass(AdapterHelper.UpdateOp updateOp) {
                dispatchUpdate(updateOp);
            }

            void dispatchUpdate(AdapterHelper.UpdateOp updateOp) {
                int i = updateOp.cmd;
                if (i == 1) {
                    RecyclerView recyclerView = RecyclerView.this;
                    recyclerView.mLayout.onItemsAdded(recyclerView, updateOp.positionStart, updateOp.itemCount);
                    return;
                }
                if (i == 2) {
                    RecyclerView recyclerView2 = RecyclerView.this;
                    recyclerView2.mLayout.onItemsRemoved(recyclerView2, updateOp.positionStart, updateOp.itemCount);
                } else if (i == 4) {
                    RecyclerView recyclerView3 = RecyclerView.this;
                    recyclerView3.mLayout.onItemsUpdated(recyclerView3, updateOp.positionStart, updateOp.itemCount, updateOp.payload);
                } else {
                    if (i != 8) {
                        return;
                    }
                    RecyclerView recyclerView4 = RecyclerView.this;
                    recyclerView4.mLayout.onItemsMoved(recyclerView4, updateOp.positionStart, updateOp.itemCount, 1);
                }
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void onDispatchSecondPass(AdapterHelper.UpdateOp updateOp) {
                dispatchUpdate(updateOp);
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void offsetPositionsForAdd(int i, int i2) {
                RecyclerView.this.offsetPositionRecordsForInsert(i, i2);
                RecyclerView.this.mItemsAddedOrRemoved = true;
            }

            @Override // android.support.v7.widget.AdapterHelper.Callback
            public void offsetPositionsForMove(int i, int i2) {
                RecyclerView.this.offsetPositionRecordsForMove(i, i2);
                RecyclerView.this.mItemsAddedOrRemoved = true;
            }
        });
    }

    @Override // android.view.ViewGroup
    public void setClipToPadding(boolean z) {
        if (z != this.mClipToPadding) {
            invalidateGlows();
        }
        this.mClipToPadding = z;
        super.setClipToPadding(z);
        if (this.mFirstLayoutComplete) {
            requestLayout();
        }
    }

    @Override // android.view.ViewGroup
    public boolean getClipToPadding() {
        return this.mClipToPadding;
    }

    public void setAdapter(Adapter adapter) {
        setLayoutFrozen(false);
        setAdapterInternal(adapter, false, true);
        processDataSetCompletelyChanged(false);
        requestLayout();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeAndRecycleViews() {
        ItemAnimator itemAnimator = this.mItemAnimator;
        if (itemAnimator != null) {
            itemAnimator.endAnimations();
        }
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.removeAndRecycleAllViews(this.mRecycler);
            this.mLayout.removeAndRecycleScrapInt(this.mRecycler);
        }
        this.mRecycler.clear();
    }

    private void setAdapterInternal(Adapter adapter, boolean z, boolean z2) {
        Adapter adapter2 = this.mAdapter;
        if (adapter2 != null) {
            adapter2.unregisterAdapterDataObserver(this.mObserver);
            this.mAdapter.onDetachedFromRecyclerView(this);
        }
        if (!z || z2) {
            removeAndRecycleViews();
        }
        this.mAdapterHelper.reset();
        Adapter adapter3 = this.mAdapter;
        this.mAdapter = adapter;
        if (adapter != null) {
            adapter.registerAdapterDataObserver(this.mObserver);
            adapter.onAttachedToRecyclerView(this);
        }
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.onAdapterChanged(adapter3, this.mAdapter);
        }
        this.mRecycler.onAdapterChanged(adapter3, this.mAdapter, z);
        this.mState.mStructureChanged = true;
    }

    public Adapter getAdapter() {
        return this.mAdapter;
    }

    @Override // android.view.View
    public int getBaseline() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            return layoutManager.getBaseline();
        }
        return super.getBaseline();
    }

    public void setLayoutManager(LayoutManager layoutManager) {
        if (layoutManager == this.mLayout) {
            return;
        }
        stopScroll();
        if (this.mLayout != null) {
            ItemAnimator itemAnimator = this.mItemAnimator;
            if (itemAnimator != null) {
                itemAnimator.endAnimations();
            }
            this.mLayout.removeAndRecycleAllViews(this.mRecycler);
            this.mLayout.removeAndRecycleScrapInt(this.mRecycler);
            this.mRecycler.clear();
            if (this.mIsAttached) {
                this.mLayout.dispatchDetachedFromWindow(this, this.mRecycler);
            }
            this.mLayout.setRecyclerView(null);
            this.mLayout = null;
        } else {
            this.mRecycler.clear();
        }
        this.mChildHelper.removeAllViewsUnfiltered();
        this.mLayout = layoutManager;
        if (layoutManager != null) {
            if (layoutManager.mRecyclerView != null) {
                throw new IllegalArgumentException("LayoutManager " + layoutManager + " is already attached to a RecyclerView:" + layoutManager.mRecyclerView.exceptionLabel());
            }
            layoutManager.setRecyclerView(this);
            if (this.mIsAttached) {
                this.mLayout.dispatchAttachedToWindow(this);
            }
        }
        this.mRecycler.updateViewCacheSize();
        requestLayout();
    }

    @Override // android.view.View
    protected Parcelable onSaveInstanceState() {
        SavedState savedState = new SavedState(super.onSaveInstanceState());
        SavedState savedState2 = this.mPendingSavedState;
        if (savedState2 != null) {
            savedState.copyFrom(savedState2);
        } else {
            LayoutManager layoutManager = this.mLayout;
            if (layoutManager != null) {
                savedState.mLayoutState = layoutManager.onSaveInstanceState();
            } else {
                savedState.mLayoutState = null;
            }
        }
        return savedState;
    }

    @Override // android.view.View
    protected void onRestoreInstanceState(Parcelable parcelable) {
        Parcelable parcelable2;
        if (!(parcelable instanceof SavedState)) {
            super.onRestoreInstanceState(parcelable);
            return;
        }
        SavedState savedState = (SavedState) parcelable;
        this.mPendingSavedState = savedState;
        super.onRestoreInstanceState(savedState.getSuperState());
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null || (parcelable2 = this.mPendingSavedState.mLayoutState) == null) {
            return;
        }
        layoutManager.onRestoreInstanceState(parcelable2);
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void dispatchSaveInstanceState(SparseArray<Parcelable> sparseArray) {
        dispatchFreezeSelfOnly(sparseArray);
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void dispatchRestoreInstanceState(SparseArray<Parcelable> sparseArray) {
        dispatchThawSelfOnly(sparseArray);
    }

    private void addAnimatingView(ViewHolder viewHolder) {
        View view = viewHolder.itemView;
        boolean z = view.getParent() == this;
        this.mRecycler.unscrapView(getChildViewHolder(view));
        if (viewHolder.isTmpDetached()) {
            this.mChildHelper.attachViewToParent(view, -1, view.getLayoutParams(), true);
        } else if (!z) {
            this.mChildHelper.addView(view, true);
        } else {
            this.mChildHelper.hide(view);
        }
    }

    boolean removeAnimatingView(View view) {
        startInterceptRequestLayout();
        boolean removeViewIfHidden = this.mChildHelper.removeViewIfHidden(view);
        if (removeViewIfHidden) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(view);
            this.mRecycler.unscrapView(childViewHolderInt);
            this.mRecycler.recycleViewHolderInternal(childViewHolderInt);
        }
        stopInterceptRequestLayout(!removeViewIfHidden);
        return removeViewIfHidden;
    }

    public LayoutManager getLayoutManager() {
        return this.mLayout;
    }

    public void setItemViewCacheSize(int i) {
        this.mRecycler.setViewCacheSize(i);
    }

    public int getScrollState() {
        return this.mScrollState;
    }

    void setScrollState(int i) {
        if (i == this.mScrollState) {
            return;
        }
        this.mScrollState = i;
        if (i != 2) {
            stopScrollersInternal();
        }
        dispatchOnScrollStateChanged(i);
    }

    public void addItemDecoration(ItemDecoration itemDecoration, int i) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.assertNotInLayoutOrScroll("Cannot add item decoration during a scroll  or layout");
        }
        if (this.mItemDecorations.isEmpty()) {
            setWillNotDraw(false);
        }
        if (i < 0) {
            this.mItemDecorations.add(itemDecoration);
        } else {
            this.mItemDecorations.add(i, itemDecoration);
        }
        markItemDecorInsetsDirty();
        requestLayout();
    }

    public void addItemDecoration(ItemDecoration itemDecoration) {
        addItemDecoration(itemDecoration, -1);
    }

    public void removeItemDecoration(ItemDecoration itemDecoration) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.assertNotInLayoutOrScroll("Cannot remove item decoration during a scroll  or layout");
        }
        this.mItemDecorations.remove(itemDecoration);
        if (this.mItemDecorations.isEmpty()) {
            setWillNotDraw(getOverScrollMode() == 2);
        }
        markItemDecorInsetsDirty();
        requestLayout();
    }

    public void addOnScrollListener(OnScrollListener onScrollListener) {
        if (this.mScrollListeners == null) {
            this.mScrollListeners = new ArrayList();
        }
        this.mScrollListeners.add(onScrollListener);
    }

    public void removeOnScrollListener(OnScrollListener onScrollListener) {
        List<OnScrollListener> list = this.mScrollListeners;
        if (list != null) {
            list.remove(onScrollListener);
        }
    }

    @Override // android.view.View
    public void scrollTo(int i, int i2) {
        Log.w("RecyclerView", "RecyclerView does not support scrolling to an absolute position. Use scrollToPosition instead");
    }

    @Override // android.view.View
    public void scrollBy(int i, int i2) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            Log.e("RecyclerView", "Cannot scroll without a LayoutManager set. Call setLayoutManager with a non-null argument.");
            return;
        }
        if (this.mLayoutFrozen) {
            return;
        }
        boolean canScrollHorizontally = layoutManager.canScrollHorizontally();
        boolean canScrollVertically = this.mLayout.canScrollVertically();
        if (canScrollHorizontally || canScrollVertically) {
            if (!canScrollHorizontally) {
                i = 0;
            }
            if (!canScrollVertically) {
                i2 = 0;
            }
            scrollByInternal(i, i2, null);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void scrollStep(int i, int i2, int[] iArr) {
        startInterceptRequestLayout();
        onEnterLayoutOrScroll();
        TraceCompat.beginSection("RV Scroll");
        fillRemainingScrollValues(this.mState);
        int scrollHorizontallyBy = i != 0 ? this.mLayout.scrollHorizontallyBy(i, this.mRecycler, this.mState) : 0;
        int scrollVerticallyBy = i2 != 0 ? this.mLayout.scrollVerticallyBy(i2, this.mRecycler, this.mState) : 0;
        TraceCompat.endSection();
        repositionShadowingViews();
        onExitLayoutOrScroll();
        stopInterceptRequestLayout(false);
        if (iArr != null) {
            iArr[0] = scrollHorizontallyBy;
            iArr[1] = scrollVerticallyBy;
        }
    }

    void consumePendingUpdateOperations() {
        if (!this.mFirstLayoutComplete || this.mDataSetHasChangedAfterLayout) {
            TraceCompat.beginSection("RV FullInvalidate");
            dispatchLayout();
            TraceCompat.endSection();
            return;
        }
        if (this.mAdapterHelper.hasPendingUpdates()) {
            if (this.mAdapterHelper.hasAnyUpdateTypes(4) && !this.mAdapterHelper.hasAnyUpdateTypes(11)) {
                TraceCompat.beginSection("RV PartialInvalidate");
                startInterceptRequestLayout();
                onEnterLayoutOrScroll();
                this.mAdapterHelper.preProcess();
                if (!this.mLayoutWasDefered) {
                    if (hasUpdatedView()) {
                        dispatchLayout();
                    } else {
                        this.mAdapterHelper.consumePostponedUpdates();
                    }
                }
                stopInterceptRequestLayout(true);
                onExitLayoutOrScroll();
                TraceCompat.endSection();
                return;
            }
            if (this.mAdapterHelper.hasPendingUpdates()) {
                TraceCompat.beginSection("RV FullInvalidate");
                dispatchLayout();
                TraceCompat.endSection();
            }
        }
    }

    private boolean hasUpdatedView() {
        int childCount = this.mChildHelper.getChildCount();
        for (int i = 0; i < childCount; i++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getChildAt(i));
            if (childViewHolderInt != null && !childViewHolderInt.shouldIgnore() && childViewHolderInt.isUpdated()) {
                return true;
            }
        }
        return false;
    }

    boolean scrollByInternal(int i, int i2, MotionEvent motionEvent) {
        int i3;
        int i4;
        int i5;
        int i6;
        consumePendingUpdateOperations();
        if (this.mAdapter != null) {
            scrollStep(i, i2, this.mScrollStepConsumed);
            int[] iArr = this.mScrollStepConsumed;
            int i7 = iArr[0];
            int i8 = iArr[1];
            i4 = i8;
            i5 = i7;
            i6 = i - i7;
            i3 = i2 - i8;
        } else {
            i3 = 0;
            i4 = 0;
            i5 = 0;
            i6 = 0;
        }
        if (!this.mItemDecorations.isEmpty()) {
            invalidate();
        }
        int i9 = i3;
        if (dispatchNestedScroll(i5, i4, i6, i3, this.mScrollOffset, 0)) {
            int i10 = this.mLastTouchX;
            int[] iArr2 = this.mScrollOffset;
            this.mLastTouchX = i10 - iArr2[0];
            this.mLastTouchY -= iArr2[1];
            if (motionEvent != null) {
                motionEvent.offsetLocation(iArr2[0], iArr2[1]);
            }
            int[] iArr3 = this.mNestedOffsets;
            int i11 = iArr3[0];
            int[] iArr4 = this.mScrollOffset;
            iArr3[0] = i11 + iArr4[0];
            iArr3[1] = iArr3[1] + iArr4[1];
        } else if (getOverScrollMode() != 2) {
            if (motionEvent != null && !MotionEventCompat.isFromSource(motionEvent, 8194)) {
                pullGlows(motionEvent.getX(), i6, motionEvent.getY(), i9);
            }
            considerReleasingGlowsOnScroll(i, i2);
        }
        if (i5 != 0 || i4 != 0) {
            dispatchOnScrolled(i5, i4);
        }
        if (!awakenScrollBars()) {
            invalidate();
        }
        return (i5 == 0 && i4 == 0) ? false : true;
    }

    @Override // android.view.View
    public int computeHorizontalScrollOffset() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollHorizontally()) {
            return this.mLayout.computeHorizontalScrollOffset(this.mState);
        }
        return 0;
    }

    @Override // android.view.View
    public int computeHorizontalScrollExtent() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollHorizontally()) {
            return this.mLayout.computeHorizontalScrollExtent(this.mState);
        }
        return 0;
    }

    @Override // android.view.View
    public int computeHorizontalScrollRange() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollHorizontally()) {
            return this.mLayout.computeHorizontalScrollRange(this.mState);
        }
        return 0;
    }

    @Override // android.view.View
    public int computeVerticalScrollOffset() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollVertically()) {
            return this.mLayout.computeVerticalScrollOffset(this.mState);
        }
        return 0;
    }

    @Override // android.view.View
    public int computeVerticalScrollExtent() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollVertically()) {
            return this.mLayout.computeVerticalScrollExtent(this.mState);
        }
        return 0;
    }

    @Override // android.view.View
    public int computeVerticalScrollRange() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null && layoutManager.canScrollVertically()) {
            return this.mLayout.computeVerticalScrollRange(this.mState);
        }
        return 0;
    }

    void startInterceptRequestLayout() {
        int i = this.mInterceptRequestLayoutDepth + 1;
        this.mInterceptRequestLayoutDepth = i;
        if (i != 1 || this.mLayoutFrozen) {
            return;
        }
        this.mLayoutWasDefered = false;
    }

    void stopInterceptRequestLayout(boolean z) {
        if (this.mInterceptRequestLayoutDepth < 1) {
            this.mInterceptRequestLayoutDepth = 1;
        }
        if (!z && !this.mLayoutFrozen) {
            this.mLayoutWasDefered = false;
        }
        if (this.mInterceptRequestLayoutDepth == 1) {
            if (z && this.mLayoutWasDefered && !this.mLayoutFrozen && this.mLayout != null && this.mAdapter != null) {
                dispatchLayout();
            }
            if (!this.mLayoutFrozen) {
                this.mLayoutWasDefered = false;
            }
        }
        this.mInterceptRequestLayoutDepth--;
    }

    public void setLayoutFrozen(boolean z) {
        if (z != this.mLayoutFrozen) {
            assertNotInLayoutOrScroll("Do not setLayoutFrozen in layout or scroll");
            if (!z) {
                this.mLayoutFrozen = false;
                if (this.mLayoutWasDefered && this.mLayout != null && this.mAdapter != null) {
                    requestLayout();
                }
                this.mLayoutWasDefered = false;
                return;
            }
            long uptimeMillis = SystemClock.uptimeMillis();
            onTouchEvent(MotionEvent.obtain(uptimeMillis, uptimeMillis, 3, 0.0f, 0.0f, 0));
            this.mLayoutFrozen = true;
            this.mIgnoreMotionEventTillDown = true;
            stopScroll();
        }
    }

    public void smoothScrollBy(int i, int i2) {
        smoothScrollBy(i, i2, null);
    }

    public void smoothScrollBy(int i, int i2, Interpolator interpolator) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            Log.e("RecyclerView", "Cannot smooth scroll without a LayoutManager set. Call setLayoutManager with a non-null argument.");
            return;
        }
        if (this.mLayoutFrozen) {
            return;
        }
        if (!layoutManager.canScrollHorizontally()) {
            i = 0;
        }
        if (!this.mLayout.canScrollVertically()) {
            i2 = 0;
        }
        if (i == 0 && i2 == 0) {
            return;
        }
        this.mViewFlinger.smoothScrollBy(i, i2, interpolator);
    }

    public boolean fling(int i, int i2) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            Log.e("RecyclerView", "Cannot fling without a LayoutManager set. Call setLayoutManager with a non-null argument.");
            return false;
        }
        if (this.mLayoutFrozen) {
            return false;
        }
        boolean canScrollHorizontally = layoutManager.canScrollHorizontally();
        boolean canScrollVertically = this.mLayout.canScrollVertically();
        if (!canScrollHorizontally || Math.abs(i) < this.mMinFlingVelocity) {
            i = 0;
        }
        if (!canScrollVertically || Math.abs(i2) < this.mMinFlingVelocity) {
            i2 = 0;
        }
        if (i == 0 && i2 == 0) {
            return false;
        }
        float f = i;
        float f2 = i2;
        if (!dispatchNestedPreFling(f, f2)) {
            boolean z = canScrollHorizontally || canScrollVertically;
            dispatchNestedFling(f, f2, z);
            OnFlingListener onFlingListener = this.mOnFlingListener;
            if (onFlingListener != null && onFlingListener.onFling(i, i2)) {
                return true;
            }
            if (z) {
                int i3 = canScrollHorizontally ? 1 : 0;
                if (canScrollVertically) {
                    i3 |= 2;
                }
                startNestedScroll(i3, 1);
                int i4 = this.mMaxFlingVelocity;
                int max = Math.max(-i4, Math.min(i, i4));
                int i5 = this.mMaxFlingVelocity;
                this.mViewFlinger.fling(max, Math.max(-i5, Math.min(i2, i5)));
                return true;
            }
        }
        return false;
    }

    public void stopScroll() {
        setScrollState(0);
        stopScrollersInternal();
    }

    private void stopScrollersInternal() {
        this.mViewFlinger.stop();
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.stopSmoothScroller();
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:17:0x0056  */
    /* JADX WARN: Removed duplicated region for block: B:7:0x0040  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void pullGlows(float r7, float r8, float r9, float r10) {
        /*
            r6 = this;
            r0 = 0
            int r1 = (r8 > r0 ? 1 : (r8 == r0 ? 0 : -1))
            r2 = 1065353216(0x3f800000, float:1.0)
            r3 = 1
            if (r1 >= 0) goto L21
            r6.ensureLeftGlow()
            android.widget.EdgeEffect r1 = r6.mLeftGlow
            float r4 = -r8
            int r5 = r6.getWidth()
            float r5 = (float) r5
            float r4 = r4 / r5
            int r5 = r6.getHeight()
            float r5 = (float) r5
            float r9 = r9 / r5
            float r9 = r2 - r9
            android.support.v4.widget.EdgeEffectCompat.onPull(r1, r4, r9)
        L1f:
            r9 = r3
            goto L3c
        L21:
            int r1 = (r8 > r0 ? 1 : (r8 == r0 ? 0 : -1))
            if (r1 <= 0) goto L3b
            r6.ensureRightGlow()
            android.widget.EdgeEffect r1 = r6.mRightGlow
            int r4 = r6.getWidth()
            float r4 = (float) r4
            float r4 = r8 / r4
            int r5 = r6.getHeight()
            float r5 = (float) r5
            float r9 = r9 / r5
            android.support.v4.widget.EdgeEffectCompat.onPull(r1, r4, r9)
            goto L1f
        L3b:
            r9 = 0
        L3c:
            int r1 = (r10 > r0 ? 1 : (r10 == r0 ? 0 : -1))
            if (r1 >= 0) goto L56
            r6.ensureTopGlow()
            android.widget.EdgeEffect r9 = r6.mTopGlow
            float r1 = -r10
            int r2 = r6.getHeight()
            float r2 = (float) r2
            float r1 = r1 / r2
            int r2 = r6.getWidth()
            float r2 = (float) r2
            float r7 = r7 / r2
            android.support.v4.widget.EdgeEffectCompat.onPull(r9, r1, r7)
            goto L72
        L56:
            int r1 = (r10 > r0 ? 1 : (r10 == r0 ? 0 : -1))
            if (r1 <= 0) goto L71
            r6.ensureBottomGlow()
            android.widget.EdgeEffect r9 = r6.mBottomGlow
            int r1 = r6.getHeight()
            float r1 = (float) r1
            float r1 = r10 / r1
            int r4 = r6.getWidth()
            float r4 = (float) r4
            float r7 = r7 / r4
            float r2 = r2 - r7
            android.support.v4.widget.EdgeEffectCompat.onPull(r9, r1, r2)
            goto L72
        L71:
            r3 = r9
        L72:
            if (r3 != 0) goto L7c
            int r7 = (r8 > r0 ? 1 : (r8 == r0 ? 0 : -1))
            if (r7 != 0) goto L7c
            int r7 = (r10 > r0 ? 1 : (r10 == r0 ? 0 : -1))
            if (r7 == 0) goto L7f
        L7c:
            android.support.v4.view.ViewCompat.postInvalidateOnAnimation(r6)
        L7f:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.pullGlows(float, float, float, float):void");
    }

    private void releaseGlows() {
        boolean z;
        EdgeEffect edgeEffect = this.mLeftGlow;
        if (edgeEffect != null) {
            edgeEffect.onRelease();
            z = this.mLeftGlow.isFinished();
        } else {
            z = false;
        }
        EdgeEffect edgeEffect2 = this.mTopGlow;
        if (edgeEffect2 != null) {
            edgeEffect2.onRelease();
            z |= this.mTopGlow.isFinished();
        }
        EdgeEffect edgeEffect3 = this.mRightGlow;
        if (edgeEffect3 != null) {
            edgeEffect3.onRelease();
            z |= this.mRightGlow.isFinished();
        }
        EdgeEffect edgeEffect4 = this.mBottomGlow;
        if (edgeEffect4 != null) {
            edgeEffect4.onRelease();
            z |= this.mBottomGlow.isFinished();
        }
        if (z) {
            ViewCompat.postInvalidateOnAnimation(this);
        }
    }

    void considerReleasingGlowsOnScroll(int i, int i2) {
        boolean z;
        EdgeEffect edgeEffect = this.mLeftGlow;
        if (edgeEffect == null || edgeEffect.isFinished() || i <= 0) {
            z = false;
        } else {
            this.mLeftGlow.onRelease();
            z = this.mLeftGlow.isFinished();
        }
        EdgeEffect edgeEffect2 = this.mRightGlow;
        if (edgeEffect2 != null && !edgeEffect2.isFinished() && i < 0) {
            this.mRightGlow.onRelease();
            z |= this.mRightGlow.isFinished();
        }
        EdgeEffect edgeEffect3 = this.mTopGlow;
        if (edgeEffect3 != null && !edgeEffect3.isFinished() && i2 > 0) {
            this.mTopGlow.onRelease();
            z |= this.mTopGlow.isFinished();
        }
        EdgeEffect edgeEffect4 = this.mBottomGlow;
        if (edgeEffect4 != null && !edgeEffect4.isFinished() && i2 < 0) {
            this.mBottomGlow.onRelease();
            z |= this.mBottomGlow.isFinished();
        }
        if (z) {
            ViewCompat.postInvalidateOnAnimation(this);
        }
    }

    void absorbGlows(int i, int i2) {
        if (i < 0) {
            ensureLeftGlow();
            this.mLeftGlow.onAbsorb(-i);
        } else if (i > 0) {
            ensureRightGlow();
            this.mRightGlow.onAbsorb(i);
        }
        if (i2 < 0) {
            ensureTopGlow();
            this.mTopGlow.onAbsorb(-i2);
        } else if (i2 > 0) {
            ensureBottomGlow();
            this.mBottomGlow.onAbsorb(i2);
        }
        if (i == 0 && i2 == 0) {
            return;
        }
        ViewCompat.postInvalidateOnAnimation(this);
    }

    void ensureLeftGlow() {
        if (this.mLeftGlow != null) {
            return;
        }
        EdgeEffect createEdgeEffect = this.mEdgeEffectFactory.createEdgeEffect(this, 0);
        this.mLeftGlow = createEdgeEffect;
        if (this.mClipToPadding) {
            createEdgeEffect.setSize((getMeasuredHeight() - getPaddingTop()) - getPaddingBottom(), (getMeasuredWidth() - getPaddingLeft()) - getPaddingRight());
        } else {
            createEdgeEffect.setSize(getMeasuredHeight(), getMeasuredWidth());
        }
    }

    void ensureRightGlow() {
        if (this.mRightGlow != null) {
            return;
        }
        EdgeEffect createEdgeEffect = this.mEdgeEffectFactory.createEdgeEffect(this, 2);
        this.mRightGlow = createEdgeEffect;
        if (this.mClipToPadding) {
            createEdgeEffect.setSize((getMeasuredHeight() - getPaddingTop()) - getPaddingBottom(), (getMeasuredWidth() - getPaddingLeft()) - getPaddingRight());
        } else {
            createEdgeEffect.setSize(getMeasuredHeight(), getMeasuredWidth());
        }
    }

    void ensureTopGlow() {
        if (this.mTopGlow != null) {
            return;
        }
        EdgeEffect createEdgeEffect = this.mEdgeEffectFactory.createEdgeEffect(this, 1);
        this.mTopGlow = createEdgeEffect;
        if (this.mClipToPadding) {
            createEdgeEffect.setSize((getMeasuredWidth() - getPaddingLeft()) - getPaddingRight(), (getMeasuredHeight() - getPaddingTop()) - getPaddingBottom());
        } else {
            createEdgeEffect.setSize(getMeasuredWidth(), getMeasuredHeight());
        }
    }

    void ensureBottomGlow() {
        if (this.mBottomGlow != null) {
            return;
        }
        EdgeEffect createEdgeEffect = this.mEdgeEffectFactory.createEdgeEffect(this, 3);
        this.mBottomGlow = createEdgeEffect;
        if (this.mClipToPadding) {
            createEdgeEffect.setSize((getMeasuredWidth() - getPaddingLeft()) - getPaddingRight(), (getMeasuredHeight() - getPaddingTop()) - getPaddingBottom());
        } else {
            createEdgeEffect.setSize(getMeasuredWidth(), getMeasuredHeight());
        }
    }

    void invalidateGlows() {
        this.mBottomGlow = null;
        this.mTopGlow = null;
        this.mRightGlow = null;
        this.mLeftGlow = null;
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public View focusSearch(View view, int i) {
        View view2;
        boolean z;
        View onInterceptFocusSearch = this.mLayout.onInterceptFocusSearch(view, i);
        if (onInterceptFocusSearch != null) {
            return onInterceptFocusSearch;
        }
        boolean z2 = (this.mAdapter == null || this.mLayout == null || isComputingLayout() || this.mLayoutFrozen) ? false : true;
        FocusFinder focusFinder = FocusFinder.getInstance();
        if (z2 && (i == 2 || i == 1)) {
            if (this.mLayout.canScrollVertically()) {
                int i2 = i == 2 ? 130 : 33;
                z = focusFinder.findNextFocus(this, view, i2) == null;
                if (FORCE_ABS_FOCUS_SEARCH_DIRECTION) {
                    i = i2;
                }
            } else {
                z = false;
            }
            if (!z && this.mLayout.canScrollHorizontally()) {
                int i3 = (this.mLayout.getLayoutDirection() == 1) ^ (i == 2) ? 66 : 17;
                boolean z3 = focusFinder.findNextFocus(this, view, i3) == null;
                if (FORCE_ABS_FOCUS_SEARCH_DIRECTION) {
                    i = i3;
                }
                z = z3;
            }
            if (z) {
                consumePendingUpdateOperations();
                if (findContainingItemView(view) == null) {
                    return null;
                }
                startInterceptRequestLayout();
                this.mLayout.onFocusSearchFailed(view, i, this.mRecycler, this.mState);
                stopInterceptRequestLayout(false);
            }
            view2 = focusFinder.findNextFocus(this, view, i);
        } else {
            View findNextFocus = focusFinder.findNextFocus(this, view, i);
            if (findNextFocus == null && z2) {
                consumePendingUpdateOperations();
                if (findContainingItemView(view) == null) {
                    return null;
                }
                startInterceptRequestLayout();
                view2 = this.mLayout.onFocusSearchFailed(view, i, this.mRecycler, this.mState);
                stopInterceptRequestLayout(false);
            } else {
                view2 = findNextFocus;
            }
        }
        if (view2 == null || view2.hasFocusable()) {
            return isPreferredNextFocus(view, view2, i) ? view2 : super.focusSearch(view, i);
        }
        if (getFocusedChild() == null) {
            return super.focusSearch(view, i);
        }
        requestChildOnScreen(view2, null);
        return view;
    }

    private boolean isPreferredNextFocus(View view, View view2, int i) {
        int i2;
        if (view2 == null || view2 == this || findContainingItemView(view2) == null) {
            return false;
        }
        if (view == null || findContainingItemView(view) == null) {
            return true;
        }
        this.mTempRect.set(0, 0, view.getWidth(), view.getHeight());
        this.mTempRect2.set(0, 0, view2.getWidth(), view2.getHeight());
        offsetDescendantRectToMyCoords(view, this.mTempRect);
        offsetDescendantRectToMyCoords(view2, this.mTempRect2);
        char c = 65535;
        int i3 = this.mLayout.getLayoutDirection() == 1 ? -1 : 1;
        Rect rect = this.mTempRect;
        int i4 = rect.left;
        int i5 = this.mTempRect2.left;
        if ((i4 < i5 || rect.right <= i5) && this.mTempRect.right < this.mTempRect2.right) {
            i2 = 1;
        } else {
            Rect rect2 = this.mTempRect;
            int i6 = rect2.right;
            int i7 = this.mTempRect2.right;
            i2 = ((i6 > i7 || rect2.left >= i7) && this.mTempRect.left > this.mTempRect2.left) ? -1 : 0;
        }
        Rect rect3 = this.mTempRect;
        int i8 = rect3.top;
        int i9 = this.mTempRect2.top;
        if ((i8 < i9 || rect3.bottom <= i9) && this.mTempRect.bottom < this.mTempRect2.bottom) {
            c = 1;
        } else {
            Rect rect4 = this.mTempRect;
            int i10 = rect4.bottom;
            int i11 = this.mTempRect2.bottom;
            if ((i10 <= i11 && rect4.top < i11) || this.mTempRect.top <= this.mTempRect2.top) {
                c = 0;
            }
        }
        if (i == 1) {
            return c < 0 || (c == 0 && i2 * i3 <= 0);
        }
        if (i == 2) {
            return c > 0 || (c == 0 && i2 * i3 >= 0);
        }
        if (i == 17) {
            return i2 < 0;
        }
        if (i == 33) {
            return c < 0;
        }
        if (i == 66) {
            return i2 > 0;
        }
        if (i == 130) {
            return c > 0;
        }
        throw new IllegalArgumentException("Invalid direction: " + i + exceptionLabel());
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public void requestChildFocus(View view, View view2) {
        if (!this.mLayout.onRequestChildFocus(this, this.mState, view, view2) && view2 != null) {
            requestChildOnScreen(view, view2);
        }
        super.requestChildFocus(view, view2);
    }

    private void requestChildOnScreen(View view, View view2) {
        View view3 = view2 != null ? view2 : view;
        this.mTempRect.set(0, 0, view3.getWidth(), view3.getHeight());
        ViewGroup.LayoutParams layoutParams = view3.getLayoutParams();
        if (layoutParams instanceof LayoutParams) {
            LayoutParams layoutParams2 = (LayoutParams) layoutParams;
            if (!layoutParams2.mInsetsDirty) {
                Rect rect = layoutParams2.mDecorInsets;
                Rect rect2 = this.mTempRect;
                rect2.left -= rect.left;
                rect2.right += rect.right;
                rect2.top -= rect.top;
                rect2.bottom += rect.bottom;
            }
        }
        if (view2 != null) {
            offsetDescendantRectToMyCoords(view2, this.mTempRect);
            offsetRectIntoDescendantCoords(view, this.mTempRect);
        }
        this.mLayout.requestChildRectangleOnScreen(this, view, this.mTempRect, !this.mFirstLayoutComplete, view2 == null);
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public boolean requestChildRectangleOnScreen(View view, Rect rect, boolean z) {
        return this.mLayout.requestChildRectangleOnScreen(this, view, rect, z);
    }

    @Override // android.view.ViewGroup, android.view.View
    public void addFocusables(ArrayList<View> arrayList, int i, int i2) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null || !layoutManager.onAddFocusables(this, arrayList, i, i2)) {
            super.addFocusables(arrayList, i, i2);
        }
    }

    @Override // android.view.ViewGroup
    protected boolean onRequestFocusInDescendants(int i, Rect rect) {
        if (isComputingLayout()) {
            return false;
        }
        return super.onRequestFocusInDescendants(i, rect);
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void onAttachedToWindow() {
        super.onAttachedToWindow();
        this.mLayoutOrScrollCounter = 0;
        this.mIsAttached = true;
        this.mFirstLayoutComplete = this.mFirstLayoutComplete && !isLayoutRequested();
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.dispatchAttachedToWindow(this);
        }
        this.mPostedAnimatorRunner = false;
        if (ALLOW_THREAD_GAP_WORK) {
            GapWorker gapWorker = GapWorker.sGapWorker.get();
            this.mGapWorker = gapWorker;
            if (gapWorker == null) {
                this.mGapWorker = new GapWorker();
                Display display = ViewCompat.getDisplay(this);
                float f = 60.0f;
                if (!isInEditMode() && display != null) {
                    float refreshRate = display.getRefreshRate();
                    if (refreshRate >= 30.0f) {
                        f = refreshRate;
                    }
                }
                GapWorker gapWorker2 = this.mGapWorker;
                gapWorker2.mFrameIntervalNs = 1.0E9f / f;
                GapWorker.sGapWorker.set(gapWorker2);
            }
            this.mGapWorker.add(this);
        }
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void onDetachedFromWindow() {
        GapWorker gapWorker;
        super.onDetachedFromWindow();
        ItemAnimator itemAnimator = this.mItemAnimator;
        if (itemAnimator != null) {
            itemAnimator.endAnimations();
        }
        stopScroll();
        this.mIsAttached = false;
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.dispatchDetachedFromWindow(this, this.mRecycler);
        }
        this.mPendingAccessibilityImportanceChange.clear();
        removeCallbacks(this.mItemAnimatorRunner);
        this.mViewInfoStore.onDetach();
        if (!ALLOW_THREAD_GAP_WORK || (gapWorker = this.mGapWorker) == null) {
            return;
        }
        gapWorker.remove(this);
        this.mGapWorker = null;
    }

    @Override // android.view.View
    public boolean isAttachedToWindow() {
        return this.mIsAttached;
    }

    void assertNotInLayoutOrScroll(String str) {
        if (isComputingLayout()) {
            if (str == null) {
                throw new IllegalStateException("Cannot call this method while RecyclerView is computing a layout or scrolling" + exceptionLabel());
            }
            throw new IllegalStateException(str);
        }
        if (this.mDispatchScrollCounter > 0) {
            Log.w("RecyclerView", "Cannot call this method in a scroll callback. Scroll callbacks mightbe run during a measure & layout pass where you cannot change theRecyclerView data. Any method call that might change the structureof the RecyclerView or the adapter contents should be postponed tothe next frame.", new IllegalStateException("" + exceptionLabel()));
        }
    }

    public void addOnItemTouchListener(OnItemTouchListener onItemTouchListener) {
        this.mOnItemTouchListeners.add(onItemTouchListener);
    }

    public void removeOnItemTouchListener(OnItemTouchListener onItemTouchListener) {
        this.mOnItemTouchListeners.remove(onItemTouchListener);
        if (this.mActiveOnItemTouchListener == onItemTouchListener) {
            this.mActiveOnItemTouchListener = null;
        }
    }

    private boolean dispatchOnItemTouchIntercept(MotionEvent motionEvent) {
        int action = motionEvent.getAction();
        if (action == 3 || action == 0) {
            this.mActiveOnItemTouchListener = null;
        }
        int size = this.mOnItemTouchListeners.size();
        for (int i = 0; i < size; i++) {
            OnItemTouchListener onItemTouchListener = this.mOnItemTouchListeners.get(i);
            if (onItemTouchListener.onInterceptTouchEvent(this, motionEvent) && action != 3) {
                this.mActiveOnItemTouchListener = onItemTouchListener;
                return true;
            }
        }
        return false;
    }

    private boolean dispatchOnItemTouch(MotionEvent motionEvent) {
        int action = motionEvent.getAction();
        OnItemTouchListener onItemTouchListener = this.mActiveOnItemTouchListener;
        if (onItemTouchListener != null) {
            if (action == 0) {
                this.mActiveOnItemTouchListener = null;
            } else {
                onItemTouchListener.onTouchEvent(this, motionEvent);
                if (action == 3 || action == 1) {
                    this.mActiveOnItemTouchListener = null;
                }
                return true;
            }
        }
        if (action != 0) {
            int size = this.mOnItemTouchListeners.size();
            for (int i = 0; i < size; i++) {
                OnItemTouchListener onItemTouchListener2 = this.mOnItemTouchListeners.get(i);
                if (onItemTouchListener2.onInterceptTouchEvent(this, motionEvent)) {
                    this.mActiveOnItemTouchListener = onItemTouchListener2;
                    return true;
                }
            }
        }
        return false;
    }

    @Override // android.view.ViewGroup
    public boolean onInterceptTouchEvent(MotionEvent motionEvent) {
        boolean z;
        if (this.mLayoutFrozen) {
            return false;
        }
        if (dispatchOnItemTouchIntercept(motionEvent)) {
            cancelTouch();
            return true;
        }
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            return false;
        }
        boolean canScrollHorizontally = layoutManager.canScrollHorizontally();
        boolean canScrollVertically = this.mLayout.canScrollVertically();
        if (this.mVelocityTracker == null) {
            this.mVelocityTracker = VelocityTracker.obtain();
        }
        this.mVelocityTracker.addMovement(motionEvent);
        int actionMasked = motionEvent.getActionMasked();
        int actionIndex = motionEvent.getActionIndex();
        if (actionMasked == 0) {
            if (this.mIgnoreMotionEventTillDown) {
                this.mIgnoreMotionEventTillDown = false;
            }
            this.mScrollPointerId = motionEvent.getPointerId(0);
            int x = (int) (motionEvent.getX() + 0.5f);
            this.mLastTouchX = x;
            this.mInitialTouchX = x;
            int y = (int) (motionEvent.getY() + 0.5f);
            this.mLastTouchY = y;
            this.mInitialTouchY = y;
            if (this.mScrollState == 2) {
                getParent().requestDisallowInterceptTouchEvent(true);
                setScrollState(1);
            }
            int[] iArr = this.mNestedOffsets;
            iArr[1] = 0;
            iArr[0] = 0;
            int i = canScrollHorizontally ? 1 : 0;
            if (canScrollVertically) {
                i |= 2;
            }
            startNestedScroll(i, 0);
        } else if (actionMasked == 1) {
            this.mVelocityTracker.clear();
            stopNestedScroll(0);
        } else if (actionMasked == 2) {
            int findPointerIndex = motionEvent.findPointerIndex(this.mScrollPointerId);
            if (findPointerIndex < 0) {
                Log.e("RecyclerView", "Error processing scroll; pointer index for id " + this.mScrollPointerId + " not found. Did any MotionEvents get skipped?");
                return false;
            }
            int x2 = (int) (motionEvent.getX(findPointerIndex) + 0.5f);
            int y2 = (int) (motionEvent.getY(findPointerIndex) + 0.5f);
            if (this.mScrollState != 1) {
                int i2 = x2 - this.mInitialTouchX;
                int i3 = y2 - this.mInitialTouchY;
                if (!canScrollHorizontally || Math.abs(i2) <= this.mTouchSlop) {
                    z = false;
                } else {
                    this.mLastTouchX = x2;
                    z = true;
                }
                if (canScrollVertically && Math.abs(i3) > this.mTouchSlop) {
                    this.mLastTouchY = y2;
                    z = true;
                }
                if (z) {
                    setScrollState(1);
                }
            }
        } else if (actionMasked == 3) {
            cancelTouch();
        } else if (actionMasked == 5) {
            this.mScrollPointerId = motionEvent.getPointerId(actionIndex);
            int x3 = (int) (motionEvent.getX(actionIndex) + 0.5f);
            this.mLastTouchX = x3;
            this.mInitialTouchX = x3;
            int y3 = (int) (motionEvent.getY(actionIndex) + 0.5f);
            this.mLastTouchY = y3;
            this.mInitialTouchY = y3;
        } else if (actionMasked == 6) {
            onPointerUp(motionEvent);
        }
        return this.mScrollState == 1;
    }

    @Override // android.view.ViewGroup, android.view.ViewParent
    public void requestDisallowInterceptTouchEvent(boolean z) {
        int size = this.mOnItemTouchListeners.size();
        for (int i = 0; i < size; i++) {
            this.mOnItemTouchListeners.get(i).onRequestDisallowInterceptTouchEvent(z);
        }
        super.requestDisallowInterceptTouchEvent(z);
    }

    /* JADX WARN: Removed duplicated region for block: B:53:0x010c  */
    /* JADX WARN: Removed duplicated region for block: B:60:0x011c  */
    @Override // android.view.View
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public boolean onTouchEvent(android.view.MotionEvent r15) {
        /*
            Method dump skipped, instructions count: 457
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.onTouchEvent(android.view.MotionEvent):boolean");
    }

    private void resetTouch() {
        VelocityTracker velocityTracker = this.mVelocityTracker;
        if (velocityTracker != null) {
            velocityTracker.clear();
        }
        stopNestedScroll(0);
        releaseGlows();
    }

    private void cancelTouch() {
        resetTouch();
        setScrollState(0);
    }

    private void onPointerUp(MotionEvent motionEvent) {
        int actionIndex = motionEvent.getActionIndex();
        if (motionEvent.getPointerId(actionIndex) == this.mScrollPointerId) {
            int i = actionIndex == 0 ? 1 : 0;
            this.mScrollPointerId = motionEvent.getPointerId(i);
            int x = (int) (motionEvent.getX(i) + 0.5f);
            this.mLastTouchX = x;
            this.mInitialTouchX = x;
            int y = (int) (motionEvent.getY(i) + 0.5f);
            this.mLastTouchY = y;
            this.mInitialTouchY = y;
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:20:0x0068  */
    @Override // android.view.View
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public boolean onGenericMotionEvent(android.view.MotionEvent r6) {
        /*
            r5 = this;
            android.support.v7.widget.RecyclerView$LayoutManager r0 = r5.mLayout
            r1 = 0
            if (r0 != 0) goto L6
            return r1
        L6:
            boolean r0 = r5.mLayoutFrozen
            if (r0 == 0) goto Lb
            return r1
        Lb:
            int r0 = r6.getAction()
            r2 = 8
            if (r0 != r2) goto L77
            int r0 = r6.getSource()
            r0 = r0 & 2
            r2 = 0
            if (r0 == 0) goto L3e
            android.support.v7.widget.RecyclerView$LayoutManager r0 = r5.mLayout
            boolean r0 = r0.canScrollVertically()
            if (r0 == 0) goto L2c
            r0 = 9
            float r0 = r6.getAxisValue(r0)
            float r0 = -r0
            goto L2d
        L2c:
            r0 = r2
        L2d:
            android.support.v7.widget.RecyclerView$LayoutManager r3 = r5.mLayout
            boolean r3 = r3.canScrollHorizontally()
            if (r3 == 0) goto L3c
            r3 = 10
            float r3 = r6.getAxisValue(r3)
            goto L64
        L3c:
            r3 = r2
            goto L64
        L3e:
            int r0 = r6.getSource()
            r3 = 4194304(0x400000, float:5.877472E-39)
            r0 = r0 & r3
            if (r0 == 0) goto L62
            r0 = 26
            float r0 = r6.getAxisValue(r0)
            android.support.v7.widget.RecyclerView$LayoutManager r3 = r5.mLayout
            boolean r3 = r3.canScrollVertically()
            if (r3 == 0) goto L57
            float r0 = -r0
            goto L3c
        L57:
            android.support.v7.widget.RecyclerView$LayoutManager r3 = r5.mLayout
            boolean r3 = r3.canScrollHorizontally()
            if (r3 == 0) goto L62
            r3 = r0
            r0 = r2
            goto L64
        L62:
            r0 = r2
            r3 = r0
        L64:
            int r4 = (r0 > r2 ? 1 : (r0 == r2 ? 0 : -1))
            if (r4 != 0) goto L6c
            int r2 = (r3 > r2 ? 1 : (r3 == r2 ? 0 : -1))
            if (r2 == 0) goto L77
        L6c:
            float r2 = r5.mScaledHorizontalScrollFactor
            float r3 = r3 * r2
            int r2 = (int) r3
            float r3 = r5.mScaledVerticalScrollFactor
            float r0 = r0 * r3
            int r0 = (int) r0
            r5.scrollByInternal(r2, r0, r6)
        L77:
            return r1
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.onGenericMotionEvent(android.view.MotionEvent):boolean");
    }

    @Override // android.view.View
    protected void onMeasure(int i, int i2) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            defaultOnMeasure(i, i2);
            return;
        }
        boolean z = false;
        if (layoutManager.isAutoMeasureEnabled()) {
            int mode = View.MeasureSpec.getMode(i);
            int mode2 = View.MeasureSpec.getMode(i2);
            this.mLayout.onMeasure(this.mRecycler, this.mState, i, i2);
            if (mode == 1073741824 && mode2 == 1073741824) {
                z = true;
            }
            if (z || this.mAdapter == null) {
                return;
            }
            if (this.mState.mLayoutStep == 1) {
                dispatchLayoutStep1();
            }
            this.mLayout.setMeasureSpecs(i, i2);
            this.mState.mIsMeasuring = true;
            dispatchLayoutStep2();
            this.mLayout.setMeasuredDimensionFromChildren(i, i2);
            if (this.mLayout.shouldMeasureTwice()) {
                this.mLayout.setMeasureSpecs(View.MeasureSpec.makeMeasureSpec(getMeasuredWidth(), 1073741824), View.MeasureSpec.makeMeasureSpec(getMeasuredHeight(), 1073741824));
                this.mState.mIsMeasuring = true;
                dispatchLayoutStep2();
                this.mLayout.setMeasuredDimensionFromChildren(i, i2);
                return;
            }
            return;
        }
        if (this.mHasFixedSize) {
            this.mLayout.onMeasure(this.mRecycler, this.mState, i, i2);
            return;
        }
        if (this.mAdapterUpdateDuringMeasure) {
            startInterceptRequestLayout();
            onEnterLayoutOrScroll();
            processAdapterUpdatesAndSetAnimationFlags();
            onExitLayoutOrScroll();
            State state = this.mState;
            if (state.mRunPredictiveAnimations) {
                state.mInPreLayout = true;
            } else {
                this.mAdapterHelper.consumeUpdatesInOnePass();
                this.mState.mInPreLayout = false;
            }
            this.mAdapterUpdateDuringMeasure = false;
            stopInterceptRequestLayout(false);
        } else if (this.mState.mRunPredictiveAnimations) {
            setMeasuredDimension(getMeasuredWidth(), getMeasuredHeight());
            return;
        }
        Adapter adapter = this.mAdapter;
        if (adapter != null) {
            this.mState.mItemCount = adapter.getItemCount();
        } else {
            this.mState.mItemCount = 0;
        }
        startInterceptRequestLayout();
        this.mLayout.onMeasure(this.mRecycler, this.mState, i, i2);
        stopInterceptRequestLayout(false);
        this.mState.mInPreLayout = false;
    }

    void defaultOnMeasure(int i, int i2) {
        setMeasuredDimension(LayoutManager.chooseSize(i, getPaddingLeft() + getPaddingRight(), ViewCompat.getMinimumWidth(this)), LayoutManager.chooseSize(i2, getPaddingTop() + getPaddingBottom(), ViewCompat.getMinimumHeight(this)));
    }

    @Override // android.view.View
    protected void onSizeChanged(int i, int i2, int i3, int i4) {
        super.onSizeChanged(i, i2, i3, i4);
        if (i == i3 && i2 == i4) {
            return;
        }
        invalidateGlows();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void onEnterLayoutOrScroll() {
        this.mLayoutOrScrollCounter++;
    }

    void onExitLayoutOrScroll() {
        onExitLayoutOrScroll(true);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void onExitLayoutOrScroll(boolean z) {
        int i = this.mLayoutOrScrollCounter - 1;
        this.mLayoutOrScrollCounter = i;
        if (i < 1) {
            this.mLayoutOrScrollCounter = 0;
            if (z) {
                dispatchContentChangedIfNecessary();
                dispatchPendingImportantForAccessibilityChanges();
            }
        }
    }

    boolean isAccessibilityEnabled() {
        AccessibilityManager accessibilityManager = this.mAccessibilityManager;
        return accessibilityManager != null && accessibilityManager.isEnabled();
    }

    private void dispatchContentChangedIfNecessary() {
        int i = this.mEatenAccessibilityChangeFlags;
        this.mEatenAccessibilityChangeFlags = 0;
        if (i == 0 || !isAccessibilityEnabled()) {
            return;
        }
        AccessibilityEvent obtain = AccessibilityEvent.obtain();
        obtain.setEventType(2048);
        AccessibilityEventCompat.setContentChangeTypes(obtain, i);
        sendAccessibilityEventUnchecked(obtain);
    }

    public boolean isComputingLayout() {
        return this.mLayoutOrScrollCounter > 0;
    }

    boolean shouldDeferAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
        if (!isComputingLayout()) {
            return false;
        }
        int contentChangeTypes = accessibilityEvent != null ? AccessibilityEventCompat.getContentChangeTypes(accessibilityEvent) : 0;
        this.mEatenAccessibilityChangeFlags |= contentChangeTypes != 0 ? contentChangeTypes : 0;
        return true;
    }

    @Override // android.view.View, android.view.accessibility.AccessibilityEventSource
    public void sendAccessibilityEventUnchecked(AccessibilityEvent accessibilityEvent) {
        if (shouldDeferAccessibilityEvent(accessibilityEvent)) {
            return;
        }
        super.sendAccessibilityEventUnchecked(accessibilityEvent);
    }

    void postAnimationRunner() {
        if (this.mPostedAnimatorRunner || !this.mIsAttached) {
            return;
        }
        ViewCompat.postOnAnimation(this, this.mItemAnimatorRunner);
        this.mPostedAnimatorRunner = true;
    }

    private boolean predictiveItemAnimationsEnabled() {
        return this.mItemAnimator != null && this.mLayout.supportsPredictiveItemAnimations();
    }

    private void processAdapterUpdatesAndSetAnimationFlags() {
        if (this.mDataSetHasChangedAfterLayout) {
            this.mAdapterHelper.reset();
            if (this.mDispatchItemsChangedEvent) {
                this.mLayout.onItemsChanged(this);
            }
        }
        if (predictiveItemAnimationsEnabled()) {
            this.mAdapterHelper.preProcess();
        } else {
            this.mAdapterHelper.consumeUpdatesInOnePass();
        }
        boolean z = false;
        boolean z2 = this.mItemsAddedOrRemoved || this.mItemsChanged;
        this.mState.mRunSimpleAnimations = this.mFirstLayoutComplete && this.mItemAnimator != null && (this.mDataSetHasChangedAfterLayout || z2 || this.mLayout.mRequestedSimpleAnimations) && (!this.mDataSetHasChangedAfterLayout || this.mAdapter.hasStableIds());
        State state = this.mState;
        if (state.mRunSimpleAnimations && z2 && !this.mDataSetHasChangedAfterLayout && predictiveItemAnimationsEnabled()) {
            z = true;
        }
        state.mRunPredictiveAnimations = z;
    }

    void dispatchLayout() {
        if (this.mAdapter == null) {
            Log.e("RecyclerView", "No adapter attached; skipping layout");
            return;
        }
        if (this.mLayout == null) {
            Log.e("RecyclerView", "No layout manager attached; skipping layout");
            return;
        }
        State state = this.mState;
        state.mIsMeasuring = false;
        if (state.mLayoutStep == 1) {
            dispatchLayoutStep1();
            this.mLayout.setExactMeasureSpecsFrom(this);
            dispatchLayoutStep2();
        } else if (this.mAdapterHelper.hasUpdates() || this.mLayout.getWidth() != getWidth() || this.mLayout.getHeight() != getHeight()) {
            this.mLayout.setExactMeasureSpecsFrom(this);
            dispatchLayoutStep2();
        } else {
            this.mLayout.setExactMeasureSpecsFrom(this);
        }
        dispatchLayoutStep3();
    }

    private void saveFocusInfo() {
        int adapterPosition;
        View focusedChild = (this.mPreserveFocusAfterLayout && hasFocus() && this.mAdapter != null) ? getFocusedChild() : null;
        ViewHolder findContainingViewHolder = focusedChild != null ? findContainingViewHolder(focusedChild) : null;
        if (findContainingViewHolder == null) {
            resetFocusInfo();
            return;
        }
        this.mState.mFocusedItemId = this.mAdapter.hasStableIds() ? findContainingViewHolder.getItemId() : -1L;
        State state = this.mState;
        if (this.mDataSetHasChangedAfterLayout) {
            adapterPosition = -1;
        } else {
            adapterPosition = findContainingViewHolder.isRemoved() ? findContainingViewHolder.mOldPosition : findContainingViewHolder.getAdapterPosition();
        }
        state.mFocusedItemPosition = adapterPosition;
        this.mState.mFocusedSubChildId = getDeepestFocusedViewWithId(findContainingViewHolder.itemView);
    }

    private void resetFocusInfo() {
        State state = this.mState;
        state.mFocusedItemId = -1L;
        state.mFocusedItemPosition = -1;
        state.mFocusedSubChildId = -1;
    }

    private View findNextViewToFocus() {
        ViewHolder findViewHolderForAdapterPosition;
        int i = this.mState.mFocusedItemPosition;
        if (i == -1) {
            i = 0;
        }
        int itemCount = this.mState.getItemCount();
        for (int i2 = i; i2 < itemCount; i2++) {
            ViewHolder findViewHolderForAdapterPosition2 = findViewHolderForAdapterPosition(i2);
            if (findViewHolderForAdapterPosition2 == null) {
                break;
            }
            if (findViewHolderForAdapterPosition2.itemView.hasFocusable()) {
                return findViewHolderForAdapterPosition2.itemView;
            }
        }
        int min = Math.min(itemCount, i);
        do {
            min--;
            if (min < 0 || (findViewHolderForAdapterPosition = findViewHolderForAdapterPosition(min)) == null) {
                return null;
            }
        } while (!findViewHolderForAdapterPosition.itemView.hasFocusable());
        return findViewHolderForAdapterPosition.itemView;
    }

    private void recoverFocusFromState() {
        View findViewById;
        if (!this.mPreserveFocusAfterLayout || this.mAdapter == null || !hasFocus() || getDescendantFocusability() == 393216) {
            return;
        }
        if (getDescendantFocusability() == 131072 && isFocused()) {
            return;
        }
        if (!isFocused()) {
            View focusedChild = getFocusedChild();
            if (IGNORE_DETACHED_FOCUSED_CHILD && (focusedChild.getParent() == null || !focusedChild.hasFocus())) {
                if (this.mChildHelper.getChildCount() == 0) {
                    requestFocus();
                    return;
                }
            } else if (!this.mChildHelper.isHidden(focusedChild)) {
                return;
            }
        }
        View view = null;
        ViewHolder findViewHolderForItemId = (this.mState.mFocusedItemId == -1 || !this.mAdapter.hasStableIds()) ? null : findViewHolderForItemId(this.mState.mFocusedItemId);
        if (findViewHolderForItemId == null || this.mChildHelper.isHidden(findViewHolderForItemId.itemView) || !findViewHolderForItemId.itemView.hasFocusable()) {
            if (this.mChildHelper.getChildCount() > 0) {
                view = findNextViewToFocus();
            }
        } else {
            view = findViewHolderForItemId.itemView;
        }
        if (view != null) {
            int i = this.mState.mFocusedSubChildId;
            if (i != -1 && (findViewById = view.findViewById(i)) != null && findViewById.isFocusable()) {
                view = findViewById;
            }
            view.requestFocus();
        }
    }

    private int getDeepestFocusedViewWithId(View view) {
        int id = view.getId();
        while (!view.isFocused() && (view instanceof ViewGroup) && view.hasFocus()) {
            view = ((ViewGroup) view).getFocusedChild();
            if (view.getId() != -1) {
                id = view.getId();
            }
        }
        return id;
    }

    final void fillRemainingScrollValues(State state) {
        if (getScrollState() != 2) {
            state.mRemainingScrollHorizontal = 0;
            state.mRemainingScrollVertical = 0;
        } else {
            OverScroller overScroller = this.mViewFlinger.mScroller;
            state.mRemainingScrollHorizontal = overScroller.getFinalX() - overScroller.getCurrX();
            state.mRemainingScrollVertical = overScroller.getFinalY() - overScroller.getCurrY();
        }
    }

    private void dispatchLayoutStep1() {
        this.mState.assertLayoutStep(1);
        fillRemainingScrollValues(this.mState);
        this.mState.mIsMeasuring = false;
        startInterceptRequestLayout();
        this.mViewInfoStore.clear();
        onEnterLayoutOrScroll();
        processAdapterUpdatesAndSetAnimationFlags();
        saveFocusInfo();
        State state = this.mState;
        state.mTrackOldChangeHolders = state.mRunSimpleAnimations && this.mItemsChanged;
        this.mItemsChanged = false;
        this.mItemsAddedOrRemoved = false;
        State state2 = this.mState;
        state2.mInPreLayout = state2.mRunPredictiveAnimations;
        state2.mItemCount = this.mAdapter.getItemCount();
        findMinMaxChildLayoutPositions(this.mMinMaxLayoutPositions);
        if (this.mState.mRunSimpleAnimations) {
            int childCount = this.mChildHelper.getChildCount();
            for (int i = 0; i < childCount; i++) {
                ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getChildAt(i));
                if (!childViewHolderInt.shouldIgnore() && (!childViewHolderInt.isInvalid() || this.mAdapter.hasStableIds())) {
                    this.mViewInfoStore.addToPreLayout(childViewHolderInt, this.mItemAnimator.recordPreLayoutInformation(this.mState, childViewHolderInt, ItemAnimator.buildAdapterChangeFlagsForAnimations(childViewHolderInt), childViewHolderInt.getUnmodifiedPayloads()));
                    if (this.mState.mTrackOldChangeHolders && childViewHolderInt.isUpdated() && !childViewHolderInt.isRemoved() && !childViewHolderInt.shouldIgnore() && !childViewHolderInt.isInvalid()) {
                        this.mViewInfoStore.addToOldChangeHolders(getChangedHolderKey(childViewHolderInt), childViewHolderInt);
                    }
                }
            }
        }
        if (this.mState.mRunPredictiveAnimations) {
            saveOldPositions();
            State state3 = this.mState;
            boolean z = state3.mStructureChanged;
            state3.mStructureChanged = false;
            this.mLayout.onLayoutChildren(this.mRecycler, state3);
            this.mState.mStructureChanged = z;
            for (int i2 = 0; i2 < this.mChildHelper.getChildCount(); i2++) {
                ViewHolder childViewHolderInt2 = getChildViewHolderInt(this.mChildHelper.getChildAt(i2));
                if (!childViewHolderInt2.shouldIgnore() && !this.mViewInfoStore.isInPreLayout(childViewHolderInt2)) {
                    int buildAdapterChangeFlagsForAnimations = ItemAnimator.buildAdapterChangeFlagsForAnimations(childViewHolderInt2);
                    boolean hasAnyOfTheFlags = childViewHolderInt2.hasAnyOfTheFlags(8192);
                    if (!hasAnyOfTheFlags) {
                        buildAdapterChangeFlagsForAnimations |= 4096;
                    }
                    ItemAnimator.ItemHolderInfo recordPreLayoutInformation = this.mItemAnimator.recordPreLayoutInformation(this.mState, childViewHolderInt2, buildAdapterChangeFlagsForAnimations, childViewHolderInt2.getUnmodifiedPayloads());
                    if (hasAnyOfTheFlags) {
                        recordAnimationInfoIfBouncedHiddenView(childViewHolderInt2, recordPreLayoutInformation);
                    } else {
                        this.mViewInfoStore.addToAppearedInPreLayoutHolders(childViewHolderInt2, recordPreLayoutInformation);
                    }
                }
            }
            clearOldPositions();
        } else {
            clearOldPositions();
        }
        onExitLayoutOrScroll();
        stopInterceptRequestLayout(false);
        this.mState.mLayoutStep = 2;
    }

    private void dispatchLayoutStep2() {
        startInterceptRequestLayout();
        onEnterLayoutOrScroll();
        this.mState.assertLayoutStep(6);
        this.mAdapterHelper.consumeUpdatesInOnePass();
        this.mState.mItemCount = this.mAdapter.getItemCount();
        State state = this.mState;
        state.mDeletedInvisibleItemCountSincePreviousLayout = 0;
        state.mInPreLayout = false;
        this.mLayout.onLayoutChildren(this.mRecycler, state);
        State state2 = this.mState;
        state2.mStructureChanged = false;
        this.mPendingSavedState = null;
        state2.mRunSimpleAnimations = state2.mRunSimpleAnimations && this.mItemAnimator != null;
        this.mState.mLayoutStep = 4;
        onExitLayoutOrScroll();
        stopInterceptRequestLayout(false);
    }

    private void dispatchLayoutStep3() {
        this.mState.assertLayoutStep(4);
        startInterceptRequestLayout();
        onEnterLayoutOrScroll();
        State state = this.mState;
        state.mLayoutStep = 1;
        if (state.mRunSimpleAnimations) {
            for (int childCount = this.mChildHelper.getChildCount() - 1; childCount >= 0; childCount--) {
                ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getChildAt(childCount));
                if (!childViewHolderInt.shouldIgnore()) {
                    long changedHolderKey = getChangedHolderKey(childViewHolderInt);
                    ItemAnimator.ItemHolderInfo recordPostLayoutInformation = this.mItemAnimator.recordPostLayoutInformation(this.mState, childViewHolderInt);
                    ViewHolder fromOldChangeHolders = this.mViewInfoStore.getFromOldChangeHolders(changedHolderKey);
                    if (fromOldChangeHolders != null && !fromOldChangeHolders.shouldIgnore()) {
                        boolean isDisappearing = this.mViewInfoStore.isDisappearing(fromOldChangeHolders);
                        boolean isDisappearing2 = this.mViewInfoStore.isDisappearing(childViewHolderInt);
                        if (isDisappearing && fromOldChangeHolders == childViewHolderInt) {
                            this.mViewInfoStore.addToPostLayout(childViewHolderInt, recordPostLayoutInformation);
                        } else {
                            ItemAnimator.ItemHolderInfo popFromPreLayout = this.mViewInfoStore.popFromPreLayout(fromOldChangeHolders);
                            this.mViewInfoStore.addToPostLayout(childViewHolderInt, recordPostLayoutInformation);
                            ItemAnimator.ItemHolderInfo popFromPostLayout = this.mViewInfoStore.popFromPostLayout(childViewHolderInt);
                            if (popFromPreLayout == null) {
                                handleMissingPreInfoForChangeError(changedHolderKey, childViewHolderInt, fromOldChangeHolders);
                            } else {
                                animateChange(fromOldChangeHolders, childViewHolderInt, popFromPreLayout, popFromPostLayout, isDisappearing, isDisappearing2);
                            }
                        }
                    } else {
                        this.mViewInfoStore.addToPostLayout(childViewHolderInt, recordPostLayoutInformation);
                    }
                }
            }
            this.mViewInfoStore.process(this.mViewInfoProcessCallback);
        }
        this.mLayout.removeAndRecycleScrapInt(this.mRecycler);
        State state2 = this.mState;
        state2.mPreviousLayoutItemCount = state2.mItemCount;
        this.mDataSetHasChangedAfterLayout = false;
        this.mDispatchItemsChangedEvent = false;
        state2.mRunSimpleAnimations = false;
        state2.mRunPredictiveAnimations = false;
        this.mLayout.mRequestedSimpleAnimations = false;
        ArrayList<ViewHolder> arrayList = this.mRecycler.mChangedScrap;
        if (arrayList != null) {
            arrayList.clear();
        }
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager.mPrefetchMaxObservedInInitialPrefetch) {
            layoutManager.mPrefetchMaxCountObserved = 0;
            layoutManager.mPrefetchMaxObservedInInitialPrefetch = false;
            this.mRecycler.updateViewCacheSize();
        }
        this.mLayout.onLayoutCompleted(this.mState);
        onExitLayoutOrScroll();
        stopInterceptRequestLayout(false);
        this.mViewInfoStore.clear();
        int[] iArr = this.mMinMaxLayoutPositions;
        if (didChildRangeChange(iArr[0], iArr[1])) {
            dispatchOnScrolled(0, 0);
        }
        recoverFocusFromState();
        resetFocusInfo();
    }

    private void handleMissingPreInfoForChangeError(long j, ViewHolder viewHolder, ViewHolder viewHolder2) {
        int childCount = this.mChildHelper.getChildCount();
        for (int i = 0; i < childCount; i++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getChildAt(i));
            if (childViewHolderInt != viewHolder && getChangedHolderKey(childViewHolderInt) == j) {
                Adapter adapter = this.mAdapter;
                if (adapter != null && adapter.hasStableIds()) {
                    throw new IllegalStateException("Two different ViewHolders have the same stable ID. Stable IDs in your adapter MUST BE unique and SHOULD NOT change.\n ViewHolder 1:" + childViewHolderInt + " \n View Holder 2:" + viewHolder + exceptionLabel());
                }
                throw new IllegalStateException("Two different ViewHolders have the same change ID. This might happen due to inconsistent Adapter update events or if the LayoutManager lays out the same View multiple times.\n ViewHolder 1:" + childViewHolderInt + " \n View Holder 2:" + viewHolder + exceptionLabel());
            }
        }
        Log.e("RecyclerView", "Problem while matching changed view holders with the newones. The pre-layout information for the change holder " + viewHolder2 + " cannot be found but it is necessary for " + viewHolder + exceptionLabel());
    }

    void recordAnimationInfoIfBouncedHiddenView(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo) {
        viewHolder.setFlags(0, 8192);
        if (this.mState.mTrackOldChangeHolders && viewHolder.isUpdated() && !viewHolder.isRemoved() && !viewHolder.shouldIgnore()) {
            this.mViewInfoStore.addToOldChangeHolders(getChangedHolderKey(viewHolder), viewHolder);
        }
        this.mViewInfoStore.addToPreLayout(viewHolder, itemHolderInfo);
    }

    private void findMinMaxChildLayoutPositions(int[] iArr) {
        int childCount = this.mChildHelper.getChildCount();
        if (childCount == 0) {
            iArr[0] = -1;
            iArr[1] = -1;
            return;
        }
        int i = Integer.MAX_VALUE;
        int i2 = Integer.MIN_VALUE;
        for (int i3 = 0; i3 < childCount; i3++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getChildAt(i3));
            if (!childViewHolderInt.shouldIgnore()) {
                int layoutPosition = childViewHolderInt.getLayoutPosition();
                if (layoutPosition < i) {
                    i = layoutPosition;
                }
                if (layoutPosition > i2) {
                    i2 = layoutPosition;
                }
            }
        }
        iArr[0] = i;
        iArr[1] = i2;
    }

    private boolean didChildRangeChange(int i, int i2) {
        findMinMaxChildLayoutPositions(this.mMinMaxLayoutPositions);
        int[] iArr = this.mMinMaxLayoutPositions;
        return (iArr[0] == i && iArr[1] == i2) ? false : true;
    }

    @Override // android.view.ViewGroup
    protected void removeDetachedView(View view, boolean z) {
        ViewHolder childViewHolderInt = getChildViewHolderInt(view);
        if (childViewHolderInt != null) {
            if (childViewHolderInt.isTmpDetached()) {
                childViewHolderInt.clearTmpDetachFlag();
            } else if (!childViewHolderInt.shouldIgnore()) {
                throw new IllegalArgumentException("Called removeDetachedView with a view which is not flagged as tmp detached." + childViewHolderInt + exceptionLabel());
            }
        }
        view.clearAnimation();
        dispatchChildDetached(view);
        super.removeDetachedView(view, z);
    }

    long getChangedHolderKey(ViewHolder viewHolder) {
        return this.mAdapter.hasStableIds() ? viewHolder.getItemId() : viewHolder.mPosition;
    }

    void animateAppearance(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        viewHolder.setIsRecyclable(false);
        if (this.mItemAnimator.animateAppearance(viewHolder, itemHolderInfo, itemHolderInfo2)) {
            postAnimationRunner();
        }
    }

    void animateDisappearance(ViewHolder viewHolder, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2) {
        addAnimatingView(viewHolder);
        viewHolder.setIsRecyclable(false);
        if (this.mItemAnimator.animateDisappearance(viewHolder, itemHolderInfo, itemHolderInfo2)) {
            postAnimationRunner();
        }
    }

    private void animateChange(ViewHolder viewHolder, ViewHolder viewHolder2, ItemAnimator.ItemHolderInfo itemHolderInfo, ItemAnimator.ItemHolderInfo itemHolderInfo2, boolean z, boolean z2) {
        viewHolder.setIsRecyclable(false);
        if (z) {
            addAnimatingView(viewHolder);
        }
        if (viewHolder != viewHolder2) {
            if (z2) {
                addAnimatingView(viewHolder2);
            }
            viewHolder.mShadowedHolder = viewHolder2;
            addAnimatingView(viewHolder);
            this.mRecycler.unscrapView(viewHolder);
            viewHolder2.setIsRecyclable(false);
            viewHolder2.mShadowingHolder = viewHolder;
        }
        if (this.mItemAnimator.animateChange(viewHolder, viewHolder2, itemHolderInfo, itemHolderInfo2)) {
            postAnimationRunner();
        }
    }

    @Override // android.view.ViewGroup, android.view.View
    protected void onLayout(boolean z, int i, int i2, int i3, int i4) {
        TraceCompat.beginSection("RV OnLayout");
        dispatchLayout();
        TraceCompat.endSection();
        this.mFirstLayoutComplete = true;
    }

    @Override // android.view.View, android.view.ViewParent
    public void requestLayout() {
        if (this.mInterceptRequestLayoutDepth == 0 && !this.mLayoutFrozen) {
            super.requestLayout();
        } else {
            this.mLayoutWasDefered = true;
        }
    }

    void markItemDecorInsetsDirty() {
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i = 0; i < unfilteredChildCount; i++) {
            ((LayoutParams) this.mChildHelper.getUnfilteredChildAt(i).getLayoutParams()).mInsetsDirty = true;
        }
        this.mRecycler.markItemDecorInsetsDirty();
    }

    @Override // android.view.View
    public void draw(Canvas canvas) {
        boolean z;
        super.draw(canvas);
        int size = this.mItemDecorations.size();
        boolean z2 = false;
        for (int i = 0; i < size; i++) {
            this.mItemDecorations.get(i).onDrawOver(canvas, this, this.mState);
        }
        EdgeEffect edgeEffect = this.mLeftGlow;
        if (edgeEffect == null || edgeEffect.isFinished()) {
            z = false;
        } else {
            int save = canvas.save();
            int paddingBottom = this.mClipToPadding ? getPaddingBottom() : 0;
            canvas.rotate(270.0f);
            canvas.translate((-getHeight()) + paddingBottom, 0.0f);
            EdgeEffect edgeEffect2 = this.mLeftGlow;
            z = edgeEffect2 != null && edgeEffect2.draw(canvas);
            canvas.restoreToCount(save);
        }
        EdgeEffect edgeEffect3 = this.mTopGlow;
        if (edgeEffect3 != null && !edgeEffect3.isFinished()) {
            int save2 = canvas.save();
            if (this.mClipToPadding) {
                canvas.translate(getPaddingLeft(), getPaddingTop());
            }
            EdgeEffect edgeEffect4 = this.mTopGlow;
            z |= edgeEffect4 != null && edgeEffect4.draw(canvas);
            canvas.restoreToCount(save2);
        }
        EdgeEffect edgeEffect5 = this.mRightGlow;
        if (edgeEffect5 != null && !edgeEffect5.isFinished()) {
            int save3 = canvas.save();
            int width = getWidth();
            int paddingTop = this.mClipToPadding ? getPaddingTop() : 0;
            canvas.rotate(90.0f);
            canvas.translate(-paddingTop, -width);
            EdgeEffect edgeEffect6 = this.mRightGlow;
            z |= edgeEffect6 != null && edgeEffect6.draw(canvas);
            canvas.restoreToCount(save3);
        }
        EdgeEffect edgeEffect7 = this.mBottomGlow;
        if (edgeEffect7 != null && !edgeEffect7.isFinished()) {
            int save4 = canvas.save();
            canvas.rotate(180.0f);
            if (this.mClipToPadding) {
                canvas.translate((-getWidth()) + getPaddingRight(), (-getHeight()) + getPaddingBottom());
            } else {
                canvas.translate(-getWidth(), -getHeight());
            }
            EdgeEffect edgeEffect8 = this.mBottomGlow;
            if (edgeEffect8 != null && edgeEffect8.draw(canvas)) {
                z2 = true;
            }
            z |= z2;
            canvas.restoreToCount(save4);
        }
        if ((z || this.mItemAnimator == null || this.mItemDecorations.size() <= 0 || !this.mItemAnimator.isRunning()) ? z : true) {
            ViewCompat.postInvalidateOnAnimation(this);
        }
    }

    @Override // android.view.View
    public void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        int size = this.mItemDecorations.size();
        for (int i = 0; i < size; i++) {
            this.mItemDecorations.get(i).onDraw(canvas, this, this.mState);
        }
    }

    @Override // android.view.ViewGroup
    protected boolean checkLayoutParams(ViewGroup.LayoutParams layoutParams) {
        return (layoutParams instanceof LayoutParams) && this.mLayout.checkLayoutParams((LayoutParams) layoutParams);
    }

    @Override // android.view.ViewGroup
    protected ViewGroup.LayoutParams generateDefaultLayoutParams() {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            throw new IllegalStateException("RecyclerView has no LayoutManager" + exceptionLabel());
        }
        return layoutManager.generateDefaultLayoutParams();
    }

    @Override // android.view.ViewGroup
    public ViewGroup.LayoutParams generateLayoutParams(AttributeSet attributeSet) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            throw new IllegalStateException("RecyclerView has no LayoutManager" + exceptionLabel());
        }
        return layoutManager.generateLayoutParams(getContext(), attributeSet);
    }

    @Override // android.view.ViewGroup
    protected ViewGroup.LayoutParams generateLayoutParams(ViewGroup.LayoutParams layoutParams) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager == null) {
            throw new IllegalStateException("RecyclerView has no LayoutManager" + exceptionLabel());
        }
        return layoutManager.generateLayoutParams(layoutParams);
    }

    void saveOldPositions() {
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i = 0; i < unfilteredChildCount; i++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i));
            if (!childViewHolderInt.shouldIgnore()) {
                childViewHolderInt.saveOldPosition();
            }
        }
    }

    void clearOldPositions() {
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i = 0; i < unfilteredChildCount; i++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i));
            if (!childViewHolderInt.shouldIgnore()) {
                childViewHolderInt.clearOldPosition();
            }
        }
        this.mRecycler.clearOldPositions();
    }

    void offsetPositionRecordsForMove(int i, int i2) {
        int i3;
        int i4;
        int i5;
        int i6;
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        if (i < i2) {
            i5 = -1;
            i4 = i;
            i3 = i2;
        } else {
            i3 = i;
            i4 = i2;
            i5 = 1;
        }
        for (int i7 = 0; i7 < unfilteredChildCount; i7++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i7));
            if (childViewHolderInt != null && (i6 = childViewHolderInt.mPosition) >= i4 && i6 <= i3) {
                if (i6 == i) {
                    childViewHolderInt.offsetPosition(i2 - i, false);
                } else {
                    childViewHolderInt.offsetPosition(i5, false);
                }
                this.mState.mStructureChanged = true;
            }
        }
        this.mRecycler.offsetPositionRecordsForMove(i, i2);
        requestLayout();
    }

    void offsetPositionRecordsForInsert(int i, int i2) {
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i3 = 0; i3 < unfilteredChildCount; i3++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i3));
            if (childViewHolderInt != null && !childViewHolderInt.shouldIgnore() && childViewHolderInt.mPosition >= i) {
                childViewHolderInt.offsetPosition(i2, false);
                this.mState.mStructureChanged = true;
            }
        }
        this.mRecycler.offsetPositionRecordsForInsert(i, i2);
        requestLayout();
    }

    void offsetPositionRecordsForRemove(int i, int i2, boolean z) {
        int i3 = i + i2;
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i4 = 0; i4 < unfilteredChildCount; i4++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i4));
            if (childViewHolderInt != null && !childViewHolderInt.shouldIgnore()) {
                int i5 = childViewHolderInt.mPosition;
                if (i5 >= i3) {
                    childViewHolderInt.offsetPosition(-i2, z);
                    this.mState.mStructureChanged = true;
                } else if (i5 >= i) {
                    childViewHolderInt.flagRemovedAndOffsetPosition(i - 1, -i2, z);
                    this.mState.mStructureChanged = true;
                }
            }
        }
        this.mRecycler.offsetPositionRecordsForRemove(i, i2, z);
        requestLayout();
    }

    void viewRangeUpdate(int i, int i2, Object obj) {
        int i3;
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        int i4 = i + i2;
        for (int i5 = 0; i5 < unfilteredChildCount; i5++) {
            View unfilteredChildAt = this.mChildHelper.getUnfilteredChildAt(i5);
            ViewHolder childViewHolderInt = getChildViewHolderInt(unfilteredChildAt);
            if (childViewHolderInt != null && !childViewHolderInt.shouldIgnore() && (i3 = childViewHolderInt.mPosition) >= i && i3 < i4) {
                childViewHolderInt.addFlags(2);
                childViewHolderInt.addChangePayload(obj);
                ((LayoutParams) unfilteredChildAt.getLayoutParams()).mInsetsDirty = true;
            }
        }
        this.mRecycler.viewRangeUpdate(i, i2);
    }

    boolean canReuseUpdatedViewHolder(ViewHolder viewHolder) {
        ItemAnimator itemAnimator = this.mItemAnimator;
        return itemAnimator == null || itemAnimator.canReuseUpdatedViewHolder(viewHolder, viewHolder.getUnmodifiedPayloads());
    }

    void processDataSetCompletelyChanged(boolean z) {
        this.mDispatchItemsChangedEvent = z | this.mDispatchItemsChangedEvent;
        this.mDataSetHasChangedAfterLayout = true;
        markKnownViewsInvalid();
    }

    void markKnownViewsInvalid() {
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i = 0; i < unfilteredChildCount; i++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i));
            if (childViewHolderInt != null && !childViewHolderInt.shouldIgnore()) {
                childViewHolderInt.addFlags(6);
            }
        }
        markItemDecorInsetsDirty();
        this.mRecycler.markKnownViewsInvalid();
    }

    public ViewHolder getChildViewHolder(View view) {
        ViewParent parent = view.getParent();
        if (parent != null && parent != this) {
            throw new IllegalArgumentException("View " + view + " is not a direct child of " + this);
        }
        return getChildViewHolderInt(view);
    }

    /* JADX WARN: Code restructure failed: missing block: B:11:?, code lost:
    
        return r3;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public android.view.View findContainingItemView(android.view.View r3) {
        /*
            r2 = this;
            android.view.ViewParent r0 = r3.getParent()
        L4:
            if (r0 == 0) goto L14
            if (r0 == r2) goto L14
            boolean r1 = r0 instanceof android.view.View
            if (r1 == 0) goto L14
            r3 = r0
            android.view.View r3 = (android.view.View) r3
            android.view.ViewParent r0 = r3.getParent()
            goto L4
        L14:
            if (r0 != r2) goto L17
            goto L18
        L17:
            r3 = 0
        L18:
            return r3
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.findContainingItemView(android.view.View):android.view.View");
    }

    public ViewHolder findContainingViewHolder(View view) {
        View findContainingItemView = findContainingItemView(view);
        if (findContainingItemView == null) {
            return null;
        }
        return getChildViewHolder(findContainingItemView);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static ViewHolder getChildViewHolderInt(View view) {
        if (view == null) {
            return null;
        }
        return ((LayoutParams) view.getLayoutParams()).mViewHolder;
    }

    public ViewHolder findViewHolderForAdapterPosition(int i) {
        ViewHolder viewHolder = null;
        if (this.mDataSetHasChangedAfterLayout) {
            return null;
        }
        int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
        for (int i2 = 0; i2 < unfilteredChildCount; i2++) {
            ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i2));
            if (childViewHolderInt != null && !childViewHolderInt.isRemoved() && getAdapterPositionFor(childViewHolderInt) == i) {
                if (!this.mChildHelper.isHidden(childViewHolderInt.itemView)) {
                    return childViewHolderInt;
                }
                viewHolder = childViewHolderInt;
            }
        }
        return viewHolder;
    }

    /* JADX WARN: Removed duplicated region for block: B:12:0x0034  */
    /* JADX WARN: Removed duplicated region for block: B:15:0x0036 A[SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    android.support.v7.widget.RecyclerView.ViewHolder findViewHolderForPosition(int r6, boolean r7) {
        /*
            r5 = this;
            android.support.v7.widget.ChildHelper r0 = r5.mChildHelper
            int r0 = r0.getUnfilteredChildCount()
            r1 = 0
            r2 = 0
        L8:
            if (r2 >= r0) goto L3a
            android.support.v7.widget.ChildHelper r3 = r5.mChildHelper
            android.view.View r3 = r3.getUnfilteredChildAt(r2)
            android.support.v7.widget.RecyclerView$ViewHolder r3 = getChildViewHolderInt(r3)
            if (r3 == 0) goto L37
            boolean r4 = r3.isRemoved()
            if (r4 != 0) goto L37
            if (r7 == 0) goto L23
            int r4 = r3.mPosition
            if (r4 == r6) goto L2a
            goto L37
        L23:
            int r4 = r3.getLayoutPosition()
            if (r4 == r6) goto L2a
            goto L37
        L2a:
            android.support.v7.widget.ChildHelper r1 = r5.mChildHelper
            android.view.View r4 = r3.itemView
            boolean r1 = r1.isHidden(r4)
            if (r1 == 0) goto L36
            r1 = r3
            goto L37
        L36:
            return r3
        L37:
            int r2 = r2 + 1
            goto L8
        L3a:
            return r1
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.findViewHolderForPosition(int, boolean):android.support.v7.widget.RecyclerView$ViewHolder");
    }

    public ViewHolder findViewHolderForItemId(long j) {
        Adapter adapter = this.mAdapter;
        ViewHolder viewHolder = null;
        if (adapter != null && adapter.hasStableIds()) {
            int unfilteredChildCount = this.mChildHelper.getUnfilteredChildCount();
            for (int i = 0; i < unfilteredChildCount; i++) {
                ViewHolder childViewHolderInt = getChildViewHolderInt(this.mChildHelper.getUnfilteredChildAt(i));
                if (childViewHolderInt != null && !childViewHolderInt.isRemoved() && childViewHolderInt.getItemId() == j) {
                    if (!this.mChildHelper.isHidden(childViewHolderInt.itemView)) {
                        return childViewHolderInt;
                    }
                    viewHolder = childViewHolderInt;
                }
            }
        }
        return viewHolder;
    }

    @Override // android.view.ViewGroup
    public boolean drawChild(Canvas canvas, View view, long j) {
        return super.drawChild(canvas, view, j);
    }

    public void offsetChildrenVertical(int i) {
        int childCount = this.mChildHelper.getChildCount();
        for (int i2 = 0; i2 < childCount; i2++) {
            this.mChildHelper.getChildAt(i2).offsetTopAndBottom(i);
        }
    }

    public void offsetChildrenHorizontal(int i) {
        int childCount = this.mChildHelper.getChildCount();
        for (int i2 = 0; i2 < childCount; i2++) {
            this.mChildHelper.getChildAt(i2).offsetLeftAndRight(i);
        }
    }

    static void getDecoratedBoundsWithMarginsInt(View view, Rect rect) {
        LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
        Rect rect2 = layoutParams.mDecorInsets;
        rect.set((view.getLeft() - rect2.left) - ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin, (view.getTop() - rect2.top) - ((ViewGroup.MarginLayoutParams) layoutParams).topMargin, view.getRight() + rect2.right + ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin, view.getBottom() + rect2.bottom + ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin);
    }

    Rect getItemDecorInsetsForChild(View view) {
        LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
        if (!layoutParams.mInsetsDirty) {
            return layoutParams.mDecorInsets;
        }
        if (this.mState.isPreLayout() && (layoutParams.isItemChanged() || layoutParams.isViewInvalid())) {
            return layoutParams.mDecorInsets;
        }
        Rect rect = layoutParams.mDecorInsets;
        rect.set(0, 0, 0, 0);
        int size = this.mItemDecorations.size();
        for (int i = 0; i < size; i++) {
            this.mTempRect.set(0, 0, 0, 0);
            this.mItemDecorations.get(i).getItemOffsets(this.mTempRect, view, this, this.mState);
            int i2 = rect.left;
            Rect rect2 = this.mTempRect;
            rect.left = i2 + rect2.left;
            rect.top += rect2.top;
            rect.right += rect2.right;
            rect.bottom += rect2.bottom;
        }
        layoutParams.mInsetsDirty = false;
        return rect;
    }

    void dispatchOnScrolled(int i, int i2) {
        this.mDispatchScrollCounter++;
        int scrollX = getScrollX();
        int scrollY = getScrollY();
        onScrollChanged(scrollX, scrollY, scrollX, scrollY);
        onScrolled(i, i2);
        OnScrollListener onScrollListener = this.mScrollListener;
        if (onScrollListener != null) {
            onScrollListener.onScrolled(this, i, i2);
        }
        List<OnScrollListener> list = this.mScrollListeners;
        if (list != null) {
            for (int size = list.size() - 1; size >= 0; size--) {
                this.mScrollListeners.get(size).onScrolled(this, i, i2);
            }
        }
        this.mDispatchScrollCounter--;
    }

    void dispatchOnScrollStateChanged(int i) {
        LayoutManager layoutManager = this.mLayout;
        if (layoutManager != null) {
            layoutManager.onScrollStateChanged(i);
        }
        onScrollStateChanged(i);
        OnScrollListener onScrollListener = this.mScrollListener;
        if (onScrollListener != null) {
            onScrollListener.onScrollStateChanged(this, i);
        }
        List<OnScrollListener> list = this.mScrollListeners;
        if (list != null) {
            for (int size = list.size() - 1; size >= 0; size--) {
                this.mScrollListeners.get(size).onScrollStateChanged(this, i);
            }
        }
    }

    public boolean hasPendingAdapterUpdates() {
        return !this.mFirstLayoutComplete || this.mDataSetHasChangedAfterLayout || this.mAdapterHelper.hasPendingUpdates();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public class ViewFlinger implements Runnable {
        private int mLastFlingX;
        private int mLastFlingY;
        private OverScroller mScroller;
        Interpolator mInterpolator = RecyclerView.sQuinticInterpolator;
        private boolean mEatRunOnAnimationRequest = false;
        private boolean mReSchedulePostAnimationCallback = false;

        ViewFlinger() {
            this.mScroller = new OverScroller(RecyclerView.this.getContext(), RecyclerView.sQuinticInterpolator);
        }

        /* JADX WARN: Code restructure failed: missing block: B:56:0x00fa, code lost:
        
            if (r9 > 0) goto L51;
         */
        /* JADX WARN: Removed duplicated region for block: B:42:0x00f6  */
        /* JADX WARN: Removed duplicated region for block: B:46:0x0106  */
        /* JADX WARN: Removed duplicated region for block: B:48:0x010d A[ADDED_TO_REGION] */
        @Override // java.lang.Runnable
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void run() {
            /*
                Method dump skipped, instructions count: 438
                To view this dump add '--comments-level debug' option
            */
            throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.ViewFlinger.run():void");
        }

        private void disableRunOnAnimationRequests() {
            this.mReSchedulePostAnimationCallback = false;
            this.mEatRunOnAnimationRequest = true;
        }

        private void enableRunOnAnimationRequests() {
            this.mEatRunOnAnimationRequest = false;
            if (this.mReSchedulePostAnimationCallback) {
                postOnAnimation();
            }
        }

        void postOnAnimation() {
            if (this.mEatRunOnAnimationRequest) {
                this.mReSchedulePostAnimationCallback = true;
            } else {
                RecyclerView.this.removeCallbacks(this);
                ViewCompat.postOnAnimation(RecyclerView.this, this);
            }
        }

        public void fling(int i, int i2) {
            RecyclerView.this.setScrollState(2);
            this.mLastFlingY = 0;
            this.mLastFlingX = 0;
            this.mScroller.fling(0, 0, i, i2, Integer.MIN_VALUE, Integer.MAX_VALUE, Integer.MIN_VALUE, Integer.MAX_VALUE);
            postOnAnimation();
        }

        private float distanceInfluenceForSnapDuration(float f) {
            return (float) Math.sin((f - 0.5f) * 0.47123894f);
        }

        private int computeScrollDuration(int i, int i2, int i3, int i4) {
            int i5;
            int abs = Math.abs(i);
            int abs2 = Math.abs(i2);
            boolean z = abs > abs2;
            int sqrt = (int) Math.sqrt((i3 * i3) + (i4 * i4));
            int sqrt2 = (int) Math.sqrt((i * i) + (i2 * i2));
            RecyclerView recyclerView = RecyclerView.this;
            int width = z ? recyclerView.getWidth() : recyclerView.getHeight();
            int i6 = width / 2;
            float f = width;
            float f2 = i6;
            float distanceInfluenceForSnapDuration = f2 + (distanceInfluenceForSnapDuration(Math.min(1.0f, (sqrt2 * 1.0f) / f)) * f2);
            if (sqrt > 0) {
                i5 = Math.round(Math.abs(distanceInfluenceForSnapDuration / sqrt) * 1000.0f) * 4;
            } else {
                if (!z) {
                    abs = abs2;
                }
                i5 = (int) (((abs / f) + 1.0f) * 300.0f);
            }
            return Math.min(i5, 2000);
        }

        public void smoothScrollBy(int i, int i2, Interpolator interpolator) {
            int computeScrollDuration = computeScrollDuration(i, i2, 0, 0);
            if (interpolator == null) {
                interpolator = RecyclerView.sQuinticInterpolator;
            }
            smoothScrollBy(i, i2, computeScrollDuration, interpolator);
        }

        public void smoothScrollBy(int i, int i2, int i3, Interpolator interpolator) {
            if (this.mInterpolator != interpolator) {
                this.mInterpolator = interpolator;
                this.mScroller = new OverScroller(RecyclerView.this.getContext(), interpolator);
            }
            RecyclerView.this.setScrollState(2);
            this.mLastFlingY = 0;
            this.mLastFlingX = 0;
            this.mScroller.startScroll(0, 0, i, i2, i3);
            if (Build.VERSION.SDK_INT < 23) {
                this.mScroller.computeScrollOffset();
            }
            postOnAnimation();
        }

        public void stop() {
            RecyclerView.this.removeCallbacks(this);
            this.mScroller.abortAnimation();
        }
    }

    void repositionShadowingViews() {
        ViewHolder viewHolder;
        int childCount = this.mChildHelper.getChildCount();
        for (int i = 0; i < childCount; i++) {
            View childAt = this.mChildHelper.getChildAt(i);
            ViewHolder childViewHolder = getChildViewHolder(childAt);
            if (childViewHolder != null && (viewHolder = childViewHolder.mShadowingHolder) != null) {
                View view = viewHolder.itemView;
                int left = childAt.getLeft();
                int top = childAt.getTop();
                if (left != view.getLeft() || top != view.getTop()) {
                    view.layout(left, top, view.getWidth() + left, view.getHeight() + top);
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class RecyclerViewDataObserver extends AdapterDataObserver {
        RecyclerViewDataObserver() {
        }

        @Override // android.support.v7.widget.RecyclerView.AdapterDataObserver
        public void onChanged() {
            RecyclerView.this.assertNotInLayoutOrScroll(null);
            RecyclerView recyclerView = RecyclerView.this;
            recyclerView.mState.mStructureChanged = true;
            recyclerView.processDataSetCompletelyChanged(true);
            if (RecyclerView.this.mAdapterHelper.hasPendingUpdates()) {
                return;
            }
            RecyclerView.this.requestLayout();
        }

        @Override // android.support.v7.widget.RecyclerView.AdapterDataObserver
        public void onItemRangeChanged(int i, int i2, Object obj) {
            RecyclerView.this.assertNotInLayoutOrScroll(null);
            if (RecyclerView.this.mAdapterHelper.onItemRangeChanged(i, i2, obj)) {
                triggerUpdateProcessor();
            }
        }

        void triggerUpdateProcessor() {
            if (RecyclerView.POST_UPDATES_ON_ANIMATION) {
                RecyclerView recyclerView = RecyclerView.this;
                if (recyclerView.mHasFixedSize && recyclerView.mIsAttached) {
                    ViewCompat.postOnAnimation(recyclerView, recyclerView.mUpdateChildViewsRunnable);
                    return;
                }
            }
            RecyclerView recyclerView2 = RecyclerView.this;
            recyclerView2.mAdapterUpdateDuringMeasure = true;
            recyclerView2.requestLayout();
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class EdgeEffectFactory {
        protected EdgeEffect createEdgeEffect(RecyclerView recyclerView, int i) {
            return new EdgeEffect(recyclerView.getContext());
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class RecycledViewPool {
        SparseArray<ScrapData> mScrap = new SparseArray<>();
        private int mAttachCount = 0;

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: /content/classes1.dex */
        public static class ScrapData {
            final ArrayList<ViewHolder> mScrapHeap = new ArrayList<>();
            int mMaxScrap = 5;
            long mCreateRunningAverageNs = 0;
            long mBindRunningAverageNs = 0;

            ScrapData() {
            }
        }

        public void clear() {
            for (int i = 0; i < this.mScrap.size(); i++) {
                this.mScrap.valueAt(i).mScrapHeap.clear();
            }
        }

        public ViewHolder getRecycledView(int i) {
            ScrapData scrapData = this.mScrap.get(i);
            if (scrapData == null || scrapData.mScrapHeap.isEmpty()) {
                return null;
            }
            return scrapData.mScrapHeap.remove(r0.size() - 1);
        }

        public void putRecycledView(ViewHolder viewHolder) {
            int itemViewType = viewHolder.getItemViewType();
            ArrayList<ViewHolder> arrayList = getScrapDataForType(itemViewType).mScrapHeap;
            if (this.mScrap.get(itemViewType).mMaxScrap <= arrayList.size()) {
                return;
            }
            viewHolder.resetInternal();
            arrayList.add(viewHolder);
        }

        long runningAverage(long j, long j2) {
            return j == 0 ? j2 : ((j / 4) * 3) + (j2 / 4);
        }

        void factorInCreateTime(int i, long j) {
            ScrapData scrapDataForType = getScrapDataForType(i);
            scrapDataForType.mCreateRunningAverageNs = runningAverage(scrapDataForType.mCreateRunningAverageNs, j);
        }

        void factorInBindTime(int i, long j) {
            ScrapData scrapDataForType = getScrapDataForType(i);
            scrapDataForType.mBindRunningAverageNs = runningAverage(scrapDataForType.mBindRunningAverageNs, j);
        }

        boolean willCreateInTime(int i, long j, long j2) {
            long j3 = getScrapDataForType(i).mCreateRunningAverageNs;
            return j3 == 0 || j + j3 < j2;
        }

        boolean willBindInTime(int i, long j, long j2) {
            long j3 = getScrapDataForType(i).mBindRunningAverageNs;
            return j3 == 0 || j + j3 < j2;
        }

        void attach() {
            this.mAttachCount++;
        }

        void detach() {
            this.mAttachCount--;
        }

        void onAdapterChanged(Adapter adapter, Adapter adapter2, boolean z) {
            if (adapter != null) {
                detach();
            }
            if (!z && this.mAttachCount == 0) {
                clear();
            }
            if (adapter2 != null) {
                attach();
            }
        }

        private ScrapData getScrapDataForType(int i) {
            ScrapData scrapData = this.mScrap.get(i);
            if (scrapData != null) {
                return scrapData;
            }
            ScrapData scrapData2 = new ScrapData();
            this.mScrap.put(i, scrapData2);
            return scrapData2;
        }
    }

    static RecyclerView findNestedRecyclerView(View view) {
        if (!(view instanceof ViewGroup)) {
            return null;
        }
        if (view instanceof RecyclerView) {
            return (RecyclerView) view;
        }
        ViewGroup viewGroup = (ViewGroup) view;
        int childCount = viewGroup.getChildCount();
        for (int i = 0; i < childCount; i++) {
            RecyclerView findNestedRecyclerView = findNestedRecyclerView(viewGroup.getChildAt(i));
            if (findNestedRecyclerView != null) {
                return findNestedRecyclerView;
            }
        }
        return null;
    }

    static void clearNestedRecyclerViewIfNotNested(ViewHolder viewHolder) {
        WeakReference<RecyclerView> weakReference = viewHolder.mNestedRecyclerView;
        if (weakReference != null) {
            RecyclerView recyclerView = weakReference.get();
            while (recyclerView != null) {
                if (recyclerView == viewHolder.itemView) {
                    return;
                }
                Object parent = recyclerView.getParent();
                recyclerView = parent instanceof View ? (View) parent : null;
            }
            viewHolder.mNestedRecyclerView = null;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public long getNanoTime() {
        if (ALLOW_THREAD_GAP_WORK) {
            return System.nanoTime();
        }
        return 0L;
    }

    /* loaded from: /content/classes1.dex */
    public final class Recycler {
        RecycledViewPool mRecyclerPool;
        private ViewCacheExtension mViewCacheExtension;
        final ArrayList<ViewHolder> mAttachedScrap = new ArrayList<>();
        ArrayList<ViewHolder> mChangedScrap = null;
        final ArrayList<ViewHolder> mCachedViews = new ArrayList<>();
        private final List<ViewHolder> mUnmodifiableAttachedScrap = Collections.unmodifiableList(this.mAttachedScrap);
        private int mRequestedCacheMax = 2;
        int mViewCacheMax = 2;

        public Recycler() {
        }

        public void clear() {
            this.mAttachedScrap.clear();
            recycleAndClearCachedViews();
        }

        public void setViewCacheSize(int i) {
            this.mRequestedCacheMax = i;
            updateViewCacheSize();
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void updateViewCacheSize() {
            LayoutManager layoutManager = RecyclerView.this.mLayout;
            this.mViewCacheMax = this.mRequestedCacheMax + (layoutManager != null ? layoutManager.mPrefetchMaxCountObserved : 0);
            for (int size = this.mCachedViews.size() - 1; size >= 0 && this.mCachedViews.size() > this.mViewCacheMax; size--) {
                recycleCachedViewAt(size);
            }
        }

        public List<ViewHolder> getScrapList() {
            return this.mUnmodifiableAttachedScrap;
        }

        boolean validateViewHolderForOffsetPosition(ViewHolder viewHolder) {
            if (viewHolder.isRemoved()) {
                return RecyclerView.this.mState.isPreLayout();
            }
            int i = viewHolder.mPosition;
            if (i < 0 || i >= RecyclerView.this.mAdapter.getItemCount()) {
                throw new IndexOutOfBoundsException("Inconsistency detected. Invalid view holder adapter position" + viewHolder + RecyclerView.this.exceptionLabel());
            }
            if (RecyclerView.this.mState.isPreLayout() || RecyclerView.this.mAdapter.getItemViewType(viewHolder.mPosition) == viewHolder.getItemViewType()) {
                return !RecyclerView.this.mAdapter.hasStableIds() || viewHolder.getItemId() == RecyclerView.this.mAdapter.getItemId(viewHolder.mPosition);
            }
            return false;
        }

        private boolean tryBindViewHolderByDeadline(ViewHolder viewHolder, int i, int i2, long j) {
            viewHolder.mOwnerRecyclerView = RecyclerView.this;
            int itemViewType = viewHolder.getItemViewType();
            long nanoTime = RecyclerView.this.getNanoTime();
            if (j != Long.MAX_VALUE && !this.mRecyclerPool.willBindInTime(itemViewType, nanoTime, j)) {
                return false;
            }
            RecyclerView.this.mAdapter.bindViewHolder(viewHolder, i);
            this.mRecyclerPool.factorInBindTime(viewHolder.getItemViewType(), RecyclerView.this.getNanoTime() - nanoTime);
            attachAccessibilityDelegateOnBind(viewHolder);
            if (!RecyclerView.this.mState.isPreLayout()) {
                return true;
            }
            viewHolder.mPreLayoutPosition = i2;
            return true;
        }

        public int convertPreLayoutPositionToPostLayout(int i) {
            if (i >= 0 && i < RecyclerView.this.mState.getItemCount()) {
                return !RecyclerView.this.mState.isPreLayout() ? i : RecyclerView.this.mAdapterHelper.findPositionOffset(i);
            }
            throw new IndexOutOfBoundsException("invalid position " + i + ". State item count is " + RecyclerView.this.mState.getItemCount() + RecyclerView.this.exceptionLabel());
        }

        public View getViewForPosition(int i) {
            return getViewForPosition(i, false);
        }

        View getViewForPosition(int i, boolean z) {
            return tryGetViewHolderForPositionByDeadline(i, z, Long.MAX_VALUE).itemView;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* JADX WARN: Removed duplicated region for block: B:15:0x0037  */
        /* JADX WARN: Removed duplicated region for block: B:24:0x005c  */
        /* JADX WARN: Removed duplicated region for block: B:26:0x005f  */
        /* JADX WARN: Removed duplicated region for block: B:70:0x018c  */
        /* JADX WARN: Removed duplicated region for block: B:76:0x01a9  */
        /* JADX WARN: Removed duplicated region for block: B:79:0x01cc  */
        /* JADX WARN: Removed duplicated region for block: B:85:0x0205  */
        /* JADX WARN: Removed duplicated region for block: B:88:0x022f A[ADDED_TO_REGION] */
        /* JADX WARN: Removed duplicated region for block: B:92:0x0213  */
        /* JADX WARN: Removed duplicated region for block: B:98:0x01db  */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public android.support.v7.widget.RecyclerView.ViewHolder tryGetViewHolderForPositionByDeadline(int r17, boolean r18, long r19) {
            /*
                Method dump skipped, instructions count: 622
                To view this dump add '--comments-level debug' option
            */
            throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.Recycler.tryGetViewHolderForPositionByDeadline(int, boolean, long):android.support.v7.widget.RecyclerView$ViewHolder");
        }

        private void attachAccessibilityDelegateOnBind(ViewHolder viewHolder) {
            if (RecyclerView.this.isAccessibilityEnabled()) {
                View view = viewHolder.itemView;
                if (ViewCompat.getImportantForAccessibility(view) == 0) {
                    ViewCompat.setImportantForAccessibility(view, 1);
                }
                if (ViewCompat.hasAccessibilityDelegate(view)) {
                    return;
                }
                viewHolder.addFlags(16384);
                ViewCompat.setAccessibilityDelegate(view, RecyclerView.this.mAccessibilityDelegate.getItemDelegate());
            }
        }

        private void invalidateDisplayListInt(ViewHolder viewHolder) {
            View view = viewHolder.itemView;
            if (view instanceof ViewGroup) {
                invalidateDisplayListInt((ViewGroup) view, false);
            }
        }

        private void invalidateDisplayListInt(ViewGroup viewGroup, boolean z) {
            for (int childCount = viewGroup.getChildCount() - 1; childCount >= 0; childCount--) {
                View childAt = viewGroup.getChildAt(childCount);
                if (childAt instanceof ViewGroup) {
                    invalidateDisplayListInt((ViewGroup) childAt, true);
                }
            }
            if (z) {
                if (viewGroup.getVisibility() == 4) {
                    viewGroup.setVisibility(0);
                    viewGroup.setVisibility(4);
                } else {
                    int visibility = viewGroup.getVisibility();
                    viewGroup.setVisibility(4);
                    viewGroup.setVisibility(visibility);
                }
            }
        }

        public void recycleView(View view) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (childViewHolderInt.isTmpDetached()) {
                RecyclerView.this.removeDetachedView(view, false);
            }
            if (childViewHolderInt.isScrap()) {
                childViewHolderInt.unScrap();
            } else if (childViewHolderInt.wasReturnedFromScrap()) {
                childViewHolderInt.clearReturnedFromScrapFlag();
            }
            recycleViewHolderInternal(childViewHolderInt);
        }

        void recycleAndClearCachedViews() {
            for (int size = this.mCachedViews.size() - 1; size >= 0; size--) {
                recycleCachedViewAt(size);
            }
            this.mCachedViews.clear();
            if (RecyclerView.ALLOW_THREAD_GAP_WORK) {
                RecyclerView.this.mPrefetchRegistry.clearPrefetchPositions();
            }
        }

        void recycleCachedViewAt(int i) {
            addViewHolderToRecycledViewPool(this.mCachedViews.get(i), true);
            this.mCachedViews.remove(i);
        }

        void recycleViewHolderInternal(ViewHolder viewHolder) {
            boolean z;
            boolean z2 = true;
            if (viewHolder.isScrap() || viewHolder.itemView.getParent() != null) {
                StringBuilder sb = new StringBuilder();
                sb.append("Scrapped or attached views may not be recycled. isScrap:");
                sb.append(viewHolder.isScrap());
                sb.append(" isAttached:");
                sb.append(viewHolder.itemView.getParent() != null);
                sb.append(RecyclerView.this.exceptionLabel());
                throw new IllegalArgumentException(sb.toString());
            }
            if (viewHolder.isTmpDetached()) {
                throw new IllegalArgumentException("Tmp detached view should be removed from RecyclerView before it can be recycled: " + viewHolder + RecyclerView.this.exceptionLabel());
            }
            if (viewHolder.shouldIgnore()) {
                throw new IllegalArgumentException("Trying to recycle an ignored view holder. You should first call stopIgnoringView(view) before calling recycle." + RecyclerView.this.exceptionLabel());
            }
            boolean doesTransientStatePreventRecycling = viewHolder.doesTransientStatePreventRecycling();
            Adapter adapter = RecyclerView.this.mAdapter;
            if ((adapter != null && doesTransientStatePreventRecycling && adapter.onFailedToRecycleView(viewHolder)) || viewHolder.isRecyclable()) {
                if (this.mViewCacheMax <= 0 || viewHolder.hasAnyOfTheFlags(526)) {
                    z = false;
                } else {
                    int size = this.mCachedViews.size();
                    if (size >= this.mViewCacheMax && size > 0) {
                        recycleCachedViewAt(0);
                        size--;
                    }
                    if (RecyclerView.ALLOW_THREAD_GAP_WORK && size > 0 && !RecyclerView.this.mPrefetchRegistry.lastPrefetchIncludedPosition(viewHolder.mPosition)) {
                        int i = size - 1;
                        while (i >= 0) {
                            if (!RecyclerView.this.mPrefetchRegistry.lastPrefetchIncludedPosition(this.mCachedViews.get(i).mPosition)) {
                                break;
                            } else {
                                i--;
                            }
                        }
                        size = i + 1;
                    }
                    this.mCachedViews.add(size, viewHolder);
                    z = true;
                }
                if (z) {
                    z2 = false;
                } else {
                    addViewHolderToRecycledViewPool(viewHolder, true);
                }
                r1 = z;
            } else {
                z2 = false;
            }
            RecyclerView.this.mViewInfoStore.removeViewHolder(viewHolder);
            if (r1 || z2 || !doesTransientStatePreventRecycling) {
                return;
            }
            viewHolder.mOwnerRecyclerView = null;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void addViewHolderToRecycledViewPool(ViewHolder viewHolder, boolean z) {
            RecyclerView.clearNestedRecyclerViewIfNotNested(viewHolder);
            if (viewHolder.hasAnyOfTheFlags(16384)) {
                viewHolder.setFlags(0, 16384);
                ViewCompat.setAccessibilityDelegate(viewHolder.itemView, null);
            }
            if (z) {
                dispatchViewRecycled(viewHolder);
            }
            viewHolder.mOwnerRecyclerView = null;
            getRecycledViewPool().putRecycledView(viewHolder);
        }

        void quickRecycleScrapView(View view) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            childViewHolderInt.mScrapContainer = null;
            childViewHolderInt.mInChangeScrap = false;
            childViewHolderInt.clearReturnedFromScrapFlag();
            recycleViewHolderInternal(childViewHolderInt);
        }

        void scrapView(View view) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (childViewHolderInt.hasAnyOfTheFlags(12) || !childViewHolderInt.isUpdated() || RecyclerView.this.canReuseUpdatedViewHolder(childViewHolderInt)) {
                if (childViewHolderInt.isInvalid() && !childViewHolderInt.isRemoved() && !RecyclerView.this.mAdapter.hasStableIds()) {
                    throw new IllegalArgumentException("Called scrap view with an invalid view. Invalid views cannot be reused from scrap, they should rebound from recycler pool." + RecyclerView.this.exceptionLabel());
                }
                childViewHolderInt.setScrapContainer(this, false);
                this.mAttachedScrap.add(childViewHolderInt);
                return;
            }
            if (this.mChangedScrap == null) {
                this.mChangedScrap = new ArrayList<>();
            }
            childViewHolderInt.setScrapContainer(this, true);
            this.mChangedScrap.add(childViewHolderInt);
        }

        void unscrapView(ViewHolder viewHolder) {
            if (viewHolder.mInChangeScrap) {
                this.mChangedScrap.remove(viewHolder);
            } else {
                this.mAttachedScrap.remove(viewHolder);
            }
            viewHolder.mScrapContainer = null;
            viewHolder.mInChangeScrap = false;
            viewHolder.clearReturnedFromScrapFlag();
        }

        int getScrapCount() {
            return this.mAttachedScrap.size();
        }

        View getScrapViewAt(int i) {
            return this.mAttachedScrap.get(i).itemView;
        }

        void clearScrap() {
            this.mAttachedScrap.clear();
            ArrayList<ViewHolder> arrayList = this.mChangedScrap;
            if (arrayList != null) {
                arrayList.clear();
            }
        }

        ViewHolder getChangedScrapViewForPosition(int i) {
            int size;
            int findPositionOffset;
            ArrayList<ViewHolder> arrayList = this.mChangedScrap;
            if (arrayList != null && (size = arrayList.size()) != 0) {
                for (int i2 = 0; i2 < size; i2++) {
                    ViewHolder viewHolder = this.mChangedScrap.get(i2);
                    if (!viewHolder.wasReturnedFromScrap() && viewHolder.getLayoutPosition() == i) {
                        viewHolder.addFlags(32);
                        return viewHolder;
                    }
                }
                if (RecyclerView.this.mAdapter.hasStableIds() && (findPositionOffset = RecyclerView.this.mAdapterHelper.findPositionOffset(i)) > 0 && findPositionOffset < RecyclerView.this.mAdapter.getItemCount()) {
                    long itemId = RecyclerView.this.mAdapter.getItemId(findPositionOffset);
                    for (int i3 = 0; i3 < size; i3++) {
                        ViewHolder viewHolder2 = this.mChangedScrap.get(i3);
                        if (!viewHolder2.wasReturnedFromScrap() && viewHolder2.getItemId() == itemId) {
                            viewHolder2.addFlags(32);
                            return viewHolder2;
                        }
                    }
                }
            }
            return null;
        }

        ViewHolder getScrapOrHiddenOrCachedHolderForPosition(int i, boolean z) {
            View findHiddenNonRemovedView;
            int size = this.mAttachedScrap.size();
            for (int i2 = 0; i2 < size; i2++) {
                ViewHolder viewHolder = this.mAttachedScrap.get(i2);
                if (!viewHolder.wasReturnedFromScrap() && viewHolder.getLayoutPosition() == i && !viewHolder.isInvalid() && (RecyclerView.this.mState.mInPreLayout || !viewHolder.isRemoved())) {
                    viewHolder.addFlags(32);
                    return viewHolder;
                }
            }
            if (!z && (findHiddenNonRemovedView = RecyclerView.this.mChildHelper.findHiddenNonRemovedView(i)) != null) {
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(findHiddenNonRemovedView);
                RecyclerView.this.mChildHelper.unhide(findHiddenNonRemovedView);
                int indexOfChild = RecyclerView.this.mChildHelper.indexOfChild(findHiddenNonRemovedView);
                if (indexOfChild == -1) {
                    throw new IllegalStateException("layout index should not be -1 after unhiding a view:" + childViewHolderInt + RecyclerView.this.exceptionLabel());
                }
                RecyclerView.this.mChildHelper.detachViewFromParent(indexOfChild);
                scrapView(findHiddenNonRemovedView);
                childViewHolderInt.addFlags(8224);
                return childViewHolderInt;
            }
            int size2 = this.mCachedViews.size();
            for (int i3 = 0; i3 < size2; i3++) {
                ViewHolder viewHolder2 = this.mCachedViews.get(i3);
                if (!viewHolder2.isInvalid() && viewHolder2.getLayoutPosition() == i) {
                    if (!z) {
                        this.mCachedViews.remove(i3);
                    }
                    return viewHolder2;
                }
            }
            return null;
        }

        ViewHolder getScrapOrCachedViewForId(long j, int i, boolean z) {
            for (int size = this.mAttachedScrap.size() - 1; size >= 0; size--) {
                ViewHolder viewHolder = this.mAttachedScrap.get(size);
                if (viewHolder.getItemId() == j && !viewHolder.wasReturnedFromScrap()) {
                    if (i == viewHolder.getItemViewType()) {
                        viewHolder.addFlags(32);
                        if (viewHolder.isRemoved() && !RecyclerView.this.mState.isPreLayout()) {
                            viewHolder.setFlags(2, 14);
                        }
                        return viewHolder;
                    }
                    if (!z) {
                        this.mAttachedScrap.remove(size);
                        RecyclerView.this.removeDetachedView(viewHolder.itemView, false);
                        quickRecycleScrapView(viewHolder.itemView);
                    }
                }
            }
            int size2 = this.mCachedViews.size();
            while (true) {
                size2--;
                if (size2 < 0) {
                    return null;
                }
                ViewHolder viewHolder2 = this.mCachedViews.get(size2);
                if (viewHolder2.getItemId() == j) {
                    if (i == viewHolder2.getItemViewType()) {
                        if (!z) {
                            this.mCachedViews.remove(size2);
                        }
                        return viewHolder2;
                    }
                    if (!z) {
                        recycleCachedViewAt(size2);
                        return null;
                    }
                }
            }
        }

        void dispatchViewRecycled(ViewHolder viewHolder) {
            RecyclerListener recyclerListener = RecyclerView.this.mRecyclerListener;
            if (recyclerListener != null) {
                recyclerListener.onViewRecycled(viewHolder);
            }
            Adapter adapter = RecyclerView.this.mAdapter;
            if (adapter != null) {
                adapter.onViewRecycled(viewHolder);
            }
            RecyclerView recyclerView = RecyclerView.this;
            if (recyclerView.mState != null) {
                recyclerView.mViewInfoStore.removeViewHolder(viewHolder);
            }
        }

        void onAdapterChanged(Adapter adapter, Adapter adapter2, boolean z) {
            clear();
            getRecycledViewPool().onAdapterChanged(adapter, adapter2, z);
        }

        void offsetPositionRecordsForMove(int i, int i2) {
            int i3;
            int i4;
            int i5;
            int i6;
            if (i < i2) {
                i3 = -1;
                i5 = i;
                i4 = i2;
            } else {
                i3 = 1;
                i4 = i;
                i5 = i2;
            }
            int size = this.mCachedViews.size();
            for (int i7 = 0; i7 < size; i7++) {
                ViewHolder viewHolder = this.mCachedViews.get(i7);
                if (viewHolder != null && (i6 = viewHolder.mPosition) >= i5 && i6 <= i4) {
                    if (i6 == i) {
                        viewHolder.offsetPosition(i2 - i, false);
                    } else {
                        viewHolder.offsetPosition(i3, false);
                    }
                }
            }
        }

        void offsetPositionRecordsForInsert(int i, int i2) {
            int size = this.mCachedViews.size();
            for (int i3 = 0; i3 < size; i3++) {
                ViewHolder viewHolder = this.mCachedViews.get(i3);
                if (viewHolder != null && viewHolder.mPosition >= i) {
                    viewHolder.offsetPosition(i2, true);
                }
            }
        }

        void offsetPositionRecordsForRemove(int i, int i2, boolean z) {
            int i3 = i + i2;
            for (int size = this.mCachedViews.size() - 1; size >= 0; size--) {
                ViewHolder viewHolder = this.mCachedViews.get(size);
                if (viewHolder != null) {
                    int i4 = viewHolder.mPosition;
                    if (i4 >= i3) {
                        viewHolder.offsetPosition(-i2, z);
                    } else if (i4 >= i) {
                        viewHolder.addFlags(8);
                        recycleCachedViewAt(size);
                    }
                }
            }
        }

        RecycledViewPool getRecycledViewPool() {
            if (this.mRecyclerPool == null) {
                this.mRecyclerPool = new RecycledViewPool();
            }
            return this.mRecyclerPool;
        }

        void viewRangeUpdate(int i, int i2) {
            int i3;
            int i4 = i2 + i;
            for (int size = this.mCachedViews.size() - 1; size >= 0; size--) {
                ViewHolder viewHolder = this.mCachedViews.get(size);
                if (viewHolder != null && (i3 = viewHolder.mPosition) >= i && i3 < i4) {
                    viewHolder.addFlags(2);
                    recycleCachedViewAt(size);
                }
            }
        }

        void markKnownViewsInvalid() {
            int size = this.mCachedViews.size();
            for (int i = 0; i < size; i++) {
                ViewHolder viewHolder = this.mCachedViews.get(i);
                if (viewHolder != null) {
                    viewHolder.addFlags(6);
                    viewHolder.addChangePayload(null);
                }
            }
            Adapter adapter = RecyclerView.this.mAdapter;
            if (adapter == null || !adapter.hasStableIds()) {
                recycleAndClearCachedViews();
            }
        }

        void clearOldPositions() {
            int size = this.mCachedViews.size();
            for (int i = 0; i < size; i++) {
                this.mCachedViews.get(i).clearOldPosition();
            }
            int size2 = this.mAttachedScrap.size();
            for (int i2 = 0; i2 < size2; i2++) {
                this.mAttachedScrap.get(i2).clearOldPosition();
            }
            ArrayList<ViewHolder> arrayList = this.mChangedScrap;
            if (arrayList != null) {
                int size3 = arrayList.size();
                for (int i3 = 0; i3 < size3; i3++) {
                    this.mChangedScrap.get(i3).clearOldPosition();
                }
            }
        }

        void markItemDecorInsetsDirty() {
            int size = this.mCachedViews.size();
            for (int i = 0; i < size; i++) {
                LayoutParams layoutParams = (LayoutParams) this.mCachedViews.get(i).itemView.getLayoutParams();
                if (layoutParams != null) {
                    layoutParams.mInsetsDirty = true;
                }
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class Adapter<VH extends ViewHolder> {
        private final AdapterDataObservable mObservable = new AdapterDataObservable();
        private boolean mHasStableIds = false;

        public abstract int getItemCount();

        public abstract long getItemId(int i);

        public abstract int getItemViewType(int i);

        public void onAttachedToRecyclerView(RecyclerView recyclerView) {
        }

        public abstract void onBindViewHolder(VH vh, int i);

        public abstract VH onCreateViewHolder(ViewGroup viewGroup, int i);

        public void onDetachedFromRecyclerView(RecyclerView recyclerView) {
        }

        public boolean onFailedToRecycleView(VH vh) {
            return false;
        }

        public void onViewAttachedToWindow(VH vh) {
        }

        public void onViewDetachedFromWindow(VH vh) {
        }

        public abstract void onViewRecycled(VH vh);

        public void onBindViewHolder(VH vh, int i, List<Object> list) {
            onBindViewHolder(vh, i);
        }

        public final VH createViewHolder(ViewGroup viewGroup, int i) {
            try {
                TraceCompat.beginSection("RV CreateView");
                VH onCreateViewHolder = onCreateViewHolder(viewGroup, i);
                if (onCreateViewHolder.itemView.getParent() != null) {
                    throw new IllegalStateException("ViewHolder views must not be attached when created. Ensure that you are not passing 'true' to the attachToRoot parameter of LayoutInflater.inflate(..., boolean attachToRoot)");
                }
                onCreateViewHolder.mItemViewType = i;
                return onCreateViewHolder;
            } finally {
                TraceCompat.endSection();
            }
        }

        public final void bindViewHolder(VH vh, int i) {
            vh.mPosition = i;
            if (hasStableIds()) {
                vh.mItemId = getItemId(i);
            }
            vh.setFlags(1, 519);
            TraceCompat.beginSection("RV OnBindView");
            onBindViewHolder(vh, i, vh.getUnmodifiedPayloads());
            vh.clearPayload();
            ViewGroup.LayoutParams layoutParams = vh.itemView.getLayoutParams();
            if (layoutParams instanceof LayoutParams) {
                ((LayoutParams) layoutParams).mInsetsDirty = true;
            }
            TraceCompat.endSection();
        }

        public void setHasStableIds(boolean z) {
            if (hasObservers()) {
                throw new IllegalStateException("Cannot change whether this adapter has stable IDs while the adapter has registered observers.");
            }
            this.mHasStableIds = z;
        }

        public final boolean hasStableIds() {
            return this.mHasStableIds;
        }

        public final boolean hasObservers() {
            return this.mObservable.hasObservers();
        }

        public void registerAdapterDataObserver(AdapterDataObserver adapterDataObserver) {
            this.mObservable.registerObserver(adapterDataObserver);
        }

        public void unregisterAdapterDataObserver(AdapterDataObserver adapterDataObserver) {
            this.mObservable.unregisterObserver(adapterDataObserver);
        }

        public final void notifyDataSetChanged() {
            this.mObservable.notifyChanged();
        }

        public final void notifyItemChanged(int i) {
            this.mObservable.notifyItemRangeChanged(i, 1);
        }
    }

    void dispatchChildDetached(View view) {
        ViewHolder childViewHolderInt = getChildViewHolderInt(view);
        onChildDetachedFromWindow(view);
        Adapter adapter = this.mAdapter;
        if (adapter != null && childViewHolderInt != null) {
            adapter.onViewDetachedFromWindow(childViewHolderInt);
        }
        List<OnChildAttachStateChangeListener> list = this.mOnChildAttachStateListeners;
        if (list != null) {
            for (int size = list.size() - 1; size >= 0; size--) {
                this.mOnChildAttachStateListeners.get(size).onChildViewDetachedFromWindow(view);
            }
        }
    }

    void dispatchChildAttached(View view) {
        ViewHolder childViewHolderInt = getChildViewHolderInt(view);
        onChildAttachedToWindow(view);
        Adapter adapter = this.mAdapter;
        if (adapter != null && childViewHolderInt != null) {
            adapter.onViewAttachedToWindow(childViewHolderInt);
        }
        List<OnChildAttachStateChangeListener> list = this.mOnChildAttachStateListeners;
        if (list != null) {
            for (int size = list.size() - 1; size >= 0; size--) {
                this.mOnChildAttachStateListeners.get(size).onChildViewAttachedToWindow(view);
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class LayoutManager {
        ChildHelper mChildHelper;
        private int mHeight;
        private int mHeightMode;
        int mPrefetchMaxCountObserved;
        boolean mPrefetchMaxObservedInInitialPrefetch;
        RecyclerView mRecyclerView;
        SmoothScroller mSmoothScroller;
        private int mWidth;
        private int mWidthMode;
        private final ViewBoundsCheck.Callback mHorizontalBoundCheckCallback = new ViewBoundsCheck.Callback() { // from class: android.support.v7.widget.RecyclerView.LayoutManager.1
            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public View getChildAt(int i) {
                return LayoutManager.this.getChildAt(i);
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getParentStart() {
                return LayoutManager.this.getPaddingLeft();
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getParentEnd() {
                return LayoutManager.this.getWidth() - LayoutManager.this.getPaddingRight();
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getChildStart(View view) {
                return LayoutManager.this.getDecoratedLeft(view) - ((ViewGroup.MarginLayoutParams) ((LayoutParams) view.getLayoutParams())).leftMargin;
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getChildEnd(View view) {
                return LayoutManager.this.getDecoratedRight(view) + ((ViewGroup.MarginLayoutParams) ((LayoutParams) view.getLayoutParams())).rightMargin;
            }
        };
        private final ViewBoundsCheck.Callback mVerticalBoundCheckCallback = new ViewBoundsCheck.Callback() { // from class: android.support.v7.widget.RecyclerView.LayoutManager.2
            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public View getChildAt(int i) {
                return LayoutManager.this.getChildAt(i);
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getParentStart() {
                return LayoutManager.this.getPaddingTop();
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getParentEnd() {
                return LayoutManager.this.getHeight() - LayoutManager.this.getPaddingBottom();
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getChildStart(View view) {
                return LayoutManager.this.getDecoratedTop(view) - ((ViewGroup.MarginLayoutParams) ((LayoutParams) view.getLayoutParams())).topMargin;
            }

            @Override // android.support.v7.widget.ViewBoundsCheck.Callback
            public int getChildEnd(View view) {
                return LayoutManager.this.getDecoratedBottom(view) + ((ViewGroup.MarginLayoutParams) ((LayoutParams) view.getLayoutParams())).bottomMargin;
            }
        };
        ViewBoundsCheck mHorizontalBoundCheck = new ViewBoundsCheck(this.mHorizontalBoundCheckCallback);
        ViewBoundsCheck mVerticalBoundCheck = new ViewBoundsCheck(this.mVerticalBoundCheckCallback);
        boolean mRequestedSimpleAnimations = false;
        boolean mIsAttachedToWindow = false;
        boolean mAutoMeasure = false;
        private boolean mMeasurementCacheEnabled = true;
        private boolean mItemPrefetchEnabled = true;

        /* loaded from: /content/classes1.dex */
        public interface LayoutPrefetchRegistry {
            void addPosition(int i, int i2);
        }

        /* loaded from: /content/classes1.dex */
        public static class Properties {
            public int orientation;
            public boolean reverseLayout;
            public int spanCount;
            public boolean stackFromEnd;
        }

        public boolean canScrollHorizontally() {
            return false;
        }

        public boolean canScrollVertically() {
            return false;
        }

        public boolean checkLayoutParams(LayoutParams layoutParams) {
            return layoutParams != null;
        }

        public void collectAdjacentPrefetchPositions(int i, int i2, State state, LayoutPrefetchRegistry layoutPrefetchRegistry) {
        }

        public void collectInitialPrefetchPositions(int i, LayoutPrefetchRegistry layoutPrefetchRegistry) {
        }

        public int computeHorizontalScrollExtent(State state) {
            return 0;
        }

        public int computeHorizontalScrollOffset(State state) {
            return 0;
        }

        public int computeHorizontalScrollRange(State state) {
            return 0;
        }

        public int computeVerticalScrollExtent(State state) {
            return 0;
        }

        public int computeVerticalScrollOffset(State state) {
            return 0;
        }

        public int computeVerticalScrollRange(State state) {
            return 0;
        }

        public abstract LayoutParams generateDefaultLayoutParams();

        public int getBaseline() {
            return -1;
        }

        public int getSelectionModeForAccessibility(Recycler recycler, State state) {
            return 0;
        }

        public boolean isLayoutHierarchical(Recycler recycler, State state) {
            return false;
        }

        public void onAdapterChanged(Adapter adapter, Adapter adapter2) {
        }

        public boolean onAddFocusables(RecyclerView recyclerView, ArrayList<View> arrayList, int i, int i2) {
            return false;
        }

        public void onAttachedToWindow(RecyclerView recyclerView) {
        }

        @Deprecated
        public void onDetachedFromWindow(RecyclerView recyclerView) {
        }

        public View onFocusSearchFailed(View view, int i, Recycler recycler, State state) {
            return null;
        }

        public View onInterceptFocusSearch(View view, int i) {
            return null;
        }

        public void onItemsAdded(RecyclerView recyclerView, int i, int i2) {
        }

        public void onItemsChanged(RecyclerView recyclerView) {
        }

        public void onItemsMoved(RecyclerView recyclerView, int i, int i2, int i3) {
        }

        public void onItemsRemoved(RecyclerView recyclerView, int i, int i2) {
        }

        public void onItemsUpdated(RecyclerView recyclerView, int i, int i2) {
        }

        public void onLayoutCompleted(State state) {
        }

        public void onRestoreInstanceState(Parcelable parcelable) {
        }

        public Parcelable onSaveInstanceState() {
            return null;
        }

        public void onScrollStateChanged(int i) {
        }

        public boolean performAccessibilityActionForItem(Recycler recycler, State state, View view, int i, Bundle bundle) {
            return false;
        }

        public int scrollHorizontallyBy(int i, Recycler recycler, State state) {
            return 0;
        }

        public int scrollVerticallyBy(int i, Recycler recycler, State state) {
            return 0;
        }

        boolean shouldMeasureTwice() {
            return false;
        }

        public boolean supportsPredictiveItemAnimations() {
            return false;
        }

        void setRecyclerView(RecyclerView recyclerView) {
            if (recyclerView == null) {
                this.mRecyclerView = null;
                this.mChildHelper = null;
                this.mWidth = 0;
                this.mHeight = 0;
            } else {
                this.mRecyclerView = recyclerView;
                this.mChildHelper = recyclerView.mChildHelper;
                this.mWidth = recyclerView.getWidth();
                this.mHeight = recyclerView.getHeight();
            }
            this.mWidthMode = 1073741824;
            this.mHeightMode = 1073741824;
        }

        void setMeasureSpecs(int i, int i2) {
            this.mWidth = View.MeasureSpec.getSize(i);
            int mode = View.MeasureSpec.getMode(i);
            this.mWidthMode = mode;
            if (mode == 0 && !RecyclerView.ALLOW_SIZE_IN_UNSPECIFIED_SPEC) {
                this.mWidth = 0;
            }
            this.mHeight = View.MeasureSpec.getSize(i2);
            int mode2 = View.MeasureSpec.getMode(i2);
            this.mHeightMode = mode2;
            if (mode2 != 0 || RecyclerView.ALLOW_SIZE_IN_UNSPECIFIED_SPEC) {
                return;
            }
            this.mHeight = 0;
        }

        void setMeasuredDimensionFromChildren(int i, int i2) {
            int childCount = getChildCount();
            if (childCount == 0) {
                this.mRecyclerView.defaultOnMeasure(i, i2);
                return;
            }
            int i3 = Integer.MIN_VALUE;
            int i4 = Integer.MAX_VALUE;
            int i5 = Integer.MAX_VALUE;
            int i6 = Integer.MIN_VALUE;
            for (int i7 = 0; i7 < childCount; i7++) {
                View childAt = getChildAt(i7);
                Rect rect = this.mRecyclerView.mTempRect;
                getDecoratedBoundsWithMargins(childAt, rect);
                int i8 = rect.left;
                if (i8 < i4) {
                    i4 = i8;
                }
                int i9 = rect.right;
                if (i9 > i3) {
                    i3 = i9;
                }
                int i10 = rect.top;
                if (i10 < i5) {
                    i5 = i10;
                }
                int i11 = rect.bottom;
                if (i11 > i6) {
                    i6 = i11;
                }
            }
            this.mRecyclerView.mTempRect.set(i4, i5, i3, i6);
            setMeasuredDimension(this.mRecyclerView.mTempRect, i, i2);
        }

        public void setMeasuredDimension(Rect rect, int i, int i2) {
            setMeasuredDimension(chooseSize(i, rect.width() + getPaddingLeft() + getPaddingRight(), getMinimumWidth()), chooseSize(i2, rect.height() + getPaddingTop() + getPaddingBottom(), getMinimumHeight()));
        }

        public void requestLayout() {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                recyclerView.requestLayout();
            }
        }

        public static int chooseSize(int i, int i2, int i3) {
            int mode = View.MeasureSpec.getMode(i);
            int size = View.MeasureSpec.getSize(i);
            if (mode != Integer.MIN_VALUE) {
                return mode != 1073741824 ? Math.max(i2, i3) : size;
            }
            return Math.min(size, Math.max(i2, i3));
        }

        public void assertNotInLayoutOrScroll(String str) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                recyclerView.assertNotInLayoutOrScroll(str);
            }
        }

        public boolean isAutoMeasureEnabled() {
            return this.mAutoMeasure;
        }

        public final boolean isItemPrefetchEnabled() {
            return this.mItemPrefetchEnabled;
        }

        void dispatchAttachedToWindow(RecyclerView recyclerView) {
            this.mIsAttachedToWindow = true;
            onAttachedToWindow(recyclerView);
        }

        void dispatchDetachedFromWindow(RecyclerView recyclerView, Recycler recycler) {
            this.mIsAttachedToWindow = false;
            onDetachedFromWindow(recyclerView, recycler);
        }

        public boolean isAttachedToWindow() {
            return this.mIsAttachedToWindow;
        }

        public boolean removeCallbacks(Runnable runnable) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                return recyclerView.removeCallbacks(runnable);
            }
            return false;
        }

        public void onDetachedFromWindow(RecyclerView recyclerView, Recycler recycler) {
            onDetachedFromWindow(recyclerView);
        }

        public boolean getClipToPadding() {
            RecyclerView recyclerView = this.mRecyclerView;
            return recyclerView != null && recyclerView.mClipToPadding;
        }

        public void onLayoutChildren(Recycler recycler, State state) {
            Log.e("RecyclerView", "You must override onLayoutChildren(Recycler recycler, State state) ");
        }

        public LayoutParams generateLayoutParams(ViewGroup.LayoutParams layoutParams) {
            if (layoutParams instanceof LayoutParams) {
                return new LayoutParams((LayoutParams) layoutParams);
            }
            if (layoutParams instanceof ViewGroup.MarginLayoutParams) {
                return new LayoutParams((ViewGroup.MarginLayoutParams) layoutParams);
            }
            return new LayoutParams(layoutParams);
        }

        public LayoutParams generateLayoutParams(Context context, AttributeSet attributeSet) {
            return new LayoutParams(context, attributeSet);
        }

        public boolean isSmoothScrolling() {
            SmoothScroller smoothScroller = this.mSmoothScroller;
            return smoothScroller != null && smoothScroller.isRunning();
        }

        public int getLayoutDirection() {
            return ViewCompat.getLayoutDirection(this.mRecyclerView);
        }

        public void addDisappearingView(View view) {
            addDisappearingView(view, -1);
        }

        public void addDisappearingView(View view, int i) {
            addViewInt(view, i, true);
        }

        public void addView(View view) {
            addView(view, -1);
        }

        public void addView(View view, int i) {
            addViewInt(view, i, false);
        }

        private void addViewInt(View view, int i, boolean z) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (z || childViewHolderInt.isRemoved()) {
                this.mRecyclerView.mViewInfoStore.addToDisappearedInLayout(childViewHolderInt);
            } else {
                this.mRecyclerView.mViewInfoStore.removeFromDisappearedInLayout(childViewHolderInt);
            }
            LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
            if (childViewHolderInt.wasReturnedFromScrap() || childViewHolderInt.isScrap()) {
                if (childViewHolderInt.isScrap()) {
                    childViewHolderInt.unScrap();
                } else {
                    childViewHolderInt.clearReturnedFromScrapFlag();
                }
                this.mChildHelper.attachViewToParent(view, i, view.getLayoutParams(), false);
            } else if (view.getParent() == this.mRecyclerView) {
                int indexOfChild = this.mChildHelper.indexOfChild(view);
                if (i == -1) {
                    i = this.mChildHelper.getChildCount();
                }
                if (indexOfChild == -1) {
                    throw new IllegalStateException("Added View has RecyclerView as parent but view is not a real child. Unfiltered index:" + this.mRecyclerView.indexOfChild(view) + this.mRecyclerView.exceptionLabel());
                }
                if (indexOfChild != i) {
                    this.mRecyclerView.mLayout.moveView(indexOfChild, i);
                }
            } else {
                this.mChildHelper.addView(view, i, false);
                layoutParams.mInsetsDirty = true;
                SmoothScroller smoothScroller = this.mSmoothScroller;
                if (smoothScroller != null && smoothScroller.isRunning()) {
                    this.mSmoothScroller.onChildAttachedToWindow(view);
                }
            }
            if (layoutParams.mPendingInvalidate) {
                childViewHolderInt.itemView.invalidate();
                layoutParams.mPendingInvalidate = false;
            }
        }

        public void removeView(View view) {
            this.mChildHelper.removeView(view);
        }

        public void removeViewAt(int i) {
            if (getChildAt(i) != null) {
                this.mChildHelper.removeViewAt(i);
            }
        }

        public int getPosition(View view) {
            return ((LayoutParams) view.getLayoutParams()).getViewLayoutPosition();
        }

        public View findContainingItemView(View view) {
            View findContainingItemView;
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null || (findContainingItemView = recyclerView.findContainingItemView(view)) == null || this.mChildHelper.isHidden(findContainingItemView)) {
                return null;
            }
            return findContainingItemView;
        }

        public View findViewByPosition(int i) {
            int childCount = getChildCount();
            for (int i2 = 0; i2 < childCount; i2++) {
                View childAt = getChildAt(i2);
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(childAt);
                if (childViewHolderInt != null && childViewHolderInt.getLayoutPosition() == i && !childViewHolderInt.shouldIgnore() && (this.mRecyclerView.mState.isPreLayout() || !childViewHolderInt.isRemoved())) {
                    return childAt;
                }
            }
            return null;
        }

        public void detachViewAt(int i) {
            detachViewInternal(i, getChildAt(i));
        }

        private void detachViewInternal(int i, View view) {
            this.mChildHelper.detachViewFromParent(i);
        }

        public void attachView(View view, int i, LayoutParams layoutParams) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (childViewHolderInt.isRemoved()) {
                this.mRecyclerView.mViewInfoStore.addToDisappearedInLayout(childViewHolderInt);
            } else {
                this.mRecyclerView.mViewInfoStore.removeFromDisappearedInLayout(childViewHolderInt);
            }
            this.mChildHelper.attachViewToParent(view, i, layoutParams, childViewHolderInt.isRemoved());
        }

        public void attachView(View view, int i) {
            attachView(view, i, (LayoutParams) view.getLayoutParams());
        }

        public void moveView(int i, int i2) {
            View childAt = getChildAt(i);
            if (childAt == null) {
                throw new IllegalArgumentException("Cannot move a child from non-existing index:" + i + this.mRecyclerView.toString());
            }
            detachViewAt(i);
            attachView(childAt, i2);
        }

        public void removeAndRecycleView(View view, Recycler recycler) {
            removeView(view);
            recycler.recycleView(view);
        }

        public void removeAndRecycleViewAt(int i, Recycler recycler) {
            View childAt = getChildAt(i);
            removeViewAt(i);
            recycler.recycleView(childAt);
        }

        public int getChildCount() {
            ChildHelper childHelper = this.mChildHelper;
            if (childHelper != null) {
                return childHelper.getChildCount();
            }
            return 0;
        }

        public View getChildAt(int i) {
            ChildHelper childHelper = this.mChildHelper;
            if (childHelper != null) {
                return childHelper.getChildAt(i);
            }
            return null;
        }

        public int getWidthMode() {
            return this.mWidthMode;
        }

        public int getHeightMode() {
            return this.mHeightMode;
        }

        public int getWidth() {
            return this.mWidth;
        }

        public int getHeight() {
            return this.mHeight;
        }

        public int getPaddingLeft() {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                return recyclerView.getPaddingLeft();
            }
            return 0;
        }

        public int getPaddingTop() {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                return recyclerView.getPaddingTop();
            }
            return 0;
        }

        public int getPaddingRight() {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                return recyclerView.getPaddingRight();
            }
            return 0;
        }

        public int getPaddingBottom() {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                return recyclerView.getPaddingBottom();
            }
            return 0;
        }

        public View getFocusedChild() {
            View focusedChild;
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null || (focusedChild = recyclerView.getFocusedChild()) == null || this.mChildHelper.isHidden(focusedChild)) {
                return null;
            }
            return focusedChild;
        }

        public void offsetChildrenHorizontal(int i) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                recyclerView.offsetChildrenHorizontal(i);
            }
        }

        public void offsetChildrenVertical(int i) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView != null) {
                recyclerView.offsetChildrenVertical(i);
            }
        }

        public void detachAndScrapAttachedViews(Recycler recycler) {
            for (int childCount = getChildCount() - 1; childCount >= 0; childCount--) {
                scrapOrRecycleView(recycler, childCount, getChildAt(childCount));
            }
        }

        private void scrapOrRecycleView(Recycler recycler, int i, View view) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (childViewHolderInt.shouldIgnore()) {
                return;
            }
            if (childViewHolderInt.isInvalid() && !childViewHolderInt.isRemoved() && !this.mRecyclerView.mAdapter.hasStableIds()) {
                removeViewAt(i);
                recycler.recycleViewHolderInternal(childViewHolderInt);
            } else {
                detachViewAt(i);
                recycler.scrapView(view);
                this.mRecyclerView.mViewInfoStore.onViewDetached(childViewHolderInt);
            }
        }

        void removeAndRecycleScrapInt(Recycler recycler) {
            int scrapCount = recycler.getScrapCount();
            for (int i = scrapCount - 1; i >= 0; i--) {
                View scrapViewAt = recycler.getScrapViewAt(i);
                ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(scrapViewAt);
                if (!childViewHolderInt.shouldIgnore()) {
                    childViewHolderInt.setIsRecyclable(false);
                    if (childViewHolderInt.isTmpDetached()) {
                        this.mRecyclerView.removeDetachedView(scrapViewAt, false);
                    }
                    ItemAnimator itemAnimator = this.mRecyclerView.mItemAnimator;
                    if (itemAnimator != null) {
                        itemAnimator.endAnimation(childViewHolderInt);
                    }
                    childViewHolderInt.setIsRecyclable(true);
                    recycler.quickRecycleScrapView(scrapViewAt);
                }
            }
            recycler.clearScrap();
            if (scrapCount > 0) {
                this.mRecyclerView.invalidate();
            }
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean shouldReMeasureChild(View view, int i, int i2, LayoutParams layoutParams) {
            return (this.mMeasurementCacheEnabled && isMeasurementUpToDate(view.getMeasuredWidth(), i, ((ViewGroup.MarginLayoutParams) layoutParams).width) && isMeasurementUpToDate(view.getMeasuredHeight(), i2, ((ViewGroup.MarginLayoutParams) layoutParams).height)) ? false : true;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean shouldMeasureChild(View view, int i, int i2, LayoutParams layoutParams) {
            return (!view.isLayoutRequested() && this.mMeasurementCacheEnabled && isMeasurementUpToDate(view.getWidth(), i, ((ViewGroup.MarginLayoutParams) layoutParams).width) && isMeasurementUpToDate(view.getHeight(), i2, ((ViewGroup.MarginLayoutParams) layoutParams).height)) ? false : true;
        }

        private static boolean isMeasurementUpToDate(int i, int i2, int i3) {
            int mode = View.MeasureSpec.getMode(i2);
            int size = View.MeasureSpec.getSize(i2);
            if (i3 > 0 && i != i3) {
                return false;
            }
            if (mode == Integer.MIN_VALUE) {
                return size >= i;
            }
            if (mode != 0) {
                return mode == 1073741824 && size == i;
            }
            return true;
        }

        public void measureChildWithMargins(View view, int i, int i2) {
            LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
            Rect itemDecorInsetsForChild = this.mRecyclerView.getItemDecorInsetsForChild(view);
            int i3 = i + itemDecorInsetsForChild.left + itemDecorInsetsForChild.right;
            int i4 = i2 + itemDecorInsetsForChild.top + itemDecorInsetsForChild.bottom;
            int childMeasureSpec = getChildMeasureSpec(getWidth(), getWidthMode(), getPaddingLeft() + getPaddingRight() + ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin + ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin + i3, ((ViewGroup.MarginLayoutParams) layoutParams).width, canScrollHorizontally());
            int childMeasureSpec2 = getChildMeasureSpec(getHeight(), getHeightMode(), getPaddingTop() + getPaddingBottom() + ((ViewGroup.MarginLayoutParams) layoutParams).topMargin + ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin + i4, ((ViewGroup.MarginLayoutParams) layoutParams).height, canScrollVertically());
            if (shouldMeasureChild(view, childMeasureSpec, childMeasureSpec2, layoutParams)) {
                view.measure(childMeasureSpec, childMeasureSpec2);
            }
        }

        /* JADX WARN: Code restructure failed: missing block: B:7:0x0017, code lost:
        
            if (r5 == 1073741824) goto L14;
         */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public static int getChildMeasureSpec(int r4, int r5, int r6, int r7, boolean r8) {
            /*
                int r4 = r4 - r6
                r6 = 0
                int r4 = java.lang.Math.max(r6, r4)
                r0 = -2
                r1 = -1
                r2 = -2147483648(0xffffffff80000000, float:-0.0)
                r3 = 1073741824(0x40000000, float:2.0)
                if (r8 == 0) goto L1a
                if (r7 < 0) goto L11
                goto L1c
            L11:
                if (r7 != r1) goto L2f
                if (r5 == r2) goto L20
                if (r5 == 0) goto L2f
                if (r5 == r3) goto L20
                goto L2f
            L1a:
                if (r7 < 0) goto L1e
            L1c:
                r5 = r3
                goto L31
            L1e:
                if (r7 != r1) goto L22
            L20:
                r7 = r4
                goto L31
            L22:
                if (r7 != r0) goto L2f
                if (r5 == r2) goto L2c
                if (r5 != r3) goto L29
                goto L2c
            L29:
                r7 = r4
                r5 = r6
                goto L31
            L2c:
                r7 = r4
                r5 = r2
                goto L31
            L2f:
                r5 = r6
                r7 = r5
            L31:
                int r4 = android.view.View.MeasureSpec.makeMeasureSpec(r7, r5)
                return r4
            */
            throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.RecyclerView.LayoutManager.getChildMeasureSpec(int, int, int, int, boolean):int");
        }

        public int getDecoratedMeasuredWidth(View view) {
            Rect rect = ((LayoutParams) view.getLayoutParams()).mDecorInsets;
            return view.getMeasuredWidth() + rect.left + rect.right;
        }

        public int getDecoratedMeasuredHeight(View view) {
            Rect rect = ((LayoutParams) view.getLayoutParams()).mDecorInsets;
            return view.getMeasuredHeight() + rect.top + rect.bottom;
        }

        public void layoutDecoratedWithMargins(View view, int i, int i2, int i3, int i4) {
            LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
            Rect rect = layoutParams.mDecorInsets;
            view.layout(i + rect.left + ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin, i2 + rect.top + ((ViewGroup.MarginLayoutParams) layoutParams).topMargin, (i3 - rect.right) - ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin, (i4 - rect.bottom) - ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin);
        }

        public void getTransformedBoundingBox(View view, boolean z, Rect rect) {
            Matrix matrix;
            if (z) {
                Rect rect2 = ((LayoutParams) view.getLayoutParams()).mDecorInsets;
                rect.set(-rect2.left, -rect2.top, view.getWidth() + rect2.right, view.getHeight() + rect2.bottom);
            } else {
                rect.set(0, 0, view.getWidth(), view.getHeight());
            }
            if (this.mRecyclerView != null && (matrix = view.getMatrix()) != null && !matrix.isIdentity()) {
                RectF rectF = this.mRecyclerView.mTempRectF;
                rectF.set(rect);
                matrix.mapRect(rectF);
                rect.set((int) Math.floor(rectF.left), (int) Math.floor(rectF.top), (int) Math.ceil(rectF.right), (int) Math.ceil(rectF.bottom));
            }
            rect.offset(view.getLeft(), view.getTop());
        }

        public void getDecoratedBoundsWithMargins(View view, Rect rect) {
            RecyclerView.getDecoratedBoundsWithMarginsInt(view, rect);
        }

        public int getDecoratedLeft(View view) {
            return view.getLeft() - getLeftDecorationWidth(view);
        }

        public int getDecoratedTop(View view) {
            return view.getTop() - getTopDecorationHeight(view);
        }

        public int getDecoratedRight(View view) {
            return view.getRight() + getRightDecorationWidth(view);
        }

        public int getDecoratedBottom(View view) {
            return view.getBottom() + getBottomDecorationHeight(view);
        }

        public void calculateItemDecorationsForChild(View view, Rect rect) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null) {
                rect.set(0, 0, 0, 0);
            } else {
                rect.set(recyclerView.getItemDecorInsetsForChild(view));
            }
        }

        public int getTopDecorationHeight(View view) {
            return ((LayoutParams) view.getLayoutParams()).mDecorInsets.top;
        }

        public int getBottomDecorationHeight(View view) {
            return ((LayoutParams) view.getLayoutParams()).mDecorInsets.bottom;
        }

        public int getLeftDecorationWidth(View view) {
            return ((LayoutParams) view.getLayoutParams()).mDecorInsets.left;
        }

        public int getRightDecorationWidth(View view) {
            return ((LayoutParams) view.getLayoutParams()).mDecorInsets.right;
        }

        private int[] getChildRectangleOnScreenScrollAmount(RecyclerView recyclerView, View view, Rect rect, boolean z) {
            int[] iArr = new int[2];
            int paddingLeft = getPaddingLeft();
            int paddingTop = getPaddingTop();
            int width = getWidth() - getPaddingRight();
            int height = getHeight() - getPaddingBottom();
            int left = (view.getLeft() + rect.left) - view.getScrollX();
            int top = (view.getTop() + rect.top) - view.getScrollY();
            int width2 = rect.width() + left;
            int height2 = rect.height() + top;
            int i = left - paddingLeft;
            int min = Math.min(0, i);
            int i2 = top - paddingTop;
            int min2 = Math.min(0, i2);
            int i3 = width2 - width;
            int max = Math.max(0, i3);
            int max2 = Math.max(0, height2 - height);
            if (getLayoutDirection() != 1) {
                if (min == 0) {
                    min = Math.min(i, max);
                }
                max = min;
            } else if (max == 0) {
                max = Math.max(min, i3);
            }
            if (min2 == 0) {
                min2 = Math.min(i2, max2);
            }
            iArr[0] = max;
            iArr[1] = min2;
            return iArr;
        }

        public boolean requestChildRectangleOnScreen(RecyclerView recyclerView, View view, Rect rect, boolean z) {
            return requestChildRectangleOnScreen(recyclerView, view, rect, z, false);
        }

        public boolean requestChildRectangleOnScreen(RecyclerView recyclerView, View view, Rect rect, boolean z, boolean z2) {
            int[] childRectangleOnScreenScrollAmount = getChildRectangleOnScreenScrollAmount(recyclerView, view, rect, z);
            int i = childRectangleOnScreenScrollAmount[0];
            int i2 = childRectangleOnScreenScrollAmount[1];
            if ((z2 && !isFocusedChildVisibleAfterScrolling(recyclerView, i, i2)) || (i == 0 && i2 == 0)) {
                return false;
            }
            if (z) {
                recyclerView.scrollBy(i, i2);
            } else {
                recyclerView.smoothScrollBy(i, i2);
            }
            return true;
        }

        public boolean isViewPartiallyVisible(View view, boolean z, boolean z2) {
            boolean z3 = this.mHorizontalBoundCheck.isViewWithinBoundFlags(view, 24579) && this.mVerticalBoundCheck.isViewWithinBoundFlags(view, 24579);
            return z ? z3 : !z3;
        }

        private boolean isFocusedChildVisibleAfterScrolling(RecyclerView recyclerView, int i, int i2) {
            View focusedChild = recyclerView.getFocusedChild();
            if (focusedChild == null) {
                return false;
            }
            int paddingLeft = getPaddingLeft();
            int paddingTop = getPaddingTop();
            int width = getWidth() - getPaddingRight();
            int height = getHeight() - getPaddingBottom();
            Rect rect = this.mRecyclerView.mTempRect;
            getDecoratedBoundsWithMargins(focusedChild, rect);
            return rect.left - i < width && rect.right - i > paddingLeft && rect.top - i2 < height && rect.bottom - i2 > paddingTop;
        }

        @Deprecated
        public boolean onRequestChildFocus(RecyclerView recyclerView, View view, View view2) {
            return isSmoothScrolling() || recyclerView.isComputingLayout();
        }

        public boolean onRequestChildFocus(RecyclerView recyclerView, State state, View view, View view2) {
            return onRequestChildFocus(recyclerView, view, view2);
        }

        public void onItemsUpdated(RecyclerView recyclerView, int i, int i2, Object obj) {
            onItemsUpdated(recyclerView, i, i2);
        }

        public void onMeasure(Recycler recycler, State state, int i, int i2) {
            this.mRecyclerView.defaultOnMeasure(i, i2);
        }

        public void setMeasuredDimension(int i, int i2) {
            this.mRecyclerView.setMeasuredDimension(i, i2);
        }

        public int getMinimumWidth() {
            return ViewCompat.getMinimumWidth(this.mRecyclerView);
        }

        public int getMinimumHeight() {
            return ViewCompat.getMinimumHeight(this.mRecyclerView);
        }

        void stopSmoothScroller() {
            SmoothScroller smoothScroller = this.mSmoothScroller;
            if (smoothScroller == null) {
                return;
            }
            smoothScroller.stop();
            throw null;
        }

        public void removeAndRecycleAllViews(Recycler recycler) {
            for (int childCount = getChildCount() - 1; childCount >= 0; childCount--) {
                if (!RecyclerView.getChildViewHolderInt(getChildAt(childCount)).shouldIgnore()) {
                    removeAndRecycleViewAt(childCount, recycler);
                }
            }
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
            RecyclerView recyclerView = this.mRecyclerView;
            onInitializeAccessibilityNodeInfo(recyclerView.mRecycler, recyclerView.mState, accessibilityNodeInfoCompat);
        }

        public void onInitializeAccessibilityNodeInfo(Recycler recycler, State state, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
            if (this.mRecyclerView.canScrollVertically(-1) || this.mRecyclerView.canScrollHorizontally(-1)) {
                accessibilityNodeInfoCompat.addAction(8192);
                accessibilityNodeInfoCompat.setScrollable(true);
            }
            if (this.mRecyclerView.canScrollVertically(1) || this.mRecyclerView.canScrollHorizontally(1)) {
                accessibilityNodeInfoCompat.addAction(4096);
                accessibilityNodeInfoCompat.setScrollable(true);
            }
            accessibilityNodeInfoCompat.setCollectionInfo(AccessibilityNodeInfoCompat.CollectionInfoCompat.obtain(getRowCountForAccessibility(recycler, state), getColumnCountForAccessibility(recycler, state), isLayoutHierarchical(recycler, state), getSelectionModeForAccessibility(recycler, state)));
        }

        public void onInitializeAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
            RecyclerView recyclerView = this.mRecyclerView;
            onInitializeAccessibilityEvent(recyclerView.mRecycler, recyclerView.mState, accessibilityEvent);
        }

        public void onInitializeAccessibilityEvent(Recycler recycler, State state, AccessibilityEvent accessibilityEvent) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null || accessibilityEvent == null) {
                return;
            }
            boolean z = true;
            if (!recyclerView.canScrollVertically(1) && !this.mRecyclerView.canScrollVertically(-1) && !this.mRecyclerView.canScrollHorizontally(-1) && !this.mRecyclerView.canScrollHorizontally(1)) {
                z = false;
            }
            accessibilityEvent.setScrollable(z);
            Adapter adapter = this.mRecyclerView.mAdapter;
            if (adapter != null) {
                accessibilityEvent.setItemCount(adapter.getItemCount());
            }
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void onInitializeAccessibilityNodeInfoForItem(View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
            ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(view);
            if (childViewHolderInt == null || childViewHolderInt.isRemoved() || this.mChildHelper.isHidden(childViewHolderInt.itemView)) {
                return;
            }
            RecyclerView recyclerView = this.mRecyclerView;
            onInitializeAccessibilityNodeInfoForItem(recyclerView.mRecycler, recyclerView.mState, view, accessibilityNodeInfoCompat);
        }

        public void onInitializeAccessibilityNodeInfoForItem(Recycler recycler, State state, View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
            accessibilityNodeInfoCompat.setCollectionItemInfo(AccessibilityNodeInfoCompat.CollectionItemInfoCompat.obtain(canScrollVertically() ? getPosition(view) : 0, 1, canScrollHorizontally() ? getPosition(view) : 0, 1, false, false));
        }

        public void requestSimpleAnimationsInNextLayout() {
            this.mRequestedSimpleAnimations = true;
        }

        public int getRowCountForAccessibility(Recycler recycler, State state) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null || recyclerView.mAdapter == null || !canScrollVertically()) {
                return 1;
            }
            return this.mRecyclerView.mAdapter.getItemCount();
        }

        public int getColumnCountForAccessibility(Recycler recycler, State state) {
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null || recyclerView.mAdapter == null || !canScrollHorizontally()) {
                return 1;
            }
            return this.mRecyclerView.mAdapter.getItemCount();
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean performAccessibilityAction(int i, Bundle bundle) {
            RecyclerView recyclerView = this.mRecyclerView;
            return performAccessibilityAction(recyclerView.mRecycler, recyclerView.mState, i, bundle);
        }

        public boolean performAccessibilityAction(Recycler recycler, State state, int i, Bundle bundle) {
            int height;
            int width;
            RecyclerView recyclerView = this.mRecyclerView;
            if (recyclerView == null) {
                return false;
            }
            if (i == 4096) {
                height = recyclerView.canScrollVertically(1) ? (getHeight() - getPaddingTop()) - getPaddingBottom() : 0;
                if (this.mRecyclerView.canScrollHorizontally(1)) {
                    width = (getWidth() - getPaddingLeft()) - getPaddingRight();
                }
                width = 0;
            } else if (i != 8192) {
                height = 0;
                width = 0;
            } else {
                height = recyclerView.canScrollVertically(-1) ? -((getHeight() - getPaddingTop()) - getPaddingBottom()) : 0;
                if (this.mRecyclerView.canScrollHorizontally(-1)) {
                    width = -((getWidth() - getPaddingLeft()) - getPaddingRight());
                }
                width = 0;
            }
            if (height == 0 && width == 0) {
                return false;
            }
            this.mRecyclerView.smoothScrollBy(width, height);
            return true;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean performAccessibilityActionForItem(View view, int i, Bundle bundle) {
            RecyclerView recyclerView = this.mRecyclerView;
            return performAccessibilityActionForItem(recyclerView.mRecycler, recyclerView.mState, view, i, bundle);
        }

        public static Properties getProperties(Context context, AttributeSet attributeSet, int i, int i2) {
            Properties properties = new Properties();
            TypedArray obtainStyledAttributes = context.obtainStyledAttributes(attributeSet, R$styleable.RecyclerView, i, i2);
            properties.orientation = obtainStyledAttributes.getInt(R$styleable.RecyclerView_android_orientation, 1);
            properties.spanCount = obtainStyledAttributes.getInt(R$styleable.RecyclerView_spanCount, 1);
            properties.reverseLayout = obtainStyledAttributes.getBoolean(R$styleable.RecyclerView_reverseLayout, false);
            properties.stackFromEnd = obtainStyledAttributes.getBoolean(R$styleable.RecyclerView_stackFromEnd, false);
            obtainStyledAttributes.recycle();
            return properties;
        }

        void setExactMeasureSpecsFrom(RecyclerView recyclerView) {
            setMeasureSpecs(View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(), 1073741824), View.MeasureSpec.makeMeasureSpec(recyclerView.getHeight(), 1073741824));
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean hasFlexibleChildInBothOrientations() {
            int childCount = getChildCount();
            for (int i = 0; i < childCount; i++) {
                ViewGroup.LayoutParams layoutParams = getChildAt(i).getLayoutParams();
                if (layoutParams.width < 0 && layoutParams.height < 0) {
                    return true;
                }
            }
            return false;
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class ItemDecoration {
        @Deprecated
        public void onDraw(Canvas canvas, RecyclerView recyclerView) {
        }

        @Deprecated
        public void onDrawOver(Canvas canvas, RecyclerView recyclerView) {
        }

        public void onDraw(Canvas canvas, RecyclerView recyclerView, State state) {
            onDraw(canvas, recyclerView);
        }

        public void onDrawOver(Canvas canvas, RecyclerView recyclerView, State state) {
            onDrawOver(canvas, recyclerView);
        }

        @Deprecated
        public void getItemOffsets(Rect rect, int i, RecyclerView recyclerView) {
            rect.set(0, 0, 0, 0);
        }

        public void getItemOffsets(Rect rect, View view, RecyclerView recyclerView, State state) {
            getItemOffsets(rect, ((LayoutParams) view.getLayoutParams()).getViewLayoutPosition(), recyclerView);
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class ViewHolder {
        private static final List<Object> FULLUPDATE_PAYLOADS = Collections.EMPTY_LIST;
        public final View itemView;
        private int mFlags;
        WeakReference<RecyclerView> mNestedRecyclerView;
        RecyclerView mOwnerRecyclerView;
        int mPosition = -1;
        int mOldPosition = -1;
        long mItemId = -1;
        int mItemViewType = -1;
        int mPreLayoutPosition = -1;
        ViewHolder mShadowedHolder = null;
        ViewHolder mShadowingHolder = null;
        List<Object> mPayloads = null;
        List<Object> mUnmodifiedPayloads = null;
        private int mIsRecyclableCount = 0;
        private Recycler mScrapContainer = null;
        private boolean mInChangeScrap = false;
        private int mWasImportantForAccessibilityBeforeHidden = 0;
        int mPendingAccessibilityState = -1;

        public ViewHolder(View view) {
            if (view == null) {
                throw new IllegalArgumentException("itemView may not be null");
            }
            this.itemView = view;
        }

        void flagRemovedAndOffsetPosition(int i, int i2, boolean z) {
            addFlags(8);
            offsetPosition(i2, z);
            this.mPosition = i;
        }

        void offsetPosition(int i, boolean z) {
            if (this.mOldPosition == -1) {
                this.mOldPosition = this.mPosition;
            }
            if (this.mPreLayoutPosition == -1) {
                this.mPreLayoutPosition = this.mPosition;
            }
            if (z) {
                this.mPreLayoutPosition += i;
            }
            this.mPosition += i;
            if (this.itemView.getLayoutParams() != null) {
                ((LayoutParams) this.itemView.getLayoutParams()).mInsetsDirty = true;
            }
        }

        void clearOldPosition() {
            this.mOldPosition = -1;
            this.mPreLayoutPosition = -1;
        }

        void saveOldPosition() {
            if (this.mOldPosition == -1) {
                this.mOldPosition = this.mPosition;
            }
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean shouldIgnore() {
            return (this.mFlags & 128) != 0;
        }

        public final int getLayoutPosition() {
            int i = this.mPreLayoutPosition;
            return i == -1 ? this.mPosition : i;
        }

        public final int getAdapterPosition() {
            RecyclerView recyclerView = this.mOwnerRecyclerView;
            if (recyclerView == null) {
                return -1;
            }
            return recyclerView.getAdapterPositionFor(this);
        }

        public final int getOldPosition() {
            return this.mOldPosition;
        }

        public final long getItemId() {
            return this.mItemId;
        }

        public final int getItemViewType() {
            return this.mItemViewType;
        }

        boolean isScrap() {
            return this.mScrapContainer != null;
        }

        void unScrap() {
            this.mScrapContainer.unscrapView(this);
        }

        boolean wasReturnedFromScrap() {
            return (this.mFlags & 32) != 0;
        }

        void clearReturnedFromScrapFlag() {
            this.mFlags &= -33;
        }

        void clearTmpDetachFlag() {
            this.mFlags &= -257;
        }

        void setScrapContainer(Recycler recycler, boolean z) {
            this.mScrapContainer = recycler;
            this.mInChangeScrap = z;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean isInvalid() {
            return (this.mFlags & 4) != 0;
        }

        boolean needsUpdate() {
            return (this.mFlags & 2) != 0;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean isBound() {
            return (this.mFlags & 1) != 0;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean isRemoved() {
            return (this.mFlags & 8) != 0;
        }

        boolean hasAnyOfTheFlags(int i) {
            return (this.mFlags & i) != 0;
        }

        boolean isTmpDetached() {
            return (this.mFlags & 256) != 0;
        }

        boolean isAdapterPositionUnknown() {
            return (this.mFlags & 512) != 0 || isInvalid();
        }

        void setFlags(int i, int i2) {
            this.mFlags = (i & i2) | (this.mFlags & (~i2));
        }

        void addFlags(int i) {
            this.mFlags = i | this.mFlags;
        }

        void addChangePayload(Object obj) {
            if (obj == null) {
                addFlags(1024);
            } else if ((1024 & this.mFlags) == 0) {
                createPayloadsIfNeeded();
                this.mPayloads.add(obj);
            }
        }

        private void createPayloadsIfNeeded() {
            if (this.mPayloads == null) {
                ArrayList arrayList = new ArrayList();
                this.mPayloads = arrayList;
                this.mUnmodifiedPayloads = Collections.unmodifiableList(arrayList);
            }
        }

        void clearPayload() {
            List<Object> list = this.mPayloads;
            if (list != null) {
                list.clear();
            }
            this.mFlags &= -1025;
        }

        List<Object> getUnmodifiedPayloads() {
            if ((this.mFlags & 1024) == 0) {
                List<Object> list = this.mPayloads;
                if (list == null || list.size() == 0) {
                    return FULLUPDATE_PAYLOADS;
                }
                return this.mUnmodifiedPayloads;
            }
            return FULLUPDATE_PAYLOADS;
        }

        void resetInternal() {
            this.mFlags = 0;
            this.mPosition = -1;
            this.mOldPosition = -1;
            this.mItemId = -1L;
            this.mPreLayoutPosition = -1;
            this.mIsRecyclableCount = 0;
            this.mShadowedHolder = null;
            this.mShadowingHolder = null;
            clearPayload();
            this.mWasImportantForAccessibilityBeforeHidden = 0;
            this.mPendingAccessibilityState = -1;
            RecyclerView.clearNestedRecyclerViewIfNotNested(this);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onEnteredHiddenState(RecyclerView recyclerView) {
            int i = this.mPendingAccessibilityState;
            if (i != -1) {
                this.mWasImportantForAccessibilityBeforeHidden = i;
            } else {
                this.mWasImportantForAccessibilityBeforeHidden = ViewCompat.getImportantForAccessibility(this.itemView);
            }
            recyclerView.setChildImportantForAccessibilityInternal(this, 4);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onLeftHiddenState(RecyclerView recyclerView) {
            recyclerView.setChildImportantForAccessibilityInternal(this, this.mWasImportantForAccessibilityBeforeHidden);
            this.mWasImportantForAccessibilityBeforeHidden = 0;
        }

        public String toString() {
            StringBuilder sb = new StringBuilder("ViewHolder{" + Integer.toHexString(hashCode()) + " position=" + this.mPosition + " id=" + this.mItemId + ", oldPos=" + this.mOldPosition + ", pLpos:" + this.mPreLayoutPosition);
            if (isScrap()) {
                sb.append(" scrap ");
                sb.append(this.mInChangeScrap ? "[changeScrap]" : "[attachedScrap]");
            }
            if (isInvalid()) {
                sb.append(" invalid");
            }
            if (!isBound()) {
                sb.append(" unbound");
            }
            if (needsUpdate()) {
                sb.append(" update");
            }
            if (isRemoved()) {
                sb.append(" removed");
            }
            if (shouldIgnore()) {
                sb.append(" ignored");
            }
            if (isTmpDetached()) {
                sb.append(" tmpDetached");
            }
            if (!isRecyclable()) {
                sb.append(" not recyclable(" + this.mIsRecyclableCount + ")");
            }
            if (isAdapterPositionUnknown()) {
                sb.append(" undefined adapter position");
            }
            if (this.itemView.getParent() == null) {
                sb.append(" no parent");
            }
            sb.append("}");
            return sb.toString();
        }

        public final void setIsRecyclable(boolean z) {
            int i = this.mIsRecyclableCount;
            int i2 = z ? i - 1 : i + 1;
            this.mIsRecyclableCount = i2;
            if (i2 < 0) {
                this.mIsRecyclableCount = 0;
                Log.e("View", "isRecyclable decremented below 0: unmatched pair of setIsRecyable() calls for " + this);
                return;
            }
            if (!z && i2 == 1) {
                this.mFlags |= 16;
            } else if (z && this.mIsRecyclableCount == 0) {
                this.mFlags &= -17;
            }
        }

        public final boolean isRecyclable() {
            return (this.mFlags & 16) == 0 && !ViewCompat.hasTransientState(this.itemView);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public boolean shouldBeKeptAsChild() {
            return (this.mFlags & 16) != 0;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public boolean doesTransientStatePreventRecycling() {
            return (this.mFlags & 16) == 0 && ViewCompat.hasTransientState(this.itemView);
        }

        boolean isUpdated() {
            return (this.mFlags & 2) != 0;
        }
    }

    boolean setChildImportantForAccessibilityInternal(ViewHolder viewHolder, int i) {
        if (isComputingLayout()) {
            viewHolder.mPendingAccessibilityState = i;
            this.mPendingAccessibilityImportanceChange.add(viewHolder);
            return false;
        }
        ViewCompat.setImportantForAccessibility(viewHolder.itemView, i);
        return true;
    }

    void dispatchPendingImportantForAccessibilityChanges() {
        int i;
        for (int size = this.mPendingAccessibilityImportanceChange.size() - 1; size >= 0; size--) {
            ViewHolder viewHolder = this.mPendingAccessibilityImportanceChange.get(size);
            if (viewHolder.itemView.getParent() == this && !viewHolder.shouldIgnore() && (i = viewHolder.mPendingAccessibilityState) != -1) {
                ViewCompat.setImportantForAccessibility(viewHolder.itemView, i);
                viewHolder.mPendingAccessibilityState = -1;
            }
        }
        this.mPendingAccessibilityImportanceChange.clear();
    }

    int getAdapterPositionFor(ViewHolder viewHolder) {
        if (viewHolder.hasAnyOfTheFlags(524) || !viewHolder.isBound()) {
            return -1;
        }
        return this.mAdapterHelper.applyPendingUpdatesToPosition(viewHolder.mPosition);
    }

    void initFastScroller(StateListDrawable stateListDrawable, Drawable drawable, StateListDrawable stateListDrawable2, Drawable drawable2) {
        if (stateListDrawable == null || drawable == null || stateListDrawable2 == null || drawable2 == null) {
            throw new IllegalArgumentException("Trying to set fast scroller without both required drawables." + exceptionLabel());
        }
        Resources resources = getContext().getResources();
        new FastScroller(this, stateListDrawable, drawable, stateListDrawable2, drawable2, resources.getDimensionPixelSize(R$dimen.fastscroll_default_thickness), resources.getDimensionPixelSize(R$dimen.fastscroll_minimum_range), resources.getDimensionPixelOffset(R$dimen.fastscroll_margin));
    }

    @Override // android.view.View
    public void setNestedScrollingEnabled(boolean z) {
        getScrollingChildHelper().setNestedScrollingEnabled(z);
    }

    @Override // android.view.View
    public boolean isNestedScrollingEnabled() {
        return getScrollingChildHelper().isNestedScrollingEnabled();
    }

    @Override // android.view.View
    public boolean startNestedScroll(int i) {
        return getScrollingChildHelper().startNestedScroll(i);
    }

    public boolean startNestedScroll(int i, int i2) {
        return getScrollingChildHelper().startNestedScroll(i, i2);
    }

    @Override // android.view.View, android.support.v4.view.NestedScrollingChild
    public void stopNestedScroll() {
        getScrollingChildHelper().stopNestedScroll();
    }

    public void stopNestedScroll(int i) {
        getScrollingChildHelper().stopNestedScroll(i);
    }

    @Override // android.view.View
    public boolean hasNestedScrollingParent() {
        return getScrollingChildHelper().hasNestedScrollingParent();
    }

    public boolean hasNestedScrollingParent(int i) {
        return getScrollingChildHelper().hasNestedScrollingParent(i);
    }

    @Override // android.view.View
    public boolean dispatchNestedScroll(int i, int i2, int i3, int i4, int[] iArr) {
        return getScrollingChildHelper().dispatchNestedScroll(i, i2, i3, i4, iArr);
    }

    public boolean dispatchNestedScroll(int i, int i2, int i3, int i4, int[] iArr, int i5) {
        return getScrollingChildHelper().dispatchNestedScroll(i, i2, i3, i4, iArr, i5);
    }

    @Override // android.view.View
    public boolean dispatchNestedPreScroll(int i, int i2, int[] iArr, int[] iArr2) {
        return getScrollingChildHelper().dispatchNestedPreScroll(i, i2, iArr, iArr2);
    }

    public boolean dispatchNestedPreScroll(int i, int i2, int[] iArr, int[] iArr2, int i3) {
        return getScrollingChildHelper().dispatchNestedPreScroll(i, i2, iArr, iArr2, i3);
    }

    @Override // android.view.View
    public boolean dispatchNestedFling(float f, float f2, boolean z) {
        return getScrollingChildHelper().dispatchNestedFling(f, f2, z);
    }

    @Override // android.view.View
    public boolean dispatchNestedPreFling(float f, float f2) {
        return getScrollingChildHelper().dispatchNestedPreFling(f, f2);
    }

    /* loaded from: /content/classes1.dex */
    public static class LayoutParams extends ViewGroup.MarginLayoutParams {
        final Rect mDecorInsets;
        boolean mInsetsDirty;
        boolean mPendingInvalidate;
        ViewHolder mViewHolder;

        public LayoutParams(Context context, AttributeSet attributeSet) {
            super(context, attributeSet);
            this.mDecorInsets = new Rect();
            this.mInsetsDirty = true;
            this.mPendingInvalidate = false;
        }

        public LayoutParams(int i, int i2) {
            super(i, i2);
            this.mDecorInsets = new Rect();
            this.mInsetsDirty = true;
            this.mPendingInvalidate = false;
        }

        public LayoutParams(ViewGroup.MarginLayoutParams marginLayoutParams) {
            super(marginLayoutParams);
            this.mDecorInsets = new Rect();
            this.mInsetsDirty = true;
            this.mPendingInvalidate = false;
        }

        public LayoutParams(ViewGroup.LayoutParams layoutParams) {
            super(layoutParams);
            this.mDecorInsets = new Rect();
            this.mInsetsDirty = true;
            this.mPendingInvalidate = false;
        }

        public LayoutParams(LayoutParams layoutParams) {
            super((ViewGroup.LayoutParams) layoutParams);
            this.mDecorInsets = new Rect();
            this.mInsetsDirty = true;
            this.mPendingInvalidate = false;
        }

        public boolean isViewInvalid() {
            return this.mViewHolder.isInvalid();
        }

        public boolean isItemRemoved() {
            return this.mViewHolder.isRemoved();
        }

        public boolean isItemChanged() {
            return this.mViewHolder.isUpdated();
        }

        public int getViewLayoutPosition() {
            return this.mViewHolder.getLayoutPosition();
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class AdapterDataObserver {
        public void onChanged() {
        }

        public void onItemRangeChanged(int i, int i2) {
        }

        public void onItemRangeChanged(int i, int i2, Object obj) {
            onItemRangeChanged(i, i2);
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class SmoothScroller {
        private LayoutManager mLayoutManager;
        private boolean mPendingInitialRun;
        private RecyclerView mRecyclerView;
        private final Action mRecyclingAction;
        private boolean mRunning;
        private int mTargetPosition;
        private View mTargetView;

        /* loaded from: /content/classes1.dex */
        public static class Action {
            abstract boolean hasJumpTarget();

            abstract void runIfNecessary(RecyclerView recyclerView);
        }

        public abstract PointF computeScrollVectorForPosition(int i);

        public abstract int getChildPosition(View view);

        public abstract int getTargetPosition();

        public abstract boolean isPendingInitialRun();

        public abstract boolean isRunning();

        protected abstract void onChildAttachedToWindow(View view);

        protected abstract void onSeekTargetStep(int i, int i2, State state, Action action);

        protected abstract void onTargetFound(View view, State state, Action action);

        public abstract void setTargetPosition(int i);

        protected final void stop() {
            throw null;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void onAnimation(int i, int i2) {
            int i3;
            PointF computeScrollVectorForPosition;
            RecyclerView recyclerView = this.mRecyclerView;
            if (!this.mRunning || (i3 = this.mTargetPosition) == -1 || recyclerView == null) {
                stop();
                throw null;
            }
            if (this.mPendingInitialRun && this.mTargetView == null && this.mLayoutManager != null && (computeScrollVectorForPosition = computeScrollVectorForPosition(i3)) != null && (computeScrollVectorForPosition.x != 0.0f || computeScrollVectorForPosition.y != 0.0f)) {
                recyclerView.scrollStep((int) Math.signum(computeScrollVectorForPosition.x), (int) Math.signum(computeScrollVectorForPosition.y), null);
            }
            this.mPendingInitialRun = false;
            View view = this.mTargetView;
            if (view != null) {
                if (getChildPosition(view) == this.mTargetPosition) {
                    onTargetFound(this.mTargetView, recyclerView.mState, this.mRecyclingAction);
                    this.mRecyclingAction.runIfNecessary(recyclerView);
                    stop();
                    throw null;
                }
                Log.e("RecyclerView", "Passed over target position while smooth scrolling.");
                this.mTargetView = null;
            }
            if (this.mRunning) {
                onSeekTargetStep(i, i2, recyclerView.mState, this.mRecyclingAction);
                boolean hasJumpTarget = this.mRecyclingAction.hasJumpTarget();
                this.mRecyclingAction.runIfNecessary(recyclerView);
                if (hasJumpTarget) {
                    if (this.mRunning) {
                        this.mPendingInitialRun = true;
                        recyclerView.mViewFlinger.postOnAnimation();
                    } else {
                        stop();
                        throw null;
                    }
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class AdapterDataObservable extends Observable<AdapterDataObserver> {
        AdapterDataObservable() {
        }

        public boolean hasObservers() {
            return !((Observable) this).mObservers.isEmpty();
        }

        public void notifyChanged() {
            for (int size = ((Observable) this).mObservers.size() - 1; size >= 0; size--) {
                ((AdapterDataObserver) ((Observable) this).mObservers.get(size)).onChanged();
            }
        }

        public void notifyItemRangeChanged(int i, int i2) {
            notifyItemRangeChanged(i, i2, null);
        }

        public void notifyItemRangeChanged(int i, int i2, Object obj) {
            for (int size = ((Observable) this).mObservers.size() - 1; size >= 0; size--) {
                ((AdapterDataObserver) ((Observable) this).mObservers.get(size)).onItemRangeChanged(i, i2, obj);
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class SavedState extends AbsSavedState {
        public static final Parcelable.Creator<SavedState> CREATOR = new Parcelable.ClassLoaderCreator<SavedState>() { // from class: android.support.v7.widget.RecyclerView.SavedState.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.ClassLoaderCreator
            public SavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
                return new SavedState(parcel, classLoader);
            }

            @Override // android.os.Parcelable.Creator
            public SavedState createFromParcel(Parcel parcel) {
                return new SavedState(parcel, null);
            }

            @Override // android.os.Parcelable.Creator
            public SavedState[] newArray(int i) {
                return new SavedState[i];
            }
        };
        Parcelable mLayoutState;

        SavedState(Parcel parcel, ClassLoader classLoader) {
            super(parcel, classLoader);
            this.mLayoutState = parcel.readParcelable(classLoader == null ? LayoutManager.class.getClassLoader() : classLoader);
        }

        SavedState(Parcelable parcelable) {
            super(parcelable);
        }

        @Override // android.support.v4.view.AbsSavedState, android.os.Parcelable
        public void writeToParcel(Parcel parcel, int i) {
            super.writeToParcel(parcel, i);
            parcel.writeParcelable(this.mLayoutState, 0);
        }

        void copyFrom(SavedState savedState) {
            this.mLayoutState = savedState.mLayoutState;
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class State {
        private SparseArray<Object> mData;
        long mFocusedItemId;
        int mFocusedItemPosition;
        int mFocusedSubChildId;
        int mRemainingScrollHorizontal;
        int mRemainingScrollVertical;
        private int mTargetPosition = -1;
        int mPreviousLayoutItemCount = 0;
        int mDeletedInvisibleItemCountSincePreviousLayout = 0;
        int mLayoutStep = 1;
        int mItemCount = 0;
        boolean mStructureChanged = false;
        boolean mInPreLayout = false;
        boolean mTrackOldChangeHolders = false;
        boolean mIsMeasuring = false;
        boolean mRunSimpleAnimations = false;
        boolean mRunPredictiveAnimations = false;

        void assertLayoutStep(int i) {
            if ((this.mLayoutStep & i) != 0) {
                return;
            }
            throw new IllegalStateException("Layout state should be one of " + Integer.toBinaryString(i) + " but it is " + Integer.toBinaryString(this.mLayoutStep));
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void prepareForNestedPrefetch(Adapter adapter) {
            this.mLayoutStep = 1;
            this.mItemCount = adapter.getItemCount();
            this.mInPreLayout = false;
            this.mTrackOldChangeHolders = false;
            this.mIsMeasuring = false;
        }

        public boolean isPreLayout() {
            return this.mInPreLayout;
        }

        public boolean willRunPredictiveAnimations() {
            return this.mRunPredictiveAnimations;
        }

        public int getTargetScrollPosition() {
            return this.mTargetPosition;
        }

        public boolean hasTargetScrollPosition() {
            return this.mTargetPosition != -1;
        }

        public int getItemCount() {
            return this.mInPreLayout ? this.mPreviousLayoutItemCount - this.mDeletedInvisibleItemCountSincePreviousLayout : this.mItemCount;
        }

        public String toString() {
            return "State{mTargetPosition=" + this.mTargetPosition + ", mData=" + this.mData + ", mItemCount=" + this.mItemCount + ", mIsMeasuring=" + this.mIsMeasuring + ", mPreviousLayoutItemCount=" + this.mPreviousLayoutItemCount + ", mDeletedInvisibleItemCountSincePreviousLayout=" + this.mDeletedInvisibleItemCountSincePreviousLayout + ", mStructureChanged=" + this.mStructureChanged + ", mInPreLayout=" + this.mInPreLayout + ", mRunSimpleAnimations=" + this.mRunSimpleAnimations + ", mRunPredictiveAnimations=" + this.mRunPredictiveAnimations + '}';
        }
    }

    /* loaded from: /content/classes1.dex */
    private class ItemAnimatorRestoreListener implements ItemAnimator.ItemAnimatorListener {
        ItemAnimatorRestoreListener() {
        }

        @Override // android.support.v7.widget.RecyclerView.ItemAnimator.ItemAnimatorListener
        public void onAnimationFinished(ViewHolder viewHolder) {
            viewHolder.setIsRecyclable(true);
            if (viewHolder.mShadowedHolder != null && viewHolder.mShadowingHolder == null) {
                viewHolder.mShadowedHolder = null;
            }
            viewHolder.mShadowingHolder = null;
            if (viewHolder.shouldBeKeptAsChild() || RecyclerView.this.removeAnimatingView(viewHolder.itemView) || !viewHolder.isTmpDetached()) {
                return;
            }
            RecyclerView.this.removeDetachedView(viewHolder.itemView, false);
        }
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class ItemAnimator {
        private ItemAnimatorListener mListener = null;
        private ArrayList<ItemAnimatorFinishedListener> mFinishedListeners = new ArrayList<>();
        private long mAddDuration = 120;
        private long mRemoveDuration = 120;
        private long mMoveDuration = 250;
        private long mChangeDuration = 250;

        /* loaded from: /content/classes1.dex */
        public interface ItemAnimatorFinishedListener {
            void onAnimationsFinished();
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        /* loaded from: /content/classes1.dex */
        public interface ItemAnimatorListener {
            void onAnimationFinished(ViewHolder viewHolder);
        }

        public abstract boolean animateAppearance(ViewHolder viewHolder, ItemHolderInfo itemHolderInfo, ItemHolderInfo itemHolderInfo2);

        public abstract boolean animateChange(ViewHolder viewHolder, ViewHolder viewHolder2, ItemHolderInfo itemHolderInfo, ItemHolderInfo itemHolderInfo2);

        public abstract boolean animateDisappearance(ViewHolder viewHolder, ItemHolderInfo itemHolderInfo, ItemHolderInfo itemHolderInfo2);

        public abstract boolean animatePersistence(ViewHolder viewHolder, ItemHolderInfo itemHolderInfo, ItemHolderInfo itemHolderInfo2);

        public abstract boolean canReuseUpdatedViewHolder(ViewHolder viewHolder);

        public abstract void endAnimation(ViewHolder viewHolder);

        public abstract void endAnimations();

        public abstract boolean isRunning();

        public void onAnimationFinished(ViewHolder viewHolder) {
        }

        public abstract void runPendingAnimations();

        public long getMoveDuration() {
            return this.mMoveDuration;
        }

        public long getAddDuration() {
            return this.mAddDuration;
        }

        public long getRemoveDuration() {
            return this.mRemoveDuration;
        }

        public long getChangeDuration() {
            return this.mChangeDuration;
        }

        void setListener(ItemAnimatorListener itemAnimatorListener) {
            this.mListener = itemAnimatorListener;
        }

        public ItemHolderInfo recordPreLayoutInformation(State state, ViewHolder viewHolder, int i, List<Object> list) {
            ItemHolderInfo obtainHolderInfo = obtainHolderInfo();
            obtainHolderInfo.setFrom(viewHolder);
            return obtainHolderInfo;
        }

        public ItemHolderInfo recordPostLayoutInformation(State state, ViewHolder viewHolder) {
            ItemHolderInfo obtainHolderInfo = obtainHolderInfo();
            obtainHolderInfo.setFrom(viewHolder);
            return obtainHolderInfo;
        }

        static int buildAdapterChangeFlagsForAnimations(ViewHolder viewHolder) {
            int i = viewHolder.mFlags & 14;
            if (viewHolder.isInvalid()) {
                return 4;
            }
            if ((i & 4) != 0) {
                return i;
            }
            int oldPosition = viewHolder.getOldPosition();
            int adapterPosition = viewHolder.getAdapterPosition();
            return (oldPosition == -1 || adapterPosition == -1 || oldPosition == adapterPosition) ? i : i | 2048;
        }

        public final void dispatchAnimationFinished(ViewHolder viewHolder) {
            onAnimationFinished(viewHolder);
            ItemAnimatorListener itemAnimatorListener = this.mListener;
            if (itemAnimatorListener != null) {
                itemAnimatorListener.onAnimationFinished(viewHolder);
            }
        }

        public boolean canReuseUpdatedViewHolder(ViewHolder viewHolder, List<Object> list) {
            return canReuseUpdatedViewHolder(viewHolder);
        }

        public final void dispatchAnimationsFinished() {
            int size = this.mFinishedListeners.size();
            for (int i = 0; i < size; i++) {
                this.mFinishedListeners.get(i).onAnimationsFinished();
            }
            this.mFinishedListeners.clear();
        }

        public ItemHolderInfo obtainHolderInfo() {
            return new ItemHolderInfo();
        }

        /* loaded from: /content/classes1.dex */
        public static class ItemHolderInfo {
            public int left;
            public int top;

            public ItemHolderInfo setFrom(ViewHolder viewHolder) {
                setFrom(viewHolder, 0);
                return this;
            }

            public ItemHolderInfo setFrom(ViewHolder viewHolder, int i) {
                View view = viewHolder.itemView;
                this.left = view.getLeft();
                this.top = view.getTop();
                view.getRight();
                view.getBottom();
                return this;
            }
        }
    }

    @Override // android.view.ViewGroup
    protected int getChildDrawingOrder(int i, int i2) {
        ChildDrawingOrderCallback childDrawingOrderCallback = this.mChildDrawingOrderCallback;
        if (childDrawingOrderCallback == null) {
            return super.getChildDrawingOrder(i, i2);
        }
        return childDrawingOrderCallback.onGetChildDrawingOrder(i, i2);
    }

    private NestedScrollingChildHelper getScrollingChildHelper() {
        if (this.mScrollingChildHelper == null) {
            this.mScrollingChildHelper = new NestedScrollingChildHelper(this);
        }
        return this.mScrollingChildHelper;
    }
}


### **classes_dex_1/sources/android/support/v7/widget/ChildHelper.java** ###

package android.support.v7.widget;

import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.ViewGroup;
import java.util.ArrayList;
import java.util.List;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public class ChildHelper {
    final Callback mCallback;
    final Bucket mBucket = new Bucket();
    final List<View> mHiddenViews = new ArrayList();

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public interface Callback {
        void addView(View view, int i);

        void attachViewToParent(View view, int i, ViewGroup.LayoutParams layoutParams);

        void detachViewFromParent(int i);

        View getChildAt(int i);

        int getChildCount();

        RecyclerView.ViewHolder getChildViewHolder(View view);

        int indexOfChild(View view);

        void onEnteredHiddenState(View view);

        void onLeftHiddenState(View view);

        void removeAllViews();

        void removeViewAt(int i);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public ChildHelper(Callback callback) {
        this.mCallback = callback;
    }

    private void hideViewInternal(View view) {
        this.mHiddenViews.add(view);
        this.mCallback.onEnteredHiddenState(view);
    }

    private boolean unhideViewInternal(View view) {
        if (!this.mHiddenViews.remove(view)) {
            return false;
        }
        this.mCallback.onLeftHiddenState(view);
        return true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addView(View view, boolean z) {
        addView(view, -1, z);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addView(View view, int i, boolean z) {
        int offset;
        if (i < 0) {
            offset = this.mCallback.getChildCount();
        } else {
            offset = getOffset(i);
        }
        this.mBucket.insert(offset, z);
        if (z) {
            hideViewInternal(view);
        }
        this.mCallback.addView(view, offset);
    }

    private int getOffset(int i) {
        if (i < 0) {
            return -1;
        }
        int childCount = this.mCallback.getChildCount();
        int i2 = i;
        while (i2 < childCount) {
            int countOnesBefore = i - (i2 - this.mBucket.countOnesBefore(i2));
            if (countOnesBefore == 0) {
                while (this.mBucket.get(i2)) {
                    i2++;
                }
                return i2;
            }
            i2 += countOnesBefore;
        }
        return -1;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeView(View view) {
        int indexOfChild = this.mCallback.indexOfChild(view);
        if (indexOfChild < 0) {
            return;
        }
        if (this.mBucket.remove(indexOfChild)) {
            unhideViewInternal(view);
        }
        this.mCallback.removeViewAt(indexOfChild);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeViewAt(int i) {
        int offset = getOffset(i);
        View childAt = this.mCallback.getChildAt(offset);
        if (childAt == null) {
            return;
        }
        if (this.mBucket.remove(offset)) {
            unhideViewInternal(childAt);
        }
        this.mCallback.removeViewAt(offset);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View getChildAt(int i) {
        return this.mCallback.getChildAt(getOffset(i));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeAllViewsUnfiltered() {
        this.mBucket.reset();
        for (int size = this.mHiddenViews.size() - 1; size >= 0; size--) {
            this.mCallback.onLeftHiddenState(this.mHiddenViews.get(size));
            this.mHiddenViews.remove(size);
        }
        this.mCallback.removeAllViews();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View findHiddenNonRemovedView(int i) {
        int size = this.mHiddenViews.size();
        for (int i2 = 0; i2 < size; i2++) {
            View view = this.mHiddenViews.get(i2);
            RecyclerView.ViewHolder childViewHolder = this.mCallback.getChildViewHolder(view);
            if (childViewHolder.getLayoutPosition() == i && !childViewHolder.isInvalid() && !childViewHolder.isRemoved()) {
                return view;
            }
        }
        return null;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void attachViewToParent(View view, int i, ViewGroup.LayoutParams layoutParams, boolean z) {
        int offset;
        if (i < 0) {
            offset = this.mCallback.getChildCount();
        } else {
            offset = getOffset(i);
        }
        this.mBucket.insert(offset, z);
        if (z) {
            hideViewInternal(view);
        }
        this.mCallback.attachViewToParent(view, offset, layoutParams);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int getChildCount() {
        return this.mCallback.getChildCount() - this.mHiddenViews.size();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int getUnfilteredChildCount() {
        return this.mCallback.getChildCount();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View getUnfilteredChildAt(int i) {
        return this.mCallback.getChildAt(i);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void detachViewFromParent(int i) {
        int offset = getOffset(i);
        this.mBucket.remove(offset);
        this.mCallback.detachViewFromParent(offset);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int indexOfChild(View view) {
        int indexOfChild = this.mCallback.indexOfChild(view);
        if (indexOfChild == -1 || this.mBucket.get(indexOfChild)) {
            return -1;
        }
        return indexOfChild - this.mBucket.countOnesBefore(indexOfChild);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isHidden(View view) {
        return this.mHiddenViews.contains(view);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void hide(View view) {
        int indexOfChild = this.mCallback.indexOfChild(view);
        if (indexOfChild < 0) {
            throw new IllegalArgumentException("view is not a child, cannot hide " + view);
        }
        this.mBucket.set(indexOfChild);
        hideViewInternal(view);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void unhide(View view) {
        int indexOfChild = this.mCallback.indexOfChild(view);
        if (indexOfChild < 0) {
            throw new IllegalArgumentException("view is not a child, cannot hide " + view);
        }
        if (!this.mBucket.get(indexOfChild)) {
            throw new RuntimeException("trying to unhide a view that was not hidden" + view);
        }
        this.mBucket.clear(indexOfChild);
        unhideViewInternal(view);
    }

    public String toString() {
        return this.mBucket.toString() + ", hidden list:" + this.mHiddenViews.size();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean removeViewIfHidden(View view) {
        int indexOfChild = this.mCallback.indexOfChild(view);
        if (indexOfChild == -1) {
            unhideViewInternal(view);
            return true;
        }
        if (!this.mBucket.get(indexOfChild)) {
            return false;
        }
        this.mBucket.remove(indexOfChild);
        unhideViewInternal(view);
        this.mCallback.removeViewAt(indexOfChild);
        return true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class Bucket {
        long mData = 0;
        Bucket mNext;

        Bucket() {
        }

        void set(int i) {
            if (i >= 64) {
                ensureNext();
                this.mNext.set(i - 64);
            } else {
                this.mData |= 1 << i;
            }
        }

        private void ensureNext() {
            if (this.mNext == null) {
                this.mNext = new Bucket();
            }
        }

        void clear(int i) {
            if (i >= 64) {
                Bucket bucket = this.mNext;
                if (bucket != null) {
                    bucket.clear(i - 64);
                    return;
                }
                return;
            }
            this.mData &= ~(1 << i);
        }

        boolean get(int i) {
            if (i < 64) {
                return ((1 << i) & this.mData) != 0;
            }
            ensureNext();
            return this.mNext.get(i - 64);
        }

        void reset() {
            this.mData = 0L;
            Bucket bucket = this.mNext;
            if (bucket != null) {
                bucket.reset();
            }
        }

        void insert(int i, boolean z) {
            if (i >= 64) {
                ensureNext();
                this.mNext.insert(i - 64, z);
                return;
            }
            boolean z2 = (this.mData & Long.MIN_VALUE) != 0;
            long j = (1 << i) - 1;
            long j2 = this.mData;
            this.mData = ((j2 & (~j)) << 1) | (j2 & j);
            if (z) {
                set(i);
            } else {
                clear(i);
            }
            if (z2 || this.mNext != null) {
                ensureNext();
                this.mNext.insert(0, z2);
            }
        }

        boolean remove(int i) {
            if (i >= 64) {
                ensureNext();
                return this.mNext.remove(i - 64);
            }
            long j = 1 << i;
            boolean z = (this.mData & j) != 0;
            long j2 = this.mData & (~j);
            this.mData = j2;
            long j3 = j - 1;
            this.mData = (j2 & j3) | Long.rotateRight((~j3) & j2, 1);
            Bucket bucket = this.mNext;
            if (bucket != null) {
                if (bucket.get(0)) {
                    set(63);
                }
                this.mNext.remove(0);
            }
            return z;
        }

        int countOnesBefore(int i) {
            Bucket bucket = this.mNext;
            if (bucket == null) {
                if (i >= 64) {
                    return Long.bitCount(this.mData);
                }
                return Long.bitCount(((1 << i) - 1) & this.mData);
            }
            if (i < 64) {
                return Long.bitCount(((1 << i) - 1) & this.mData);
            }
            return bucket.countOnesBefore(i - 64) + Long.bitCount(this.mData);
        }

        public String toString() {
            if (this.mNext == null) {
                return Long.toBinaryString(this.mData);
            }
            return this.mNext.toString() + "xx" + Long.toBinaryString(this.mData);
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/ScrollbarHelper.java** ###

package android.support.v7.widget;

import android.support.v7.widget.RecyclerView;
import android.view.View;

/* loaded from: /content/classes1.dex */
class ScrollbarHelper {
    /* JADX INFO: Access modifiers changed from: package-private */
    public static int computeScrollOffset(RecyclerView.State state, OrientationHelper orientationHelper, View view, View view2, RecyclerView.LayoutManager layoutManager, boolean z, boolean z2) {
        int max;
        if (layoutManager.getChildCount() == 0 || state.getItemCount() == 0 || view == null || view2 == null) {
            return 0;
        }
        int min = Math.min(layoutManager.getPosition(view), layoutManager.getPosition(view2));
        int max2 = Math.max(layoutManager.getPosition(view), layoutManager.getPosition(view2));
        if (z2) {
            max = Math.max(0, (state.getItemCount() - max2) - 1);
        } else {
            max = Math.max(0, min);
        }
        if (!z) {
            return max;
        }
        return Math.round((max * (Math.abs(orientationHelper.getDecoratedEnd(view2) - orientationHelper.getDecoratedStart(view)) / (Math.abs(layoutManager.getPosition(view) - layoutManager.getPosition(view2)) + 1))) + (orientationHelper.getStartAfterPadding() - orientationHelper.getDecoratedStart(view)));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static int computeScrollExtent(RecyclerView.State state, OrientationHelper orientationHelper, View view, View view2, RecyclerView.LayoutManager layoutManager, boolean z) {
        if (layoutManager.getChildCount() == 0 || state.getItemCount() == 0 || view == null || view2 == null) {
            return 0;
        }
        if (!z) {
            return Math.abs(layoutManager.getPosition(view) - layoutManager.getPosition(view2)) + 1;
        }
        return Math.min(orientationHelper.getTotalSpace(), orientationHelper.getDecoratedEnd(view2) - orientationHelper.getDecoratedStart(view));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static int computeScrollRange(RecyclerView.State state, OrientationHelper orientationHelper, View view, View view2, RecyclerView.LayoutManager layoutManager, boolean z) {
        if (layoutManager.getChildCount() == 0 || state.getItemCount() == 0 || view == null || view2 == null) {
            return 0;
        }
        if (!z) {
            return state.getItemCount();
        }
        return (int) (((orientationHelper.getDecoratedEnd(view2) - orientationHelper.getDecoratedStart(view)) / (Math.abs(layoutManager.getPosition(view) - layoutManager.getPosition(view2)) + 1)) * state.getItemCount());
    }
}


### **classes_dex_1/sources/android/support/v7/widget/OpReorderer.java** ###

package android.support.v7.widget;

import android.support.v7.widget.AdapterHelper;
import java.util.List;

/* loaded from: /content/classes1.dex */
class OpReorderer {
    final Callback mCallback;

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public interface Callback {
        AdapterHelper.UpdateOp obtainUpdateOp(int i, int i2, int i3, Object obj);

        void recycleUpdateOp(AdapterHelper.UpdateOp updateOp);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public OpReorderer(Callback callback) {
        this.mCallback = callback;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void reorderOps(List<AdapterHelper.UpdateOp> list) {
        while (true) {
            int lastMoveOutOfOrder = getLastMoveOutOfOrder(list);
            if (lastMoveOutOfOrder == -1) {
                return;
            } else {
                swapMoveOp(list, lastMoveOutOfOrder, lastMoveOutOfOrder + 1);
            }
        }
    }

    private void swapMoveOp(List<AdapterHelper.UpdateOp> list, int i, int i2) {
        AdapterHelper.UpdateOp updateOp = list.get(i);
        AdapterHelper.UpdateOp updateOp2 = list.get(i2);
        int i3 = updateOp2.cmd;
        if (i3 == 1) {
            swapMoveAdd(list, i, updateOp, i2, updateOp2);
        } else if (i3 == 2) {
            swapMoveRemove(list, i, updateOp, i2, updateOp2);
        } else {
            if (i3 != 4) {
                return;
            }
            swapMoveUpdate(list, i, updateOp, i2, updateOp2);
        }
    }

    void swapMoveRemove(List<AdapterHelper.UpdateOp> list, int i, AdapterHelper.UpdateOp updateOp, int i2, AdapterHelper.UpdateOp updateOp2) {
        boolean z;
        int i3 = updateOp.positionStart;
        int i4 = updateOp.itemCount;
        boolean z2 = false;
        if (i3 < i4) {
            if (updateOp2.positionStart == i3 && updateOp2.itemCount == i4 - i3) {
                z = false;
                z2 = true;
            } else {
                z = false;
            }
        } else if (updateOp2.positionStart == i4 + 1 && updateOp2.itemCount == i3 - i4) {
            z = true;
            z2 = true;
        } else {
            z = true;
        }
        int i5 = updateOp.itemCount;
        int i6 = updateOp2.positionStart;
        if (i5 < i6) {
            updateOp2.positionStart = i6 - 1;
        } else {
            int i7 = updateOp2.itemCount;
            if (i5 < i6 + i7) {
                updateOp2.itemCount = i7 - 1;
                updateOp.cmd = 2;
                updateOp.itemCount = 1;
                if (updateOp2.itemCount == 0) {
                    list.remove(i2);
                    this.mCallback.recycleUpdateOp(updateOp2);
                    return;
                }
                return;
            }
        }
        int i8 = updateOp.positionStart;
        int i9 = updateOp2.positionStart;
        AdapterHelper.UpdateOp updateOp3 = null;
        if (i8 <= i9) {
            updateOp2.positionStart = i9 + 1;
        } else {
            int i10 = updateOp2.itemCount;
            if (i8 < i9 + i10) {
                updateOp3 = this.mCallback.obtainUpdateOp(2, i8 + 1, (i9 + i10) - i8, null);
                updateOp2.itemCount = updateOp.positionStart - updateOp2.positionStart;
            }
        }
        if (z2) {
            list.set(i, updateOp2);
            list.remove(i2);
            this.mCallback.recycleUpdateOp(updateOp);
            return;
        }
        if (z) {
            if (updateOp3 != null) {
                int i11 = updateOp.positionStart;
                if (i11 > updateOp3.positionStart) {
                    updateOp.positionStart = i11 - updateOp3.itemCount;
                }
                int i12 = updateOp.itemCount;
                if (i12 > updateOp3.positionStart) {
                    updateOp.itemCount = i12 - updateOp3.itemCount;
                }
            }
            int i13 = updateOp.positionStart;
            if (i13 > updateOp2.positionStart) {
                updateOp.positionStart = i13 - updateOp2.itemCount;
            }
            int i14 = updateOp.itemCount;
            if (i14 > updateOp2.positionStart) {
                updateOp.itemCount = i14 - updateOp2.itemCount;
            }
        } else {
            if (updateOp3 != null) {
                int i15 = updateOp.positionStart;
                if (i15 >= updateOp3.positionStart) {
                    updateOp.positionStart = i15 - updateOp3.itemCount;
                }
                int i16 = updateOp.itemCount;
                if (i16 >= updateOp3.positionStart) {
                    updateOp.itemCount = i16 - updateOp3.itemCount;
                }
            }
            int i17 = updateOp.positionStart;
            if (i17 >= updateOp2.positionStart) {
                updateOp.positionStart = i17 - updateOp2.itemCount;
            }
            int i18 = updateOp.itemCount;
            if (i18 >= updateOp2.positionStart) {
                updateOp.itemCount = i18 - updateOp2.itemCount;
            }
        }
        list.set(i, updateOp2);
        if (updateOp.positionStart != updateOp.itemCount) {
            list.set(i2, updateOp);
        } else {
            list.remove(i2);
        }
        if (updateOp3 != null) {
            list.add(i, updateOp3);
        }
    }

    private void swapMoveAdd(List<AdapterHelper.UpdateOp> list, int i, AdapterHelper.UpdateOp updateOp, int i2, AdapterHelper.UpdateOp updateOp2) {
        int i3 = updateOp.itemCount < updateOp2.positionStart ? -1 : 0;
        if (updateOp.positionStart < updateOp2.positionStart) {
            i3++;
        }
        int i4 = updateOp2.positionStart;
        int i5 = updateOp.positionStart;
        if (i4 <= i5) {
            updateOp.positionStart = i5 + updateOp2.itemCount;
        }
        int i6 = updateOp2.positionStart;
        int i7 = updateOp.itemCount;
        if (i6 <= i7) {
            updateOp.itemCount = i7 + updateOp2.itemCount;
        }
        updateOp2.positionStart += i3;
        list.set(i, updateOp2);
        list.set(i2, updateOp);
    }

    /* JADX WARN: Removed duplicated region for block: B:10:0x0048  */
    /* JADX WARN: Removed duplicated region for block: B:12:0x0056  */
    /* JADX WARN: Removed duplicated region for block: B:14:0x005b  */
    /* JADX WARN: Removed duplicated region for block: B:17:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:18:0x004c  */
    /* JADX WARN: Removed duplicated region for block: B:19:0x002b  */
    /* JADX WARN: Removed duplicated region for block: B:7:0x0027  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    void swapMoveUpdate(java.util.List<android.support.v7.widget.AdapterHelper.UpdateOp> r9, int r10, android.support.v7.widget.AdapterHelper.UpdateOp r11, int r12, android.support.v7.widget.AdapterHelper.UpdateOp r13) {
        /*
            r8 = this;
            int r0 = r11.itemCount
            int r1 = r13.positionStart
            r2 = 4
            r3 = 0
            r4 = 1
            if (r0 >= r1) goto Ld
            int r1 = r1 - r4
            r13.positionStart = r1
            goto L20
        Ld:
            int r5 = r13.itemCount
            int r1 = r1 + r5
            if (r0 >= r1) goto L20
            int r5 = r5 - r4
            r13.itemCount = r5
            android.support.v7.widget.OpReorderer$Callback r0 = r8.mCallback
            int r1 = r11.positionStart
            java.lang.Object r5 = r13.payload
            android.support.v7.widget.AdapterHelper$UpdateOp r0 = r0.obtainUpdateOp(r2, r1, r4, r5)
            goto L21
        L20:
            r0 = r3
        L21:
            int r1 = r11.positionStart
            int r5 = r13.positionStart
            if (r1 > r5) goto L2b
            int r5 = r5 + r4
            r13.positionStart = r5
            goto L41
        L2b:
            int r6 = r13.itemCount
            int r7 = r5 + r6
            if (r1 >= r7) goto L41
            int r5 = r5 + r6
            int r5 = r5 - r1
            android.support.v7.widget.OpReorderer$Callback r3 = r8.mCallback
            int r1 = r1 + r4
            java.lang.Object r4 = r13.payload
            android.support.v7.widget.AdapterHelper$UpdateOp r3 = r3.obtainUpdateOp(r2, r1, r5, r4)
            int r1 = r13.itemCount
            int r1 = r1 - r5
            r13.itemCount = r1
        L41:
            r9.set(r12, r11)
            int r11 = r13.itemCount
            if (r11 <= 0) goto L4c
            r9.set(r10, r13)
            goto L54
        L4c:
            r9.remove(r10)
            android.support.v7.widget.OpReorderer$Callback r8 = r8.mCallback
            r8.recycleUpdateOp(r13)
        L54:
            if (r0 == 0) goto L59
            r9.add(r10, r0)
        L59:
            if (r3 == 0) goto L5e
            r9.add(r10, r3)
        L5e:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.OpReorderer.swapMoveUpdate(java.util.List, int, android.support.v7.widget.AdapterHelper$UpdateOp, int, android.support.v7.widget.AdapterHelper$UpdateOp):void");
    }

    private int getLastMoveOutOfOrder(List<AdapterHelper.UpdateOp> list) {
        boolean z = false;
        for (int size = list.size() - 1; size >= 0; size--) {
            if (list.get(size).cmd != 8) {
                z = true;
            } else if (z) {
                return size;
            }
        }
        return -1;
    }
}


### **classes_dex_1/sources/android/support/v7/widget/DefaultItemAnimator.java** ###

package android.support.v7.widget;

import android.animation.Animator;
import android.animation.AnimatorListenerAdapter;
import android.animation.TimeInterpolator;
import android.animation.ValueAnimator;
import android.support.v4.view.ViewCompat;
import android.support.v7.widget.RecyclerView;
import android.view.View;
import android.view.ViewPropertyAnimator;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class DefaultItemAnimator extends SimpleItemAnimator {
    private static TimeInterpolator sDefaultInterpolator;
    private ArrayList<RecyclerView.ViewHolder> mPendingRemovals = new ArrayList<>();
    private ArrayList<RecyclerView.ViewHolder> mPendingAdditions = new ArrayList<>();
    private ArrayList<MoveInfo> mPendingMoves = new ArrayList<>();
    private ArrayList<ChangeInfo> mPendingChanges = new ArrayList<>();
    ArrayList<ArrayList<RecyclerView.ViewHolder>> mAdditionsList = new ArrayList<>();
    ArrayList<ArrayList<MoveInfo>> mMovesList = new ArrayList<>();
    ArrayList<ArrayList<ChangeInfo>> mChangesList = new ArrayList<>();
    ArrayList<RecyclerView.ViewHolder> mAddAnimations = new ArrayList<>();
    ArrayList<RecyclerView.ViewHolder> mMoveAnimations = new ArrayList<>();
    ArrayList<RecyclerView.ViewHolder> mRemoveAnimations = new ArrayList<>();
    ArrayList<RecyclerView.ViewHolder> mChangeAnimations = new ArrayList<>();

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static class MoveInfo {
        public int fromX;
        public int fromY;
        public RecyclerView.ViewHolder holder;
        public int toX;
        public int toY;

        MoveInfo(RecyclerView.ViewHolder viewHolder, int i, int i2, int i3, int i4) {
            this.holder = viewHolder;
            this.fromX = i;
            this.fromY = i2;
            this.toX = i3;
            this.toY = i4;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static class ChangeInfo {
        public int fromX;
        public int fromY;
        public RecyclerView.ViewHolder newHolder;
        public RecyclerView.ViewHolder oldHolder;
        public int toX;
        public int toY;

        private ChangeInfo(RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder viewHolder2) {
            this.oldHolder = viewHolder;
            this.newHolder = viewHolder2;
        }

        ChangeInfo(RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder viewHolder2, int i, int i2, int i3, int i4) {
            this(viewHolder, viewHolder2);
            this.fromX = i;
            this.fromY = i2;
            this.toX = i3;
            this.toY = i4;
        }

        public String toString() {
            return "ChangeInfo{oldHolder=" + this.oldHolder + ", newHolder=" + this.newHolder + ", fromX=" + this.fromX + ", fromY=" + this.fromY + ", toX=" + this.toX + ", toY=" + this.toY + '}';
        }
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public void runPendingAnimations() {
        boolean z = !this.mPendingRemovals.isEmpty();
        boolean z2 = !this.mPendingMoves.isEmpty();
        boolean z3 = !this.mPendingChanges.isEmpty();
        boolean z4 = !this.mPendingAdditions.isEmpty();
        if (z || z2 || z4 || z3) {
            Iterator<RecyclerView.ViewHolder> it = this.mPendingRemovals.iterator();
            while (it.hasNext()) {
                animateRemoveImpl(it.next());
            }
            this.mPendingRemovals.clear();
            if (z2) {
                final ArrayList<MoveInfo> arrayList = new ArrayList<>();
                arrayList.addAll(this.mPendingMoves);
                this.mMovesList.add(arrayList);
                this.mPendingMoves.clear();
                Runnable runnable = new Runnable() { // from class: android.support.v7.widget.DefaultItemAnimator.1
                    @Override // java.lang.Runnable
                    public void run() {
                        Iterator it2 = arrayList.iterator();
                        while (it2.hasNext()) {
                            MoveInfo moveInfo = (MoveInfo) it2.next();
                            DefaultItemAnimator.this.animateMoveImpl(moveInfo.holder, moveInfo.fromX, moveInfo.fromY, moveInfo.toX, moveInfo.toY);
                        }
                        arrayList.clear();
                        DefaultItemAnimator.this.mMovesList.remove(arrayList);
                    }
                };
                if (z) {
                    ViewCompat.postOnAnimationDelayed(arrayList.get(0).holder.itemView, runnable, getRemoveDuration());
                } else {
                    runnable.run();
                }
            }
            if (z3) {
                final ArrayList<ChangeInfo> arrayList2 = new ArrayList<>();
                arrayList2.addAll(this.mPendingChanges);
                this.mChangesList.add(arrayList2);
                this.mPendingChanges.clear();
                Runnable runnable2 = new Runnable() { // from class: android.support.v7.widget.DefaultItemAnimator.2
                    @Override // java.lang.Runnable
                    public void run() {
                        Iterator it2 = arrayList2.iterator();
                        while (it2.hasNext()) {
                            DefaultItemAnimator.this.animateChangeImpl((ChangeInfo) it2.next());
                        }
                        arrayList2.clear();
                        DefaultItemAnimator.this.mChangesList.remove(arrayList2);
                    }
                };
                if (z) {
                    ViewCompat.postOnAnimationDelayed(arrayList2.get(0).oldHolder.itemView, runnable2, getRemoveDuration());
                } else {
                    runnable2.run();
                }
            }
            if (z4) {
                final ArrayList<RecyclerView.ViewHolder> arrayList3 = new ArrayList<>();
                arrayList3.addAll(this.mPendingAdditions);
                this.mAdditionsList.add(arrayList3);
                this.mPendingAdditions.clear();
                Runnable runnable3 = new Runnable() { // from class: android.support.v7.widget.DefaultItemAnimator.3
                    @Override // java.lang.Runnable
                    public void run() {
                        Iterator it2 = arrayList3.iterator();
                        while (it2.hasNext()) {
                            DefaultItemAnimator.this.animateAddImpl((RecyclerView.ViewHolder) it2.next());
                        }
                        arrayList3.clear();
                        DefaultItemAnimator.this.mAdditionsList.remove(arrayList3);
                    }
                };
                if (z || z2 || z3) {
                    ViewCompat.postOnAnimationDelayed(arrayList3.get(0).itemView, runnable3, (z ? getRemoveDuration() : 0L) + Math.max(z2 ? getMoveDuration() : 0L, z3 ? getChangeDuration() : 0L));
                } else {
                    runnable3.run();
                }
            }
        }
    }

    @Override // android.support.v7.widget.SimpleItemAnimator
    public boolean animateRemove(RecyclerView.ViewHolder viewHolder) {
        resetAnimation(viewHolder);
        this.mPendingRemovals.add(viewHolder);
        return true;
    }

    private void animateRemoveImpl(final RecyclerView.ViewHolder viewHolder) {
        final View view = viewHolder.itemView;
        final ViewPropertyAnimator animate = view.animate();
        this.mRemoveAnimations.add(viewHolder);
        animate.setDuration(getRemoveDuration()).alpha(0.0f).setListener(new AnimatorListenerAdapter() { // from class: android.support.v7.widget.DefaultItemAnimator.4
            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationStart(Animator animator) {
                DefaultItemAnimator.this.dispatchRemoveStarting(viewHolder);
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                animate.setListener(null);
                view.setAlpha(1.0f);
                DefaultItemAnimator.this.dispatchRemoveFinished(viewHolder);
                DefaultItemAnimator.this.mRemoveAnimations.remove(viewHolder);
                DefaultItemAnimator.this.dispatchFinishedWhenDone();
            }
        }).start();
    }

    @Override // android.support.v7.widget.SimpleItemAnimator
    public boolean animateAdd(RecyclerView.ViewHolder viewHolder) {
        resetAnimation(viewHolder);
        viewHolder.itemView.setAlpha(0.0f);
        this.mPendingAdditions.add(viewHolder);
        return true;
    }

    void animateAddImpl(final RecyclerView.ViewHolder viewHolder) {
        final View view = viewHolder.itemView;
        final ViewPropertyAnimator animate = view.animate();
        this.mAddAnimations.add(viewHolder);
        animate.alpha(1.0f).setDuration(getAddDuration()).setListener(new AnimatorListenerAdapter() { // from class: android.support.v7.widget.DefaultItemAnimator.5
            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationStart(Animator animator) {
                DefaultItemAnimator.this.dispatchAddStarting(viewHolder);
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationCancel(Animator animator) {
                view.setAlpha(1.0f);
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                animate.setListener(null);
                DefaultItemAnimator.this.dispatchAddFinished(viewHolder);
                DefaultItemAnimator.this.mAddAnimations.remove(viewHolder);
                DefaultItemAnimator.this.dispatchFinishedWhenDone();
            }
        }).start();
    }

    @Override // android.support.v7.widget.SimpleItemAnimator
    public boolean animateMove(RecyclerView.ViewHolder viewHolder, int i, int i2, int i3, int i4) {
        View view = viewHolder.itemView;
        int translationX = i + ((int) view.getTranslationX());
        int translationY = i2 + ((int) viewHolder.itemView.getTranslationY());
        resetAnimation(viewHolder);
        int i5 = i3 - translationX;
        int i6 = i4 - translationY;
        if (i5 == 0 && i6 == 0) {
            dispatchMoveFinished(viewHolder);
            return false;
        }
        if (i5 != 0) {
            view.setTranslationX(-i5);
        }
        if (i6 != 0) {
            view.setTranslationY(-i6);
        }
        this.mPendingMoves.add(new MoveInfo(viewHolder, translationX, translationY, i3, i4));
        return true;
    }

    void animateMoveImpl(final RecyclerView.ViewHolder viewHolder, int i, int i2, int i3, int i4) {
        final View view = viewHolder.itemView;
        final int i5 = i3 - i;
        final int i6 = i4 - i2;
        if (i5 != 0) {
            view.animate().translationX(0.0f);
        }
        if (i6 != 0) {
            view.animate().translationY(0.0f);
        }
        final ViewPropertyAnimator animate = view.animate();
        this.mMoveAnimations.add(viewHolder);
        animate.setDuration(getMoveDuration()).setListener(new AnimatorListenerAdapter() { // from class: android.support.v7.widget.DefaultItemAnimator.6
            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationStart(Animator animator) {
                DefaultItemAnimator.this.dispatchMoveStarting(viewHolder);
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationCancel(Animator animator) {
                if (i5 != 0) {
                    view.setTranslationX(0.0f);
                }
                if (i6 != 0) {
                    view.setTranslationY(0.0f);
                }
            }

            @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
            public void onAnimationEnd(Animator animator) {
                animate.setListener(null);
                DefaultItemAnimator.this.dispatchMoveFinished(viewHolder);
                DefaultItemAnimator.this.mMoveAnimations.remove(viewHolder);
                DefaultItemAnimator.this.dispatchFinishedWhenDone();
            }
        }).start();
    }

    @Override // android.support.v7.widget.SimpleItemAnimator
    public boolean animateChange(RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder viewHolder2, int i, int i2, int i3, int i4) {
        if (viewHolder == viewHolder2) {
            return animateMove(viewHolder, i, i2, i3, i4);
        }
        float translationX = viewHolder.itemView.getTranslationX();
        float translationY = viewHolder.itemView.getTranslationY();
        float alpha = viewHolder.itemView.getAlpha();
        resetAnimation(viewHolder);
        int i5 = (int) ((i3 - i) - translationX);
        int i6 = (int) ((i4 - i2) - translationY);
        viewHolder.itemView.setTranslationX(translationX);
        viewHolder.itemView.setTranslationY(translationY);
        viewHolder.itemView.setAlpha(alpha);
        if (viewHolder2 != null) {
            resetAnimation(viewHolder2);
            viewHolder2.itemView.setTranslationX(-i5);
            viewHolder2.itemView.setTranslationY(-i6);
            viewHolder2.itemView.setAlpha(0.0f);
        }
        this.mPendingChanges.add(new ChangeInfo(viewHolder, viewHolder2, i, i2, i3, i4));
        return true;
    }

    void animateChangeImpl(final ChangeInfo changeInfo) {
        RecyclerView.ViewHolder viewHolder = changeInfo.oldHolder;
        final View view = viewHolder == null ? null : viewHolder.itemView;
        RecyclerView.ViewHolder viewHolder2 = changeInfo.newHolder;
        final View view2 = viewHolder2 != null ? viewHolder2.itemView : null;
        if (view != null) {
            final ViewPropertyAnimator duration = view.animate().setDuration(getChangeDuration());
            this.mChangeAnimations.add(changeInfo.oldHolder);
            duration.translationX(changeInfo.toX - changeInfo.fromX);
            duration.translationY(changeInfo.toY - changeInfo.fromY);
            duration.alpha(0.0f).setListener(new AnimatorListenerAdapter() { // from class: android.support.v7.widget.DefaultItemAnimator.7
                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationStart(Animator animator) {
                    DefaultItemAnimator.this.dispatchChangeStarting(changeInfo.oldHolder, true);
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    duration.setListener(null);
                    view.setAlpha(1.0f);
                    view.setTranslationX(0.0f);
                    view.setTranslationY(0.0f);
                    DefaultItemAnimator.this.dispatchChangeFinished(changeInfo.oldHolder, true);
                    DefaultItemAnimator.this.mChangeAnimations.remove(changeInfo.oldHolder);
                    DefaultItemAnimator.this.dispatchFinishedWhenDone();
                }
            }).start();
        }
        if (view2 != null) {
            final ViewPropertyAnimator animate = view2.animate();
            this.mChangeAnimations.add(changeInfo.newHolder);
            animate.translationX(0.0f).translationY(0.0f).setDuration(getChangeDuration()).alpha(1.0f).setListener(new AnimatorListenerAdapter() { // from class: android.support.v7.widget.DefaultItemAnimator.8
                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationStart(Animator animator) {
                    DefaultItemAnimator.this.dispatchChangeStarting(changeInfo.newHolder, false);
                }

                @Override // android.animation.AnimatorListenerAdapter, android.animation.Animator.AnimatorListener
                public void onAnimationEnd(Animator animator) {
                    animate.setListener(null);
                    view2.setAlpha(1.0f);
                    view2.setTranslationX(0.0f);
                    view2.setTranslationY(0.0f);
                    DefaultItemAnimator.this.dispatchChangeFinished(changeInfo.newHolder, false);
                    DefaultItemAnimator.this.mChangeAnimations.remove(changeInfo.newHolder);
                    DefaultItemAnimator.this.dispatchFinishedWhenDone();
                }
            }).start();
        }
    }

    private void endChangeAnimation(List<ChangeInfo> list, RecyclerView.ViewHolder viewHolder) {
        for (int size = list.size() - 1; size >= 0; size--) {
            ChangeInfo changeInfo = list.get(size);
            if (endChangeAnimationIfNecessary(changeInfo, viewHolder) && changeInfo.oldHolder == null && changeInfo.newHolder == null) {
                list.remove(changeInfo);
            }
        }
    }

    private void endChangeAnimationIfNecessary(ChangeInfo changeInfo) {
        RecyclerView.ViewHolder viewHolder = changeInfo.oldHolder;
        if (viewHolder != null) {
            endChangeAnimationIfNecessary(changeInfo, viewHolder);
        }
        RecyclerView.ViewHolder viewHolder2 = changeInfo.newHolder;
        if (viewHolder2 != null) {
            endChangeAnimationIfNecessary(changeInfo, viewHolder2);
        }
    }

    private boolean endChangeAnimationIfNecessary(ChangeInfo changeInfo, RecyclerView.ViewHolder viewHolder) {
        boolean z = false;
        if (changeInfo.newHolder == viewHolder) {
            changeInfo.newHolder = null;
        } else {
            if (changeInfo.oldHolder != viewHolder) {
                return false;
            }
            changeInfo.oldHolder = null;
            z = true;
        }
        viewHolder.itemView.setAlpha(1.0f);
        viewHolder.itemView.setTranslationX(0.0f);
        viewHolder.itemView.setTranslationY(0.0f);
        dispatchChangeFinished(viewHolder, z);
        return true;
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public void endAnimation(RecyclerView.ViewHolder viewHolder) {
        View view = viewHolder.itemView;
        view.animate().cancel();
        int size = this.mPendingMoves.size();
        while (true) {
            size--;
            if (size < 0) {
                break;
            }
            if (this.mPendingMoves.get(size).holder == viewHolder) {
                view.setTranslationY(0.0f);
                view.setTranslationX(0.0f);
                dispatchMoveFinished(viewHolder);
                this.mPendingMoves.remove(size);
            }
        }
        endChangeAnimation(this.mPendingChanges, viewHolder);
        if (this.mPendingRemovals.remove(viewHolder)) {
            view.setAlpha(1.0f);
            dispatchRemoveFinished(viewHolder);
        }
        if (this.mPendingAdditions.remove(viewHolder)) {
            view.setAlpha(1.0f);
            dispatchAddFinished(viewHolder);
        }
        for (int size2 = this.mChangesList.size() - 1; size2 >= 0; size2--) {
            ArrayList<ChangeInfo> arrayList = this.mChangesList.get(size2);
            endChangeAnimation(arrayList, viewHolder);
            if (arrayList.isEmpty()) {
                this.mChangesList.remove(size2);
            }
        }
        for (int size3 = this.mMovesList.size() - 1; size3 >= 0; size3--) {
            ArrayList<MoveInfo> arrayList2 = this.mMovesList.get(size3);
            int size4 = arrayList2.size() - 1;
            while (true) {
                if (size4 < 0) {
                    break;
                }
                if (arrayList2.get(size4).holder == viewHolder) {
                    view.setTranslationY(0.0f);
                    view.setTranslationX(0.0f);
                    dispatchMoveFinished(viewHolder);
                    arrayList2.remove(size4);
                    if (arrayList2.isEmpty()) {
                        this.mMovesList.remove(size3);
                    }
                } else {
                    size4--;
                }
            }
        }
        for (int size5 = this.mAdditionsList.size() - 1; size5 >= 0; size5--) {
            ArrayList<RecyclerView.ViewHolder> arrayList3 = this.mAdditionsList.get(size5);
            if (arrayList3.remove(viewHolder)) {
                view.setAlpha(1.0f);
                dispatchAddFinished(viewHolder);
                if (arrayList3.isEmpty()) {
                    this.mAdditionsList.remove(size5);
                }
            }
        }
        this.mRemoveAnimations.remove(viewHolder);
        this.mAddAnimations.remove(viewHolder);
        this.mChangeAnimations.remove(viewHolder);
        this.mMoveAnimations.remove(viewHolder);
        dispatchFinishedWhenDone();
    }

    private void resetAnimation(RecyclerView.ViewHolder viewHolder) {
        if (sDefaultInterpolator == null) {
            sDefaultInterpolator = new ValueAnimator().getInterpolator();
        }
        viewHolder.itemView.animate().setInterpolator(sDefaultInterpolator);
        endAnimation(viewHolder);
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean isRunning() {
        return (this.mPendingAdditions.isEmpty() && this.mPendingChanges.isEmpty() && this.mPendingMoves.isEmpty() && this.mPendingRemovals.isEmpty() && this.mMoveAnimations.isEmpty() && this.mRemoveAnimations.isEmpty() && this.mAddAnimations.isEmpty() && this.mChangeAnimations.isEmpty() && this.mMovesList.isEmpty() && this.mAdditionsList.isEmpty() && this.mChangesList.isEmpty()) ? false : true;
    }

    void dispatchFinishedWhenDone() {
        if (isRunning()) {
            return;
        }
        dispatchAnimationsFinished();
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public void endAnimations() {
        int size = this.mPendingMoves.size();
        while (true) {
            size--;
            if (size < 0) {
                break;
            }
            MoveInfo moveInfo = this.mPendingMoves.get(size);
            View view = moveInfo.holder.itemView;
            view.setTranslationY(0.0f);
            view.setTranslationX(0.0f);
            dispatchMoveFinished(moveInfo.holder);
            this.mPendingMoves.remove(size);
        }
        for (int size2 = this.mPendingRemovals.size() - 1; size2 >= 0; size2--) {
            dispatchRemoveFinished(this.mPendingRemovals.get(size2));
            this.mPendingRemovals.remove(size2);
        }
        int size3 = this.mPendingAdditions.size();
        while (true) {
            size3--;
            if (size3 < 0) {
                break;
            }
            RecyclerView.ViewHolder viewHolder = this.mPendingAdditions.get(size3);
            viewHolder.itemView.setAlpha(1.0f);
            dispatchAddFinished(viewHolder);
            this.mPendingAdditions.remove(size3);
        }
        for (int size4 = this.mPendingChanges.size() - 1; size4 >= 0; size4--) {
            endChangeAnimationIfNecessary(this.mPendingChanges.get(size4));
        }
        this.mPendingChanges.clear();
        if (isRunning()) {
            for (int size5 = this.mMovesList.size() - 1; size5 >= 0; size5--) {
                ArrayList<MoveInfo> arrayList = this.mMovesList.get(size5);
                for (int size6 = arrayList.size() - 1; size6 >= 0; size6--) {
                    MoveInfo moveInfo2 = arrayList.get(size6);
                    View view2 = moveInfo2.holder.itemView;
                    view2.setTranslationY(0.0f);
                    view2.setTranslationX(0.0f);
                    dispatchMoveFinished(moveInfo2.holder);
                    arrayList.remove(size6);
                    if (arrayList.isEmpty()) {
                        this.mMovesList.remove(arrayList);
                    }
                }
            }
            for (int size7 = this.mAdditionsList.size() - 1; size7 >= 0; size7--) {
                ArrayList<RecyclerView.ViewHolder> arrayList2 = this.mAdditionsList.get(size7);
                for (int size8 = arrayList2.size() - 1; size8 >= 0; size8--) {
                    RecyclerView.ViewHolder viewHolder2 = arrayList2.get(size8);
                    viewHolder2.itemView.setAlpha(1.0f);
                    dispatchAddFinished(viewHolder2);
                    arrayList2.remove(size8);
                    if (arrayList2.isEmpty()) {
                        this.mAdditionsList.remove(arrayList2);
                    }
                }
            }
            for (int size9 = this.mChangesList.size() - 1; size9 >= 0; size9--) {
                ArrayList<ChangeInfo> arrayList3 = this.mChangesList.get(size9);
                for (int size10 = arrayList3.size() - 1; size10 >= 0; size10--) {
                    endChangeAnimationIfNecessary(arrayList3.get(size10));
                    if (arrayList3.isEmpty()) {
                        this.mChangesList.remove(arrayList3);
                    }
                }
            }
            cancelAll(this.mRemoveAnimations);
            cancelAll(this.mMoveAnimations);
            cancelAll(this.mAddAnimations);
            cancelAll(this.mChangeAnimations);
            dispatchAnimationsFinished();
        }
    }

    void cancelAll(List<RecyclerView.ViewHolder> list) {
        for (int size = list.size() - 1; size >= 0; size--) {
            list.get(size).itemView.animate().cancel();
        }
    }

    @Override // android.support.v7.widget.RecyclerView.ItemAnimator
    public boolean canReuseUpdatedViewHolder(RecyclerView.ViewHolder viewHolder, List<Object> list) {
        return !list.isEmpty() || super.canReuseUpdatedViewHolder(viewHolder, list);
    }
}


### **classes_dex_1/sources/android/support/v7/widget/LinearLayoutManager.java** ###

package android.support.v7.widget;

import android.content.Context;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v7.widget.RecyclerView;
import android.util.AttributeSet;
import android.view.View;
import android.view.accessibility.AccessibilityEvent;
import java.util.List;

/* loaded from: /content/classes1.dex */
public class LinearLayoutManager extends RecyclerView.LayoutManager {
    final AnchorInfo mAnchorInfo;
    private int mInitialPrefetchItemCount;
    private boolean mLastStackFromEnd;
    private final LayoutChunkResult mLayoutChunkResult;
    private LayoutState mLayoutState;
    int mOrientation;
    OrientationHelper mOrientationHelper;
    SavedState mPendingSavedState;
    int mPendingScrollPosition;
    int mPendingScrollPositionOffset;
    private boolean mRecycleChildrenOnDetach;
    private boolean mReverseLayout;
    boolean mShouldReverseLayout;
    private boolean mSmoothScrollbarEnabled;
    private boolean mStackFromEnd;

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean isAutoMeasureEnabled() {
        return true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void onAnchorReady(RecyclerView.Recycler recycler, RecyclerView.State state, AnchorInfo anchorInfo, int i) {
    }

    public LinearLayoutManager(Context context) {
        this(context, 1, false);
    }

    public LinearLayoutManager(Context context, int i, boolean z) {
        this.mOrientation = 1;
        this.mReverseLayout = false;
        this.mShouldReverseLayout = false;
        this.mStackFromEnd = false;
        this.mSmoothScrollbarEnabled = true;
        this.mPendingScrollPosition = -1;
        this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
        this.mPendingSavedState = null;
        this.mAnchorInfo = new AnchorInfo();
        this.mLayoutChunkResult = new LayoutChunkResult();
        this.mInitialPrefetchItemCount = 2;
        setOrientation(i);
        setReverseLayout(z);
    }

    public LinearLayoutManager(Context context, AttributeSet attributeSet, int i, int i2) {
        this.mOrientation = 1;
        this.mReverseLayout = false;
        this.mShouldReverseLayout = false;
        this.mStackFromEnd = false;
        this.mSmoothScrollbarEnabled = true;
        this.mPendingScrollPosition = -1;
        this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
        this.mPendingSavedState = null;
        this.mAnchorInfo = new AnchorInfo();
        this.mLayoutChunkResult = new LayoutChunkResult();
        this.mInitialPrefetchItemCount = 2;
        RecyclerView.LayoutManager.Properties properties = RecyclerView.LayoutManager.getProperties(context, attributeSet, i, i2);
        setOrientation(properties.orientation);
        setReverseLayout(properties.reverseLayout);
        setStackFromEnd(properties.stackFromEnd);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateDefaultLayoutParams() {
        return new RecyclerView.LayoutParams(-2, -2);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onDetachedFromWindow(RecyclerView recyclerView, RecyclerView.Recycler recycler) {
        super.onDetachedFromWindow(recyclerView, recycler);
        if (this.mRecycleChildrenOnDetach) {
            removeAndRecycleAllViews(recycler);
            recycler.clear();
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onInitializeAccessibilityEvent(AccessibilityEvent accessibilityEvent) {
        super.onInitializeAccessibilityEvent(accessibilityEvent);
        if (getChildCount() > 0) {
            accessibilityEvent.setFromIndex(findFirstVisibleItemPosition());
            accessibilityEvent.setToIndex(findLastVisibleItemPosition());
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public Parcelable onSaveInstanceState() {
        if (this.mPendingSavedState != null) {
            return new SavedState(this.mPendingSavedState);
        }
        SavedState savedState = new SavedState();
        if (getChildCount() > 0) {
            ensureLayoutState();
            boolean z = this.mLastStackFromEnd ^ this.mShouldReverseLayout;
            savedState.mAnchorLayoutFromEnd = z;
            if (z) {
                View childClosestToEnd = getChildClosestToEnd();
                savedState.mAnchorOffset = this.mOrientationHelper.getEndAfterPadding() - this.mOrientationHelper.getDecoratedEnd(childClosestToEnd);
                savedState.mAnchorPosition = getPosition(childClosestToEnd);
            } else {
                View childClosestToStart = getChildClosestToStart();
                savedState.mAnchorPosition = getPosition(childClosestToStart);
                savedState.mAnchorOffset = this.mOrientationHelper.getDecoratedStart(childClosestToStart) - this.mOrientationHelper.getStartAfterPadding();
            }
        } else {
            savedState.invalidateAnchor();
        }
        return savedState;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onRestoreInstanceState(Parcelable parcelable) {
        if (parcelable instanceof SavedState) {
            this.mPendingSavedState = (SavedState) parcelable;
            requestLayout();
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean canScrollHorizontally() {
        return this.mOrientation == 0;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean canScrollVertically() {
        return this.mOrientation == 1;
    }

    public void setStackFromEnd(boolean z) {
        assertNotInLayoutOrScroll(null);
        if (this.mStackFromEnd == z) {
            return;
        }
        this.mStackFromEnd = z;
        requestLayout();
    }

    public int getOrientation() {
        return this.mOrientation;
    }

    public void setOrientation(int i) {
        if (i != 0 && i != 1) {
            throw new IllegalArgumentException("invalid orientation:" + i);
        }
        assertNotInLayoutOrScroll(null);
        if (i != this.mOrientation || this.mOrientationHelper == null) {
            OrientationHelper createOrientationHelper = OrientationHelper.createOrientationHelper(this, i);
            this.mOrientationHelper = createOrientationHelper;
            this.mAnchorInfo.mOrientationHelper = createOrientationHelper;
            this.mOrientation = i;
            requestLayout();
        }
    }

    private void resolveShouldLayoutReverse() {
        if (this.mOrientation == 1 || !isLayoutRTL()) {
            this.mShouldReverseLayout = this.mReverseLayout;
        } else {
            this.mShouldReverseLayout = !this.mReverseLayout;
        }
    }

    public void setReverseLayout(boolean z) {
        assertNotInLayoutOrScroll(null);
        if (z == this.mReverseLayout) {
            return;
        }
        this.mReverseLayout = z;
        requestLayout();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public View findViewByPosition(int i) {
        int childCount = getChildCount();
        if (childCount == 0) {
            return null;
        }
        int position = i - getPosition(getChildAt(0));
        if (position >= 0 && position < childCount) {
            View childAt = getChildAt(position);
            if (getPosition(childAt) == i) {
                return childAt;
            }
        }
        return super.findViewByPosition(i);
    }

    protected int getExtraLayoutSpace(RecyclerView.State state) {
        if (state.hasTargetScrollPosition()) {
            return this.mOrientationHelper.getTotalSpace();
        }
        return 0;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {
        int i;
        int i2;
        int i3;
        int i4;
        int i5;
        int fixLayoutEndGap;
        int i6;
        View findViewByPosition;
        int decoratedStart;
        int i7;
        int i8 = -1;
        if ((this.mPendingSavedState != null || this.mPendingScrollPosition != -1) && state.getItemCount() == 0) {
            removeAndRecycleAllViews(recycler);
            return;
        }
        SavedState savedState = this.mPendingSavedState;
        if (savedState != null && savedState.hasValidAnchor()) {
            this.mPendingScrollPosition = this.mPendingSavedState.mAnchorPosition;
        }
        ensureLayoutState();
        this.mLayoutState.mRecycle = false;
        resolveShouldLayoutReverse();
        View focusedChild = getFocusedChild();
        if (!this.mAnchorInfo.mValid || this.mPendingScrollPosition != -1 || this.mPendingSavedState != null) {
            this.mAnchorInfo.reset();
            AnchorInfo anchorInfo = this.mAnchorInfo;
            anchorInfo.mLayoutFromEnd = this.mShouldReverseLayout ^ this.mStackFromEnd;
            updateAnchorInfoForLayout(recycler, state, anchorInfo);
            this.mAnchorInfo.mValid = true;
        } else if (focusedChild != null && (this.mOrientationHelper.getDecoratedStart(focusedChild) >= this.mOrientationHelper.getEndAfterPadding() || this.mOrientationHelper.getDecoratedEnd(focusedChild) <= this.mOrientationHelper.getStartAfterPadding())) {
            this.mAnchorInfo.assignFromViewAndKeepVisibleRect(focusedChild, getPosition(focusedChild));
        }
        int extraLayoutSpace = getExtraLayoutSpace(state);
        if (this.mLayoutState.mLastScrollDelta >= 0) {
            i = extraLayoutSpace;
            extraLayoutSpace = 0;
        } else {
            i = 0;
        }
        int startAfterPadding = extraLayoutSpace + this.mOrientationHelper.getStartAfterPadding();
        int endPadding = i + this.mOrientationHelper.getEndPadding();
        if (state.isPreLayout() && (i6 = this.mPendingScrollPosition) != -1 && this.mPendingScrollPositionOffset != Integer.MIN_VALUE && (findViewByPosition = findViewByPosition(i6)) != null) {
            if (this.mShouldReverseLayout) {
                i7 = this.mOrientationHelper.getEndAfterPadding() - this.mOrientationHelper.getDecoratedEnd(findViewByPosition);
                decoratedStart = this.mPendingScrollPositionOffset;
            } else {
                decoratedStart = this.mOrientationHelper.getDecoratedStart(findViewByPosition) - this.mOrientationHelper.getStartAfterPadding();
                i7 = this.mPendingScrollPositionOffset;
            }
            int i9 = i7 - decoratedStart;
            if (i9 > 0) {
                startAfterPadding += i9;
            } else {
                endPadding -= i9;
            }
        }
        if (!this.mAnchorInfo.mLayoutFromEnd ? !this.mShouldReverseLayout : this.mShouldReverseLayout) {
            i8 = 1;
        }
        onAnchorReady(recycler, state, this.mAnchorInfo, i8);
        detachAndScrapAttachedViews(recycler);
        this.mLayoutState.mInfinite = resolveIsInfinite();
        this.mLayoutState.mIsPreLayout = state.isPreLayout();
        AnchorInfo anchorInfo2 = this.mAnchorInfo;
        if (anchorInfo2.mLayoutFromEnd) {
            updateLayoutStateToFillStart(anchorInfo2);
            LayoutState layoutState = this.mLayoutState;
            layoutState.mExtra = startAfterPadding;
            fill(recycler, layoutState, state, false);
            LayoutState layoutState2 = this.mLayoutState;
            i3 = layoutState2.mOffset;
            int i10 = layoutState2.mCurrentPosition;
            int i11 = layoutState2.mAvailable;
            if (i11 > 0) {
                endPadding += i11;
            }
            updateLayoutStateToFillEnd(this.mAnchorInfo);
            LayoutState layoutState3 = this.mLayoutState;
            layoutState3.mExtra = endPadding;
            layoutState3.mCurrentPosition += layoutState3.mItemDirection;
            fill(recycler, layoutState3, state, false);
            LayoutState layoutState4 = this.mLayoutState;
            i2 = layoutState4.mOffset;
            int i12 = layoutState4.mAvailable;
            if (i12 > 0) {
                updateLayoutStateToFillStart(i10, i3);
                LayoutState layoutState5 = this.mLayoutState;
                layoutState5.mExtra = i12;
                fill(recycler, layoutState5, state, false);
                i3 = this.mLayoutState.mOffset;
            }
        } else {
            updateLayoutStateToFillEnd(anchorInfo2);
            LayoutState layoutState6 = this.mLayoutState;
            layoutState6.mExtra = endPadding;
            fill(recycler, layoutState6, state, false);
            LayoutState layoutState7 = this.mLayoutState;
            i2 = layoutState7.mOffset;
            int i13 = layoutState7.mCurrentPosition;
            int i14 = layoutState7.mAvailable;
            if (i14 > 0) {
                startAfterPadding += i14;
            }
            updateLayoutStateToFillStart(this.mAnchorInfo);
            LayoutState layoutState8 = this.mLayoutState;
            layoutState8.mExtra = startAfterPadding;
            layoutState8.mCurrentPosition += layoutState8.mItemDirection;
            fill(recycler, layoutState8, state, false);
            LayoutState layoutState9 = this.mLayoutState;
            i3 = layoutState9.mOffset;
            int i15 = layoutState9.mAvailable;
            if (i15 > 0) {
                updateLayoutStateToFillEnd(i13, i2);
                LayoutState layoutState10 = this.mLayoutState;
                layoutState10.mExtra = i15;
                fill(recycler, layoutState10, state, false);
                i2 = this.mLayoutState.mOffset;
            }
        }
        if (getChildCount() > 0) {
            if (this.mShouldReverseLayout ^ this.mStackFromEnd) {
                int fixLayoutEndGap2 = fixLayoutEndGap(i2, recycler, state, true);
                i4 = i3 + fixLayoutEndGap2;
                i5 = i2 + fixLayoutEndGap2;
                fixLayoutEndGap = fixLayoutStartGap(i4, recycler, state, false);
            } else {
                int fixLayoutStartGap = fixLayoutStartGap(i3, recycler, state, true);
                i4 = i3 + fixLayoutStartGap;
                i5 = i2 + fixLayoutStartGap;
                fixLayoutEndGap = fixLayoutEndGap(i5, recycler, state, false);
            }
            i3 = i4 + fixLayoutEndGap;
            i2 = i5 + fixLayoutEndGap;
        }
        layoutForPredictiveAnimations(recycler, state, i3, i2);
        if (!state.isPreLayout()) {
            this.mOrientationHelper.onLayoutComplete();
        } else {
            this.mAnchorInfo.reset();
        }
        this.mLastStackFromEnd = this.mStackFromEnd;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutCompleted(RecyclerView.State state) {
        super.onLayoutCompleted(state);
        this.mPendingSavedState = null;
        this.mPendingScrollPosition = -1;
        this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
        this.mAnchorInfo.reset();
    }

    private void layoutForPredictiveAnimations(RecyclerView.Recycler recycler, RecyclerView.State state, int i, int i2) {
        if (!state.willRunPredictiveAnimations() || getChildCount() == 0 || state.isPreLayout() || !supportsPredictiveItemAnimations()) {
            return;
        }
        List<RecyclerView.ViewHolder> scrapList = recycler.getScrapList();
        int size = scrapList.size();
        int position = getPosition(getChildAt(0));
        int i3 = 0;
        int i4 = 0;
        for (int i5 = 0; i5 < size; i5++) {
            RecyclerView.ViewHolder viewHolder = scrapList.get(i5);
            if (!viewHolder.isRemoved()) {
                if (((viewHolder.getLayoutPosition() < position) != this.mShouldReverseLayout ? (char) 65535 : (char) 1) == 65535) {
                    i3 += this.mOrientationHelper.getDecoratedMeasurement(viewHolder.itemView);
                } else {
                    i4 += this.mOrientationHelper.getDecoratedMeasurement(viewHolder.itemView);
                }
            }
        }
        this.mLayoutState.mScrapList = scrapList;
        if (i3 > 0) {
            updateLayoutStateToFillStart(getPosition(getChildClosestToStart()), i);
            LayoutState layoutState = this.mLayoutState;
            layoutState.mExtra = i3;
            layoutState.mAvailable = 0;
            layoutState.assignPositionFromScrapList();
            fill(recycler, this.mLayoutState, state, false);
        }
        if (i4 > 0) {
            updateLayoutStateToFillEnd(getPosition(getChildClosestToEnd()), i2);
            LayoutState layoutState2 = this.mLayoutState;
            layoutState2.mExtra = i4;
            layoutState2.mAvailable = 0;
            layoutState2.assignPositionFromScrapList();
            fill(recycler, this.mLayoutState, state, false);
        }
        this.mLayoutState.mScrapList = null;
    }

    private void updateAnchorInfoForLayout(RecyclerView.Recycler recycler, RecyclerView.State state, AnchorInfo anchorInfo) {
        if (updateAnchorFromPendingData(state, anchorInfo) || updateAnchorFromChildren(recycler, state, anchorInfo)) {
            return;
        }
        anchorInfo.assignCoordinateFromPadding();
        anchorInfo.mPosition = this.mStackFromEnd ? state.getItemCount() - 1 : 0;
    }

    private boolean updateAnchorFromChildren(RecyclerView.Recycler recycler, RecyclerView.State state, AnchorInfo anchorInfo) {
        View findReferenceChildClosestToStart;
        int startAfterPadding;
        if (getChildCount() == 0) {
            return false;
        }
        View focusedChild = getFocusedChild();
        if (focusedChild != null && anchorInfo.isViewValidAsAnchor(focusedChild, state)) {
            anchorInfo.assignFromViewAndKeepVisibleRect(focusedChild, getPosition(focusedChild));
            return true;
        }
        if (this.mLastStackFromEnd != this.mStackFromEnd) {
            return false;
        }
        if (anchorInfo.mLayoutFromEnd) {
            findReferenceChildClosestToStart = findReferenceChildClosestToEnd(recycler, state);
        } else {
            findReferenceChildClosestToStart = findReferenceChildClosestToStart(recycler, state);
        }
        if (findReferenceChildClosestToStart == null) {
            return false;
        }
        anchorInfo.assignFromView(findReferenceChildClosestToStart, getPosition(findReferenceChildClosestToStart));
        if (!state.isPreLayout() && supportsPredictiveItemAnimations()) {
            if (this.mOrientationHelper.getDecoratedStart(findReferenceChildClosestToStart) >= this.mOrientationHelper.getEndAfterPadding() || this.mOrientationHelper.getDecoratedEnd(findReferenceChildClosestToStart) < this.mOrientationHelper.getStartAfterPadding()) {
                if (anchorInfo.mLayoutFromEnd) {
                    startAfterPadding = this.mOrientationHelper.getEndAfterPadding();
                } else {
                    startAfterPadding = this.mOrientationHelper.getStartAfterPadding();
                }
                anchorInfo.mCoordinate = startAfterPadding;
            }
        }
        return true;
    }

    private boolean updateAnchorFromPendingData(RecyclerView.State state, AnchorInfo anchorInfo) {
        int i;
        int decoratedStart;
        if (!state.isPreLayout() && (i = this.mPendingScrollPosition) != -1) {
            if (i < 0 || i >= state.getItemCount()) {
                this.mPendingScrollPosition = -1;
                this.mPendingScrollPositionOffset = Integer.MIN_VALUE;
            } else {
                anchorInfo.mPosition = this.mPendingScrollPosition;
                SavedState savedState = this.mPendingSavedState;
                if (savedState != null && savedState.hasValidAnchor()) {
                    boolean z = this.mPendingSavedState.mAnchorLayoutFromEnd;
                    anchorInfo.mLayoutFromEnd = z;
                    if (z) {
                        anchorInfo.mCoordinate = this.mOrientationHelper.getEndAfterPadding() - this.mPendingSavedState.mAnchorOffset;
                    } else {
                        anchorInfo.mCoordinate = this.mOrientationHelper.getStartAfterPadding() + this.mPendingSavedState.mAnchorOffset;
                    }
                    return true;
                }
                if (this.mPendingScrollPositionOffset == Integer.MIN_VALUE) {
                    View findViewByPosition = findViewByPosition(this.mPendingScrollPosition);
                    if (findViewByPosition != null) {
                        if (this.mOrientationHelper.getDecoratedMeasurement(findViewByPosition) > this.mOrientationHelper.getTotalSpace()) {
                            anchorInfo.assignCoordinateFromPadding();
                            return true;
                        }
                        if (this.mOrientationHelper.getDecoratedStart(findViewByPosition) - this.mOrientationHelper.getStartAfterPadding() < 0) {
                            anchorInfo.mCoordinate = this.mOrientationHelper.getStartAfterPadding();
                            anchorInfo.mLayoutFromEnd = false;
                            return true;
                        }
                        if (this.mOrientationHelper.getEndAfterPadding() - this.mOrientationHelper.getDecoratedEnd(findViewByPosition) < 0) {
                            anchorInfo.mCoordinate = this.mOrientationHelper.getEndAfterPadding();
                            anchorInfo.mLayoutFromEnd = true;
                            return true;
                        }
                        if (anchorInfo.mLayoutFromEnd) {
                            decoratedStart = this.mOrientationHelper.getDecoratedEnd(findViewByPosition) + this.mOrientationHelper.getTotalSpaceChange();
                        } else {
                            decoratedStart = this.mOrientationHelper.getDecoratedStart(findViewByPosition);
                        }
                        anchorInfo.mCoordinate = decoratedStart;
                    } else {
                        if (getChildCount() > 0) {
                            anchorInfo.mLayoutFromEnd = (this.mPendingScrollPosition < getPosition(getChildAt(0))) == this.mShouldReverseLayout;
                        }
                        anchorInfo.assignCoordinateFromPadding();
                    }
                    return true;
                }
                boolean z2 = this.mShouldReverseLayout;
                anchorInfo.mLayoutFromEnd = z2;
                if (z2) {
                    anchorInfo.mCoordinate = this.mOrientationHelper.getEndAfterPadding() - this.mPendingScrollPositionOffset;
                } else {
                    anchorInfo.mCoordinate = this.mOrientationHelper.getStartAfterPadding() + this.mPendingScrollPositionOffset;
                }
                return true;
            }
        }
        return false;
    }

    private int fixLayoutEndGap(int i, RecyclerView.Recycler recycler, RecyclerView.State state, boolean z) {
        int endAfterPadding;
        int endAfterPadding2 = this.mOrientationHelper.getEndAfterPadding() - i;
        if (endAfterPadding2 <= 0) {
            return 0;
        }
        int i2 = -scrollBy(-endAfterPadding2, recycler, state);
        int i3 = i + i2;
        if (!z || (endAfterPadding = this.mOrientationHelper.getEndAfterPadding() - i3) <= 0) {
            return i2;
        }
        this.mOrientationHelper.offsetChildren(endAfterPadding);
        return endAfterPadding + i2;
    }

    private int fixLayoutStartGap(int i, RecyclerView.Recycler recycler, RecyclerView.State state, boolean z) {
        int startAfterPadding;
        int startAfterPadding2 = i - this.mOrientationHelper.getStartAfterPadding();
        if (startAfterPadding2 <= 0) {
            return 0;
        }
        int i2 = -scrollBy(startAfterPadding2, recycler, state);
        int i3 = i + i2;
        if (!z || (startAfterPadding = i3 - this.mOrientationHelper.getStartAfterPadding()) <= 0) {
            return i2;
        }
        this.mOrientationHelper.offsetChildren(-startAfterPadding);
        return i2 - startAfterPadding;
    }

    private void updateLayoutStateToFillEnd(AnchorInfo anchorInfo) {
        updateLayoutStateToFillEnd(anchorInfo.mPosition, anchorInfo.mCoordinate);
    }

    private void updateLayoutStateToFillEnd(int i, int i2) {
        this.mLayoutState.mAvailable = this.mOrientationHelper.getEndAfterPadding() - i2;
        this.mLayoutState.mItemDirection = this.mShouldReverseLayout ? -1 : 1;
        LayoutState layoutState = this.mLayoutState;
        layoutState.mCurrentPosition = i;
        layoutState.mLayoutDirection = 1;
        layoutState.mOffset = i2;
        layoutState.mScrollingOffset = Integer.MIN_VALUE;
    }

    private void updateLayoutStateToFillStart(AnchorInfo anchorInfo) {
        updateLayoutStateToFillStart(anchorInfo.mPosition, anchorInfo.mCoordinate);
    }

    private void updateLayoutStateToFillStart(int i, int i2) {
        this.mLayoutState.mAvailable = i2 - this.mOrientationHelper.getStartAfterPadding();
        LayoutState layoutState = this.mLayoutState;
        layoutState.mCurrentPosition = i;
        layoutState.mItemDirection = this.mShouldReverseLayout ? 1 : -1;
        LayoutState layoutState2 = this.mLayoutState;
        layoutState2.mLayoutDirection = -1;
        layoutState2.mOffset = i2;
        layoutState2.mScrollingOffset = Integer.MIN_VALUE;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public boolean isLayoutRTL() {
        return getLayoutDirection() == 1;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void ensureLayoutState() {
        if (this.mLayoutState == null) {
            this.mLayoutState = createLayoutState();
        }
    }

    LayoutState createLayoutState() {
        return new LayoutState();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollHorizontallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 1) {
            return 0;
        }
        return scrollBy(i, recycler, state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollVerticallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 0) {
            return 0;
        }
        return scrollBy(i, recycler, state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollOffset(RecyclerView.State state) {
        return computeScrollOffset(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollOffset(RecyclerView.State state) {
        return computeScrollOffset(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollExtent(RecyclerView.State state) {
        return computeScrollExtent(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollExtent(RecyclerView.State state) {
        return computeScrollExtent(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeHorizontalScrollRange(RecyclerView.State state) {
        return computeScrollRange(state);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int computeVerticalScrollRange(RecyclerView.State state) {
        return computeScrollRange(state);
    }

    private int computeScrollOffset(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        ensureLayoutState();
        return ScrollbarHelper.computeScrollOffset(state, this.mOrientationHelper, findFirstVisibleChildClosestToStart(!this.mSmoothScrollbarEnabled, true), findFirstVisibleChildClosestToEnd(!this.mSmoothScrollbarEnabled, true), this, this.mSmoothScrollbarEnabled, this.mShouldReverseLayout);
    }

    private int computeScrollExtent(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        ensureLayoutState();
        return ScrollbarHelper.computeScrollExtent(state, this.mOrientationHelper, findFirstVisibleChildClosestToStart(!this.mSmoothScrollbarEnabled, true), findFirstVisibleChildClosestToEnd(!this.mSmoothScrollbarEnabled, true), this, this.mSmoothScrollbarEnabled);
    }

    private int computeScrollRange(RecyclerView.State state) {
        if (getChildCount() == 0) {
            return 0;
        }
        ensureLayoutState();
        return ScrollbarHelper.computeScrollRange(state, this.mOrientationHelper, findFirstVisibleChildClosestToStart(!this.mSmoothScrollbarEnabled, true), findFirstVisibleChildClosestToEnd(!this.mSmoothScrollbarEnabled, true), this, this.mSmoothScrollbarEnabled);
    }

    private void updateLayoutState(int i, int i2, boolean z, RecyclerView.State state) {
        int startAfterPadding;
        this.mLayoutState.mInfinite = resolveIsInfinite();
        this.mLayoutState.mExtra = getExtraLayoutSpace(state);
        LayoutState layoutState = this.mLayoutState;
        layoutState.mLayoutDirection = i;
        if (i == 1) {
            layoutState.mExtra += this.mOrientationHelper.getEndPadding();
            View childClosestToEnd = getChildClosestToEnd();
            this.mLayoutState.mItemDirection = this.mShouldReverseLayout ? -1 : 1;
            LayoutState layoutState2 = this.mLayoutState;
            int position = getPosition(childClosestToEnd);
            LayoutState layoutState3 = this.mLayoutState;
            layoutState2.mCurrentPosition = position + layoutState3.mItemDirection;
            layoutState3.mOffset = this.mOrientationHelper.getDecoratedEnd(childClosestToEnd);
            startAfterPadding = this.mOrientationHelper.getDecoratedEnd(childClosestToEnd) - this.mOrientationHelper.getEndAfterPadding();
        } else {
            View childClosestToStart = getChildClosestToStart();
            this.mLayoutState.mExtra += this.mOrientationHelper.getStartAfterPadding();
            this.mLayoutState.mItemDirection = this.mShouldReverseLayout ? 1 : -1;
            LayoutState layoutState4 = this.mLayoutState;
            int position2 = getPosition(childClosestToStart);
            LayoutState layoutState5 = this.mLayoutState;
            layoutState4.mCurrentPosition = position2 + layoutState5.mItemDirection;
            layoutState5.mOffset = this.mOrientationHelper.getDecoratedStart(childClosestToStart);
            startAfterPadding = (-this.mOrientationHelper.getDecoratedStart(childClosestToStart)) + this.mOrientationHelper.getStartAfterPadding();
        }
        LayoutState layoutState6 = this.mLayoutState;
        layoutState6.mAvailable = i2;
        if (z) {
            layoutState6.mAvailable = i2 - startAfterPadding;
        }
        this.mLayoutState.mScrollingOffset = startAfterPadding;
    }

    boolean resolveIsInfinite() {
        return this.mOrientationHelper.getMode() == 0 && this.mOrientationHelper.getEnd() == 0;
    }

    void collectPrefetchPositionsForLayoutState(RecyclerView.State state, LayoutState layoutState, RecyclerView.LayoutManager.LayoutPrefetchRegistry layoutPrefetchRegistry) {
        int i = layoutState.mCurrentPosition;
        if (i < 0 || i >= state.getItemCount()) {
            return;
        }
        layoutPrefetchRegistry.addPosition(i, Math.max(0, layoutState.mScrollingOffset));
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void collectInitialPrefetchPositions(int i, RecyclerView.LayoutManager.LayoutPrefetchRegistry layoutPrefetchRegistry) {
        boolean z;
        int i2;
        SavedState savedState = this.mPendingSavedState;
        if (savedState != null && savedState.hasValidAnchor()) {
            SavedState savedState2 = this.mPendingSavedState;
            z = savedState2.mAnchorLayoutFromEnd;
            i2 = savedState2.mAnchorPosition;
        } else {
            resolveShouldLayoutReverse();
            z = this.mShouldReverseLayout;
            i2 = this.mPendingScrollPosition;
            if (i2 == -1) {
                i2 = z ? i - 1 : 0;
            }
        }
        int i3 = z ? -1 : 1;
        for (int i4 = 0; i4 < this.mInitialPrefetchItemCount && i2 >= 0 && i2 < i; i4++) {
            layoutPrefetchRegistry.addPosition(i2, 0);
            i2 += i3;
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void collectAdjacentPrefetchPositions(int i, int i2, RecyclerView.State state, RecyclerView.LayoutManager.LayoutPrefetchRegistry layoutPrefetchRegistry) {
        if (this.mOrientation != 0) {
            i = i2;
        }
        if (getChildCount() == 0 || i == 0) {
            return;
        }
        ensureLayoutState();
        updateLayoutState(i > 0 ? 1 : -1, Math.abs(i), true, state);
        collectPrefetchPositionsForLayoutState(state, this.mLayoutState, layoutPrefetchRegistry);
    }

    int scrollBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (getChildCount() == 0 || i == 0) {
            return 0;
        }
        this.mLayoutState.mRecycle = true;
        ensureLayoutState();
        int i2 = i > 0 ? 1 : -1;
        int abs = Math.abs(i);
        updateLayoutState(i2, abs, true, state);
        LayoutState layoutState = this.mLayoutState;
        int fill = layoutState.mScrollingOffset + fill(recycler, layoutState, state, false);
        if (fill < 0) {
            return 0;
        }
        if (abs > fill) {
            i = i2 * fill;
        }
        this.mOrientationHelper.offsetChildren(-i);
        this.mLayoutState.mLastScrollDelta = i;
        return i;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void assertNotInLayoutOrScroll(String str) {
        if (this.mPendingSavedState == null) {
            super.assertNotInLayoutOrScroll(str);
        }
    }

    private void recycleChildren(RecyclerView.Recycler recycler, int i, int i2) {
        if (i == i2) {
            return;
        }
        if (i2 <= i) {
            while (i > i2) {
                removeAndRecycleViewAt(i, recycler);
                i--;
            }
        } else {
            for (int i3 = i2 - 1; i3 >= i; i3--) {
                removeAndRecycleViewAt(i3, recycler);
            }
        }
    }

    private void recycleViewsFromStart(RecyclerView.Recycler recycler, int i) {
        if (i < 0) {
            return;
        }
        int childCount = getChildCount();
        if (!this.mShouldReverseLayout) {
            for (int i2 = 0; i2 < childCount; i2++) {
                View childAt = getChildAt(i2);
                if (this.mOrientationHelper.getDecoratedEnd(childAt) > i || this.mOrientationHelper.getTransformedEndWithDecoration(childAt) > i) {
                    recycleChildren(recycler, 0, i2);
                    return;
                }
            }
            return;
        }
        int i3 = childCount - 1;
        for (int i4 = i3; i4 >= 0; i4--) {
            View childAt2 = getChildAt(i4);
            if (this.mOrientationHelper.getDecoratedEnd(childAt2) > i || this.mOrientationHelper.getTransformedEndWithDecoration(childAt2) > i) {
                recycleChildren(recycler, i3, i4);
                return;
            }
        }
    }

    private void recycleViewsFromEnd(RecyclerView.Recycler recycler, int i) {
        int childCount = getChildCount();
        if (i < 0) {
            return;
        }
        int end = this.mOrientationHelper.getEnd() - i;
        if (this.mShouldReverseLayout) {
            for (int i2 = 0; i2 < childCount; i2++) {
                View childAt = getChildAt(i2);
                if (this.mOrientationHelper.getDecoratedStart(childAt) < end || this.mOrientationHelper.getTransformedStartWithDecoration(childAt) < end) {
                    recycleChildren(recycler, 0, i2);
                    return;
                }
            }
            return;
        }
        int i3 = childCount - 1;
        for (int i4 = i3; i4 >= 0; i4--) {
            View childAt2 = getChildAt(i4);
            if (this.mOrientationHelper.getDecoratedStart(childAt2) < end || this.mOrientationHelper.getTransformedStartWithDecoration(childAt2) < end) {
                recycleChildren(recycler, i3, i4);
                return;
            }
        }
    }

    private void recycleByLayoutState(RecyclerView.Recycler recycler, LayoutState layoutState) {
        if (!layoutState.mRecycle || layoutState.mInfinite) {
            return;
        }
        if (layoutState.mLayoutDirection == -1) {
            recycleViewsFromEnd(recycler, layoutState.mScrollingOffset);
        } else {
            recycleViewsFromStart(recycler, layoutState.mScrollingOffset);
        }
    }

    int fill(RecyclerView.Recycler recycler, LayoutState layoutState, RecyclerView.State state, boolean z) {
        int i = layoutState.mAvailable;
        int i2 = layoutState.mScrollingOffset;
        if (i2 != Integer.MIN_VALUE) {
            if (i < 0) {
                layoutState.mScrollingOffset = i2 + i;
            }
            recycleByLayoutState(recycler, layoutState);
        }
        int i3 = layoutState.mAvailable + layoutState.mExtra;
        LayoutChunkResult layoutChunkResult = this.mLayoutChunkResult;
        while (true) {
            if ((!layoutState.mInfinite && i3 <= 0) || !layoutState.hasMore(state)) {
                break;
            }
            layoutChunkResult.resetInternal();
            layoutChunk(recycler, state, layoutState, layoutChunkResult);
            if (!layoutChunkResult.mFinished) {
                layoutState.mOffset += layoutChunkResult.mConsumed * layoutState.mLayoutDirection;
                if (!layoutChunkResult.mIgnoreConsumed || this.mLayoutState.mScrapList != null || !state.isPreLayout()) {
                    int i4 = layoutState.mAvailable;
                    int i5 = layoutChunkResult.mConsumed;
                    layoutState.mAvailable = i4 - i5;
                    i3 -= i5;
                }
                int i6 = layoutState.mScrollingOffset;
                if (i6 != Integer.MIN_VALUE) {
                    int i7 = i6 + layoutChunkResult.mConsumed;
                    layoutState.mScrollingOffset = i7;
                    int i8 = layoutState.mAvailable;
                    if (i8 < 0) {
                        layoutState.mScrollingOffset = i7 + i8;
                    }
                    recycleByLayoutState(recycler, layoutState);
                }
                if (z && layoutChunkResult.mFocusable) {
                    break;
                }
            } else {
                break;
            }
        }
        return i - layoutState.mAvailable;
    }

    void layoutChunk(RecyclerView.Recycler recycler, RecyclerView.State state, LayoutState layoutState, LayoutChunkResult layoutChunkResult) {
        int i;
        int i2;
        int i3;
        int i4;
        int decoratedMeasurementInOther;
        View next = layoutState.next(recycler);
        if (next == null) {
            layoutChunkResult.mFinished = true;
            return;
        }
        RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) next.getLayoutParams();
        if (layoutState.mScrapList == null) {
            if (this.mShouldReverseLayout == (layoutState.mLayoutDirection == -1)) {
                addView(next);
            } else {
                addView(next, 0);
            }
        } else {
            if (this.mShouldReverseLayout == (layoutState.mLayoutDirection == -1)) {
                addDisappearingView(next);
            } else {
                addDisappearingView(next, 0);
            }
        }
        measureChildWithMargins(next, 0, 0);
        layoutChunkResult.mConsumed = this.mOrientationHelper.getDecoratedMeasurement(next);
        if (this.mOrientation == 1) {
            if (isLayoutRTL()) {
                decoratedMeasurementInOther = getWidth() - getPaddingRight();
                i4 = decoratedMeasurementInOther - this.mOrientationHelper.getDecoratedMeasurementInOther(next);
            } else {
                i4 = getPaddingLeft();
                decoratedMeasurementInOther = this.mOrientationHelper.getDecoratedMeasurementInOther(next) + i4;
            }
            if (layoutState.mLayoutDirection == -1) {
                int i5 = layoutState.mOffset;
                i3 = i5;
                i2 = decoratedMeasurementInOther;
                i = i5 - layoutChunkResult.mConsumed;
            } else {
                int i6 = layoutState.mOffset;
                i = i6;
                i2 = decoratedMeasurementInOther;
                i3 = layoutChunkResult.mConsumed + i6;
            }
        } else {
            int paddingTop = getPaddingTop();
            int decoratedMeasurementInOther2 = this.mOrientationHelper.getDecoratedMeasurementInOther(next) + paddingTop;
            if (layoutState.mLayoutDirection == -1) {
                int i7 = layoutState.mOffset;
                i2 = i7;
                i = paddingTop;
                i3 = decoratedMeasurementInOther2;
                i4 = i7 - layoutChunkResult.mConsumed;
            } else {
                int i8 = layoutState.mOffset;
                i = paddingTop;
                i2 = layoutChunkResult.mConsumed + i8;
                i3 = decoratedMeasurementInOther2;
                i4 = i8;
            }
        }
        layoutDecoratedWithMargins(next, i4, i, i2, i3);
        if (layoutParams.isItemRemoved() || layoutParams.isItemChanged()) {
            layoutChunkResult.mIgnoreConsumed = true;
        }
        layoutChunkResult.mFocusable = next.hasFocusable();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    boolean shouldMeasureTwice() {
        return (getHeightMode() == 1073741824 || getWidthMode() == 1073741824 || !hasFlexibleChildInBothOrientations()) ? false : true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int convertFocusDirectionToLayoutDirection(int i) {
        return i != 1 ? i != 2 ? i != 17 ? i != 33 ? i != 66 ? (i == 130 && this.mOrientation == 1) ? 1 : Integer.MIN_VALUE : this.mOrientation == 0 ? 1 : Integer.MIN_VALUE : this.mOrientation == 1 ? -1 : Integer.MIN_VALUE : this.mOrientation == 0 ? -1 : Integer.MIN_VALUE : (this.mOrientation != 1 && isLayoutRTL()) ? -1 : 1 : (this.mOrientation != 1 && isLayoutRTL()) ? 1 : -1;
    }

    private View getChildClosestToStart() {
        return getChildAt(this.mShouldReverseLayout ? getChildCount() - 1 : 0);
    }

    private View getChildClosestToEnd() {
        return getChildAt(this.mShouldReverseLayout ? 0 : getChildCount() - 1);
    }

    private View findFirstVisibleChildClosestToStart(boolean z, boolean z2) {
        if (this.mShouldReverseLayout) {
            return findOneVisibleChild(getChildCount() - 1, -1, z, z2);
        }
        return findOneVisibleChild(0, getChildCount(), z, z2);
    }

    private View findFirstVisibleChildClosestToEnd(boolean z, boolean z2) {
        if (this.mShouldReverseLayout) {
            return findOneVisibleChild(0, getChildCount(), z, z2);
        }
        return findOneVisibleChild(getChildCount() - 1, -1, z, z2);
    }

    private View findReferenceChildClosestToEnd(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return this.mShouldReverseLayout ? findFirstReferenceChild(recycler, state) : findLastReferenceChild(recycler, state);
    }

    private View findReferenceChildClosestToStart(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return this.mShouldReverseLayout ? findLastReferenceChild(recycler, state) : findFirstReferenceChild(recycler, state);
    }

    private View findFirstReferenceChild(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return findReferenceChild(recycler, state, 0, getChildCount(), state.getItemCount());
    }

    private View findLastReferenceChild(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return findReferenceChild(recycler, state, getChildCount() - 1, -1, state.getItemCount());
    }

    View findReferenceChild(RecyclerView.Recycler recycler, RecyclerView.State state, int i, int i2, int i3) {
        ensureLayoutState();
        int startAfterPadding = this.mOrientationHelper.getStartAfterPadding();
        int endAfterPadding = this.mOrientationHelper.getEndAfterPadding();
        int i4 = i2 > i ? 1 : -1;
        View view = null;
        View view2 = null;
        while (i != i2) {
            View childAt = getChildAt(i);
            int position = getPosition(childAt);
            if (position >= 0 && position < i3) {
                if (((RecyclerView.LayoutParams) childAt.getLayoutParams()).isItemRemoved()) {
                    if (view2 == null) {
                        view2 = childAt;
                    }
                } else {
                    if (this.mOrientationHelper.getDecoratedStart(childAt) < endAfterPadding && this.mOrientationHelper.getDecoratedEnd(childAt) >= startAfterPadding) {
                        return childAt;
                    }
                    if (view == null) {
                        view = childAt;
                    }
                }
            }
            i += i4;
        }
        return view != null ? view : view2;
    }

    private View findPartiallyOrCompletelyInvisibleChildClosestToEnd(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return this.mShouldReverseLayout ? findFirstPartiallyOrCompletelyInvisibleChild(recycler, state) : findLastPartiallyOrCompletelyInvisibleChild(recycler, state);
    }

    private View findPartiallyOrCompletelyInvisibleChildClosestToStart(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return this.mShouldReverseLayout ? findLastPartiallyOrCompletelyInvisibleChild(recycler, state) : findFirstPartiallyOrCompletelyInvisibleChild(recycler, state);
    }

    private View findFirstPartiallyOrCompletelyInvisibleChild(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return findOnePartiallyOrCompletelyInvisibleChild(0, getChildCount());
    }

    private View findLastPartiallyOrCompletelyInvisibleChild(RecyclerView.Recycler recycler, RecyclerView.State state) {
        return findOnePartiallyOrCompletelyInvisibleChild(getChildCount() - 1, -1);
    }

    public int findFirstVisibleItemPosition() {
        View findOneVisibleChild = findOneVisibleChild(0, getChildCount(), false, true);
        if (findOneVisibleChild == null) {
            return -1;
        }
        return getPosition(findOneVisibleChild);
    }

    public int findLastVisibleItemPosition() {
        View findOneVisibleChild = findOneVisibleChild(getChildCount() - 1, -1, false, true);
        if (findOneVisibleChild == null) {
            return -1;
        }
        return getPosition(findOneVisibleChild);
    }

    View findOneVisibleChild(int i, int i2, boolean z, boolean z2) {
        ensureLayoutState();
        int i3 = z ? 24579 : 320;
        int i4 = z2 ? 320 : 0;
        if (this.mOrientation == 0) {
            return this.mHorizontalBoundCheck.findOneViewWithinBoundFlags(i, i2, i3, i4);
        }
        return this.mVerticalBoundCheck.findOneViewWithinBoundFlags(i, i2, i3, i4);
    }

    View findOnePartiallyOrCompletelyInvisibleChild(int i, int i2) {
        int i3;
        int i4;
        ensureLayoutState();
        if ((i2 > i ? (char) 1 : i2 < i ? (char) 65535 : (char) 0) == 0) {
            return getChildAt(i);
        }
        if (this.mOrientationHelper.getDecoratedStart(getChildAt(i)) < this.mOrientationHelper.getStartAfterPadding()) {
            i3 = 16644;
            i4 = 16388;
        } else {
            i3 = 4161;
            i4 = 4097;
        }
        if (this.mOrientation == 0) {
            return this.mHorizontalBoundCheck.findOneViewWithinBoundFlags(i, i2, i3, i4);
        }
        return this.mVerticalBoundCheck.findOneViewWithinBoundFlags(i, i2, i3, i4);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public View onFocusSearchFailed(View view, int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        int convertFocusDirectionToLayoutDirection;
        View findPartiallyOrCompletelyInvisibleChildClosestToEnd;
        View childClosestToEnd;
        resolveShouldLayoutReverse();
        if (getChildCount() == 0 || (convertFocusDirectionToLayoutDirection = convertFocusDirectionToLayoutDirection(i)) == Integer.MIN_VALUE) {
            return null;
        }
        ensureLayoutState();
        ensureLayoutState();
        updateLayoutState(convertFocusDirectionToLayoutDirection, (int) (this.mOrientationHelper.getTotalSpace() * 0.33333334f), false, state);
        LayoutState layoutState = this.mLayoutState;
        layoutState.mScrollingOffset = Integer.MIN_VALUE;
        layoutState.mRecycle = false;
        fill(recycler, layoutState, state, true);
        if (convertFocusDirectionToLayoutDirection == -1) {
            findPartiallyOrCompletelyInvisibleChildClosestToEnd = findPartiallyOrCompletelyInvisibleChildClosestToStart(recycler, state);
        } else {
            findPartiallyOrCompletelyInvisibleChildClosestToEnd = findPartiallyOrCompletelyInvisibleChildClosestToEnd(recycler, state);
        }
        if (convertFocusDirectionToLayoutDirection == -1) {
            childClosestToEnd = getChildClosestToStart();
        } else {
            childClosestToEnd = getChildClosestToEnd();
        }
        if (!childClosestToEnd.hasFocusable()) {
            return findPartiallyOrCompletelyInvisibleChildClosestToEnd;
        }
        if (findPartiallyOrCompletelyInvisibleChildClosestToEnd == null) {
            return null;
        }
        return childClosestToEnd;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean supportsPredictiveItemAnimations() {
        return this.mPendingSavedState == null && this.mLastStackFromEnd == this.mStackFromEnd;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class LayoutState {
        int mAvailable;
        int mCurrentPosition;
        boolean mInfinite;
        boolean mIsPreLayout;
        int mItemDirection;
        int mLastScrollDelta;
        int mLayoutDirection;
        int mOffset;
        int mScrollingOffset;
        boolean mRecycle = true;
        int mExtra = 0;
        List<RecyclerView.ViewHolder> mScrapList = null;

        LayoutState() {
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean hasMore(RecyclerView.State state) {
            int i = this.mCurrentPosition;
            return i >= 0 && i < state.getItemCount();
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public View next(RecyclerView.Recycler recycler) {
            if (this.mScrapList != null) {
                return nextViewFromScrapList();
            }
            View viewForPosition = recycler.getViewForPosition(this.mCurrentPosition);
            this.mCurrentPosition += this.mItemDirection;
            return viewForPosition;
        }

        private View nextViewFromScrapList() {
            int size = this.mScrapList.size();
            for (int i = 0; i < size; i++) {
                View view = this.mScrapList.get(i).itemView;
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
                if (!layoutParams.isItemRemoved() && this.mCurrentPosition == layoutParams.getViewLayoutPosition()) {
                    assignPositionFromScrapList(view);
                    return view;
                }
            }
            return null;
        }

        public void assignPositionFromScrapList() {
            assignPositionFromScrapList(null);
        }

        public void assignPositionFromScrapList(View view) {
            View nextViewInLimitedList = nextViewInLimitedList(view);
            if (nextViewInLimitedList == null) {
                this.mCurrentPosition = -1;
            } else {
                this.mCurrentPosition = ((RecyclerView.LayoutParams) nextViewInLimitedList.getLayoutParams()).getViewLayoutPosition();
            }
        }

        public View nextViewInLimitedList(View view) {
            int viewLayoutPosition;
            int size = this.mScrapList.size();
            View view2 = null;
            int i = Integer.MAX_VALUE;
            for (int i2 = 0; i2 < size; i2++) {
                View view3 = this.mScrapList.get(i2).itemView;
                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view3.getLayoutParams();
                if (view3 != view && !layoutParams.isItemRemoved() && (viewLayoutPosition = (layoutParams.getViewLayoutPosition() - this.mCurrentPosition) * this.mItemDirection) >= 0 && viewLayoutPosition < i) {
                    view2 = view3;
                    if (viewLayoutPosition == 0) {
                        break;
                    }
                    i = viewLayoutPosition;
                }
            }
            return view2;
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class SavedState implements Parcelable {
        public static final Parcelable.Creator<SavedState> CREATOR = new Parcelable.Creator<SavedState>() { // from class: android.support.v7.widget.LinearLayoutManager.SavedState.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public SavedState createFromParcel(Parcel parcel) {
                return new SavedState(parcel);
            }

            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public SavedState[] newArray(int i) {
                return new SavedState[i];
            }
        };
        boolean mAnchorLayoutFromEnd;
        int mAnchorOffset;
        int mAnchorPosition;

        @Override // android.os.Parcelable
        public int describeContents() {
            return 0;
        }

        public SavedState() {
        }

        SavedState(Parcel parcel) {
            this.mAnchorPosition = parcel.readInt();
            this.mAnchorOffset = parcel.readInt();
            this.mAnchorLayoutFromEnd = parcel.readInt() == 1;
        }

        public SavedState(SavedState savedState) {
            this.mAnchorPosition = savedState.mAnchorPosition;
            this.mAnchorOffset = savedState.mAnchorOffset;
            this.mAnchorLayoutFromEnd = savedState.mAnchorLayoutFromEnd;
        }

        boolean hasValidAnchor() {
            return this.mAnchorPosition >= 0;
        }

        void invalidateAnchor() {
            this.mAnchorPosition = -1;
        }

        @Override // android.os.Parcelable
        public void writeToParcel(Parcel parcel, int i) {
            parcel.writeInt(this.mAnchorPosition);
            parcel.writeInt(this.mAnchorOffset);
            parcel.writeInt(this.mAnchorLayoutFromEnd ? 1 : 0);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class AnchorInfo {
        int mCoordinate;
        boolean mLayoutFromEnd;
        OrientationHelper mOrientationHelper;
        int mPosition;
        boolean mValid;

        AnchorInfo() {
            reset();
        }

        void reset() {
            this.mPosition = -1;
            this.mCoordinate = Integer.MIN_VALUE;
            this.mLayoutFromEnd = false;
            this.mValid = false;
        }

        void assignCoordinateFromPadding() {
            int startAfterPadding;
            if (this.mLayoutFromEnd) {
                startAfterPadding = this.mOrientationHelper.getEndAfterPadding();
            } else {
                startAfterPadding = this.mOrientationHelper.getStartAfterPadding();
            }
            this.mCoordinate = startAfterPadding;
        }

        public String toString() {
            return "AnchorInfo{mPosition=" + this.mPosition + ", mCoordinate=" + this.mCoordinate + ", mLayoutFromEnd=" + this.mLayoutFromEnd + ", mValid=" + this.mValid + '}';
        }

        boolean isViewValidAsAnchor(View view, RecyclerView.State state) {
            RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
            return !layoutParams.isItemRemoved() && layoutParams.getViewLayoutPosition() >= 0 && layoutParams.getViewLayoutPosition() < state.getItemCount();
        }

        public void assignFromViewAndKeepVisibleRect(View view, int i) {
            int totalSpaceChange = this.mOrientationHelper.getTotalSpaceChange();
            if (totalSpaceChange >= 0) {
                assignFromView(view, i);
                return;
            }
            this.mPosition = i;
            if (this.mLayoutFromEnd) {
                int endAfterPadding = (this.mOrientationHelper.getEndAfterPadding() - totalSpaceChange) - this.mOrientationHelper.getDecoratedEnd(view);
                this.mCoordinate = this.mOrientationHelper.getEndAfterPadding() - endAfterPadding;
                if (endAfterPadding > 0) {
                    int decoratedMeasurement = this.mCoordinate - this.mOrientationHelper.getDecoratedMeasurement(view);
                    int startAfterPadding = this.mOrientationHelper.getStartAfterPadding();
                    int min = decoratedMeasurement - (startAfterPadding + Math.min(this.mOrientationHelper.getDecoratedStart(view) - startAfterPadding, 0));
                    if (min < 0) {
                        this.mCoordinate += Math.min(endAfterPadding, -min);
                        return;
                    }
                    return;
                }
                return;
            }
            int decoratedStart = this.mOrientationHelper.getDecoratedStart(view);
            int startAfterPadding2 = decoratedStart - this.mOrientationHelper.getStartAfterPadding();
            this.mCoordinate = decoratedStart;
            if (startAfterPadding2 > 0) {
                int endAfterPadding2 = (this.mOrientationHelper.getEndAfterPadding() - Math.min(0, (this.mOrientationHelper.getEndAfterPadding() - totalSpaceChange) - this.mOrientationHelper.getDecoratedEnd(view))) - (decoratedStart + this.mOrientationHelper.getDecoratedMeasurement(view));
                if (endAfterPadding2 < 0) {
                    this.mCoordinate -= Math.min(startAfterPadding2, -endAfterPadding2);
                }
            }
        }

        public void assignFromView(View view, int i) {
            if (this.mLayoutFromEnd) {
                this.mCoordinate = this.mOrientationHelper.getDecoratedEnd(view) + this.mOrientationHelper.getTotalSpaceChange();
            } else {
                this.mCoordinate = this.mOrientationHelper.getDecoratedStart(view);
            }
            this.mPosition = i;
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    /* loaded from: /content/classes1.dex */
    public static class LayoutChunkResult {
        public int mConsumed;
        public boolean mFinished;
        public boolean mFocusable;
        public boolean mIgnoreConsumed;

        protected LayoutChunkResult() {
        }

        void resetInternal() {
            this.mConsumed = 0;
            this.mFinished = false;
            this.mIgnoreConsumed = false;
            this.mFocusable = false;
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/AdapterHelper.java** ###

package android.support.v7.widget;

import android.support.v4.util.Pools$Pool;
import android.support.v4.util.Pools$SimplePool;
import android.support.v7.widget.OpReorderer;
import android.support.v7.widget.RecyclerView;
import java.util.ArrayList;
import java.util.List;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public class AdapterHelper implements OpReorderer.Callback {
    final Callback mCallback;
    final boolean mDisableRecycler;
    private int mExistingUpdateTypes;
    Runnable mOnItemProcessedCallback;
    final OpReorderer mOpReorderer;
    final ArrayList<UpdateOp> mPendingUpdates;
    final ArrayList<UpdateOp> mPostponedList;
    private Pools$Pool<UpdateOp> mUpdateOpPool;

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public interface Callback {
        RecyclerView.ViewHolder findViewHolder(int i);

        void markViewHoldersUpdated(int i, int i2, Object obj);

        void offsetPositionsForAdd(int i, int i2);

        void offsetPositionsForMove(int i, int i2);

        void offsetPositionsForRemovingInvisible(int i, int i2);

        void offsetPositionsForRemovingLaidOutOrNewView(int i, int i2);

        void onDispatchFirstPass(UpdateOp updateOp);

        void onDispatchSecondPass(UpdateOp updateOp);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public AdapterHelper(Callback callback) {
        this(callback, false);
    }

    AdapterHelper(Callback callback, boolean z) {
        this.mUpdateOpPool = new Pools$SimplePool(30);
        this.mPendingUpdates = new ArrayList<>();
        this.mPostponedList = new ArrayList<>();
        this.mExistingUpdateTypes = 0;
        this.mCallback = callback;
        this.mDisableRecycler = z;
        this.mOpReorderer = new OpReorderer(this);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void reset() {
        recycleUpdateOpsAndClearList(this.mPendingUpdates);
        recycleUpdateOpsAndClearList(this.mPostponedList);
        this.mExistingUpdateTypes = 0;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void preProcess() {
        this.mOpReorderer.reorderOps(this.mPendingUpdates);
        int size = this.mPendingUpdates.size();
        for (int i = 0; i < size; i++) {
            UpdateOp updateOp = this.mPendingUpdates.get(i);
            int i2 = updateOp.cmd;
            if (i2 == 1) {
                applyAdd(updateOp);
            } else if (i2 == 2) {
                applyRemove(updateOp);
            } else if (i2 == 4) {
                applyUpdate(updateOp);
            } else if (i2 == 8) {
                applyMove(updateOp);
            }
            Runnable runnable = this.mOnItemProcessedCallback;
            if (runnable != null) {
                runnable.run();
            }
        }
        this.mPendingUpdates.clear();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void consumePostponedUpdates() {
        int size = this.mPostponedList.size();
        for (int i = 0; i < size; i++) {
            this.mCallback.onDispatchSecondPass(this.mPostponedList.get(i));
        }
        recycleUpdateOpsAndClearList(this.mPostponedList);
        this.mExistingUpdateTypes = 0;
    }

    private void applyMove(UpdateOp updateOp) {
        postponeAndUpdateViewHolders(updateOp);
    }

    private void applyRemove(UpdateOp updateOp) {
        boolean z;
        char c;
        int i = updateOp.positionStart;
        int i2 = updateOp.itemCount + i;
        char c2 = 65535;
        int i3 = i;
        int i4 = 0;
        while (i3 < i2) {
            if (this.mCallback.findViewHolder(i3) != null || canFindInPreLayout(i3)) {
                if (c2 == 0) {
                    dispatchAndUpdateViewHolders(obtainUpdateOp(2, i, i4, null));
                    z = true;
                } else {
                    z = false;
                }
                c = 1;
            } else {
                if (c2 == 1) {
                    postponeAndUpdateViewHolders(obtainUpdateOp(2, i, i4, null));
                    z = true;
                } else {
                    z = false;
                }
                c = 0;
            }
            if (z) {
                i3 -= i4;
                i2 -= i4;
                i4 = 1;
            } else {
                i4++;
            }
            i3++;
            c2 = c;
        }
        if (i4 != updateOp.itemCount) {
            recycleUpdateOp(updateOp);
            updateOp = obtainUpdateOp(2, i, i4, null);
        }
        if (c2 == 0) {
            dispatchAndUpdateViewHolders(updateOp);
        } else {
            postponeAndUpdateViewHolders(updateOp);
        }
    }

    private void applyUpdate(UpdateOp updateOp) {
        int i = updateOp.positionStart;
        int i2 = updateOp.itemCount + i;
        int i3 = 0;
        boolean z = -1;
        int i4 = i;
        while (i < i2) {
            if (this.mCallback.findViewHolder(i) != null || canFindInPreLayout(i)) {
                if (!z) {
                    dispatchAndUpdateViewHolders(obtainUpdateOp(4, i4, i3, updateOp.payload));
                    i4 = i;
                    i3 = 0;
                }
                z = true;
            } else {
                if (z) {
                    postponeAndUpdateViewHolders(obtainUpdateOp(4, i4, i3, updateOp.payload));
                    i4 = i;
                    i3 = 0;
                }
                z = false;
            }
            i3++;
            i++;
        }
        if (i3 != updateOp.itemCount) {
            Object obj = updateOp.payload;
            recycleUpdateOp(updateOp);
            updateOp = obtainUpdateOp(4, i4, i3, obj);
        }
        if (!z) {
            dispatchAndUpdateViewHolders(updateOp);
        } else {
            postponeAndUpdateViewHolders(updateOp);
        }
    }

    private void dispatchAndUpdateViewHolders(UpdateOp updateOp) {
        int i;
        int i2 = updateOp.cmd;
        if (i2 == 1 || i2 == 8) {
            throw new IllegalArgumentException("should not dispatch add or move for pre layout");
        }
        int updatePositionWithPostponed = updatePositionWithPostponed(updateOp.positionStart, i2);
        int i3 = updateOp.positionStart;
        int i4 = updateOp.cmd;
        if (i4 == 2) {
            i = 0;
        } else {
            if (i4 != 4) {
                throw new IllegalArgumentException("op should be remove or update." + updateOp);
            }
            i = 1;
        }
        int i5 = 1;
        for (int i6 = 1; i6 < updateOp.itemCount; i6++) {
            int updatePositionWithPostponed2 = updatePositionWithPostponed(updateOp.positionStart + (i * i6), updateOp.cmd);
            int i7 = updateOp.cmd;
            if (i7 == 2 ? updatePositionWithPostponed2 == updatePositionWithPostponed : i7 == 4 && updatePositionWithPostponed2 == updatePositionWithPostponed + 1) {
                i5++;
            } else {
                UpdateOp obtainUpdateOp = obtainUpdateOp(updateOp.cmd, updatePositionWithPostponed, i5, updateOp.payload);
                dispatchFirstPassAndUpdateViewHolders(obtainUpdateOp, i3);
                recycleUpdateOp(obtainUpdateOp);
                if (updateOp.cmd == 4) {
                    i3 += i5;
                }
                i5 = 1;
                updatePositionWithPostponed = updatePositionWithPostponed2;
            }
        }
        Object obj = updateOp.payload;
        recycleUpdateOp(updateOp);
        if (i5 > 0) {
            UpdateOp obtainUpdateOp2 = obtainUpdateOp(updateOp.cmd, updatePositionWithPostponed, i5, obj);
            dispatchFirstPassAndUpdateViewHolders(obtainUpdateOp2, i3);
            recycleUpdateOp(obtainUpdateOp2);
        }
    }

    void dispatchFirstPassAndUpdateViewHolders(UpdateOp updateOp, int i) {
        this.mCallback.onDispatchFirstPass(updateOp);
        int i2 = updateOp.cmd;
        if (i2 == 2) {
            this.mCallback.offsetPositionsForRemovingInvisible(i, updateOp.itemCount);
        } else {
            if (i2 == 4) {
                this.mCallback.markViewHoldersUpdated(i, updateOp.itemCount, updateOp.payload);
                return;
            }
            throw new IllegalArgumentException("only remove and update ops can be dispatched in first pass");
        }
    }

    private int updatePositionWithPostponed(int i, int i2) {
        for (int size = this.mPostponedList.size() - 1; size >= 0; size--) {
            UpdateOp updateOp = this.mPostponedList.get(size);
            int i3 = updateOp.cmd;
            if (i3 == 8) {
                int i4 = updateOp.positionStart;
                int i5 = updateOp.itemCount;
                if (i4 >= i5) {
                    i5 = i4;
                    i4 = i5;
                }
                if (i >= i4 && i <= i5) {
                    int i6 = updateOp.positionStart;
                    if (i4 == i6) {
                        if (i2 == 1) {
                            updateOp.itemCount++;
                        } else if (i2 == 2) {
                            updateOp.itemCount--;
                        }
                        i++;
                    } else {
                        if (i2 == 1) {
                            updateOp.positionStart = i6 + 1;
                        } else if (i2 == 2) {
                            updateOp.positionStart = i6 - 1;
                        }
                        i--;
                    }
                } else {
                    int i7 = updateOp.positionStart;
                    if (i < i7) {
                        if (i2 == 1) {
                            updateOp.positionStart = i7 + 1;
                            updateOp.itemCount++;
                        } else if (i2 == 2) {
                            updateOp.positionStart = i7 - 1;
                            updateOp.itemCount--;
                        }
                    }
                }
            } else {
                int i8 = updateOp.positionStart;
                if (i8 <= i) {
                    if (i3 == 1) {
                        i -= updateOp.itemCount;
                    } else if (i3 == 2) {
                        i += updateOp.itemCount;
                    }
                } else if (i2 == 1) {
                    updateOp.positionStart = i8 + 1;
                } else if (i2 == 2) {
                    updateOp.positionStart = i8 - 1;
                }
            }
        }
        for (int size2 = this.mPostponedList.size() - 1; size2 >= 0; size2--) {
            UpdateOp updateOp2 = this.mPostponedList.get(size2);
            if (updateOp2.cmd == 8) {
                int i9 = updateOp2.itemCount;
                if (i9 == updateOp2.positionStart || i9 < 0) {
                    this.mPostponedList.remove(size2);
                    recycleUpdateOp(updateOp2);
                }
            } else if (updateOp2.itemCount <= 0) {
                this.mPostponedList.remove(size2);
                recycleUpdateOp(updateOp2);
            }
        }
        return i;
    }

    private boolean canFindInPreLayout(int i) {
        int size = this.mPostponedList.size();
        for (int i2 = 0; i2 < size; i2++) {
            UpdateOp updateOp = this.mPostponedList.get(i2);
            int i3 = updateOp.cmd;
            if (i3 == 8) {
                if (findPositionOffset(updateOp.itemCount, i2 + 1) == i) {
                    return true;
                }
            } else if (i3 == 1) {
                int i4 = updateOp.positionStart;
                int i5 = updateOp.itemCount + i4;
                while (i4 < i5) {
                    if (findPositionOffset(i4, i2 + 1) == i) {
                        return true;
                    }
                    i4++;
                }
            } else {
                continue;
            }
        }
        return false;
    }

    private void applyAdd(UpdateOp updateOp) {
        postponeAndUpdateViewHolders(updateOp);
    }

    private void postponeAndUpdateViewHolders(UpdateOp updateOp) {
        this.mPostponedList.add(updateOp);
        int i = updateOp.cmd;
        if (i == 1) {
            this.mCallback.offsetPositionsForAdd(updateOp.positionStart, updateOp.itemCount);
            return;
        }
        if (i == 2) {
            this.mCallback.offsetPositionsForRemovingLaidOutOrNewView(updateOp.positionStart, updateOp.itemCount);
            return;
        }
        if (i == 4) {
            this.mCallback.markViewHoldersUpdated(updateOp.positionStart, updateOp.itemCount, updateOp.payload);
        } else {
            if (i == 8) {
                this.mCallback.offsetPositionsForMove(updateOp.positionStart, updateOp.itemCount);
                return;
            }
            throw new IllegalArgumentException("Unknown update op type for " + updateOp);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean hasPendingUpdates() {
        return this.mPendingUpdates.size() > 0;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean hasAnyUpdateTypes(int i) {
        return (this.mExistingUpdateTypes & i) != 0;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int findPositionOffset(int i) {
        return findPositionOffset(i, 0);
    }

    int findPositionOffset(int i, int i2) {
        int size = this.mPostponedList.size();
        while (i2 < size) {
            UpdateOp updateOp = this.mPostponedList.get(i2);
            int i3 = updateOp.cmd;
            if (i3 == 8) {
                int i4 = updateOp.positionStart;
                if (i4 == i) {
                    i = updateOp.itemCount;
                } else {
                    if (i4 < i) {
                        i--;
                    }
                    if (updateOp.itemCount <= i) {
                        i++;
                    }
                }
            } else {
                int i5 = updateOp.positionStart;
                if (i5 > i) {
                    continue;
                } else if (i3 == 2) {
                    int i6 = updateOp.itemCount;
                    if (i < i5 + i6) {
                        return -1;
                    }
                    i -= i6;
                } else if (i3 == 1) {
                    i += updateOp.itemCount;
                }
            }
            i2++;
        }
        return i;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean onItemRangeChanged(int i, int i2, Object obj) {
        if (i2 < 1) {
            return false;
        }
        this.mPendingUpdates.add(obtainUpdateOp(4, i, i2, obj));
        this.mExistingUpdateTypes |= 4;
        return this.mPendingUpdates.size() == 1;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void consumeUpdatesInOnePass() {
        consumePostponedUpdates();
        int size = this.mPendingUpdates.size();
        for (int i = 0; i < size; i++) {
            UpdateOp updateOp = this.mPendingUpdates.get(i);
            int i2 = updateOp.cmd;
            if (i2 == 1) {
                this.mCallback.onDispatchSecondPass(updateOp);
                this.mCallback.offsetPositionsForAdd(updateOp.positionStart, updateOp.itemCount);
            } else if (i2 == 2) {
                this.mCallback.onDispatchSecondPass(updateOp);
                this.mCallback.offsetPositionsForRemovingInvisible(updateOp.positionStart, updateOp.itemCount);
            } else if (i2 == 4) {
                this.mCallback.onDispatchSecondPass(updateOp);
                this.mCallback.markViewHoldersUpdated(updateOp.positionStart, updateOp.itemCount, updateOp.payload);
            } else if (i2 == 8) {
                this.mCallback.onDispatchSecondPass(updateOp);
                this.mCallback.offsetPositionsForMove(updateOp.positionStart, updateOp.itemCount);
            }
            Runnable runnable = this.mOnItemProcessedCallback;
            if (runnable != null) {
                runnable.run();
            }
        }
        recycleUpdateOpsAndClearList(this.mPendingUpdates);
        this.mExistingUpdateTypes = 0;
    }

    public int applyPendingUpdatesToPosition(int i) {
        int size = this.mPendingUpdates.size();
        for (int i2 = 0; i2 < size; i2++) {
            UpdateOp updateOp = this.mPendingUpdates.get(i2);
            int i3 = updateOp.cmd;
            if (i3 != 1) {
                if (i3 == 2) {
                    int i4 = updateOp.positionStart;
                    if (i4 <= i) {
                        int i5 = updateOp.itemCount;
                        if (i4 + i5 > i) {
                            return -1;
                        }
                        i -= i5;
                    } else {
                        continue;
                    }
                } else if (i3 == 8) {
                    int i6 = updateOp.positionStart;
                    if (i6 == i) {
                        i = updateOp.itemCount;
                    } else {
                        if (i6 < i) {
                            i--;
                        }
                        if (updateOp.itemCount <= i) {
                            i++;
                        }
                    }
                }
            } else if (updateOp.positionStart <= i) {
                i += updateOp.itemCount;
            }
        }
        return i;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean hasUpdates() {
        return (this.mPostponedList.isEmpty() || this.mPendingUpdates.isEmpty()) ? false : true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class UpdateOp {
        int cmd;
        int itemCount;
        Object payload;
        int positionStart;

        UpdateOp(int i, int i2, int i3, Object obj) {
            this.cmd = i;
            this.positionStart = i2;
            this.itemCount = i3;
            this.payload = obj;
        }

        String cmdToString() {
            int i = this.cmd;
            return i != 1 ? i != 2 ? i != 4 ? i != 8 ? "??" : "mv" : "up" : "rm" : "add";
        }

        public String toString() {
            return Integer.toHexString(System.identityHashCode(this)) + "[" + cmdToString() + ",s:" + this.positionStart + "c:" + this.itemCount + ",p:" + this.payload + "]";
        }

        public boolean equals(Object obj) {
            if (this == obj) {
                return true;
            }
            if (obj == null || UpdateOp.class != obj.getClass()) {
                return false;
            }
            UpdateOp updateOp = (UpdateOp) obj;
            int i = this.cmd;
            if (i != updateOp.cmd) {
                return false;
            }
            if (i == 8 && Math.abs(this.itemCount - this.positionStart) == 1 && this.itemCount == updateOp.positionStart && this.positionStart == updateOp.itemCount) {
                return true;
            }
            if (this.itemCount != updateOp.itemCount || this.positionStart != updateOp.positionStart) {
                return false;
            }
            Object obj2 = this.payload;
            if (obj2 != null) {
                if (!obj2.equals(updateOp.payload)) {
                    return false;
                }
            } else if (updateOp.payload != null) {
                return false;
            }
            return true;
        }

        public int hashCode() {
            return (((this.cmd * 31) + this.positionStart) * 31) + this.itemCount;
        }
    }

    @Override // android.support.v7.widget.OpReorderer.Callback
    public UpdateOp obtainUpdateOp(int i, int i2, int i3, Object obj) {
        UpdateOp acquire = this.mUpdateOpPool.acquire();
        if (acquire == null) {
            return new UpdateOp(i, i2, i3, obj);
        }
        acquire.cmd = i;
        acquire.positionStart = i2;
        acquire.itemCount = i3;
        acquire.payload = obj;
        return acquire;
    }

    @Override // android.support.v7.widget.OpReorderer.Callback
    public void recycleUpdateOp(UpdateOp updateOp) {
        if (this.mDisableRecycler) {
            return;
        }
        updateOp.payload = null;
        this.mUpdateOpPool.release(updateOp);
    }

    void recycleUpdateOpsAndClearList(List<UpdateOp> list) {
        int size = list.size();
        for (int i = 0; i < size; i++) {
            recycleUpdateOp(list.get(i));
        }
        list.clear();
    }
}


### **classes_dex_1/sources/android/support/v7/widget/GridLayoutManager.java** ###

package android.support.v7.widget;

import android.content.Context;
import android.graphics.Rect;
import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.util.AttributeSet;
import android.util.Log;
import android.util.SparseIntArray;
import android.view.View;
import android.view.ViewGroup;

/* loaded from: /content/classes1.dex */
public class GridLayoutManager extends LinearLayoutManager {
    int[] mCachedBorders;
    final Rect mDecorInsets;
    boolean mPendingSpanCountChange;
    final SparseIntArray mPreLayoutSpanIndexCache;
    final SparseIntArray mPreLayoutSpanSizeCache;
    View[] mSet;
    int mSpanCount;
    SpanSizeLookup mSpanSizeLookup;

    public GridLayoutManager(Context context, AttributeSet attributeSet, int i, int i2) {
        super(context, attributeSet, i, i2);
        this.mPendingSpanCountChange = false;
        this.mSpanCount = -1;
        this.mPreLayoutSpanSizeCache = new SparseIntArray();
        this.mPreLayoutSpanIndexCache = new SparseIntArray();
        this.mSpanSizeLookup = new DefaultSpanSizeLookup();
        this.mDecorInsets = new Rect();
        setSpanCount(RecyclerView.LayoutManager.getProperties(context, attributeSet, i, i2).spanCount);
    }

    public GridLayoutManager(Context context, int i) {
        super(context);
        this.mPendingSpanCountChange = false;
        this.mSpanCount = -1;
        this.mPreLayoutSpanSizeCache = new SparseIntArray();
        this.mPreLayoutSpanIndexCache = new SparseIntArray();
        this.mSpanSizeLookup = new DefaultSpanSizeLookup();
        this.mDecorInsets = new Rect();
        setSpanCount(i);
    }

    public GridLayoutManager(Context context, int i, int i2, boolean z) {
        super(context, i2, z);
        this.mPendingSpanCountChange = false;
        this.mSpanCount = -1;
        this.mPreLayoutSpanSizeCache = new SparseIntArray();
        this.mPreLayoutSpanIndexCache = new SparseIntArray();
        this.mSpanSizeLookup = new DefaultSpanSizeLookup();
        this.mDecorInsets = new Rect();
        setSpanCount(i);
    }

    @Override // android.support.v7.widget.LinearLayoutManager
    public void setStackFromEnd(boolean z) {
        if (z) {
            throw new UnsupportedOperationException("GridLayoutManager does not support stack from end. Consider using reverse layout");
        }
        super.setStackFromEnd(false);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int getRowCountForAccessibility(RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 0) {
            return this.mSpanCount;
        }
        if (state.getItemCount() < 1) {
            return 0;
        }
        return getSpanGroupIndex(recycler, state, state.getItemCount() - 1) + 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public int getColumnCountForAccessibility(RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (this.mOrientation == 1) {
            return this.mSpanCount;
        }
        if (state.getItemCount() < 1) {
            return 0;
        }
        return getSpanGroupIndex(recycler, state, state.getItemCount() - 1) + 1;
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onInitializeAccessibilityNodeInfoForItem(RecyclerView.Recycler recycler, RecyclerView.State state, View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
        ViewGroup.LayoutParams layoutParams = view.getLayoutParams();
        if (!(layoutParams instanceof LayoutParams)) {
            super.onInitializeAccessibilityNodeInfoForItem(view, accessibilityNodeInfoCompat);
            return;
        }
        LayoutParams layoutParams2 = (LayoutParams) layoutParams;
        int spanGroupIndex = getSpanGroupIndex(recycler, state, layoutParams2.getViewLayoutPosition());
        if (this.mOrientation == 0) {
            accessibilityNodeInfoCompat.setCollectionItemInfo(AccessibilityNodeInfoCompat.CollectionItemInfoCompat.obtain(layoutParams2.getSpanIndex(), layoutParams2.getSpanSize(), spanGroupIndex, 1, this.mSpanCount > 1 && layoutParams2.getSpanSize() == this.mSpanCount, false));
        } else {
            accessibilityNodeInfoCompat.setCollectionItemInfo(AccessibilityNodeInfoCompat.CollectionItemInfoCompat.obtain(spanGroupIndex, 1, layoutParams2.getSpanIndex(), layoutParams2.getSpanSize(), this.mSpanCount > 1 && layoutParams2.getSpanSize() == this.mSpanCount, false));
        }
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {
        if (state.isPreLayout()) {
            cachePreLayoutSpanMapping();
        }
        super.onLayoutChildren(recycler, state);
        clearPreLayoutSpanMappingCache();
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public void onLayoutCompleted(RecyclerView.State state) {
        super.onLayoutCompleted(state);
        this.mPendingSpanCountChange = false;
    }

    private void clearPreLayoutSpanMappingCache() {
        this.mPreLayoutSpanSizeCache.clear();
        this.mPreLayoutSpanIndexCache.clear();
    }

    private void cachePreLayoutSpanMapping() {
        int childCount = getChildCount();
        for (int i = 0; i < childCount; i++) {
            LayoutParams layoutParams = (LayoutParams) getChildAt(i).getLayoutParams();
            int viewLayoutPosition = layoutParams.getViewLayoutPosition();
            this.mPreLayoutSpanSizeCache.put(viewLayoutPosition, layoutParams.getSpanSize());
            this.mPreLayoutSpanIndexCache.put(viewLayoutPosition, layoutParams.getSpanIndex());
        }
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsAdded(RecyclerView recyclerView, int i, int i2) {
        this.mSpanSizeLookup.invalidateSpanIndexCache();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsChanged(RecyclerView recyclerView) {
        this.mSpanSizeLookup.invalidateSpanIndexCache();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsRemoved(RecyclerView recyclerView, int i, int i2) {
        this.mSpanSizeLookup.invalidateSpanIndexCache();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsUpdated(RecyclerView recyclerView, int i, int i2, Object obj) {
        this.mSpanSizeLookup.invalidateSpanIndexCache();
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void onItemsMoved(RecyclerView recyclerView, int i, int i2, int i3) {
        this.mSpanSizeLookup.invalidateSpanIndexCache();
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateDefaultLayoutParams() {
        if (this.mOrientation == 0) {
            return new LayoutParams(-2, -1);
        }
        return new LayoutParams(-1, -2);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateLayoutParams(Context context, AttributeSet attributeSet) {
        return new LayoutParams(context, attributeSet);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public RecyclerView.LayoutParams generateLayoutParams(ViewGroup.LayoutParams layoutParams) {
        if (layoutParams instanceof ViewGroup.MarginLayoutParams) {
            return new LayoutParams((ViewGroup.MarginLayoutParams) layoutParams);
        }
        return new LayoutParams(layoutParams);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public boolean checkLayoutParams(RecyclerView.LayoutParams layoutParams) {
        return layoutParams instanceof LayoutParams;
    }

    private void updateMeasurements() {
        int height;
        int paddingTop;
        if (getOrientation() == 1) {
            height = getWidth() - getPaddingRight();
            paddingTop = getPaddingLeft();
        } else {
            height = getHeight() - getPaddingBottom();
            paddingTop = getPaddingTop();
        }
        calculateItemBorders(height - paddingTop);
    }

    @Override // android.support.v7.widget.RecyclerView.LayoutManager
    public void setMeasuredDimension(Rect rect, int i, int i2) {
        int chooseSize;
        int chooseSize2;
        if (this.mCachedBorders == null) {
            super.setMeasuredDimension(rect, i, i2);
        }
        int paddingLeft = getPaddingLeft() + getPaddingRight();
        int paddingTop = getPaddingTop() + getPaddingBottom();
        if (this.mOrientation == 1) {
            chooseSize2 = RecyclerView.LayoutManager.chooseSize(i2, rect.height() + paddingTop, getMinimumHeight());
            int[] iArr = this.mCachedBorders;
            chooseSize = RecyclerView.LayoutManager.chooseSize(i, iArr[iArr.length - 1] + paddingLeft, getMinimumWidth());
        } else {
            chooseSize = RecyclerView.LayoutManager.chooseSize(i, rect.width() + paddingLeft, getMinimumWidth());
            int[] iArr2 = this.mCachedBorders;
            chooseSize2 = RecyclerView.LayoutManager.chooseSize(i2, iArr2[iArr2.length - 1] + paddingTop, getMinimumHeight());
        }
        setMeasuredDimension(chooseSize, chooseSize2);
    }

    private void calculateItemBorders(int i) {
        this.mCachedBorders = calculateItemBorders(this.mCachedBorders, this.mSpanCount, i);
    }

    static int[] calculateItemBorders(int[] iArr, int i, int i2) {
        int i3;
        if (iArr == null || iArr.length != i + 1 || iArr[iArr.length - 1] != i2) {
            iArr = new int[i + 1];
        }
        int i4 = 0;
        iArr[0] = 0;
        int i5 = i2 / i;
        int i6 = i2 % i;
        int i7 = 0;
        for (int i8 = 1; i8 <= i; i8++) {
            i4 += i6;
            if (i4 <= 0 || i - i4 >= i6) {
                i3 = i5;
            } else {
                i3 = i5 + 1;
                i4 -= i;
            }
            i7 += i3;
            iArr[i8] = i7;
        }
        return iArr;
    }

    int getSpaceForSpanRange(int i, int i2) {
        if (this.mOrientation == 1 && isLayoutRTL()) {
            int[] iArr = this.mCachedBorders;
            int i3 = this.mSpanCount;
            return iArr[i3 - i] - iArr[(i3 - i) - i2];
        }
        int[] iArr2 = this.mCachedBorders;
        return iArr2[i2 + i] - iArr2[i];
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    @Override // android.support.v7.widget.LinearLayoutManager
    public void onAnchorReady(RecyclerView.Recycler recycler, RecyclerView.State state, LinearLayoutManager.AnchorInfo anchorInfo, int i) {
        super.onAnchorReady(recycler, state, anchorInfo, i);
        updateMeasurements();
        if (state.getItemCount() > 0 && !state.isPreLayout()) {
            ensureAnchorIsInCorrectSpan(recycler, state, anchorInfo, i);
        }
        ensureViewSet();
    }

    private void ensureViewSet() {
        View[] viewArr = this.mSet;
        if (viewArr == null || viewArr.length != this.mSpanCount) {
            this.mSet = new View[this.mSpanCount];
        }
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollHorizontallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        updateMeasurements();
        ensureViewSet();
        return super.scrollHorizontallyBy(i, recycler, state);
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public int scrollVerticallyBy(int i, RecyclerView.Recycler recycler, RecyclerView.State state) {
        updateMeasurements();
        ensureViewSet();
        return super.scrollVerticallyBy(i, recycler, state);
    }

    private void ensureAnchorIsInCorrectSpan(RecyclerView.Recycler recycler, RecyclerView.State state, LinearLayoutManager.AnchorInfo anchorInfo, int i) {
        boolean z = i == 1;
        int spanIndex = getSpanIndex(recycler, state, anchorInfo.mPosition);
        if (z) {
            while (spanIndex > 0) {
                int i2 = anchorInfo.mPosition;
                if (i2 <= 0) {
                    return;
                }
                int i3 = i2 - 1;
                anchorInfo.mPosition = i3;
                spanIndex = getSpanIndex(recycler, state, i3);
            }
            return;
        }
        int itemCount = state.getItemCount() - 1;
        int i4 = anchorInfo.mPosition;
        while (i4 < itemCount) {
            int i5 = i4 + 1;
            int spanIndex2 = getSpanIndex(recycler, state, i5);
            if (spanIndex2 <= spanIndex) {
                break;
            }
            i4 = i5;
            spanIndex = spanIndex2;
        }
        anchorInfo.mPosition = i4;
    }

    @Override // android.support.v7.widget.LinearLayoutManager
    View findReferenceChild(RecyclerView.Recycler recycler, RecyclerView.State state, int i, int i2, int i3) {
        ensureLayoutState();
        int startAfterPadding = this.mOrientationHelper.getStartAfterPadding();
        int endAfterPadding = this.mOrientationHelper.getEndAfterPadding();
        int i4 = i2 > i ? 1 : -1;
        View view = null;
        View view2 = null;
        while (i != i2) {
            View childAt = getChildAt(i);
            int position = getPosition(childAt);
            if (position >= 0 && position < i3 && getSpanIndex(recycler, state, position) == 0) {
                if (((RecyclerView.LayoutParams) childAt.getLayoutParams()).isItemRemoved()) {
                    if (view2 == null) {
                        view2 = childAt;
                    }
                } else {
                    if (this.mOrientationHelper.getDecoratedStart(childAt) < endAfterPadding && this.mOrientationHelper.getDecoratedEnd(childAt) >= startAfterPadding) {
                        return childAt;
                    }
                    if (view == null) {
                        view = childAt;
                    }
                }
            }
            i += i4;
        }
        return view != null ? view : view2;
    }

    private int getSpanGroupIndex(RecyclerView.Recycler recycler, RecyclerView.State state, int i) {
        if (!state.isPreLayout()) {
            return this.mSpanSizeLookup.getSpanGroupIndex(i, this.mSpanCount);
        }
        int convertPreLayoutPositionToPostLayout = recycler.convertPreLayoutPositionToPostLayout(i);
        if (convertPreLayoutPositionToPostLayout == -1) {
            Log.w("GridLayoutManager", "Cannot find span size for pre layout position. " + i);
            return 0;
        }
        return this.mSpanSizeLookup.getSpanGroupIndex(convertPreLayoutPositionToPostLayout, this.mSpanCount);
    }

    private int getSpanIndex(RecyclerView.Recycler recycler, RecyclerView.State state, int i) {
        if (!state.isPreLayout()) {
            return this.mSpanSizeLookup.getCachedSpanIndex(i, this.mSpanCount);
        }
        int i2 = this.mPreLayoutSpanIndexCache.get(i, -1);
        if (i2 != -1) {
            return i2;
        }
        int convertPreLayoutPositionToPostLayout = recycler.convertPreLayoutPositionToPostLayout(i);
        if (convertPreLayoutPositionToPostLayout == -1) {
            Log.w("GridLayoutManager", "Cannot find span size for pre layout position. It is not cached, not in the adapter. Pos:" + i);
            return 0;
        }
        return this.mSpanSizeLookup.getCachedSpanIndex(convertPreLayoutPositionToPostLayout, this.mSpanCount);
    }

    private int getSpanSize(RecyclerView.Recycler recycler, RecyclerView.State state, int i) {
        if (!state.isPreLayout()) {
            return this.mSpanSizeLookup.getSpanSize(i);
        }
        int i2 = this.mPreLayoutSpanSizeCache.get(i, -1);
        if (i2 != -1) {
            return i2;
        }
        int convertPreLayoutPositionToPostLayout = recycler.convertPreLayoutPositionToPostLayout(i);
        if (convertPreLayoutPositionToPostLayout == -1) {
            Log.w("GridLayoutManager", "Cannot find span size for pre layout position. It is not cached, not in the adapter. Pos:" + i);
            return 1;
        }
        return this.mSpanSizeLookup.getSpanSize(convertPreLayoutPositionToPostLayout);
    }

    @Override // android.support.v7.widget.LinearLayoutManager
    void collectPrefetchPositionsForLayoutState(RecyclerView.State state, LinearLayoutManager.LayoutState layoutState, RecyclerView.LayoutManager.LayoutPrefetchRegistry layoutPrefetchRegistry) {
        int i = this.mSpanCount;
        for (int i2 = 0; i2 < this.mSpanCount && layoutState.hasMore(state) && i > 0; i2++) {
            int i3 = layoutState.mCurrentPosition;
            layoutPrefetchRegistry.addPosition(i3, Math.max(0, layoutState.mScrollingOffset));
            i -= this.mSpanSizeLookup.getSpanSize(i3);
            layoutState.mCurrentPosition += layoutState.mItemDirection;
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:30:0x00a1, code lost:
    
        r22.mFinished = true;
     */
    /* JADX WARN: Code restructure failed: missing block: B:31:0x00a3, code lost:
    
        return;
     */
    @Override // android.support.v7.widget.LinearLayoutManager
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    void layoutChunk(android.support.v7.widget.RecyclerView.Recycler r19, android.support.v7.widget.RecyclerView.State r20, android.support.v7.widget.LinearLayoutManager.LayoutState r21, android.support.v7.widget.LinearLayoutManager.LayoutChunkResult r22) {
        /*
            Method dump skipped, instructions count: 581
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.GridLayoutManager.layoutChunk(android.support.v7.widget.RecyclerView$Recycler, android.support.v7.widget.RecyclerView$State, android.support.v7.widget.LinearLayoutManager$LayoutState, android.support.v7.widget.LinearLayoutManager$LayoutChunkResult):void");
    }

    private void measureChild(View view, int i, boolean z) {
        int i2;
        int i3;
        LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
        Rect rect = layoutParams.mDecorInsets;
        int i4 = rect.top + rect.bottom + ((ViewGroup.MarginLayoutParams) layoutParams).topMargin + ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin;
        int i5 = rect.left + rect.right + ((ViewGroup.MarginLayoutParams) layoutParams).leftMargin + ((ViewGroup.MarginLayoutParams) layoutParams).rightMargin;
        int spaceForSpanRange = getSpaceForSpanRange(layoutParams.mSpanIndex, layoutParams.mSpanSize);
        if (this.mOrientation == 1) {
            i3 = RecyclerView.LayoutManager.getChildMeasureSpec(spaceForSpanRange, i, i5, ((ViewGroup.MarginLayoutParams) layoutParams).width, false);
            i2 = RecyclerView.LayoutManager.getChildMeasureSpec(this.mOrientationHelper.getTotalSpace(), getHeightMode(), i4, ((ViewGroup.MarginLayoutParams) layoutParams).height, true);
        } else {
            int childMeasureSpec = RecyclerView.LayoutManager.getChildMeasureSpec(spaceForSpanRange, i, i4, ((ViewGroup.MarginLayoutParams) layoutParams).height, false);
            int childMeasureSpec2 = RecyclerView.LayoutManager.getChildMeasureSpec(this.mOrientationHelper.getTotalSpace(), getWidthMode(), i5, ((ViewGroup.MarginLayoutParams) layoutParams).width, true);
            i2 = childMeasureSpec;
            i3 = childMeasureSpec2;
        }
        measureChildWithDecorationsAndMargin(view, i3, i2, z);
    }

    private void guessMeasurement(float f, int i) {
        calculateItemBorders(Math.max(Math.round(f * this.mSpanCount), i));
    }

    private void measureChildWithDecorationsAndMargin(View view, int i, int i2, boolean z) {
        boolean shouldMeasureChild;
        RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) view.getLayoutParams();
        if (z) {
            shouldMeasureChild = shouldReMeasureChild(view, i, i2, layoutParams);
        } else {
            shouldMeasureChild = shouldMeasureChild(view, i, i2, layoutParams);
        }
        if (shouldMeasureChild) {
            view.measure(i, i2);
        }
    }

    private void assignSpans(RecyclerView.Recycler recycler, RecyclerView.State state, int i, int i2, boolean z) {
        int i3;
        int i4;
        int i5 = 0;
        int i6 = -1;
        if (z) {
            i4 = 1;
            i6 = i;
            i3 = 0;
        } else {
            i3 = i - 1;
            i4 = -1;
        }
        while (i3 != i6) {
            View view = this.mSet[i3];
            LayoutParams layoutParams = (LayoutParams) view.getLayoutParams();
            int spanSize = getSpanSize(recycler, state, getPosition(view));
            layoutParams.mSpanSize = spanSize;
            layoutParams.mSpanIndex = i5;
            i5 += spanSize;
            i3 += i4;
        }
    }

    public void setSpanCount(int i) {
        if (i == this.mSpanCount) {
            return;
        }
        this.mPendingSpanCountChange = true;
        if (i < 1) {
            throw new IllegalArgumentException("Span count should be at least 1. Provided " + i);
        }
        this.mSpanCount = i;
        this.mSpanSizeLookup.invalidateSpanIndexCache();
        requestLayout();
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class SpanSizeLookup {
        final SparseIntArray mSpanIndexCache = new SparseIntArray();
        private boolean mCacheSpanIndices = false;

        public abstract int getSpanIndex(int i, int i2);

        public abstract int getSpanSize(int i);

        public void invalidateSpanIndexCache() {
            this.mSpanIndexCache.clear();
        }

        int getCachedSpanIndex(int i, int i2) {
            if (!this.mCacheSpanIndices) {
                return getSpanIndex(i, i2);
            }
            int i3 = this.mSpanIndexCache.get(i, -1);
            if (i3 != -1) {
                return i3;
            }
            int spanIndex = getSpanIndex(i, i2);
            this.mSpanIndexCache.put(i, spanIndex);
            return spanIndex;
        }

        public int getSpanGroupIndex(int i, int i2) {
            int spanSize = getSpanSize(i);
            int i3 = 0;
            int i4 = 0;
            for (int i5 = 0; i5 < i; i5++) {
                int spanSize2 = getSpanSize(i5);
                i3 += spanSize2;
                if (i3 == i2) {
                    i4++;
                    i3 = 0;
                } else if (i3 > i2) {
                    i4++;
                    i3 = spanSize2;
                }
            }
            return i3 + spanSize > i2 ? i4 + 1 : i4;
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:68:0x00d6, code lost:
    
        if (r13 == (r2 > r15)) goto L49;
     */
    /* JADX WARN: Code restructure failed: missing block: B:83:0x00f6, code lost:
    
        if (r13 == (r2 > r7)) goto L50;
     */
    /* JADX WARN: Removed duplicated region for block: B:53:0x0107  */
    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public android.view.View onFocusSearchFailed(android.view.View r24, int r25, android.support.v7.widget.RecyclerView.Recycler r26, android.support.v7.widget.RecyclerView.State r27) {
        /*
            Method dump skipped, instructions count: 337
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v7.widget.GridLayoutManager.onFocusSearchFailed(android.view.View, int, android.support.v7.widget.RecyclerView$Recycler, android.support.v7.widget.RecyclerView$State):android.view.View");
    }

    @Override // android.support.v7.widget.LinearLayoutManager, android.support.v7.widget.RecyclerView.LayoutManager
    public boolean supportsPredictiveItemAnimations() {
        return this.mPendingSavedState == null && !this.mPendingSpanCountChange;
    }

    /* loaded from: /content/classes1.dex */
    public static final class DefaultSpanSizeLookup extends SpanSizeLookup {
        @Override // android.support.v7.widget.GridLayoutManager.SpanSizeLookup
        public int getSpanSize(int i) {
            return 1;
        }

        @Override // android.support.v7.widget.GridLayoutManager.SpanSizeLookup
        public int getSpanIndex(int i, int i2) {
            return i % i2;
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class LayoutParams extends RecyclerView.LayoutParams {
        int mSpanIndex;
        int mSpanSize;

        public LayoutParams(Context context, AttributeSet attributeSet) {
            super(context, attributeSet);
            this.mSpanIndex = -1;
            this.mSpanSize = 0;
        }

        public LayoutParams(int i, int i2) {
            super(i, i2);
            this.mSpanIndex = -1;
            this.mSpanSize = 0;
        }

        public LayoutParams(ViewGroup.MarginLayoutParams marginLayoutParams) {
            super(marginLayoutParams);
            this.mSpanIndex = -1;
            this.mSpanSize = 0;
        }

        public LayoutParams(ViewGroup.LayoutParams layoutParams) {
            super(layoutParams);
            this.mSpanIndex = -1;
            this.mSpanSize = 0;
        }

        public int getSpanIndex() {
            return this.mSpanIndex;
        }

        public int getSpanSize() {
            return this.mSpanSize;
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/GapWorker.java** ###

package android.support.v7.widget;

import android.support.v4.os.TraceCompat;
import android.support.v7.widget.RecyclerView;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Comparator;
import java.util.concurrent.TimeUnit;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public final class GapWorker implements Runnable {
    static final ThreadLocal<GapWorker> sGapWorker = new ThreadLocal<>();
    static Comparator<Task> sTaskComparator = new Comparator<Task>() { // from class: android.support.v7.widget.GapWorker.1
        @Override // java.util.Comparator
        public int compare(Task task, Task task2) {
            if ((task.view == null) != (task2.view == null)) {
                return task.view == null ? 1 : -1;
            }
            boolean z = task.immediate;
            if (z != task2.immediate) {
                return z ? -1 : 1;
            }
            int i = task2.viewVelocity - task.viewVelocity;
            if (i != 0) {
                return i;
            }
            int i2 = task.distanceToItem - task2.distanceToItem;
            if (i2 != 0) {
                return i2;
            }
            return 0;
        }
    };
    long mFrameIntervalNs;
    long mPostTimeNs;
    ArrayList<RecyclerView> mRecyclerViews = new ArrayList<>();
    private ArrayList<Task> mTasks = new ArrayList<>();

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class Task {
        public int distanceToItem;
        public boolean immediate;
        public int position;
        public RecyclerView view;
        public int viewVelocity;

        Task() {
        }

        public void clear() {
            this.immediate = false;
            this.viewVelocity = 0;
            this.distanceToItem = 0;
            this.view = null;
            this.position = 0;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes1.dex */
    public static class LayoutPrefetchRegistryImpl implements RecyclerView.LayoutManager.LayoutPrefetchRegistry {
        int mCount;
        int[] mPrefetchArray;
        int mPrefetchDx;
        int mPrefetchDy;

        void setPrefetchVector(int i, int i2) {
            this.mPrefetchDx = i;
            this.mPrefetchDy = i2;
        }

        void collectPrefetchPositionsFromView(RecyclerView recyclerView, boolean z) {
            this.mCount = 0;
            int[] iArr = this.mPrefetchArray;
            if (iArr != null) {
                Arrays.fill(iArr, -1);
            }
            RecyclerView.LayoutManager layoutManager = recyclerView.mLayout;
            if (recyclerView.mAdapter == null || layoutManager == null || !layoutManager.isItemPrefetchEnabled()) {
                return;
            }
            if (z) {
                if (!recyclerView.mAdapterHelper.hasPendingUpdates()) {
                    layoutManager.collectInitialPrefetchPositions(recyclerView.mAdapter.getItemCount(), this);
                }
            } else if (!recyclerView.hasPendingAdapterUpdates()) {
                layoutManager.collectAdjacentPrefetchPositions(this.mPrefetchDx, this.mPrefetchDy, recyclerView.mState, this);
            }
            int i = this.mCount;
            if (i > layoutManager.mPrefetchMaxCountObserved) {
                layoutManager.mPrefetchMaxCountObserved = i;
                layoutManager.mPrefetchMaxObservedInInitialPrefetch = z;
                recyclerView.mRecycler.updateViewCacheSize();
            }
        }

        @Override // android.support.v7.widget.RecyclerView.LayoutManager.LayoutPrefetchRegistry
        public void addPosition(int i, int i2) {
            if (i < 0) {
                throw new IllegalArgumentException("Layout positions must be non-negative");
            }
            if (i2 < 0) {
                throw new IllegalArgumentException("Pixel distance must be non-negative");
            }
            int i3 = this.mCount * 2;
            int[] iArr = this.mPrefetchArray;
            if (iArr == null) {
                int[] iArr2 = new int[4];
                this.mPrefetchArray = iArr2;
                Arrays.fill(iArr2, -1);
            } else if (i3 >= iArr.length) {
                int[] iArr3 = new int[i3 * 2];
                this.mPrefetchArray = iArr3;
                System.arraycopy(iArr, 0, iArr3, 0, iArr.length);
            }
            int[] iArr4 = this.mPrefetchArray;
            iArr4[i3] = i;
            iArr4[i3 + 1] = i2;
            this.mCount++;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public boolean lastPrefetchIncludedPosition(int i) {
            if (this.mPrefetchArray != null) {
                int i2 = this.mCount * 2;
                for (int i3 = 0; i3 < i2; i3 += 2) {
                    if (this.mPrefetchArray[i3] == i) {
                        return true;
                    }
                }
            }
            return false;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void clearPrefetchPositions() {
            int[] iArr = this.mPrefetchArray;
            if (iArr != null) {
                Arrays.fill(iArr, -1);
            }
            this.mCount = 0;
        }
    }

    public void add(RecyclerView recyclerView) {
        this.mRecyclerViews.add(recyclerView);
    }

    public void remove(RecyclerView recyclerView) {
        this.mRecyclerViews.remove(recyclerView);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void postFromTraversal(RecyclerView recyclerView, int i, int i2) {
        if (recyclerView.isAttachedToWindow() && this.mPostTimeNs == 0) {
            this.mPostTimeNs = recyclerView.getNanoTime();
            recyclerView.post(this);
        }
        recyclerView.mPrefetchRegistry.setPrefetchVector(i, i2);
    }

    private void buildTaskList() {
        Task task;
        int size = this.mRecyclerViews.size();
        int i = 0;
        for (int i2 = 0; i2 < size; i2++) {
            RecyclerView recyclerView = this.mRecyclerViews.get(i2);
            if (recyclerView.getWindowVisibility() == 0) {
                recyclerView.mPrefetchRegistry.collectPrefetchPositionsFromView(recyclerView, false);
                i += recyclerView.mPrefetchRegistry.mCount;
            }
        }
        this.mTasks.ensureCapacity(i);
        int i3 = 0;
        for (int i4 = 0; i4 < size; i4++) {
            RecyclerView recyclerView2 = this.mRecyclerViews.get(i4);
            if (recyclerView2.getWindowVisibility() == 0) {
                LayoutPrefetchRegistryImpl layoutPrefetchRegistryImpl = recyclerView2.mPrefetchRegistry;
                int abs = Math.abs(layoutPrefetchRegistryImpl.mPrefetchDx) + Math.abs(layoutPrefetchRegistryImpl.mPrefetchDy);
                for (int i5 = 0; i5 < layoutPrefetchRegistryImpl.mCount * 2; i5 += 2) {
                    if (i3 >= this.mTasks.size()) {
                        task = new Task();
                        this.mTasks.add(task);
                    } else {
                        task = this.mTasks.get(i3);
                    }
                    int i6 = layoutPrefetchRegistryImpl.mPrefetchArray[i5 + 1];
                    task.immediate = i6 <= abs;
                    task.viewVelocity = abs;
                    task.distanceToItem = i6;
                    task.view = recyclerView2;
                    task.position = layoutPrefetchRegistryImpl.mPrefetchArray[i5];
                    i3++;
                }
            }
        }
        Collections.sort(this.mTasks, sTaskComparator);
    }

    static boolean isPrefetchPositionAttached(RecyclerView recyclerView, int i) {
        int unfilteredChildCount = recyclerView.mChildHelper.getUnfilteredChildCount();
        for (int i2 = 0; i2 < unfilteredChildCount; i2++) {
            RecyclerView.ViewHolder childViewHolderInt = RecyclerView.getChildViewHolderInt(recyclerView.mChildHelper.getUnfilteredChildAt(i2));
            if (childViewHolderInt.mPosition == i && !childViewHolderInt.isInvalid()) {
                return true;
            }
        }
        return false;
    }

    private RecyclerView.ViewHolder prefetchPositionWithDeadline(RecyclerView recyclerView, int i, long j) {
        if (isPrefetchPositionAttached(recyclerView, i)) {
            return null;
        }
        RecyclerView.Recycler recycler = recyclerView.mRecycler;
        try {
            recyclerView.onEnterLayoutOrScroll();
            RecyclerView.ViewHolder tryGetViewHolderForPositionByDeadline = recycler.tryGetViewHolderForPositionByDeadline(i, false, j);
            if (tryGetViewHolderForPositionByDeadline != null) {
                if (tryGetViewHolderForPositionByDeadline.isBound() && !tryGetViewHolderForPositionByDeadline.isInvalid()) {
                    recycler.recycleView(tryGetViewHolderForPositionByDeadline.itemView);
                } else {
                    recycler.addViewHolderToRecycledViewPool(tryGetViewHolderForPositionByDeadline, false);
                }
            }
            return tryGetViewHolderForPositionByDeadline;
        } finally {
            recyclerView.onExitLayoutOrScroll(false);
        }
    }

    private void prefetchInnerRecyclerViewWithDeadline(RecyclerView recyclerView, long j) {
        if (recyclerView == null) {
            return;
        }
        if (recyclerView.mDataSetHasChangedAfterLayout && recyclerView.mChildHelper.getUnfilteredChildCount() != 0) {
            recyclerView.removeAndRecycleViews();
        }
        LayoutPrefetchRegistryImpl layoutPrefetchRegistryImpl = recyclerView.mPrefetchRegistry;
        layoutPrefetchRegistryImpl.collectPrefetchPositionsFromView(recyclerView, true);
        if (layoutPrefetchRegistryImpl.mCount != 0) {
            try {
                TraceCompat.beginSection("RV Nested Prefetch");
                recyclerView.mState.prepareForNestedPrefetch(recyclerView.mAdapter);
                for (int i = 0; i < layoutPrefetchRegistryImpl.mCount * 2; i += 2) {
                    prefetchPositionWithDeadline(recyclerView, layoutPrefetchRegistryImpl.mPrefetchArray[i], j);
                }
            } finally {
                TraceCompat.endSection();
            }
        }
    }

    private void flushTaskWithDeadline(Task task, long j) {
        RecyclerView.ViewHolder prefetchPositionWithDeadline = prefetchPositionWithDeadline(task.view, task.position, task.immediate ? Long.MAX_VALUE : j);
        if (prefetchPositionWithDeadline == null || prefetchPositionWithDeadline.mNestedRecyclerView == null || !prefetchPositionWithDeadline.isBound() || prefetchPositionWithDeadline.isInvalid()) {
            return;
        }
        prefetchInnerRecyclerViewWithDeadline(prefetchPositionWithDeadline.mNestedRecyclerView.get(), j);
    }

    private void flushTasksWithDeadline(long j) {
        for (int i = 0; i < this.mTasks.size(); i++) {
            Task task = this.mTasks.get(i);
            if (task.view == null) {
                return;
            }
            flushTaskWithDeadline(task, j);
            task.clear();
        }
    }

    void prefetch(long j) {
        buildTaskList();
        flushTasksWithDeadline(j);
    }

    @Override // java.lang.Runnable
    public void run() {
        try {
            TraceCompat.beginSection("RV Prefetch");
            if (!this.mRecyclerViews.isEmpty()) {
                int size = this.mRecyclerViews.size();
                long j = 0;
                for (int i = 0; i < size; i++) {
                    RecyclerView recyclerView = this.mRecyclerViews.get(i);
                    if (recyclerView.getWindowVisibility() == 0) {
                        j = Math.max(recyclerView.getDrawingTime(), j);
                    }
                }
                if (j != 0) {
                    prefetch(TimeUnit.MILLISECONDS.toNanos(j) + this.mFrameIntervalNs);
                }
            }
        } finally {
            this.mPostTimeNs = 0L;
            TraceCompat.endSection();
        }
    }
}


### **classes_dex_1/sources/android/support/v7/widget/ViewBoundsCheck.java** ###

package android.support.v7.widget;

import android.view.View;

/* loaded from: /content/classes1.dex */
class ViewBoundsCheck {
    BoundFlags mBoundFlags = new BoundFlags();
    final Callback mCallback;

    /* loaded from: /content/classes1.dex */
    interface Callback {
        View getChildAt(int i);

        int getChildEnd(View view);

        int getChildStart(View view);

        int getParentEnd();

        int getParentStart();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public ViewBoundsCheck(Callback callback) {
        this.mCallback = callback;
    }

    /* loaded from: /content/classes1.dex */
    static class BoundFlags {
        int mBoundFlags = 0;
        int mChildEnd;
        int mChildStart;
        int mRvEnd;
        int mRvStart;

        int compare(int i, int i2) {
            if (i > i2) {
                return 1;
            }
            return i == i2 ? 2 : 4;
        }

        BoundFlags() {
        }

        void setBounds(int i, int i2, int i3, int i4) {
            this.mRvStart = i;
            this.mRvEnd = i2;
            this.mChildStart = i3;
            this.mChildEnd = i4;
        }

        void addFlags(int i) {
            this.mBoundFlags = i | this.mBoundFlags;
        }

        void resetFlags() {
            this.mBoundFlags = 0;
        }

        boolean boundsMatch() {
            int i = this.mBoundFlags;
            if ((i & 7) != 0 && (i & (compare(this.mChildStart, this.mRvStart) << 0)) == 0) {
                return false;
            }
            int i2 = this.mBoundFlags;
            if ((i2 & 112) != 0 && (i2 & (compare(this.mChildStart, this.mRvEnd) << 4)) == 0) {
                return false;
            }
            int i3 = this.mBoundFlags;
            if ((i3 & 1792) != 0 && (i3 & (compare(this.mChildEnd, this.mRvStart) << 8)) == 0) {
                return false;
            }
            int i4 = this.mBoundFlags;
            return (i4 & 28672) == 0 || ((compare(this.mChildEnd, this.mRvEnd) << 12) & i4) != 0;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View findOneViewWithinBoundFlags(int i, int i2, int i3, int i4) {
        int parentStart = this.mCallback.getParentStart();
        int parentEnd = this.mCallback.getParentEnd();
        int i5 = i2 > i ? 1 : -1;
        View view = null;
        while (i != i2) {
            View childAt = this.mCallback.getChildAt(i);
            this.mBoundFlags.setBounds(parentStart, parentEnd, this.mCallback.getChildStart(childAt), this.mCallback.getChildEnd(childAt));
            if (i3 != 0) {
                this.mBoundFlags.resetFlags();
                this.mBoundFlags.addFlags(i3);
                if (this.mBoundFlags.boundsMatch()) {
                    return childAt;
                }
            }
            if (i4 != 0) {
                this.mBoundFlags.resetFlags();
                this.mBoundFlags.addFlags(i4);
                if (this.mBoundFlags.boundsMatch()) {
                    view = childAt;
                }
            }
            i += i5;
        }
        return view;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isViewWithinBoundFlags(View view, int i) {
        this.mBoundFlags.setBounds(this.mCallback.getParentStart(), this.mCallback.getParentEnd(), this.mCallback.getChildStart(view), this.mCallback.getChildEnd(view));
        if (i == 0) {
            return false;
        }
        this.mBoundFlags.resetFlags();
        this.mBoundFlags.addFlags(i);
        return this.mBoundFlags.boundsMatch();
    }
}


### **classes_dex_1/sources/android/support/v4/app/CoreComponentFactory.java** ###

package android.support.v4.app;

import android.app.Activity;
import android.app.AppComponentFactory;
import android.app.Application;
import android.app.Service;
import android.content.BroadcastReceiver;
import android.content.ContentProvider;
import android.content.Intent;

/* loaded from: /content/classes1.dex */
public class CoreComponentFactory extends AppComponentFactory {

    /* loaded from: /content/classes1.dex */
    public interface CompatWrapped {
        Object getWrapper();
    }

    @Override // android.app.AppComponentFactory
    public Activity instantiateActivity(ClassLoader classLoader, String str, Intent intent) throws InstantiationException, IllegalAccessException, ClassNotFoundException {
        return (Activity) checkCompatWrapper(super.instantiateActivity(classLoader, str, intent));
    }

    @Override // android.app.AppComponentFactory
    public Application instantiateApplication(ClassLoader classLoader, String str) throws InstantiationException, IllegalAccessException, ClassNotFoundException {
        return (Application) checkCompatWrapper(super.instantiateApplication(classLoader, str));
    }

    @Override // android.app.AppComponentFactory
    public BroadcastReceiver instantiateReceiver(ClassLoader classLoader, String str, Intent intent) throws InstantiationException, IllegalAccessException, ClassNotFoundException {
        return (BroadcastReceiver) checkCompatWrapper(super.instantiateReceiver(classLoader, str, intent));
    }

    @Override // android.app.AppComponentFactory
    public ContentProvider instantiateProvider(ClassLoader classLoader, String str) throws InstantiationException, IllegalAccessException, ClassNotFoundException {
        return (ContentProvider) checkCompatWrapper(super.instantiateProvider(classLoader, str));
    }

    @Override // android.app.AppComponentFactory
    public Service instantiateService(ClassLoader classLoader, String str, Intent intent) throws InstantiationException, IllegalAccessException, ClassNotFoundException {
        return (Service) checkCompatWrapper(super.instantiateService(classLoader, str, intent));
    }

    static <T> T checkCompatWrapper(T t) {
        T t2;
        return (!(t instanceof CompatWrapped) || (t2 = (T) ((CompatWrapped) t).getWrapper()) == null) ? t : t2;
    }
}


### **classes_dex_1/sources/android/support/v4/app/FragmentState.java** ###

package android.support.v4.app;

import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public final class FragmentState implements Parcelable {
    public static final Parcelable.Creator<FragmentState> CREATOR = new Parcelable.Creator<FragmentState>() { // from class: android.support.v4.app.FragmentState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentState createFromParcel(Parcel parcel) {
            return new FragmentState(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentState[] newArray(int i) {
            return new FragmentState[i];
        }
    };
    final Bundle mArguments;
    final String mClassName;
    final int mContainerId;
    final boolean mDetached;
    final int mFragmentId;
    final boolean mFromLayout;
    final boolean mHidden;
    final int mIndex;
    final boolean mRetainInstance;
    Bundle mSavedFragmentState;
    final String mTag;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    FragmentState(Parcel parcel) {
        this.mClassName = parcel.readString();
        this.mIndex = parcel.readInt();
        this.mFromLayout = parcel.readInt() != 0;
        this.mFragmentId = parcel.readInt();
        this.mContainerId = parcel.readInt();
        this.mTag = parcel.readString();
        this.mRetainInstance = parcel.readInt() != 0;
        this.mDetached = parcel.readInt() != 0;
        this.mArguments = parcel.readBundle();
        this.mHidden = parcel.readInt() != 0;
        this.mSavedFragmentState = parcel.readBundle();
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeString(this.mClassName);
        parcel.writeInt(this.mIndex);
        parcel.writeInt(this.mFromLayout ? 1 : 0);
        parcel.writeInt(this.mFragmentId);
        parcel.writeInt(this.mContainerId);
        parcel.writeString(this.mTag);
        parcel.writeInt(this.mRetainInstance ? 1 : 0);
        parcel.writeInt(this.mDetached ? 1 : 0);
        parcel.writeBundle(this.mArguments);
        parcel.writeInt(this.mHidden ? 1 : 0);
        parcel.writeBundle(this.mSavedFragmentState);
    }
}


### **classes_dex_1/sources/android/support/v4/app/FragmentManagerState.java** ###

package android.support.v4.app;

import android.os.Parcel;
import android.os.Parcelable;

/* compiled from: FragmentManager.java */
/* loaded from: /content/classes1.dex */
final class FragmentManagerState implements Parcelable {
    public static final Parcelable.Creator<FragmentManagerState> CREATOR = new Parcelable.Creator<FragmentManagerState>() { // from class: android.support.v4.app.FragmentManagerState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentManagerState createFromParcel(Parcel parcel) {
            return new FragmentManagerState(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentManagerState[] newArray(int i) {
            return new FragmentManagerState[i];
        }
    };
    FragmentState[] mActive;
    int[] mAdded;
    BackStackState[] mBackStack;
    int mNextFragmentIndex;
    int mPrimaryNavActiveIndex;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    public FragmentManagerState() {
        this.mPrimaryNavActiveIndex = -1;
    }

    public FragmentManagerState(Parcel parcel) {
        this.mPrimaryNavActiveIndex = -1;
        this.mActive = (FragmentState[]) parcel.createTypedArray(FragmentState.CREATOR);
        this.mAdded = parcel.createIntArray();
        this.mBackStack = (BackStackState[]) parcel.createTypedArray(BackStackState.CREATOR);
        this.mPrimaryNavActiveIndex = parcel.readInt();
        this.mNextFragmentIndex = parcel.readInt();
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeTypedArray(this.mActive, i);
        parcel.writeIntArray(this.mAdded);
        parcel.writeTypedArray(this.mBackStack, i);
        parcel.writeInt(this.mPrimaryNavActiveIndex);
        parcel.writeInt(this.mNextFragmentIndex);
    }
}


### **classes_dex_1/sources/android/support/v4/app/BackStackState.java** ###

package android.support.v4.app;

import android.os.Parcel;
import android.os.Parcelable;
import android.text.TextUtils;
import java.util.ArrayList;

/* JADX INFO: Access modifiers changed from: package-private */
/* compiled from: BackStackRecord.java */
/* loaded from: /content/classes1.dex */
public final class BackStackState implements Parcelable {
    public static final Parcelable.Creator<BackStackState> CREATOR = new Parcelable.Creator<BackStackState>() { // from class: android.support.v4.app.BackStackState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public BackStackState createFromParcel(Parcel parcel) {
            return new BackStackState(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public BackStackState[] newArray(int i) {
            return new BackStackState[i];
        }
    };
    final int mBreadCrumbShortTitleRes;
    final CharSequence mBreadCrumbShortTitleText;
    final int mBreadCrumbTitleRes;
    final CharSequence mBreadCrumbTitleText;
    final int mIndex;
    final String mName;
    final int[] mOps;
    final boolean mReorderingAllowed;
    final ArrayList<String> mSharedElementSourceNames;
    final ArrayList<String> mSharedElementTargetNames;
    final int mTransition;
    final int mTransitionStyle;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    public BackStackState(Parcel parcel) {
        this.mOps = parcel.createIntArray();
        this.mTransition = parcel.readInt();
        this.mTransitionStyle = parcel.readInt();
        this.mName = parcel.readString();
        this.mIndex = parcel.readInt();
        this.mBreadCrumbTitleRes = parcel.readInt();
        this.mBreadCrumbTitleText = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mBreadCrumbShortTitleRes = parcel.readInt();
        this.mBreadCrumbShortTitleText = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mSharedElementSourceNames = parcel.createStringArrayList();
        this.mSharedElementTargetNames = parcel.createStringArrayList();
        this.mReorderingAllowed = parcel.readInt() != 0;
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeIntArray(this.mOps);
        parcel.writeInt(this.mTransition);
        parcel.writeInt(this.mTransitionStyle);
        parcel.writeString(this.mName);
        parcel.writeInt(this.mIndex);
        parcel.writeInt(this.mBreadCrumbTitleRes);
        TextUtils.writeToParcel(this.mBreadCrumbTitleText, parcel, 0);
        parcel.writeInt(this.mBreadCrumbShortTitleRes);
        TextUtils.writeToParcel(this.mBreadCrumbShortTitleText, parcel, 0);
        parcel.writeStringList(this.mSharedElementSourceNames);
        parcel.writeStringList(this.mSharedElementTargetNames);
        parcel.writeInt(this.mReorderingAllowed ? 1 : 0);
    }
}


### **classes_dex_1/sources/android/support/v4/app/FragmentTabHost$SavedState.java** ###

package android.support.v4.app;

import android.os.Parcel;
import android.os.Parcelable;
import android.view.View;

/* loaded from: /content/classes1.dex */
class FragmentTabHost$SavedState extends View.BaseSavedState {
    public static final Parcelable.Creator<FragmentTabHost$SavedState> CREATOR = new Parcelable.Creator<FragmentTabHost$SavedState>() { // from class: android.support.v4.app.FragmentTabHost$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentTabHost$SavedState createFromParcel(Parcel parcel) {
            return new FragmentTabHost$SavedState(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public FragmentTabHost$SavedState[] newArray(int i) {
            return new FragmentTabHost$SavedState[i];
        }
    };
    String curTab;

    FragmentTabHost$SavedState(Parcel parcel) {
        super(parcel);
        this.curTab = parcel.readString();
    }

    @Override // android.view.View.BaseSavedState, android.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeString(this.curTab);
    }

    public String toString() {
        return "FragmentTabHost.SavedState{" + Integer.toHexString(System.identityHashCode(this)) + " curTab=" + this.curTab + "}";
    }
}


### **classes_dex_1/sources/android/support/v4/app/Fragment$SavedState.java** ###

package android.support.v4.app;

import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public class Fragment$SavedState implements Parcelable {
    public static final Parcelable.Creator<Fragment$SavedState> CREATOR = new Parcelable.Creator<Fragment$SavedState>() { // from class: android.support.v4.app.Fragment$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public Fragment$SavedState createFromParcel(Parcel parcel) {
            return new Fragment$SavedState(parcel, null);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public Fragment$SavedState[] newArray(int i) {
            return new Fragment$SavedState[i];
        }
    };
    final Bundle mState;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    Fragment$SavedState(Parcel parcel, ClassLoader classLoader) {
        Bundle readBundle = parcel.readBundle();
        this.mState = readBundle;
        if (classLoader == null || readBundle == null) {
            return;
        }
        readBundle.setClassLoader(classLoader);
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeBundle(this.mState);
    }
}


### **classes_dex_1/sources/android/support/v4/app/LoaderManagerImpl$LoaderViewModel.java** ###

package android.support.v4.app;

import android.arch.lifecycle.ViewModel;
import android.support.v4.util.SparseArrayCompat;

/* loaded from: /content/classes1.dex */
class LoaderManagerImpl$LoaderViewModel extends ViewModel {
    LoaderManagerImpl$LoaderViewModel() {
        new SparseArrayCompat();
    }
}


### **classes_dex_1/sources/android/support/v4/app/BundleCompat.java** ###

package android.support.v4.app;

import android.os.Build;
import android.os.Bundle;
import android.os.IBinder;
import android.util.Log;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

/* loaded from: /content/classes1.dex */
public final class BundleCompat {

    /* loaded from: /content/classes1.dex */
    static class BundleCompatBaseImpl {
        private static Method sGetIBinderMethod;
        private static boolean sGetIBinderMethodFetched;

        public static IBinder getBinder(Bundle bundle, String str) {
            if (!sGetIBinderMethodFetched) {
                try {
                    Method method = Bundle.class.getMethod("getIBinder", String.class);
                    sGetIBinderMethod = method;
                    method.setAccessible(true);
                } catch (NoSuchMethodException e) {
                    Log.i("BundleCompatBaseImpl", "Failed to retrieve getIBinder method", e);
                }
                sGetIBinderMethodFetched = true;
            }
            Method method2 = sGetIBinderMethod;
            if (method2 != null) {
                try {
                    return (IBinder) method2.invoke(bundle, str);
                } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e2) {
                    Log.i("BundleCompatBaseImpl", "Failed to invoke getIBinder via reflection", e2);
                    sGetIBinderMethod = null;
                }
            }
            return null;
        }
    }

    public static IBinder getBinder(Bundle bundle, String str) {
        if (Build.VERSION.SDK_INT >= 18) {
            return bundle.getBinder(str);
        }
        return BundleCompatBaseImpl.getBinder(bundle, str);
    }
}


### **classes_dex_1/sources/android/support/v4/util/SimpleArrayMap.java** ###

package android.support.v4.util;

import java.util.ConcurrentModificationException;
import java.util.Map;

/* loaded from: /content/classes1.dex */
public class SimpleArrayMap<K, V> {
    static Object[] mBaseCache;
    static int mBaseCacheSize;
    static Object[] mTwiceBaseCache;
    static int mTwiceBaseCacheSize;
    int[] mHashes = ContainerHelpers.EMPTY_INTS;
    Object[] mArray = ContainerHelpers.EMPTY_OBJECTS;
    int mSize = 0;

    private static int binarySearchHashes(int[] iArr, int i, int i2) {
        try {
            return ContainerHelpers.binarySearch(iArr, i, i2);
        } catch (ArrayIndexOutOfBoundsException unused) {
            throw new ConcurrentModificationException();
        }
    }

    int indexOf(Object obj, int i) {
        int i2 = this.mSize;
        if (i2 == 0) {
            return -1;
        }
        int binarySearchHashes = binarySearchHashes(this.mHashes, i2, i);
        if (binarySearchHashes < 0 || obj.equals(this.mArray[binarySearchHashes << 1])) {
            return binarySearchHashes;
        }
        int i3 = binarySearchHashes + 1;
        while (i3 < i2 && this.mHashes[i3] == i) {
            if (obj.equals(this.mArray[i3 << 1])) {
                return i3;
            }
            i3++;
        }
        for (int i4 = binarySearchHashes - 1; i4 >= 0 && this.mHashes[i4] == i; i4--) {
            if (obj.equals(this.mArray[i4 << 1])) {
                return i4;
            }
        }
        return ~i3;
    }

    int indexOfNull() {
        int i = this.mSize;
        if (i == 0) {
            return -1;
        }
        int binarySearchHashes = binarySearchHashes(this.mHashes, i, 0);
        if (binarySearchHashes < 0 || this.mArray[binarySearchHashes << 1] == null) {
            return binarySearchHashes;
        }
        int i2 = binarySearchHashes + 1;
        while (i2 < i && this.mHashes[i2] == 0) {
            if (this.mArray[i2 << 1] == null) {
                return i2;
            }
            i2++;
        }
        for (int i3 = binarySearchHashes - 1; i3 >= 0 && this.mHashes[i3] == 0; i3--) {
            if (this.mArray[i3 << 1] == null) {
                return i3;
            }
        }
        return ~i2;
    }

    private void allocArrays(int i) {
        if (i == 8) {
            synchronized (ArrayMap.class) {
                if (mTwiceBaseCache != null) {
                    Object[] objArr = mTwiceBaseCache;
                    this.mArray = objArr;
                    mTwiceBaseCache = (Object[]) objArr[0];
                    this.mHashes = (int[]) objArr[1];
                    objArr[1] = null;
                    objArr[0] = null;
                    mTwiceBaseCacheSize--;
                    return;
                }
            }
        } else if (i == 4) {
            synchronized (ArrayMap.class) {
                if (mBaseCache != null) {
                    Object[] objArr2 = mBaseCache;
                    this.mArray = objArr2;
                    mBaseCache = (Object[]) objArr2[0];
                    this.mHashes = (int[]) objArr2[1];
                    objArr2[1] = null;
                    objArr2[0] = null;
                    mBaseCacheSize--;
                    return;
                }
            }
        }
        this.mHashes = new int[i];
        this.mArray = new Object[i << 1];
    }

    private static void freeArrays(int[] iArr, Object[] objArr, int i) {
        if (iArr.length == 8) {
            synchronized (ArrayMap.class) {
                if (mTwiceBaseCacheSize < 10) {
                    objArr[0] = mTwiceBaseCache;
                    objArr[1] = iArr;
                    for (int i2 = (i << 1) - 1; i2 >= 2; i2--) {
                        objArr[i2] = null;
                    }
                    mTwiceBaseCache = objArr;
                    mTwiceBaseCacheSize++;
                }
            }
            return;
        }
        if (iArr.length == 4) {
            synchronized (ArrayMap.class) {
                if (mBaseCacheSize < 10) {
                    objArr[0] = mBaseCache;
                    objArr[1] = iArr;
                    for (int i3 = (i << 1) - 1; i3 >= 2; i3--) {
                        objArr[i3] = null;
                    }
                    mBaseCache = objArr;
                    mBaseCacheSize++;
                }
            }
        }
    }

    public void clear() {
        int i = this.mSize;
        if (i > 0) {
            int[] iArr = this.mHashes;
            Object[] objArr = this.mArray;
            this.mHashes = ContainerHelpers.EMPTY_INTS;
            this.mArray = ContainerHelpers.EMPTY_OBJECTS;
            this.mSize = 0;
            freeArrays(iArr, objArr, i);
        }
        if (this.mSize > 0) {
            throw new ConcurrentModificationException();
        }
    }

    public void ensureCapacity(int i) {
        int i2 = this.mSize;
        int[] iArr = this.mHashes;
        if (iArr.length < i) {
            Object[] objArr = this.mArray;
            allocArrays(i);
            if (this.mSize > 0) {
                System.arraycopy(iArr, 0, this.mHashes, 0, i2);
                System.arraycopy(objArr, 0, this.mArray, 0, i2 << 1);
            }
            freeArrays(iArr, objArr, i2);
        }
        if (this.mSize != i2) {
            throw new ConcurrentModificationException();
        }
    }

    public boolean containsKey(Object obj) {
        return indexOfKey(obj) >= 0;
    }

    public int indexOfKey(Object obj) {
        return obj == null ? indexOfNull() : indexOf(obj, obj.hashCode());
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int indexOfValue(Object obj) {
        int i = this.mSize * 2;
        Object[] objArr = this.mArray;
        if (obj == null) {
            for (int i2 = 1; i2 < i; i2 += 2) {
                if (objArr[i2] == null) {
                    return i2 >> 1;
                }
            }
            return -1;
        }
        for (int i3 = 1; i3 < i; i3 += 2) {
            if (obj.equals(objArr[i3])) {
                return i3 >> 1;
            }
        }
        return -1;
    }

    public boolean containsValue(Object obj) {
        return indexOfValue(obj) >= 0;
    }

    public V get(Object obj) {
        int indexOfKey = indexOfKey(obj);
        if (indexOfKey >= 0) {
            return (V) this.mArray[(indexOfKey << 1) + 1];
        }
        return null;
    }

    public K keyAt(int i) {
        return (K) this.mArray[i << 1];
    }

    public V valueAt(int i) {
        return (V) this.mArray[(i << 1) + 1];
    }

    public V setValueAt(int i, V v) {
        int i2 = (i << 1) + 1;
        Object[] objArr = this.mArray;
        V v2 = (V) objArr[i2];
        objArr[i2] = v;
        return v2;
    }

    public boolean isEmpty() {
        return this.mSize <= 0;
    }

    public V put(K k, V v) {
        int i;
        int indexOf;
        int i2 = this.mSize;
        if (k == null) {
            indexOf = indexOfNull();
            i = 0;
        } else {
            int hashCode = k.hashCode();
            i = hashCode;
            indexOf = indexOf(k, hashCode);
        }
        if (indexOf >= 0) {
            int i3 = (indexOf << 1) + 1;
            Object[] objArr = this.mArray;
            V v2 = (V) objArr[i3];
            objArr[i3] = v;
            return v2;
        }
        int i4 = ~indexOf;
        if (i2 >= this.mHashes.length) {
            int i5 = 4;
            if (i2 >= 8) {
                i5 = (i2 >> 1) + i2;
            } else if (i2 >= 4) {
                i5 = 8;
            }
            int[] iArr = this.mHashes;
            Object[] objArr2 = this.mArray;
            allocArrays(i5);
            if (i2 != this.mSize) {
                throw new ConcurrentModificationException();
            }
            int[] iArr2 = this.mHashes;
            if (iArr2.length > 0) {
                System.arraycopy(iArr, 0, iArr2, 0, iArr.length);
                System.arraycopy(objArr2, 0, this.mArray, 0, objArr2.length);
            }
            freeArrays(iArr, objArr2, i2);
        }
        if (i4 < i2) {
            int[] iArr3 = this.mHashes;
            int i6 = i4 + 1;
            System.arraycopy(iArr3, i4, iArr3, i6, i2 - i4);
            Object[] objArr3 = this.mArray;
            System.arraycopy(objArr3, i4 << 1, objArr3, i6 << 1, (this.mSize - i4) << 1);
        }
        int i7 = this.mSize;
        if (i2 == i7) {
            int[] iArr4 = this.mHashes;
            if (i4 < iArr4.length) {
                iArr4[i4] = i;
                Object[] objArr4 = this.mArray;
                int i8 = i4 << 1;
                objArr4[i8] = k;
                objArr4[i8 + 1] = v;
                this.mSize = i7 + 1;
                return null;
            }
        }
        throw new ConcurrentModificationException();
    }

    public V remove(Object obj) {
        int indexOfKey = indexOfKey(obj);
        if (indexOfKey >= 0) {
            return removeAt(indexOfKey);
        }
        return null;
    }

    public V removeAt(int i) {
        Object[] objArr = this.mArray;
        int i2 = i << 1;
        V v = (V) objArr[i2 + 1];
        int i3 = this.mSize;
        int i4 = 0;
        if (i3 <= 1) {
            freeArrays(this.mHashes, objArr, i3);
            this.mHashes = ContainerHelpers.EMPTY_INTS;
            this.mArray = ContainerHelpers.EMPTY_OBJECTS;
        } else {
            int i5 = i3 - 1;
            int[] iArr = this.mHashes;
            if (iArr.length > 8 && i3 < iArr.length / 3) {
                int i6 = i3 > 8 ? i3 + (i3 >> 1) : 8;
                int[] iArr2 = this.mHashes;
                Object[] objArr2 = this.mArray;
                allocArrays(i6);
                if (i3 != this.mSize) {
                    throw new ConcurrentModificationException();
                }
                if (i > 0) {
                    System.arraycopy(iArr2, 0, this.mHashes, 0, i);
                    System.arraycopy(objArr2, 0, this.mArray, 0, i2);
                }
                if (i < i5) {
                    int i7 = i + 1;
                    int i8 = i5 - i;
                    System.arraycopy(iArr2, i7, this.mHashes, i, i8);
                    System.arraycopy(objArr2, i7 << 1, this.mArray, i2, i8 << 1);
                }
            } else {
                if (i < i5) {
                    int[] iArr3 = this.mHashes;
                    int i9 = i + 1;
                    int i10 = i5 - i;
                    System.arraycopy(iArr3, i9, iArr3, i, i10);
                    Object[] objArr3 = this.mArray;
                    System.arraycopy(objArr3, i9 << 1, objArr3, i2, i10 << 1);
                }
                Object[] objArr4 = this.mArray;
                int i11 = i5 << 1;
                objArr4[i11] = null;
                objArr4[i11 + 1] = null;
            }
            i4 = i5;
        }
        if (i3 != this.mSize) {
            throw new ConcurrentModificationException();
        }
        this.mSize = i4;
        return v;
    }

    public int size() {
        return this.mSize;
    }

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj instanceof SimpleArrayMap) {
            SimpleArrayMap simpleArrayMap = (SimpleArrayMap) obj;
            if (size() != simpleArrayMap.size()) {
                return false;
            }
            for (int i = 0; i < this.mSize; i++) {
                try {
                    K keyAt = keyAt(i);
                    V valueAt = valueAt(i);
                    Object obj2 = simpleArrayMap.get(keyAt);
                    if (valueAt == null) {
                        if (obj2 != null || !simpleArrayMap.containsKey(keyAt)) {
                            return false;
                        }
                    } else if (!valueAt.equals(obj2)) {
                        return false;
                    }
                } catch (ClassCastException | NullPointerException unused) {
                    return false;
                }
            }
            return true;
        }
        if (obj instanceof Map) {
            Map map = (Map) obj;
            if (size() != map.size()) {
                return false;
            }
            for (int i2 = 0; i2 < this.mSize; i2++) {
                try {
                    K keyAt2 = keyAt(i2);
                    V valueAt2 = valueAt(i2);
                    Object obj3 = map.get(keyAt2);
                    if (valueAt2 == null) {
                        if (obj3 != null || !map.containsKey(keyAt2)) {
                            return false;
                        }
                    } else if (!valueAt2.equals(obj3)) {
                        return false;
                    }
                } catch (ClassCastException | NullPointerException unused2) {
                }
            }
            return true;
        }
        return false;
    }

    public int hashCode() {
        int[] iArr = this.mHashes;
        Object[] objArr = this.mArray;
        int i = this.mSize;
        int i2 = 1;
        int i3 = 0;
        int i4 = 0;
        while (i3 < i) {
            Object obj = objArr[i2];
            i4 += (obj == null ? 0 : obj.hashCode()) ^ iArr[i3];
            i3++;
            i2 += 2;
        }
        return i4;
    }

    public String toString() {
        if (isEmpty()) {
            return "{}";
        }
        StringBuilder sb = new StringBuilder(this.mSize * 28);
        sb.append('{');
        for (int i = 0; i < this.mSize; i++) {
            if (i > 0) {
                sb.append(", ");
            }
            K keyAt = keyAt(i);
            if (keyAt != this) {
                sb.append(keyAt);
            } else {
                sb.append("(this Map)");
            }
            sb.append('=');
            V valueAt = valueAt(i);
            if (valueAt != this) {
                sb.append(valueAt);
            } else {
                sb.append("(this Map)");
            }
        }
        sb.append('}');
        return sb.toString();
    }
}


### **classes_dex_1/sources/android/support/v4/util/ContainerHelpers.java** ###

package android.support.v4.util;

/* loaded from: /content/classes1.dex */
class ContainerHelpers {
    static final int[] EMPTY_INTS = new int[0];
    static final long[] EMPTY_LONGS = new long[0];
    static final Object[] EMPTY_OBJECTS = new Object[0];

    public static int idealByteArraySize(int i) {
        for (int i2 = 4; i2 < 32; i2++) {
            int i3 = (1 << i2) - 12;
            if (i <= i3) {
                return i3;
            }
        }
        return i;
    }

    public static int idealIntArraySize(int i) {
        return idealByteArraySize(i * 4) / 4;
    }

    public static int idealLongArraySize(int i) {
        return idealByteArraySize(i * 8) / 8;
    }

    public static boolean equal(Object obj, Object obj2) {
        return obj == obj2 || (obj != null && obj.equals(obj2));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static int binarySearch(int[] iArr, int i, int i2) {
        int i3 = i - 1;
        int i4 = 0;
        while (i4 <= i3) {
            int i5 = (i4 + i3) >>> 1;
            int i6 = iArr[i5];
            if (i6 < i2) {
                i4 = i5 + 1;
            } else {
                if (i6 <= i2) {
                    return i5;
                }
                i3 = i5 - 1;
            }
        }
        return ~i4;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static int binarySearch(long[] jArr, int i, long j) {
        int i2 = i - 1;
        int i3 = 0;
        while (i3 <= i2) {
            int i4 = (i3 + i2) >>> 1;
            long j2 = jArr[i4];
            if (j2 < j) {
                i3 = i4 + 1;
            } else {
                if (j2 <= j) {
                    return i4;
                }
                i2 = i4 - 1;
            }
        }
        return ~i3;
    }
}


### **classes_dex_1/sources/android/support/v4/util/Pools$Pool.java** ###

package android.support.v4.util;

/* loaded from: /content/classes1.dex */
public interface Pools$Pool<T> {
    T acquire();

    boolean release(T t);
}


### **classes_dex_1/sources/android/support/v4/util/MapCollections.java** ###

package android.support.v4.util;

import java.lang.reflect.Array;
import java.util.Collection;
import java.util.Iterator;
import java.util.Map;
import java.util.NoSuchElementException;
import java.util.Set;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes1.dex */
public abstract class MapCollections<K, V> {
    MapCollections<K, V>.EntrySet mEntrySet;
    MapCollections<K, V>.KeySet mKeySet;
    MapCollections<K, V>.ValuesCollection mValues;

    protected abstract void colClear();

    protected abstract Object colGetEntry(int i, int i2);

    protected abstract Map<K, V> colGetMap();

    protected abstract int colGetSize();

    protected abstract int colIndexOfKey(Object obj);

    protected abstract int colIndexOfValue(Object obj);

    protected abstract void colPut(K k, V v);

    protected abstract void colRemoveAt(int i);

    protected abstract V colSetValue(int i, V v);

    /* loaded from: /content/classes1.dex */
    final class ArrayIterator<T> implements Iterator<T> {
        boolean mCanRemove = false;
        int mIndex;
        final int mOffset;
        int mSize;

        ArrayIterator(int i) {
            this.mOffset = i;
            this.mSize = MapCollections.this.colGetSize();
        }

        @Override // java.util.Iterator
        public boolean hasNext() {
            return this.mIndex < this.mSize;
        }

        @Override // java.util.Iterator
        public T next() {
            if (!hasNext()) {
                throw new NoSuchElementException();
            }
            T t = (T) MapCollections.this.colGetEntry(this.mIndex, this.mOffset);
            this.mIndex++;
            this.mCanRemove = true;
            return t;
        }

        @Override // java.util.Iterator
        public void remove() {
            if (!this.mCanRemove) {
                throw new IllegalStateException();
            }
            int i = this.mIndex - 1;
            this.mIndex = i;
            this.mSize--;
            this.mCanRemove = false;
            MapCollections.this.colRemoveAt(i);
        }
    }

    /* loaded from: /content/classes1.dex */
    final class MapIterator implements Iterator<Map.Entry<K, V>>, Map.Entry<K, V> {
        int mEnd;
        boolean mEntryValid = false;
        int mIndex = -1;

        @Override // java.util.Iterator
        public /* bridge */ /* synthetic */ Object next() {
            next();
            return this;
        }

        MapIterator() {
            this.mEnd = MapCollections.this.colGetSize() - 1;
        }

        @Override // java.util.Iterator
        public boolean hasNext() {
            return this.mIndex < this.mEnd;
        }

        @Override // java.util.Iterator
        public Map.Entry<K, V> next() {
            if (!hasNext()) {
                throw new NoSuchElementException();
            }
            this.mIndex++;
            this.mEntryValid = true;
            return this;
        }

        @Override // java.util.Iterator
        public void remove() {
            if (!this.mEntryValid) {
                throw new IllegalStateException();
            }
            MapCollections.this.colRemoveAt(this.mIndex);
            this.mIndex--;
            this.mEnd--;
            this.mEntryValid = false;
        }

        @Override // java.util.Map.Entry
        public K getKey() {
            if (!this.mEntryValid) {
                throw new IllegalStateException("This container does not support retaining Map.Entry objects");
            }
            return (K) MapCollections.this.colGetEntry(this.mIndex, 0);
        }

        @Override // java.util.Map.Entry
        public V getValue() {
            if (!this.mEntryValid) {
                throw new IllegalStateException("This container does not support retaining Map.Entry objects");
            }
            return (V) MapCollections.this.colGetEntry(this.mIndex, 1);
        }

        @Override // java.util.Map.Entry
        public V setValue(V v) {
            if (!this.mEntryValid) {
                throw new IllegalStateException("This container does not support retaining Map.Entry objects");
            }
            return (V) MapCollections.this.colSetValue(this.mIndex, v);
        }

        @Override // java.util.Map.Entry
        public boolean equals(Object obj) {
            if (!this.mEntryValid) {
                throw new IllegalStateException("This container does not support retaining Map.Entry objects");
            }
            if (!(obj instanceof Map.Entry)) {
                return false;
            }
            Map.Entry entry = (Map.Entry) obj;
            return ContainerHelpers.equal(entry.getKey(), MapCollections.this.colGetEntry(this.mIndex, 0)) && ContainerHelpers.equal(entry.getValue(), MapCollections.this.colGetEntry(this.mIndex, 1));
        }

        @Override // java.util.Map.Entry
        public int hashCode() {
            if (!this.mEntryValid) {
                throw new IllegalStateException("This container does not support retaining Map.Entry objects");
            }
            Object colGetEntry = MapCollections.this.colGetEntry(this.mIndex, 0);
            Object colGetEntry2 = MapCollections.this.colGetEntry(this.mIndex, 1);
            return (colGetEntry == null ? 0 : colGetEntry.hashCode()) ^ (colGetEntry2 != null ? colGetEntry2.hashCode() : 0);
        }

        public String toString() {
            return getKey() + "=" + getValue();
        }
    }

    /* loaded from: /content/classes1.dex */
    final class EntrySet implements Set<Map.Entry<K, V>> {
        EntrySet() {
        }

        @Override // java.util.Set, java.util.Collection
        public /* bridge */ /* synthetic */ boolean add(Object obj) {
            add((Map.Entry) obj);
            throw null;
        }

        public boolean add(Map.Entry<K, V> entry) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean addAll(Collection<? extends Map.Entry<K, V>> collection) {
            int colGetSize = MapCollections.this.colGetSize();
            for (Map.Entry<K, V> entry : collection) {
                MapCollections.this.colPut(entry.getKey(), entry.getValue());
            }
            return colGetSize != MapCollections.this.colGetSize();
        }

        @Override // java.util.Set, java.util.Collection
        public void clear() {
            MapCollections.this.colClear();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean contains(Object obj) {
            if (!(obj instanceof Map.Entry)) {
                return false;
            }
            Map.Entry entry = (Map.Entry) obj;
            int colIndexOfKey = MapCollections.this.colIndexOfKey(entry.getKey());
            if (colIndexOfKey < 0) {
                return false;
            }
            return ContainerHelpers.equal(MapCollections.this.colGetEntry(colIndexOfKey, 1), entry.getValue());
        }

        @Override // java.util.Set, java.util.Collection
        public boolean containsAll(Collection<?> collection) {
            Iterator<?> it = collection.iterator();
            while (it.hasNext()) {
                if (!contains(it.next())) {
                    return false;
                }
            }
            return true;
        }

        @Override // java.util.Set, java.util.Collection
        public boolean isEmpty() {
            return MapCollections.this.colGetSize() == 0;
        }

        @Override // java.util.Set, java.util.Collection, java.lang.Iterable
        public Iterator<Map.Entry<K, V>> iterator() {
            return new MapIterator();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean remove(Object obj) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean removeAll(Collection<?> collection) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean retainAll(Collection<?> collection) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public int size() {
            return MapCollections.this.colGetSize();
        }

        @Override // java.util.Set, java.util.Collection
        public Object[] toArray() {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public <T> T[] toArray(T[] tArr) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean equals(Object obj) {
            return MapCollections.equalsSetHelper(this, obj);
        }

        @Override // java.util.Set, java.util.Collection
        public int hashCode() {
            int i = 0;
            for (int colGetSize = MapCollections.this.colGetSize() - 1; colGetSize >= 0; colGetSize--) {
                Object colGetEntry = MapCollections.this.colGetEntry(colGetSize, 0);
                Object colGetEntry2 = MapCollections.this.colGetEntry(colGetSize, 1);
                i += (colGetEntry == null ? 0 : colGetEntry.hashCode()) ^ (colGetEntry2 == null ? 0 : colGetEntry2.hashCode());
            }
            return i;
        }
    }

    /* loaded from: /content/classes1.dex */
    final class KeySet implements Set<K> {
        KeySet() {
        }

        @Override // java.util.Set, java.util.Collection
        public boolean add(K k) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean addAll(Collection<? extends K> collection) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Set, java.util.Collection
        public void clear() {
            MapCollections.this.colClear();
        }

        @Override // java.util.Set, java.util.Collection
        public boolean contains(Object obj) {
            return MapCollections.this.colIndexOfKey(obj) >= 0;
        }

        @Override // java.util.Set, java.util.Collection
        public boolean containsAll(Collection<?> collection) {
            return MapCollections.containsAllHelper(MapCollections.this.colGetMap(), collection);
        }

        @Override // java.util.Set, java.util.Collection
        public boolean isEmpty() {
            return MapCollections.this.colGetSize() == 0;
        }

        @Override // java.util.Set, java.util.Collection, java.lang.Iterable
        public Iterator<K> iterator() {
            return new ArrayIterator(0);
        }

        @Override // java.util.Set, java.util.Collection
        public boolean remove(Object obj) {
            int colIndexOfKey = MapCollections.this.colIndexOfKey(obj);
            if (colIndexOfKey < 0) {
                return false;
            }
            MapCollections.this.colRemoveAt(colIndexOfKey);
            return true;
        }

        @Override // java.util.Set, java.util.Collection
        public boolean removeAll(Collection<?> collection) {
            return MapCollections.removeAllHelper(MapCollections.this.colGetMap(), collection);
        }

        @Override // java.util.Set, java.util.Collection
        public boolean retainAll(Collection<?> collection) {
            return MapCollections.retainAllHelper(MapCollections.this.colGetMap(), collection);
        }

        @Override // java.util.Set, java.util.Collection
        public int size() {
            return MapCollections.this.colGetSize();
        }

        @Override // java.util.Set, java.util.Collection
        public Object[] toArray() {
            return MapCollections.this.toArrayHelper(0);
        }

        @Override // java.util.Set, java.util.Collection
        public <T> T[] toArray(T[] tArr) {
            return (T[]) MapCollections.this.toArrayHelper(tArr, 0);
        }

        @Override // java.util.Set, java.util.Collection
        public boolean equals(Object obj) {
            return MapCollections.equalsSetHelper(this, obj);
        }

        @Override // java.util.Set, java.util.Collection
        public int hashCode() {
            int i = 0;
            for (int colGetSize = MapCollections.this.colGetSize() - 1; colGetSize >= 0; colGetSize--) {
                Object colGetEntry = MapCollections.this.colGetEntry(colGetSize, 0);
                i += colGetEntry == null ? 0 : colGetEntry.hashCode();
            }
            return i;
        }
    }

    /* loaded from: /content/classes1.dex */
    final class ValuesCollection implements Collection<V> {
        ValuesCollection() {
        }

        @Override // java.util.Collection
        public boolean add(V v) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Collection
        public boolean addAll(Collection<? extends V> collection) {
            throw new UnsupportedOperationException();
        }

        @Override // java.util.Collection
        public void clear() {
            MapCollections.this.colClear();
        }

        @Override // java.util.Collection
        public boolean contains(Object obj) {
            return MapCollections.this.colIndexOfValue(obj) >= 0;
        }

        @Override // java.util.Collection
        public boolean containsAll(Collection<?> collection) {
            Iterator<?> it = collection.iterator();
            while (it.hasNext()) {
                if (!contains(it.next())) {
                    return false;
                }
            }
            return true;
        }

        @Override // java.util.Collection
        public boolean isEmpty() {
            return MapCollections.this.colGetSize() == 0;
        }

        @Override // java.util.Collection, java.lang.Iterable
        public Iterator<V> iterator() {
            return new ArrayIterator(1);
        }

        @Override // java.util.Collection
        public boolean remove(Object obj) {
            int colIndexOfValue = MapCollections.this.colIndexOfValue(obj);
            if (colIndexOfValue < 0) {
                return false;
            }
            MapCollections.this.colRemoveAt(colIndexOfValue);
            return true;
        }

        @Override // java.util.Collection
        public boolean removeAll(Collection<?> collection) {
            int colGetSize = MapCollections.this.colGetSize();
            int i = 0;
            boolean z = false;
            while (i < colGetSize) {
                if (collection.contains(MapCollections.this.colGetEntry(i, 1))) {
                    MapCollections.this.colRemoveAt(i);
                    i--;
                    colGetSize--;
                    z = true;
                }
                i++;
            }
            return z;
        }

        @Override // java.util.Collection
        public boolean retainAll(Collection<?> collection) {
            int colGetSize = MapCollections.this.colGetSize();
            int i = 0;
            boolean z = false;
            while (i < colGetSize) {
                if (!collection.contains(MapCollections.this.colGetEntry(i, 1))) {
                    MapCollections.this.colRemoveAt(i);
                    i--;
                    colGetSize--;
                    z = true;
                }
                i++;
            }
            return z;
        }

        @Override // java.util.Collection
        public int size() {
            return MapCollections.this.colGetSize();
        }

        @Override // java.util.Collection
        public Object[] toArray() {
            return MapCollections.this.toArrayHelper(1);
        }

        @Override // java.util.Collection
        public <T> T[] toArray(T[] tArr) {
            return (T[]) MapCollections.this.toArrayHelper(tArr, 1);
        }
    }

    public static <K, V> boolean containsAllHelper(Map<K, V> map, Collection<?> collection) {
        Iterator<?> it = collection.iterator();
        while (it.hasNext()) {
            if (!map.containsKey(it.next())) {
                return false;
            }
        }
        return true;
    }

    public static <K, V> boolean removeAllHelper(Map<K, V> map, Collection<?> collection) {
        int size = map.size();
        Iterator<?> it = collection.iterator();
        while (it.hasNext()) {
            map.remove(it.next());
        }
        return size != map.size();
    }

    public static <K, V> boolean retainAllHelper(Map<K, V> map, Collection<?> collection) {
        int size = map.size();
        Iterator<K> it = map.keySet().iterator();
        while (it.hasNext()) {
            if (!collection.contains(it.next())) {
                it.remove();
            }
        }
        return size != map.size();
    }

    public Object[] toArrayHelper(int i) {
        int colGetSize = colGetSize();
        Object[] objArr = new Object[colGetSize];
        for (int i2 = 0; i2 < colGetSize; i2++) {
            objArr[i2] = colGetEntry(i2, i);
        }
        return objArr;
    }

    public <T> T[] toArrayHelper(T[] tArr, int i) {
        int colGetSize = colGetSize();
        if (tArr.length < colGetSize) {
            tArr = (T[]) ((Object[]) Array.newInstance(tArr.getClass().getComponentType(), colGetSize));
        }
        for (int i2 = 0; i2 < colGetSize; i2++) {
            tArr[i2] = colGetEntry(i2, i);
        }
        if (tArr.length > colGetSize) {
            tArr[colGetSize] = null;
        }
        return tArr;
    }

    public static <T> boolean equalsSetHelper(Set<T> set, Object obj) {
        if (set == obj) {
            return true;
        }
        if (obj instanceof Set) {
            Set set2 = (Set) obj;
            try {
                if (set.size() == set2.size()) {
                    if (set.containsAll(set2)) {
                        return true;
                    }
                }
                return false;
            } catch (ClassCastException | NullPointerException unused) {
            }
        }
        return false;
    }

    public Set<Map.Entry<K, V>> getEntrySet() {
        if (this.mEntrySet == null) {
            this.mEntrySet = new EntrySet();
        }
        return this.mEntrySet;
    }

    public Set<K> getKeySet() {
        if (this.mKeySet == null) {
            this.mKeySet = new KeySet();
        }
        return this.mKeySet;
    }

    public Collection<V> getValues() {
        if (this.mValues == null) {
            this.mValues = new ValuesCollection();
        }
        return this.mValues;
    }
}


### **classes_dex_1/sources/android/support/v4/util/Pools$SimplePool.java** ###

package android.support.v4.util;

/* loaded from: /content/classes1.dex */
public class Pools$SimplePool<T> implements Pools$Pool<T> {
    private final Object[] mPool;
    private int mPoolSize;

    public Pools$SimplePool(int i) {
        if (i <= 0) {
            throw new IllegalArgumentException("The max pool size must be > 0");
        }
        this.mPool = new Object[i];
    }

    @Override // android.support.v4.util.Pools$Pool
    public T acquire() {
        int i = this.mPoolSize;
        if (i <= 0) {
            return null;
        }
        int i2 = i - 1;
        Object[] objArr = this.mPool;
        T t = (T) objArr[i2];
        objArr[i2] = null;
        this.mPoolSize = i - 1;
        return t;
    }

    @Override // android.support.v4.util.Pools$Pool
    public boolean release(T t) {
        if (isInPool(t)) {
            throw new IllegalStateException("Already in the pool!");
        }
        int i = this.mPoolSize;
        Object[] objArr = this.mPool;
        if (i >= objArr.length) {
            return false;
        }
        objArr[i] = t;
        this.mPoolSize = i + 1;
        return true;
    }

    private boolean isInPool(T t) {
        for (int i = 0; i < this.mPoolSize; i++) {
            if (this.mPool[i] == t) {
                return true;
            }
        }
        return false;
    }
}


### **classes_dex_1/sources/android/support/v4/util/SparseArrayCompat.java** ###

package android.support.v4.util;

/* loaded from: /content/classes1.dex */
public class SparseArrayCompat<E> implements Cloneable {
    private static final Object DELETED = new Object();
    private boolean mGarbage;
    private int[] mKeys;
    private int mSize;
    private Object[] mValues;

    public SparseArrayCompat() {
        this(10);
    }

    public SparseArrayCompat(int i) {
        this.mGarbage = false;
        if (i == 0) {
            this.mKeys = ContainerHelpers.EMPTY_INTS;
            this.mValues = ContainerHelpers.EMPTY_OBJECTS;
        } else {
            int idealIntArraySize = ContainerHelpers.idealIntArraySize(i);
            this.mKeys = new int[idealIntArraySize];
            this.mValues = new Object[idealIntArraySize];
        }
        this.mSize = 0;
    }

    /* renamed from: clone, reason: merged with bridge method [inline-methods] */
    public SparseArrayCompat<E> m1clone() {
        SparseArrayCompat<E> sparseArrayCompat = null;
        try {
            SparseArrayCompat<E> sparseArrayCompat2 = (SparseArrayCompat) super.clone();
            try {
                sparseArrayCompat2.mKeys = (int[]) this.mKeys.clone();
                sparseArrayCompat2.mValues = (Object[]) this.mValues.clone();
                return sparseArrayCompat2;
            } catch (CloneNotSupportedException unused) {
                sparseArrayCompat = sparseArrayCompat2;
                return sparseArrayCompat;
            }
        } catch (CloneNotSupportedException unused2) {
        }
    }

    private void gc() {
        int i = this.mSize;
        int[] iArr = this.mKeys;
        Object[] objArr = this.mValues;
        int i2 = 0;
        for (int i3 = 0; i3 < i; i3++) {
            Object obj = objArr[i3];
            if (obj != DELETED) {
                if (i3 != i2) {
                    iArr[i2] = iArr[i3];
                    objArr[i2] = obj;
                    objArr[i3] = null;
                }
                i2++;
            }
        }
        this.mGarbage = false;
        this.mSize = i2;
    }

    public int size() {
        if (this.mGarbage) {
            gc();
        }
        return this.mSize;
    }

    public int keyAt(int i) {
        if (this.mGarbage) {
            gc();
        }
        return this.mKeys[i];
    }

    public E valueAt(int i) {
        if (this.mGarbage) {
            gc();
        }
        return (E) this.mValues[i];
    }

    public String toString() {
        if (size() <= 0) {
            return "{}";
        }
        StringBuilder sb = new StringBuilder(this.mSize * 28);
        sb.append('{');
        for (int i = 0; i < this.mSize; i++) {
            if (i > 0) {
                sb.append(", ");
            }
            sb.append(keyAt(i));
            sb.append('=');
            E valueAt = valueAt(i);
            if (valueAt != this) {
                sb.append(valueAt);
            } else {
                sb.append("(this Map)");
            }
        }
        sb.append('}');
        return sb.toString();
    }
}


### **classes_dex_1/sources/android/support/v4/util/LongSparseArray.java** ###

package android.support.v4.util;

/* loaded from: /content/classes1.dex */
public class LongSparseArray<E> implements Cloneable {
    private static final Object DELETED = new Object();
    private boolean mGarbage;
    private long[] mKeys;
    private int mSize;
    private Object[] mValues;

    public LongSparseArray() {
        this(10);
    }

    public LongSparseArray(int i) {
        this.mGarbage = false;
        if (i == 0) {
            this.mKeys = ContainerHelpers.EMPTY_LONGS;
            this.mValues = ContainerHelpers.EMPTY_OBJECTS;
        } else {
            int idealLongArraySize = ContainerHelpers.idealLongArraySize(i);
            this.mKeys = new long[idealLongArraySize];
            this.mValues = new Object[idealLongArraySize];
        }
        this.mSize = 0;
    }

    /* renamed from: clone, reason: merged with bridge method [inline-methods] */
    public LongSparseArray<E> m0clone() {
        LongSparseArray<E> longSparseArray = null;
        try {
            LongSparseArray<E> longSparseArray2 = (LongSparseArray) super.clone();
            try {
                longSparseArray2.mKeys = (long[]) this.mKeys.clone();
                longSparseArray2.mValues = (Object[]) this.mValues.clone();
                return longSparseArray2;
            } catch (CloneNotSupportedException unused) {
                longSparseArray = longSparseArray2;
                return longSparseArray;
            }
        } catch (CloneNotSupportedException unused2) {
        }
    }

    public E get(long j) {
        return get(j, null);
    }

    public E get(long j, E e) {
        int binarySearch = ContainerHelpers.binarySearch(this.mKeys, this.mSize, j);
        if (binarySearch >= 0) {
            Object[] objArr = this.mValues;
            if (objArr[binarySearch] != DELETED) {
                return (E) objArr[binarySearch];
            }
        }
        return e;
    }

    public void removeAt(int i) {
        Object[] objArr = this.mValues;
        Object obj = objArr[i];
        Object obj2 = DELETED;
        if (obj != obj2) {
            objArr[i] = obj2;
            this.mGarbage = true;
        }
    }

    private void gc() {
        int i = this.mSize;
        long[] jArr = this.mKeys;
        Object[] objArr = this.mValues;
        int i2 = 0;
        for (int i3 = 0; i3 < i; i3++) {
            Object obj = objArr[i3];
            if (obj != DELETED) {
                if (i3 != i2) {
                    jArr[i2] = jArr[i3];
                    objArr[i2] = obj;
                    objArr[i3] = null;
                }
                i2++;
            }
        }
        this.mGarbage = false;
        this.mSize = i2;
    }

    public void put(long j, E e) {
        int binarySearch = ContainerHelpers.binarySearch(this.mKeys, this.mSize, j);
        if (binarySearch >= 0) {
            this.mValues[binarySearch] = e;
            return;
        }
        int i = ~binarySearch;
        if (i < this.mSize) {
            Object[] objArr = this.mValues;
            if (objArr[i] == DELETED) {
                this.mKeys[i] = j;
                objArr[i] = e;
                return;
            }
        }
        if (this.mGarbage && this.mSize >= this.mKeys.length) {
            gc();
            i = ~ContainerHelpers.binarySearch(this.mKeys, this.mSize, j);
        }
        int i2 = this.mSize;
        if (i2 >= this.mKeys.length) {
            int idealLongArraySize = ContainerHelpers.idealLongArraySize(i2 + 1);
            long[] jArr = new long[idealLongArraySize];
            Object[] objArr2 = new Object[idealLongArraySize];
            long[] jArr2 = this.mKeys;
            System.arraycopy(jArr2, 0, jArr, 0, jArr2.length);
            Object[] objArr3 = this.mValues;
            System.arraycopy(objArr3, 0, objArr2, 0, objArr3.length);
            this.mKeys = jArr;
            this.mValues = objArr2;
        }
        int i3 = this.mSize;
        if (i3 - i != 0) {
            long[] jArr3 = this.mKeys;
            int i4 = i + 1;
            System.arraycopy(jArr3, i, jArr3, i4, i3 - i);
            Object[] objArr4 = this.mValues;
            System.arraycopy(objArr4, i, objArr4, i4, this.mSize - i);
        }
        this.mKeys[i] = j;
        this.mValues[i] = e;
        this.mSize++;
    }

    public int size() {
        if (this.mGarbage) {
            gc();
        }
        return this.mSize;
    }

    public long keyAt(int i) {
        if (this.mGarbage) {
            gc();
        }
        return this.mKeys[i];
    }

    public E valueAt(int i) {
        if (this.mGarbage) {
            gc();
        }
        return (E) this.mValues[i];
    }

    public void clear() {
        int i = this.mSize;
        Object[] objArr = this.mValues;
        for (int i2 = 0; i2 < i; i2++) {
            objArr[i2] = null;
        }
        this.mSize = 0;
        this.mGarbage = false;
    }

    public String toString() {
        if (size() <= 0) {
            return "{}";
        }
        StringBuilder sb = new StringBuilder(this.mSize * 28);
        sb.append('{');
        for (int i = 0; i < this.mSize; i++) {
            if (i > 0) {
                sb.append(", ");
            }
            sb.append(keyAt(i));
            sb.append('=');
            E valueAt = valueAt(i);
            if (valueAt != this) {
                sb.append(valueAt);
            } else {
                sb.append("(this Map)");
            }
        }
        sb.append('}');
        return sb.toString();
    }
}


### **classes_dex_1/sources/android/support/v4/util/ArrayMap.java** ###

package android.support.v4.util;

import java.util.Collection;
import java.util.Map;
import java.util.Set;

/* loaded from: /content/classes1.dex */
public class ArrayMap<K, V> extends SimpleArrayMap<K, V> implements Map<K, V> {
    MapCollections<K, V> mCollections;

    private MapCollections<K, V> getCollection() {
        if (this.mCollections == null) {
            this.mCollections = new MapCollections<K, V>() { // from class: android.support.v4.util.ArrayMap.1
                @Override // android.support.v4.util.MapCollections
                protected int colGetSize() {
                    return ArrayMap.this.mSize;
                }

                @Override // android.support.v4.util.MapCollections
                protected Object colGetEntry(int i, int i2) {
                    return ArrayMap.this.mArray[(i << 1) + i2];
                }

                @Override // android.support.v4.util.MapCollections
                protected int colIndexOfKey(Object obj) {
                    return ArrayMap.this.indexOfKey(obj);
                }

                @Override // android.support.v4.util.MapCollections
                protected int colIndexOfValue(Object obj) {
                    return ArrayMap.this.indexOfValue(obj);
                }

                @Override // android.support.v4.util.MapCollections
                protected Map<K, V> colGetMap() {
                    return ArrayMap.this;
                }

                @Override // android.support.v4.util.MapCollections
                protected void colPut(K k, V v) {
                    ArrayMap.this.put(k, v);
                }

                @Override // android.support.v4.util.MapCollections
                protected V colSetValue(int i, V v) {
                    return ArrayMap.this.setValueAt(i, v);
                }

                @Override // android.support.v4.util.MapCollections
                protected void colRemoveAt(int i) {
                    ArrayMap.this.removeAt(i);
                }

                @Override // android.support.v4.util.MapCollections
                protected void colClear() {
                    ArrayMap.this.clear();
                }
            };
        }
        return this.mCollections;
    }

    @Override // java.util.Map
    public void putAll(Map<? extends K, ? extends V> map) {
        ensureCapacity(this.mSize + map.size());
        for (Map.Entry<? extends K, ? extends V> entry : map.entrySet()) {
            put(entry.getKey(), entry.getValue());
        }
    }

    @Override // java.util.Map
    public Set<Map.Entry<K, V>> entrySet() {
        return getCollection().getEntrySet();
    }

    @Override // java.util.Map
    public Set<K> keySet() {
        return getCollection().getKeySet();
    }

    @Override // java.util.Map
    public Collection<V> values() {
        return getCollection().getValues();
    }
}


### **classes_dex_1/sources/android/support/v4/view/ViewConfigurationCompat.java** ###

package android.support.v4.view;

import android.R;
import android.content.Context;
import android.os.Build;
import android.util.Log;
import android.util.TypedValue;
import android.view.ViewConfiguration;
import java.lang.reflect.Method;

/* loaded from: /content/classes1.dex */
public final class ViewConfigurationCompat {
    private static Method sGetScaledScrollFactorMethod;

    static {
        if (Build.VERSION.SDK_INT == 25) {
            try {
                sGetScaledScrollFactorMethod = ViewConfiguration.class.getDeclaredMethod("getScaledScrollFactor", new Class[0]);
            } catch (Exception unused) {
                Log.i("ViewConfigCompat", "Could not find method getScaledScrollFactor() on ViewConfiguration");
            }
        }
    }

    public static float getScaledHorizontalScrollFactor(ViewConfiguration viewConfiguration, Context context) {
        if (Build.VERSION.SDK_INT >= 26) {
            return viewConfiguration.getScaledHorizontalScrollFactor();
        }
        return getLegacyScrollFactor(viewConfiguration, context);
    }

    public static float getScaledVerticalScrollFactor(ViewConfiguration viewConfiguration, Context context) {
        if (Build.VERSION.SDK_INT >= 26) {
            return viewConfiguration.getScaledVerticalScrollFactor();
        }
        return getLegacyScrollFactor(viewConfiguration, context);
    }

    private static float getLegacyScrollFactor(ViewConfiguration viewConfiguration, Context context) {
        Method method;
        if (Build.VERSION.SDK_INT >= 25 && (method = sGetScaledScrollFactorMethod) != null) {
            try {
                return ((Integer) method.invoke(viewConfiguration, new Object[0])).intValue();
            } catch (Exception unused) {
                Log.i("ViewConfigCompat", "Could not find method getScaledScrollFactor() on ViewConfiguration");
            }
        }
        TypedValue typedValue = new TypedValue();
        if (context.getTheme().resolveAttribute(R.attr.listPreferredItemHeight, typedValue, true)) {
            return typedValue.getDimension(context.getResources().getDisplayMetrics());
        }
        return 0.0f;
    }
}


### **classes_dex_1/sources/android/support/v4/view/NestedScrollingChild.java** ###

package android.support.v4.view;

/* loaded from: /content/classes1.dex */
public interface NestedScrollingChild {
    void stopNestedScroll();
}


### **classes_dex_1/sources/android/support/v4/view/AbsSavedState.java** ###

package android.support.v4.view;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public abstract class AbsSavedState implements Parcelable {
    private final Parcelable mSuperState;
    public static final AbsSavedState EMPTY_STATE = new AbsSavedState() { // from class: android.support.v4.view.AbsSavedState.1
    };
    public static final Parcelable.Creator<AbsSavedState> CREATOR = new Parcelable.ClassLoaderCreator<AbsSavedState>() { // from class: android.support.v4.view.AbsSavedState.2
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.ClassLoaderCreator
        public AbsSavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
            if (parcel.readParcelable(classLoader) != null) {
                throw new IllegalStateException("superState must be null");
            }
            return AbsSavedState.EMPTY_STATE;
        }

        @Override // android.os.Parcelable.Creator
        public AbsSavedState createFromParcel(Parcel parcel) {
            return createFromParcel(parcel, (ClassLoader) null);
        }

        @Override // android.os.Parcelable.Creator
        public AbsSavedState[] newArray(int i) {
            return new AbsSavedState[i];
        }
    };

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    private AbsSavedState() {
        this.mSuperState = null;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public AbsSavedState(Parcelable parcelable) {
        if (parcelable == null) {
            throw new IllegalArgumentException("superState must not be null");
        }
        this.mSuperState = parcelable == EMPTY_STATE ? null : parcelable;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public AbsSavedState(Parcel parcel, ClassLoader classLoader) {
        Parcelable readParcelable = parcel.readParcelable(classLoader);
        this.mSuperState = readParcelable == null ? EMPTY_STATE : readParcelable;
    }

    public final Parcelable getSuperState() {
        return this.mSuperState;
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeParcelable(this.mSuperState, i);
    }
}


### **classes_dex_1/sources/android/support/v4/view/ViewCompat.java** ###

package android.support.v4.view;

import android.animation.ValueAnimator;
import android.annotation.SuppressLint;
import android.graphics.Rect;
import android.os.Build;
import android.view.Display;
import android.view.View;
import android.view.WindowManager;
import java.lang.reflect.Field;
import java.util.concurrent.atomic.AtomicInteger;

/* loaded from: /content/classes1.dex */
public class ViewCompat {
    private static boolean sAccessibilityDelegateCheckFailed;
    private static Field sAccessibilityDelegateField;
    private static Field sMinHeightField;
    private static boolean sMinHeightFieldFetched;
    private static Field sMinWidthField;
    private static boolean sMinWidthFieldFetched;
    private static ThreadLocal<Rect> sThreadLocalRect;

    static {
        new AtomicInteger(1);
        sAccessibilityDelegateCheckFailed = false;
    }

    private static Rect getEmptyTempRect() {
        if (sThreadLocalRect == null) {
            sThreadLocalRect = new ThreadLocal<>();
        }
        Rect rect = sThreadLocalRect.get();
        if (rect == null) {
            rect = new Rect();
            sThreadLocalRect.set(rect);
        }
        rect.setEmpty();
        return rect;
    }

    public static void setAccessibilityDelegate(View view, AccessibilityDelegateCompat accessibilityDelegateCompat) {
        view.setAccessibilityDelegate(accessibilityDelegateCompat == null ? null : accessibilityDelegateCompat.getBridge());
    }

    @SuppressLint({"InlinedApi"})
    public static int getImportantForAutofill(View view) {
        if (Build.VERSION.SDK_INT >= 26) {
            return view.getImportantForAutofill();
        }
        return 0;
    }

    public static void setImportantForAutofill(View view, int i) {
        if (Build.VERSION.SDK_INT >= 26) {
            view.setImportantForAutofill(i);
        }
    }

    public static boolean hasAccessibilityDelegate(View view) {
        if (sAccessibilityDelegateCheckFailed) {
            return false;
        }
        if (sAccessibilityDelegateField == null) {
            try {
                Field declaredField = View.class.getDeclaredField("mAccessibilityDelegate");
                sAccessibilityDelegateField = declaredField;
                declaredField.setAccessible(true);
            } catch (Throwable unused) {
                sAccessibilityDelegateCheckFailed = true;
                return false;
            }
        }
        try {
            return sAccessibilityDelegateField.get(view) != null;
        } catch (Throwable unused2) {
            sAccessibilityDelegateCheckFailed = true;
            return false;
        }
    }

    public static boolean hasTransientState(View view) {
        if (Build.VERSION.SDK_INT >= 16) {
            return view.hasTransientState();
        }
        return false;
    }

    public static void postInvalidateOnAnimation(View view) {
        if (Build.VERSION.SDK_INT >= 16) {
            view.postInvalidateOnAnimation();
        } else {
            view.postInvalidate();
        }
    }

    public static void postOnAnimation(View view, Runnable runnable) {
        if (Build.VERSION.SDK_INT >= 16) {
            view.postOnAnimation(runnable);
        } else {
            view.postDelayed(runnable, ValueAnimator.getFrameDelay());
        }
    }

    public static void postOnAnimationDelayed(View view, Runnable runnable, long j) {
        if (Build.VERSION.SDK_INT >= 16) {
            view.postOnAnimationDelayed(runnable, j);
        } else {
            view.postDelayed(runnable, ValueAnimator.getFrameDelay() + j);
        }
    }

    public static int getImportantForAccessibility(View view) {
        if (Build.VERSION.SDK_INT >= 16) {
            return view.getImportantForAccessibility();
        }
        return 0;
    }

    public static void setImportantForAccessibility(View view, int i) {
        int i2 = Build.VERSION.SDK_INT;
        if (i2 >= 19) {
            view.setImportantForAccessibility(i);
        } else if (i2 >= 16) {
            if (i == 4) {
                i = 2;
            }
            view.setImportantForAccessibility(i);
        }
    }

    public static int getLayoutDirection(View view) {
        if (Build.VERSION.SDK_INT >= 17) {
            return view.getLayoutDirection();
        }
        return 0;
    }

    public static int getMinimumWidth(View view) {
        if (Build.VERSION.SDK_INT >= 16) {
            return view.getMinimumWidth();
        }
        if (!sMinWidthFieldFetched) {
            try {
                Field declaredField = View.class.getDeclaredField("mMinWidth");
                sMinWidthField = declaredField;
                declaredField.setAccessible(true);
            } catch (NoSuchFieldException unused) {
            }
            sMinWidthFieldFetched = true;
        }
        Field field = sMinWidthField;
        if (field == null) {
            return 0;
        }
        try {
            return ((Integer) field.get(view)).intValue();
        } catch (Exception unused2) {
            return 0;
        }
    }

    public static int getMinimumHeight(View view) {
        if (Build.VERSION.SDK_INT >= 16) {
            return view.getMinimumHeight();
        }
        if (!sMinHeightFieldFetched) {
            try {
                Field declaredField = View.class.getDeclaredField("mMinHeight");
                sMinHeightField = declaredField;
                declaredField.setAccessible(true);
            } catch (NoSuchFieldException unused) {
            }
            sMinHeightFieldFetched = true;
        }
        Field field = sMinHeightField;
        if (field == null) {
            return 0;
        }
        try {
            return ((Integer) field.get(view)).intValue();
        } catch (Exception unused2) {
            return 0;
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public static void stopNestedScroll(View view) {
        if (Build.VERSION.SDK_INT >= 21) {
            view.stopNestedScroll();
        } else if (view instanceof NestedScrollingChild) {
            ((NestedScrollingChild) view).stopNestedScroll();
        }
    }

    public static void offsetTopAndBottom(View view, int i) {
        int i2 = Build.VERSION.SDK_INT;
        if (i2 >= 23) {
            view.offsetTopAndBottom(i);
            return;
        }
        if (i2 >= 21) {
            Rect emptyTempRect = getEmptyTempRect();
            boolean z = false;
            Object parent = view.getParent();
            if (parent instanceof View) {
                View view2 = (View) parent;
                emptyTempRect.set(view2.getLeft(), view2.getTop(), view2.getRight(), view2.getBottom());
                z = !emptyTempRect.intersects(view.getLeft(), view.getTop(), view.getRight(), view.getBottom());
            }
            compatOffsetTopAndBottom(view, i);
            if (z && emptyTempRect.intersect(view.getLeft(), view.getTop(), view.getRight(), view.getBottom())) {
                ((View) parent).invalidate(emptyTempRect);
                return;
            }
            return;
        }
        compatOffsetTopAndBottom(view, i);
    }

    private static void compatOffsetTopAndBottom(View view, int i) {
        view.offsetTopAndBottom(i);
        if (view.getVisibility() == 0) {
            tickleInvalidationFlag(view);
            Object parent = view.getParent();
            if (parent instanceof View) {
                tickleInvalidationFlag((View) parent);
            }
        }
    }

    public static void offsetLeftAndRight(View view, int i) {
        int i2 = Build.VERSION.SDK_INT;
        if (i2 >= 23) {
            view.offsetLeftAndRight(i);
            return;
        }
        if (i2 >= 21) {
            Rect emptyTempRect = getEmptyTempRect();
            boolean z = false;
            Object parent = view.getParent();
            if (parent instanceof View) {
                View view2 = (View) parent;
                emptyTempRect.set(view2.getLeft(), view2.getTop(), view2.getRight(), view2.getBottom());
                z = !emptyTempRect.intersects(view.getLeft(), view.getTop(), view.getRight(), view.getBottom());
            }
            compatOffsetLeftAndRight(view, i);
            if (z && emptyTempRect.intersect(view.getLeft(), view.getTop(), view.getRight(), view.getBottom())) {
                ((View) parent).invalidate(emptyTempRect);
                return;
            }
            return;
        }
        compatOffsetLeftAndRight(view, i);
    }

    private static void compatOffsetLeftAndRight(View view, int i) {
        view.offsetLeftAndRight(i);
        if (view.getVisibility() == 0) {
            tickleInvalidationFlag(view);
            Object parent = view.getParent();
            if (parent instanceof View) {
                tickleInvalidationFlag((View) parent);
            }
        }
    }

    private static void tickleInvalidationFlag(View view) {
        float translationY = view.getTranslationY();
        view.setTranslationY(1.0f + translationY);
        view.setTranslationY(translationY);
    }

    public static boolean isAttachedToWindow(View view) {
        if (Build.VERSION.SDK_INT >= 19) {
            return view.isAttachedToWindow();
        }
        return view.getWindowToken() != null;
    }

    public static Display getDisplay(View view) {
        if (Build.VERSION.SDK_INT >= 17) {
            return view.getDisplay();
        }
        if (isAttachedToWindow(view)) {
            return ((WindowManager) view.getContext().getSystemService("window")).getDefaultDisplay();
        }
        return null;
    }
}


### **classes_dex_1/sources/android/support/v4/view/NestedScrollingParent2.java** ###

package android.support.v4.view;

import android.view.View;

/* loaded from: /content/classes1.dex */
public interface NestedScrollingParent2 extends NestedScrollingParent {
    void onNestedPreScroll(View view, int i, int i2, int[] iArr, int i3);

    void onNestedScroll(View view, int i, int i2, int i3, int i4, int i5);

    void onNestedScrollAccepted(View view, View view2, int i, int i2);

    boolean onStartNestedScroll(View view, View view2, int i, int i2);

    void onStopNestedScroll(View view, int i);
}


### **classes_dex_1/sources/android/support/v4/view/MotionEventCompat.java** ###

package android.support.v4.view;

import android.view.MotionEvent;

/* loaded from: /content/classes1.dex */
public final class MotionEventCompat {
    public static boolean isFromSource(MotionEvent motionEvent, int i) {
        return (motionEvent.getSource() & i) == i;
    }
}


### **classes_dex_1/sources/android/support/v4/view/ViewPager$SavedState.java** ###

package android.support.v4.view;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public class ViewPager$SavedState extends AbsSavedState {
    public static final Parcelable.Creator<ViewPager$SavedState> CREATOR = new Parcelable.ClassLoaderCreator<ViewPager$SavedState>() { // from class: android.support.v4.view.ViewPager$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.ClassLoaderCreator
        public ViewPager$SavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
            return new ViewPager$SavedState(parcel, classLoader);
        }

        @Override // android.os.Parcelable.Creator
        public ViewPager$SavedState createFromParcel(Parcel parcel) {
            return new ViewPager$SavedState(parcel, null);
        }

        @Override // android.os.Parcelable.Creator
        public ViewPager$SavedState[] newArray(int i) {
            return new ViewPager$SavedState[i];
        }
    };
    Parcelable adapterState;
    int position;

    @Override // android.support.v4.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeInt(this.position);
        parcel.writeParcelable(this.adapterState, i);
    }

    public String toString() {
        return "FragmentPager.SavedState{" + Integer.toHexString(System.identityHashCode(this)) + " position=" + this.position + "}";
    }

    ViewPager$SavedState(Parcel parcel, ClassLoader classLoader) {
        super(parcel, classLoader);
        classLoader = classLoader == null ? ViewPager$SavedState.class.getClassLoader() : classLoader;
        this.position = parcel.readInt();
        this.adapterState = parcel.readParcelable(classLoader);
    }
}


### **classes_dex_1/sources/android/support/v4/view/ViewParentCompat.java** ###

package android.support.v4.view;

import android.os.Build;
import android.util.Log;
import android.view.View;
import android.view.ViewParent;

/* loaded from: /content/classes1.dex */
public final class ViewParentCompat {
    public static boolean onStartNestedScroll(ViewParent viewParent, View view, View view2, int i, int i2) {
        if (viewParent instanceof NestedScrollingParent2) {
            return ((NestedScrollingParent2) viewParent).onStartNestedScroll(view, view2, i, i2);
        }
        if (i2 != 0) {
            return false;
        }
        if (Build.VERSION.SDK_INT >= 21) {
            try {
                return viewParent.onStartNestedScroll(view, view2, i);
            } catch (AbstractMethodError e) {
                Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onStartNestedScroll", e);
                return false;
            }
        }
        if (viewParent instanceof NestedScrollingParent) {
            return ((NestedScrollingParent) viewParent).onStartNestedScroll(view, view2, i);
        }
        return false;
    }

    public static void onNestedScrollAccepted(ViewParent viewParent, View view, View view2, int i, int i2) {
        if (viewParent instanceof NestedScrollingParent2) {
            ((NestedScrollingParent2) viewParent).onNestedScrollAccepted(view, view2, i, i2);
            return;
        }
        if (i2 == 0) {
            if (Build.VERSION.SDK_INT >= 21) {
                try {
                    viewParent.onNestedScrollAccepted(view, view2, i);
                    return;
                } catch (AbstractMethodError e) {
                    Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onNestedScrollAccepted", e);
                    return;
                }
            }
            if (viewParent instanceof NestedScrollingParent) {
                ((NestedScrollingParent) viewParent).onNestedScrollAccepted(view, view2, i);
            }
        }
    }

    public static void onStopNestedScroll(ViewParent viewParent, View view, int i) {
        if (viewParent instanceof NestedScrollingParent2) {
            ((NestedScrollingParent2) viewParent).onStopNestedScroll(view, i);
            return;
        }
        if (i == 0) {
            if (Build.VERSION.SDK_INT >= 21) {
                try {
                    viewParent.onStopNestedScroll(view);
                    return;
                } catch (AbstractMethodError e) {
                    Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onStopNestedScroll", e);
                    return;
                }
            }
            if (viewParent instanceof NestedScrollingParent) {
                ((NestedScrollingParent) viewParent).onStopNestedScroll(view);
            }
        }
    }

    public static void onNestedScroll(ViewParent viewParent, View view, int i, int i2, int i3, int i4, int i5) {
        if (viewParent instanceof NestedScrollingParent2) {
            ((NestedScrollingParent2) viewParent).onNestedScroll(view, i, i2, i3, i4, i5);
            return;
        }
        if (i5 == 0) {
            if (Build.VERSION.SDK_INT >= 21) {
                try {
                    viewParent.onNestedScroll(view, i, i2, i3, i4);
                    return;
                } catch (AbstractMethodError e) {
                    Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onNestedScroll", e);
                    return;
                }
            }
            if (viewParent instanceof NestedScrollingParent) {
                ((NestedScrollingParent) viewParent).onNestedScroll(view, i, i2, i3, i4);
            }
        }
    }

    public static void onNestedPreScroll(ViewParent viewParent, View view, int i, int i2, int[] iArr, int i3) {
        if (viewParent instanceof NestedScrollingParent2) {
            ((NestedScrollingParent2) viewParent).onNestedPreScroll(view, i, i2, iArr, i3);
            return;
        }
        if (i3 == 0) {
            if (Build.VERSION.SDK_INT >= 21) {
                try {
                    viewParent.onNestedPreScroll(view, i, i2, iArr);
                    return;
                } catch (AbstractMethodError e) {
                    Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onNestedPreScroll", e);
                    return;
                }
            }
            if (viewParent instanceof NestedScrollingParent) {
                ((NestedScrollingParent) viewParent).onNestedPreScroll(view, i, i2, iArr);
            }
        }
    }

    public static boolean onNestedFling(ViewParent viewParent, View view, float f, float f2, boolean z) {
        if (Build.VERSION.SDK_INT >= 21) {
            try {
                return viewParent.onNestedFling(view, f, f2, z);
            } catch (AbstractMethodError e) {
                Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onNestedFling", e);
                return false;
            }
        }
        if (viewParent instanceof NestedScrollingParent) {
            return ((NestedScrollingParent) viewParent).onNestedFling(view, f, f2, z);
        }
        return false;
    }

    public static boolean onNestedPreFling(ViewParent viewParent, View view, float f, float f2) {
        if (Build.VERSION.SDK_INT >= 21) {
            try {
                return viewParent.onNestedPreFling(view, f, f2);
            } catch (AbstractMethodError e) {
                Log.e("ViewParentCompat", "ViewParent " + viewParent + " does not implement interface method onNestedPreFling", e);
                return false;
            }
        }
        if (viewParent instanceof NestedScrollingParent) {
            return ((NestedScrollingParent) viewParent).onNestedPreFling(view, f, f2);
        }
        return false;
    }
}


### **classes_dex_1/sources/android/support/v4/view/NestedScrollingParent.java** ###

package android.support.v4.view;

import android.view.View;

/* loaded from: /content/classes1.dex */
public interface NestedScrollingParent {
    boolean onNestedFling(View view, float f, float f2, boolean z);

    boolean onNestedPreFling(View view, float f, float f2);

    void onNestedPreScroll(View view, int i, int i2, int[] iArr);

    void onNestedScroll(View view, int i, int i2, int i3, int i4);

    void onNestedScrollAccepted(View view, View view2, int i);

    boolean onStartNestedScroll(View view, View view2, int i);

    void onStopNestedScroll(View view);
}


### **classes_dex_1/sources/android/support/v4/view/AccessibilityDelegateCompat.java** ###

package android.support.v4.view;

import android.os.Build;
import android.os.Bundle;
import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;
import android.support.v4.view.accessibility.AccessibilityNodeProviderCompat;
import android.view.View;
import android.view.ViewGroup;
import android.view.accessibility.AccessibilityEvent;
import android.view.accessibility.AccessibilityNodeInfo;
import android.view.accessibility.AccessibilityNodeProvider;

/* loaded from: /content/classes1.dex */
public class AccessibilityDelegateCompat {
    private static final View.AccessibilityDelegate DEFAULT_DELEGATE = new View.AccessibilityDelegate();
    private final View.AccessibilityDelegate mBridge = new AccessibilityDelegateAdapter(this);

    /* loaded from: /content/classes1.dex */
    private static final class AccessibilityDelegateAdapter extends View.AccessibilityDelegate {
        private final AccessibilityDelegateCompat mCompat;

        AccessibilityDelegateAdapter(AccessibilityDelegateCompat accessibilityDelegateCompat) {
            this.mCompat = accessibilityDelegateCompat;
        }

        @Override // android.view.View.AccessibilityDelegate
        public boolean dispatchPopulateAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
            return this.mCompat.dispatchPopulateAccessibilityEvent(view, accessibilityEvent);
        }

        @Override // android.view.View.AccessibilityDelegate
        public void onInitializeAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
            this.mCompat.onInitializeAccessibilityEvent(view, accessibilityEvent);
        }

        @Override // android.view.View.AccessibilityDelegate
        public void onInitializeAccessibilityNodeInfo(View view, AccessibilityNodeInfo accessibilityNodeInfo) {
            this.mCompat.onInitializeAccessibilityNodeInfo(view, AccessibilityNodeInfoCompat.wrap(accessibilityNodeInfo));
        }

        @Override // android.view.View.AccessibilityDelegate
        public void onPopulateAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
            this.mCompat.onPopulateAccessibilityEvent(view, accessibilityEvent);
        }

        @Override // android.view.View.AccessibilityDelegate
        public boolean onRequestSendAccessibilityEvent(ViewGroup viewGroup, View view, AccessibilityEvent accessibilityEvent) {
            return this.mCompat.onRequestSendAccessibilityEvent(viewGroup, view, accessibilityEvent);
        }

        @Override // android.view.View.AccessibilityDelegate
        public void sendAccessibilityEvent(View view, int i) {
            this.mCompat.sendAccessibilityEvent(view, i);
        }

        @Override // android.view.View.AccessibilityDelegate
        public void sendAccessibilityEventUnchecked(View view, AccessibilityEvent accessibilityEvent) {
            this.mCompat.sendAccessibilityEventUnchecked(view, accessibilityEvent);
        }

        @Override // android.view.View.AccessibilityDelegate
        public AccessibilityNodeProvider getAccessibilityNodeProvider(View view) {
            AccessibilityNodeProviderCompat accessibilityNodeProvider = this.mCompat.getAccessibilityNodeProvider(view);
            if (accessibilityNodeProvider != null) {
                return (AccessibilityNodeProvider) accessibilityNodeProvider.getProvider();
            }
            return null;
        }

        @Override // android.view.View.AccessibilityDelegate
        public boolean performAccessibilityAction(View view, int i, Bundle bundle) {
            return this.mCompat.performAccessibilityAction(view, i, bundle);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public View.AccessibilityDelegate getBridge() {
        return this.mBridge;
    }

    public void sendAccessibilityEvent(View view, int i) {
        DEFAULT_DELEGATE.sendAccessibilityEvent(view, i);
    }

    public void sendAccessibilityEventUnchecked(View view, AccessibilityEvent accessibilityEvent) {
        DEFAULT_DELEGATE.sendAccessibilityEventUnchecked(view, accessibilityEvent);
    }

    public boolean dispatchPopulateAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
        return DEFAULT_DELEGATE.dispatchPopulateAccessibilityEvent(view, accessibilityEvent);
    }

    public void onPopulateAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
        DEFAULT_DELEGATE.onPopulateAccessibilityEvent(view, accessibilityEvent);
    }

    public void onInitializeAccessibilityEvent(View view, AccessibilityEvent accessibilityEvent) {
        DEFAULT_DELEGATE.onInitializeAccessibilityEvent(view, accessibilityEvent);
    }

    public void onInitializeAccessibilityNodeInfo(View view, AccessibilityNodeInfoCompat accessibilityNodeInfoCompat) {
        DEFAULT_DELEGATE.onInitializeAccessibilityNodeInfo(view, accessibilityNodeInfoCompat.unwrap());
    }

    public boolean onRequestSendAccessibilityEvent(ViewGroup viewGroup, View view, AccessibilityEvent accessibilityEvent) {
        return DEFAULT_DELEGATE.onRequestSendAccessibilityEvent(viewGroup, view, accessibilityEvent);
    }

    public AccessibilityNodeProviderCompat getAccessibilityNodeProvider(View view) {
        AccessibilityNodeProvider accessibilityNodeProvider;
        if (Build.VERSION.SDK_INT < 16 || (accessibilityNodeProvider = DEFAULT_DELEGATE.getAccessibilityNodeProvider(view)) == null) {
            return null;
        }
        return new AccessibilityNodeProviderCompat(accessibilityNodeProvider);
    }

    public boolean performAccessibilityAction(View view, int i, Bundle bundle) {
        if (Build.VERSION.SDK_INT >= 16) {
            return DEFAULT_DELEGATE.performAccessibilityAction(view, i, bundle);
        }
        return false;
    }
}


### **classes_dex_1/sources/android/support/v4/view/NestedScrollingChildHelper.java** ###

package android.support.v4.view;

import android.view.View;
import android.view.ViewParent;

/* loaded from: /content/classes1.dex */
public class NestedScrollingChildHelper {
    private boolean mIsNestedScrollingEnabled;
    private ViewParent mNestedScrollingParentNonTouch;
    private ViewParent mNestedScrollingParentTouch;
    private int[] mTempNestedScrollConsumed;
    private final View mView;

    public NestedScrollingChildHelper(View view) {
        this.mView = view;
    }

    public void setNestedScrollingEnabled(boolean z) {
        if (this.mIsNestedScrollingEnabled) {
            ViewCompat.stopNestedScroll(this.mView);
        }
        this.mIsNestedScrollingEnabled = z;
    }

    public boolean isNestedScrollingEnabled() {
        return this.mIsNestedScrollingEnabled;
    }

    public boolean hasNestedScrollingParent() {
        return hasNestedScrollingParent(0);
    }

    public boolean hasNestedScrollingParent(int i) {
        return getNestedScrollingParentForType(i) != null;
    }

    public boolean startNestedScroll(int i) {
        return startNestedScroll(i, 0);
    }

    public boolean startNestedScroll(int i, int i2) {
        if (hasNestedScrollingParent(i2)) {
            return true;
        }
        if (!isNestedScrollingEnabled()) {
            return false;
        }
        View view = this.mView;
        for (ViewParent parent = this.mView.getParent(); parent != null; parent = parent.getParent()) {
            if (ViewParentCompat.onStartNestedScroll(parent, view, this.mView, i, i2)) {
                setNestedScrollingParentForType(i2, parent);
                ViewParentCompat.onNestedScrollAccepted(parent, view, this.mView, i, i2);
                return true;
            }
            if (parent instanceof View) {
                view = (View) parent;
            }
        }
        return false;
    }

    public void stopNestedScroll() {
        stopNestedScroll(0);
    }

    public void stopNestedScroll(int i) {
        ViewParent nestedScrollingParentForType = getNestedScrollingParentForType(i);
        if (nestedScrollingParentForType != null) {
            ViewParentCompat.onStopNestedScroll(nestedScrollingParentForType, this.mView, i);
            setNestedScrollingParentForType(i, null);
        }
    }

    public boolean dispatchNestedScroll(int i, int i2, int i3, int i4, int[] iArr) {
        return dispatchNestedScroll(i, i2, i3, i4, iArr, 0);
    }

    public boolean dispatchNestedScroll(int i, int i2, int i3, int i4, int[] iArr, int i5) {
        ViewParent nestedScrollingParentForType;
        int i6;
        int i7;
        if (!isNestedScrollingEnabled() || (nestedScrollingParentForType = getNestedScrollingParentForType(i5)) == null) {
            return false;
        }
        if (i == 0 && i2 == 0 && i3 == 0 && i4 == 0) {
            if (iArr != null) {
                iArr[0] = 0;
                iArr[1] = 0;
            }
            return false;
        }
        if (iArr != null) {
            this.mView.getLocationInWindow(iArr);
            i6 = iArr[0];
            i7 = iArr[1];
        } else {
            i6 = 0;
            i7 = 0;
        }
        ViewParentCompat.onNestedScroll(nestedScrollingParentForType, this.mView, i, i2, i3, i4, i5);
        if (iArr != null) {
            this.mView.getLocationInWindow(iArr);
            iArr[0] = iArr[0] - i6;
            iArr[1] = iArr[1] - i7;
        }
        return true;
    }

    public boolean dispatchNestedPreScroll(int i, int i2, int[] iArr, int[] iArr2) {
        return dispatchNestedPreScroll(i, i2, iArr, iArr2, 0);
    }

    public boolean dispatchNestedPreScroll(int i, int i2, int[] iArr, int[] iArr2, int i3) {
        ViewParent nestedScrollingParentForType;
        int i4;
        int i5;
        if (!isNestedScrollingEnabled() || (nestedScrollingParentForType = getNestedScrollingParentForType(i3)) == null) {
            return false;
        }
        if (i == 0 && i2 == 0) {
            if (iArr2 == null) {
                return false;
            }
            iArr2[0] = 0;
            iArr2[1] = 0;
            return false;
        }
        if (iArr2 != null) {
            this.mView.getLocationInWindow(iArr2);
            i4 = iArr2[0];
            i5 = iArr2[1];
        } else {
            i4 = 0;
            i5 = 0;
        }
        if (iArr == null) {
            if (this.mTempNestedScrollConsumed == null) {
                this.mTempNestedScrollConsumed = new int[2];
            }
            iArr = this.mTempNestedScrollConsumed;
        }
        iArr[0] = 0;
        iArr[1] = 0;
        ViewParentCompat.onNestedPreScroll(nestedScrollingParentForType, this.mView, i, i2, iArr, i3);
        if (iArr2 != null) {
            this.mView.getLocationInWindow(iArr2);
            iArr2[0] = iArr2[0] - i4;
            iArr2[1] = iArr2[1] - i5;
        }
        return (iArr[0] == 0 && iArr[1] == 0) ? false : true;
    }

    public boolean dispatchNestedFling(float f, float f2, boolean z) {
        ViewParent nestedScrollingParentForType;
        if (!isNestedScrollingEnabled() || (nestedScrollingParentForType = getNestedScrollingParentForType(0)) == null) {
            return false;
        }
        return ViewParentCompat.onNestedFling(nestedScrollingParentForType, this.mView, f, f2, z);
    }

    public boolean dispatchNestedPreFling(float f, float f2) {
        ViewParent nestedScrollingParentForType;
        if (!isNestedScrollingEnabled() || (nestedScrollingParentForType = getNestedScrollingParentForType(0)) == null) {
            return false;
        }
        return ViewParentCompat.onNestedPreFling(nestedScrollingParentForType, this.mView, f, f2);
    }

    private ViewParent getNestedScrollingParentForType(int i) {
        if (i == 0) {
            return this.mNestedScrollingParentTouch;
        }
        if (i != 1) {
            return null;
        }
        return this.mNestedScrollingParentNonTouch;
    }

    private void setNestedScrollingParentForType(int i, ViewParent viewParent) {
        if (i == 0) {
            this.mNestedScrollingParentTouch = viewParent;
        } else {
            if (i != 1) {
                return;
            }
            this.mNestedScrollingParentNonTouch = viewParent;
        }
    }
}


### **classes_dex_1/sources/android/support/v4/view/accessibility/AccessibilityEventCompat.java** ###

package android.support.v4.view.accessibility;

import android.os.Build;
import android.view.accessibility.AccessibilityEvent;

/* loaded from: /content/classes1.dex */
public final class AccessibilityEventCompat {
    public static void setContentChangeTypes(AccessibilityEvent accessibilityEvent, int i) {
        if (Build.VERSION.SDK_INT >= 19) {
            accessibilityEvent.setContentChangeTypes(i);
        }
    }

    public static int getContentChangeTypes(AccessibilityEvent accessibilityEvent) {
        if (Build.VERSION.SDK_INT >= 19) {
            return accessibilityEvent.getContentChangeTypes();
        }
        return 0;
    }
}


### **classes_dex_1/sources/android/support/v4/view/accessibility/AccessibilityNodeProviderCompat.java** ###

package android.support.v4.view.accessibility;

/* loaded from: /content/classes1.dex */
public class AccessibilityNodeProviderCompat {
    private final Object mProvider;

    public AccessibilityNodeProviderCompat(Object obj) {
        this.mProvider = obj;
    }

    public Object getProvider() {
        return this.mProvider;
    }
}


### **classes_dex_1/sources/android/support/v4/view/accessibility/AccessibilityNodeInfoCompat.java** ###

package android.support.v4.view.accessibility;

import android.graphics.Rect;
import android.os.Build;
import android.support.v7.recyclerview.R$styleable;
import android.view.accessibility.AccessibilityNodeInfo;

/* loaded from: /content/classes1.dex */
public class AccessibilityNodeInfoCompat {
    private final AccessibilityNodeInfo mInfo;

    private static String getActionSymbolicName(int i) {
        if (i == 1) {
            return "ACTION_FOCUS";
        }
        if (i == 2) {
            return "ACTION_CLEAR_FOCUS";
        }
        switch (i) {
            case R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable /* 4 */:
                return "ACTION_SELECT";
            case R$styleable.RecyclerView_reverseLayout /* 8 */:
                return "ACTION_CLEAR_SELECTION";
            case 16:
                return "ACTION_CLICK";
            case 32:
                return "ACTION_LONG_CLICK";
            case 64:
                return "ACTION_ACCESSIBILITY_FOCUS";
            case 128:
                return "ACTION_CLEAR_ACCESSIBILITY_FOCUS";
            case 256:
                return "ACTION_NEXT_AT_MOVEMENT_GRANULARITY";
            case 512:
                return "ACTION_PREVIOUS_AT_MOVEMENT_GRANULARITY";
            case 1024:
                return "ACTION_NEXT_HTML_ELEMENT";
            case 2048:
                return "ACTION_PREVIOUS_HTML_ELEMENT";
            case 4096:
                return "ACTION_SCROLL_FORWARD";
            case 8192:
                return "ACTION_SCROLL_BACKWARD";
            case 16384:
                return "ACTION_COPY";
            case 32768:
                return "ACTION_PASTE";
            case 65536:
                return "ACTION_CUT";
            case 131072:
                return "ACTION_SET_SELECTION";
            default:
                return "ACTION_UNKNOWN";
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class CollectionInfoCompat {
        final Object mInfo;

        public static CollectionInfoCompat obtain(int i, int i2, boolean z, int i3) {
            int i4 = Build.VERSION.SDK_INT;
            if (i4 >= 21) {
                return new CollectionInfoCompat(AccessibilityNodeInfo.CollectionInfo.obtain(i, i2, z, i3));
            }
            if (i4 >= 19) {
                return new CollectionInfoCompat(AccessibilityNodeInfo.CollectionInfo.obtain(i, i2, z));
            }
            return new CollectionInfoCompat(null);
        }

        CollectionInfoCompat(Object obj) {
            this.mInfo = obj;
        }
    }

    /* loaded from: /content/classes1.dex */
    public static class CollectionItemInfoCompat {
        final Object mInfo;

        public static CollectionItemInfoCompat obtain(int i, int i2, int i3, int i4, boolean z, boolean z2) {
            int i5 = Build.VERSION.SDK_INT;
            if (i5 >= 21) {
                return new CollectionItemInfoCompat(AccessibilityNodeInfo.CollectionItemInfo.obtain(i, i2, i3, i4, z, z2));
            }
            if (i5 >= 19) {
                return new CollectionItemInfoCompat(AccessibilityNodeInfo.CollectionItemInfo.obtain(i, i2, i3, i4, z));
            }
            return new CollectionItemInfoCompat(null);
        }

        CollectionItemInfoCompat(Object obj) {
            this.mInfo = obj;
        }
    }

    private AccessibilityNodeInfoCompat(AccessibilityNodeInfo accessibilityNodeInfo) {
        this.mInfo = accessibilityNodeInfo;
    }

    public static AccessibilityNodeInfoCompat wrap(AccessibilityNodeInfo accessibilityNodeInfo) {
        return new AccessibilityNodeInfoCompat(accessibilityNodeInfo);
    }

    public AccessibilityNodeInfo unwrap() {
        return this.mInfo;
    }

    public int getActions() {
        return this.mInfo.getActions();
    }

    public void addAction(int i) {
        this.mInfo.addAction(i);
    }

    public void getBoundsInParent(Rect rect) {
        this.mInfo.getBoundsInParent(rect);
    }

    public void getBoundsInScreen(Rect rect) {
        this.mInfo.getBoundsInScreen(rect);
    }

    public boolean isCheckable() {
        return this.mInfo.isCheckable();
    }

    public boolean isChecked() {
        return this.mInfo.isChecked();
    }

    public boolean isFocusable() {
        return this.mInfo.isFocusable();
    }

    public boolean isFocused() {
        return this.mInfo.isFocused();
    }

    public boolean isSelected() {
        return this.mInfo.isSelected();
    }

    public boolean isClickable() {
        return this.mInfo.isClickable();
    }

    public boolean isLongClickable() {
        return this.mInfo.isLongClickable();
    }

    public boolean isEnabled() {
        return this.mInfo.isEnabled();
    }

    public boolean isPassword() {
        return this.mInfo.isPassword();
    }

    public boolean isScrollable() {
        return this.mInfo.isScrollable();
    }

    public void setScrollable(boolean z) {
        this.mInfo.setScrollable(z);
    }

    public CharSequence getPackageName() {
        return this.mInfo.getPackageName();
    }

    public CharSequence getClassName() {
        return this.mInfo.getClassName();
    }

    public void setClassName(CharSequence charSequence) {
        this.mInfo.setClassName(charSequence);
    }

    public CharSequence getText() {
        return this.mInfo.getText();
    }

    public CharSequence getContentDescription() {
        return this.mInfo.getContentDescription();
    }

    public String getViewIdResourceName() {
        if (Build.VERSION.SDK_INT >= 18) {
            return this.mInfo.getViewIdResourceName();
        }
        return null;
    }

    public void setCollectionInfo(Object obj) {
        if (Build.VERSION.SDK_INT >= 19) {
            this.mInfo.setCollectionInfo(obj == null ? null : (AccessibilityNodeInfo.CollectionInfo) ((CollectionInfoCompat) obj).mInfo);
        }
    }

    public void setCollectionItemInfo(Object obj) {
        if (Build.VERSION.SDK_INT >= 19) {
            this.mInfo.setCollectionItemInfo(obj == null ? null : (AccessibilityNodeInfo.CollectionItemInfo) ((CollectionItemInfoCompat) obj).mInfo);
        }
    }

    public int hashCode() {
        AccessibilityNodeInfo accessibilityNodeInfo = this.mInfo;
        if (accessibilityNodeInfo == null) {
            return 0;
        }
        return accessibilityNodeInfo.hashCode();
    }

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj == null || AccessibilityNodeInfoCompat.class != obj.getClass()) {
            return false;
        }
        AccessibilityNodeInfoCompat accessibilityNodeInfoCompat = (AccessibilityNodeInfoCompat) obj;
        AccessibilityNodeInfo accessibilityNodeInfo = this.mInfo;
        if (accessibilityNodeInfo == null) {
            if (accessibilityNodeInfoCompat.mInfo != null) {
                return false;
            }
        } else if (!accessibilityNodeInfo.equals(accessibilityNodeInfoCompat.mInfo)) {
            return false;
        }
        return true;
    }

    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append(super.toString());
        Rect rect = new Rect();
        getBoundsInParent(rect);
        sb.append("; boundsInParent: " + rect);
        getBoundsInScreen(rect);
        sb.append("; boundsInScreen: " + rect);
        sb.append("; packageName: ");
        sb.append(getPackageName());
        sb.append("; className: ");
        sb.append(getClassName());
        sb.append("; text: ");
        sb.append(getText());
        sb.append("; contentDescription: ");
        sb.append(getContentDescription());
        sb.append("; viewId: ");
        sb.append(getViewIdResourceName());
        sb.append("; checkable: ");
        sb.append(isCheckable());
        sb.append("; checked: ");
        sb.append(isChecked());
        sb.append("; focusable: ");
        sb.append(isFocusable());
        sb.append("; focused: ");
        sb.append(isFocused());
        sb.append("; selected: ");
        sb.append(isSelected());
        sb.append("; clickable: ");
        sb.append(isClickable());
        sb.append("; longClickable: ");
        sb.append(isLongClickable());
        sb.append("; enabled: ");
        sb.append(isEnabled());
        sb.append("; password: ");
        sb.append(isPassword());
        sb.append("; scrollable: " + isScrollable());
        sb.append("; [");
        int actions = getActions();
        while (actions != 0) {
            int numberOfTrailingZeros = 1 << Integer.numberOfTrailingZeros(actions);
            actions &= ~numberOfTrailingZeros;
            sb.append(getActionSymbolicName(numberOfTrailingZeros));
            if (actions != 0) {
                sb.append(", ");
            }
        }
        sb.append("]");
        return sb.toString();
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaDescriptionCompatApi21.java** ###

package android.support.v4.media;

import android.graphics.Bitmap;
import android.media.MediaDescription;
import android.net.Uri;
import android.os.Bundle;
import android.os.Parcel;

/* loaded from: /content/classes1.dex */
class MediaDescriptionCompatApi21 {
    public static String getMediaId(Object obj) {
        return ((MediaDescription) obj).getMediaId();
    }

    public static CharSequence getTitle(Object obj) {
        return ((MediaDescription) obj).getTitle();
    }

    public static CharSequence getSubtitle(Object obj) {
        return ((MediaDescription) obj).getSubtitle();
    }

    public static CharSequence getDescription(Object obj) {
        return ((MediaDescription) obj).getDescription();
    }

    public static Bitmap getIconBitmap(Object obj) {
        return ((MediaDescription) obj).getIconBitmap();
    }

    public static Uri getIconUri(Object obj) {
        return ((MediaDescription) obj).getIconUri();
    }

    public static Bundle getExtras(Object obj) {
        return ((MediaDescription) obj).getExtras();
    }

    public static void writeToParcel(Object obj, Parcel parcel, int i) {
        ((MediaDescription) obj).writeToParcel(parcel, i);
    }

    public static Object fromParcel(Parcel parcel) {
        return MediaDescription.CREATOR.createFromParcel(parcel);
    }

    /* loaded from: /content/classes1.dex */
    static class Builder {
        public static Object newInstance() {
            return new MediaDescription.Builder();
        }

        public static void setMediaId(Object obj, String str) {
            ((MediaDescription.Builder) obj).setMediaId(str);
        }

        public static void setTitle(Object obj, CharSequence charSequence) {
            ((MediaDescription.Builder) obj).setTitle(charSequence);
        }

        public static void setSubtitle(Object obj, CharSequence charSequence) {
            ((MediaDescription.Builder) obj).setSubtitle(charSequence);
        }

        public static void setDescription(Object obj, CharSequence charSequence) {
            ((MediaDescription.Builder) obj).setDescription(charSequence);
        }

        public static void setIconBitmap(Object obj, Bitmap bitmap) {
            ((MediaDescription.Builder) obj).setIconBitmap(bitmap);
        }

        public static void setIconUri(Object obj, Uri uri) {
            ((MediaDescription.Builder) obj).setIconUri(uri);
        }

        public static void setExtras(Object obj, Bundle bundle) {
            ((MediaDescription.Builder) obj).setExtras(bundle);
        }

        public static Object build(Object obj) {
            return ((MediaDescription.Builder) obj).build();
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaMetadataCompatApi21.java** ###

package android.support.v4.media;

import android.media.MediaMetadata;
import android.os.Parcel;

/* loaded from: /content/classes1.dex */
class MediaMetadataCompatApi21 {
    public static void writeToParcel(Object obj, Parcel parcel, int i) {
        ((MediaMetadata) obj).writeToParcel(parcel, i);
    }
}


### **classes_dex_1/sources/android/support/v4/media/AudioFocusHandler.java** ###

package android.support.v4.media;

/* loaded from: /content/classes1.dex */
public class AudioFocusHandler {
}


### **classes_dex_1/sources/android/support/v4/media/MediaController2.java** ###

package android.support.v4.media;

import android.annotation.TargetApi;

@TargetApi(19)
/* loaded from: /content/classes1.dex */
public class MediaController2 implements AutoCloseable {

    /* loaded from: /content/classes1.dex */
    public static abstract class ControllerCallback {
        public abstract void onDisconnected(MediaController2 mediaController2);
    }
}


### **classes_dex_1/sources/android/support/v4/media/IMediaSession2.java** ###

package android.support.v4.media;

import android.os.Binder;
import android.os.IBinder;
import android.os.IInterface;

/* loaded from: /content/classes1.dex */
public interface IMediaSession2 extends IInterface {

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IMediaSession2 {
        public static IMediaSession2 asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("android.support.v4.media.IMediaSession2");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IMediaSession2)) {
                return (IMediaSession2) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        /* loaded from: /content/classes1.dex */
        private static class Proxy implements IMediaSession2 {
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaBrowserCompat.java** ###

package android.support.v4.media;

import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.os.ResultReceiver;
import android.util.Log;
import java.util.ArrayList;
import java.util.List;

/* loaded from: /content/classes1.dex */
public final class MediaBrowserCompat {

    /* loaded from: /content/classes1.dex */
    public static abstract class CustomActionCallback {
        public abstract void onError(String str, Bundle bundle, Bundle bundle2);

        public abstract void onProgressUpdate(String str, Bundle bundle, Bundle bundle2);

        public abstract void onResult(String str, Bundle bundle, Bundle bundle2);
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class ItemCallback {
        public abstract void onError(String str);

        public abstract void onItemLoaded(MediaItem mediaItem);
    }

    /* loaded from: /content/classes1.dex */
    public static abstract class SearchCallback {
        public abstract void onError(String str, Bundle bundle);

        public abstract void onSearchResult(String str, Bundle bundle, List<MediaItem> list);
    }

    static {
        Log.isLoggable("MediaBrowserCompat", 3);
    }

    /* loaded from: /content/classes1.dex */
    public static class MediaItem implements Parcelable {
        public static final Parcelable.Creator<MediaItem> CREATOR = new Parcelable.Creator<MediaItem>() { // from class: android.support.v4.media.MediaBrowserCompat.MediaItem.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public MediaItem createFromParcel(Parcel parcel) {
                return new MediaItem(parcel);
            }

            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public MediaItem[] newArray(int i) {
                return new MediaItem[i];
            }
        };
        private final MediaDescriptionCompat mDescription;
        private final int mFlags;

        @Override // android.os.Parcelable
        public int describeContents() {
            return 0;
        }

        MediaItem(Parcel parcel) {
            this.mFlags = parcel.readInt();
            this.mDescription = MediaDescriptionCompat.CREATOR.createFromParcel(parcel);
        }

        @Override // android.os.Parcelable
        public void writeToParcel(Parcel parcel, int i) {
            parcel.writeInt(this.mFlags);
            this.mDescription.writeToParcel(parcel, i);
        }

        public String toString() {
            return "MediaItem{mFlags=" + this.mFlags + ", mDescription=" + this.mDescription + '}';
        }
    }

    /* loaded from: /content/classes1.dex */
    private static class ItemReceiver extends ResultReceiver {
        private final ItemCallback mCallback;
        private final String mMediaId;

        @Override // android.support.v4.os.ResultReceiver
        protected void onReceiveResult(int i, Bundle bundle) {
            if (bundle != null) {
                bundle.setClassLoader(MediaBrowserCompat.class.getClassLoader());
            }
            if (i != 0 || bundle == null || !bundle.containsKey("media_item")) {
                this.mCallback.onError(this.mMediaId);
                return;
            }
            Parcelable parcelable = bundle.getParcelable("media_item");
            if (parcelable == null || (parcelable instanceof MediaItem)) {
                this.mCallback.onItemLoaded((MediaItem) parcelable);
            } else {
                this.mCallback.onError(this.mMediaId);
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    private static class SearchResultReceiver extends ResultReceiver {
        private final SearchCallback mCallback;
        private final Bundle mExtras;
        private final String mQuery;

        @Override // android.support.v4.os.ResultReceiver
        protected void onReceiveResult(int i, Bundle bundle) {
            if (bundle != null) {
                bundle.setClassLoader(MediaBrowserCompat.class.getClassLoader());
            }
            if (i != 0 || bundle == null || !bundle.containsKey("search_results")) {
                this.mCallback.onError(this.mQuery, this.mExtras);
                return;
            }
            Parcelable[] parcelableArray = bundle.getParcelableArray("search_results");
            ArrayList arrayList = null;
            if (parcelableArray != null) {
                arrayList = new ArrayList();
                for (Parcelable parcelable : parcelableArray) {
                    arrayList.add((MediaItem) parcelable);
                }
            }
            this.mCallback.onSearchResult(this.mQuery, this.mExtras, arrayList);
        }
    }

    /* loaded from: /content/classes1.dex */
    private static class CustomActionResultReceiver extends ResultReceiver {
        private final String mAction;
        private final CustomActionCallback mCallback;
        private final Bundle mExtras;

        @Override // android.support.v4.os.ResultReceiver
        protected void onReceiveResult(int i, Bundle bundle) {
            CustomActionCallback customActionCallback = this.mCallback;
            if (customActionCallback == null) {
                return;
            }
            if (i == -1) {
                customActionCallback.onError(this.mAction, this.mExtras, bundle);
                return;
            }
            if (i == 0) {
                customActionCallback.onResult(this.mAction, this.mExtras, bundle);
                return;
            }
            if (i == 1) {
                customActionCallback.onProgressUpdate(this.mAction, this.mExtras, bundle);
                return;
            }
            Log.w("MediaBrowserCompat", "Unknown result code: " + i + " (extras=" + this.mExtras + ", resultData=" + bundle + ")");
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/RatingCompat.java** ###

package android.support.v4.media;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public final class RatingCompat implements Parcelable {
    public static final Parcelable.Creator<RatingCompat> CREATOR = new Parcelable.Creator<RatingCompat>() { // from class: android.support.v4.media.RatingCompat.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public RatingCompat createFromParcel(Parcel parcel) {
            return new RatingCompat(parcel.readInt(), parcel.readFloat());
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public RatingCompat[] newArray(int i) {
            return new RatingCompat[i];
        }
    };
    private final int mRatingStyle;
    private final float mRatingValue;

    RatingCompat(int i, float f) {
        this.mRatingStyle = i;
        this.mRatingValue = f;
    }

    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append("Rating:style=");
        sb.append(this.mRatingStyle);
        sb.append(" rating=");
        float f = this.mRatingValue;
        sb.append(f < 0.0f ? "unrated" : String.valueOf(f));
        return sb.toString();
    }

    @Override // android.os.Parcelable
    public int describeContents() {
        return this.mRatingStyle;
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeInt(this.mRatingStyle);
        parcel.writeFloat(this.mRatingValue);
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaDescriptionCompatApi23.java** ###

package android.support.v4.media;

import android.media.MediaDescription;
import android.net.Uri;

/* loaded from: /content/classes1.dex */
class MediaDescriptionCompatApi23 {
    public static Uri getMediaUri(Object obj) {
        return ((MediaDescription) obj).getMediaUri();
    }

    /* loaded from: /content/classes1.dex */
    static class Builder {
        public static void setMediaUri(Object obj, Uri uri) {
            ((MediaDescription.Builder) obj).setMediaUri(uri);
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/SessionToken2ImplLegacy.java** ###

package android.support.v4.media;

import android.os.Bundle;
import android.support.v4.media.SessionToken2;
import android.support.v4.media.session.MediaSessionCompat$Token;

/* loaded from: /content/classes1.dex */
final class SessionToken2ImplLegacy implements SessionToken2.SupportLibraryImpl {
    private final MediaSessionCompat$Token mLegacyToken;

    SessionToken2ImplLegacy(MediaSessionCompat$Token mediaSessionCompat$Token) {
        this.mLegacyToken = mediaSessionCompat$Token;
    }

    public int hashCode() {
        return this.mLegacyToken.hashCode();
    }

    public boolean equals(Object obj) {
        if (obj instanceof SessionToken2ImplLegacy) {
            return this.mLegacyToken.equals(((SessionToken2ImplLegacy) obj).mLegacyToken);
        }
        return false;
    }

    public String toString() {
        return "SessionToken2 {legacyToken=" + this.mLegacyToken + "}";
    }

    public static SessionToken2ImplLegacy fromBundle(Bundle bundle) {
        return new SessionToken2ImplLegacy(MediaSessionCompat$Token.fromBundle(bundle.getBundle("android.media.token.LEGACY")));
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaController2ImplLegacy.java** ###

package android.support.v4.media;

import android.annotation.TargetApi;
import android.os.Bundle;
import android.os.HandlerThread;
import android.os.ResultReceiver;
import android.support.v4.media.MediaController2;
import android.support.v4.media.session.MediaControllerCompat$Callback;
import android.util.Log;
import java.util.concurrent.Executor;

@TargetApi(16)
/* loaded from: /content/classes1.dex */
class MediaController2ImplLegacy implements AutoCloseable {
    static final Bundle sDefaultRootExtras;
    private final MediaController2.ControllerCallback mCallback;
    private final Executor mCallbackExecutor;
    private final HandlerThread mHandlerThread;
    private MediaController2 mInstance;

    @Override // java.lang.AutoCloseable
    public abstract void close();

    abstract void onConnectedNotLocked(Bundle bundle);

    static {
        Log.isLoggable("MC2ImplLegacy", 3);
        Bundle bundle = new Bundle();
        sDefaultRootExtras = bundle;
        bundle.putBoolean("android.support.v4.media.root_default_root", true);
    }

    /* renamed from: android.support.v4.media.MediaController2ImplLegacy$3, reason: invalid class name */
    /* loaded from: /content/classes1.dex */
    class AnonymousClass3 extends ResultReceiver {
        final /* synthetic */ MediaController2ImplLegacy this$0;

        @Override // android.os.ResultReceiver
        protected void onReceiveResult(int i, Bundle bundle) {
            if (this.this$0.mHandlerThread.isAlive()) {
                if (i == -1) {
                    this.this$0.mCallbackExecutor.execute(new Runnable() { // from class: android.support.v4.media.MediaController2ImplLegacy.3.1
                        @Override // java.lang.Runnable
                        public void run() {
                            AnonymousClass3.this.this$0.mCallback.onDisconnected(AnonymousClass3.this.this$0.mInstance);
                        }
                    });
                    this.this$0.close();
                } else {
                    if (i != 0) {
                        return;
                    }
                    this.this$0.onConnectedNotLocked(bundle);
                }
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    private final class ControllerCompatCallback extends MediaControllerCompat$Callback {
        final /* synthetic */ MediaController2ImplLegacy this$0;

        /* renamed from: android.support.v4.media.MediaController2ImplLegacy$ControllerCompatCallback$1, reason: invalid class name */
        /* loaded from: /content/classes1.dex */
        class AnonymousClass1 extends ResultReceiver {
            final /* synthetic */ ControllerCompatCallback this$1;

            @Override // android.os.ResultReceiver
            protected void onReceiveResult(int i, Bundle bundle) {
                if (this.this$1.this$0.mHandlerThread.isAlive()) {
                    if (i == -1) {
                        this.this$1.this$0.mCallbackExecutor.execute(new Runnable() { // from class: android.support.v4.media.MediaController2ImplLegacy.ControllerCompatCallback.1.1
                            @Override // java.lang.Runnable
                            public void run() {
                                AnonymousClass1.this.this$1.this$0.mCallback.onDisconnected(AnonymousClass1.this.this$1.this$0.mInstance);
                            }
                        });
                        this.this$1.this$0.close();
                    } else {
                        if (i != 0) {
                            return;
                        }
                        this.this$1.this$0.onConnectedNotLocked(bundle);
                    }
                }
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/SessionToken2.java** ###

package android.support.v4.media;

import android.os.Bundle;

/* loaded from: /content/classes1.dex */
public final class SessionToken2 {
    private final SupportLibraryImpl mImpl;

    /* loaded from: /content/classes1.dex */
    interface SupportLibraryImpl {
    }

    SessionToken2(SupportLibraryImpl supportLibraryImpl) {
        this.mImpl = supportLibraryImpl;
    }

    public int hashCode() {
        return this.mImpl.hashCode();
    }

    public boolean equals(Object obj) {
        if (obj instanceof SessionToken2) {
            return this.mImpl.equals(((SessionToken2) obj).mImpl);
        }
        return false;
    }

    public String toString() {
        return this.mImpl.toString();
    }

    public static SessionToken2 fromBundle(Bundle bundle) {
        if (bundle == null) {
            return null;
        }
        if (bundle.getInt("android.media.token.type", -1) == 100) {
            return new SessionToken2(SessionToken2ImplLegacy.fromBundle(bundle));
        }
        return new SessionToken2(SessionToken2ImplBase.fromBundle(bundle));
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaMetadataCompat.java** ###

package android.support.v4.media;

import android.os.Build;
import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.util.ArrayMap;

/* loaded from: /content/classes1.dex */
public final class MediaMetadataCompat implements Parcelable {
    public static final Parcelable.Creator<MediaMetadataCompat> CREATOR;
    static final ArrayMap<String, Integer> METADATA_KEYS_TYPE;
    final Bundle mBundle;
    private Object mMetadataObj;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    static {
        ArrayMap<String, Integer> arrayMap = new ArrayMap<>();
        METADATA_KEYS_TYPE = arrayMap;
        arrayMap.put("android.media.metadata.TITLE", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.ARTIST", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.DURATION", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.ALBUM", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.AUTHOR", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.WRITER", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.COMPOSER", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.COMPILATION", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.DATE", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.YEAR", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.GENRE", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.TRACK_NUMBER", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.NUM_TRACKS", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISC_NUMBER", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.ALBUM_ARTIST", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.ART", 2);
        METADATA_KEYS_TYPE.put("android.media.metadata.ART_URI", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.ALBUM_ART", 2);
        METADATA_KEYS_TYPE.put("android.media.metadata.ALBUM_ART_URI", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.USER_RATING", 3);
        METADATA_KEYS_TYPE.put("android.media.metadata.RATING", 3);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISPLAY_TITLE", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISPLAY_SUBTITLE", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISPLAY_DESCRIPTION", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISPLAY_ICON", 2);
        METADATA_KEYS_TYPE.put("android.media.metadata.DISPLAY_ICON_URI", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.MEDIA_ID", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.BT_FOLDER_TYPE", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.MEDIA_URI", 1);
        METADATA_KEYS_TYPE.put("android.media.metadata.ADVERTISEMENT", 0);
        METADATA_KEYS_TYPE.put("android.media.metadata.DOWNLOAD_STATUS", 0);
        CREATOR = new Parcelable.Creator<MediaMetadataCompat>() { // from class: android.support.v4.media.MediaMetadataCompat.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public MediaMetadataCompat createFromParcel(Parcel parcel) {
                return new MediaMetadataCompat(parcel);
            }

            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public MediaMetadataCompat[] newArray(int i) {
                return new MediaMetadataCompat[i];
            }
        };
    }

    MediaMetadataCompat(Parcel parcel) {
        Bundle readBundle = parcel.readBundle();
        this.mBundle = readBundle;
        readBundle.setClassLoader(MediaMetadataCompat.class.getClassLoader());
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeBundle(this.mBundle);
    }

    public static MediaMetadataCompat fromMediaMetadata(Object obj) {
        if (obj == null || Build.VERSION.SDK_INT < 21) {
            return null;
        }
        Parcel obtain = Parcel.obtain();
        MediaMetadataCompatApi21.writeToParcel(obj, obtain, 0);
        obtain.setDataPosition(0);
        MediaMetadataCompat createFromParcel = CREATOR.createFromParcel(obtain);
        obtain.recycle();
        createFromParcel.mMetadataObj = obj;
        return createFromParcel;
    }
}


### **classes_dex_1/sources/android/support/v4/media/SessionToken2ImplBase.java** ###

package android.support.v4.media;

import android.content.ComponentName;
import android.os.Bundle;
import android.support.v4.app.BundleCompat;
import android.support.v4.media.IMediaSession2;
import android.support.v4.media.SessionToken2;
import android.text.TextUtils;

/* loaded from: /content/classes1.dex */
final class SessionToken2ImplBase implements SessionToken2.SupportLibraryImpl {
    private final IMediaSession2 mISession2;
    private final String mPackageName;
    private final String mServiceName;
    private final String mSessionId;
    private final int mType;
    private final int mUid;

    SessionToken2ImplBase(int i, int i2, String str, String str2, String str3, IMediaSession2 iMediaSession2) {
        this.mUid = i;
        this.mType = i2;
        this.mPackageName = str;
        this.mServiceName = str2;
        if (i2 != 0) {
            new ComponentName(str, str2);
        }
        this.mSessionId = str3;
        this.mISession2 = iMediaSession2;
    }

    public int hashCode() {
        int i = this.mType;
        int i2 = this.mUid;
        int hashCode = this.mPackageName.hashCode();
        int hashCode2 = this.mSessionId.hashCode();
        String str = this.mServiceName;
        return i + ((i2 + ((hashCode + ((hashCode2 + ((str != null ? str.hashCode() : 0) * 31)) * 31)) * 31)) * 31);
    }

    public boolean equals(Object obj) {
        if (!(obj instanceof SessionToken2ImplBase)) {
            return false;
        }
        SessionToken2ImplBase sessionToken2ImplBase = (SessionToken2ImplBase) obj;
        return this.mUid == sessionToken2ImplBase.mUid && TextUtils.equals(this.mPackageName, sessionToken2ImplBase.mPackageName) && TextUtils.equals(this.mServiceName, sessionToken2ImplBase.mServiceName) && TextUtils.equals(this.mSessionId, sessionToken2ImplBase.mSessionId) && this.mType == sessionToken2ImplBase.mType && sessionBinderEquals(this.mISession2, sessionToken2ImplBase.mISession2);
    }

    private boolean sessionBinderEquals(IMediaSession2 iMediaSession2, IMediaSession2 iMediaSession22) {
        if (iMediaSession2 == null || iMediaSession22 == null) {
            return iMediaSession2 == iMediaSession22;
        }
        return iMediaSession2.asBinder().equals(iMediaSession22.asBinder());
    }

    public String toString() {
        return "SessionToken {pkg=" + this.mPackageName + " id=" + this.mSessionId + " type=" + this.mType + " service=" + this.mServiceName + " IMediaSession2=" + this.mISession2 + "}";
    }

    public static SessionToken2ImplBase fromBundle(Bundle bundle) {
        if (bundle == null) {
            return null;
        }
        int i = bundle.getInt("android.media.token.uid");
        int i2 = bundle.getInt("android.media.token.type", -1);
        String string = bundle.getString("android.media.token.package_name");
        String string2 = bundle.getString("android.media.token.service_name");
        String string3 = bundle.getString("android.media.token.session_id");
        IMediaSession2 asInterface = IMediaSession2.Stub.asInterface(BundleCompat.getBinder(bundle, "android.media.token.session_binder"));
        if (i2 != 0) {
            if (i2 == 1 || i2 == 2) {
                if (TextUtils.isEmpty(string2)) {
                    throw new IllegalArgumentException("Session service needs service name");
                }
            } else {
                throw new IllegalArgumentException("Invalid type");
            }
        } else if (asInterface == null) {
            throw new IllegalArgumentException("Unexpected token for session, binder=" + asInterface);
        }
        if (TextUtils.isEmpty(string) || string3 == null) {
            throw new IllegalArgumentException("Package name nor ID cannot be null.");
        }
        return new SessionToken2ImplBase(i, i2, string, string2, string3, asInterface);
    }
}


### **classes_dex_1/sources/android/support/v4/media/MediaDescriptionCompat.java** ###

package android.support.v4.media;

import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.media.MediaDescriptionCompatApi21;
import android.support.v4.media.MediaDescriptionCompatApi23;
import android.text.TextUtils;

/* loaded from: /content/classes1.dex */
public final class MediaDescriptionCompat implements Parcelable {
    public static final Parcelable.Creator<MediaDescriptionCompat> CREATOR = new Parcelable.Creator<MediaDescriptionCompat>() { // from class: android.support.v4.media.MediaDescriptionCompat.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaDescriptionCompat createFromParcel(Parcel parcel) {
            if (Build.VERSION.SDK_INT < 21) {
                return new MediaDescriptionCompat(parcel);
            }
            return MediaDescriptionCompat.fromMediaDescription(MediaDescriptionCompatApi21.fromParcel(parcel));
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaDescriptionCompat[] newArray(int i) {
            return new MediaDescriptionCompat[i];
        }
    };
    private final CharSequence mDescription;
    private Object mDescriptionObj;
    private final Bundle mExtras;
    private final Bitmap mIcon;
    private final Uri mIconUri;
    private final String mMediaId;
    private final Uri mMediaUri;
    private final CharSequence mSubtitle;
    private final CharSequence mTitle;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    MediaDescriptionCompat(String str, CharSequence charSequence, CharSequence charSequence2, CharSequence charSequence3, Bitmap bitmap, Uri uri, Bundle bundle, Uri uri2) {
        this.mMediaId = str;
        this.mTitle = charSequence;
        this.mSubtitle = charSequence2;
        this.mDescription = charSequence3;
        this.mIcon = bitmap;
        this.mIconUri = uri;
        this.mExtras = bundle;
        this.mMediaUri = uri2;
    }

    MediaDescriptionCompat(Parcel parcel) {
        this.mMediaId = parcel.readString();
        this.mTitle = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mSubtitle = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mDescription = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mIcon = (Bitmap) parcel.readParcelable(null);
        this.mIconUri = (Uri) parcel.readParcelable(null);
        this.mExtras = parcel.readBundle();
        this.mMediaUri = (Uri) parcel.readParcelable(null);
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        if (Build.VERSION.SDK_INT < 21) {
            parcel.writeString(this.mMediaId);
            TextUtils.writeToParcel(this.mTitle, parcel, i);
            TextUtils.writeToParcel(this.mSubtitle, parcel, i);
            TextUtils.writeToParcel(this.mDescription, parcel, i);
            parcel.writeParcelable(this.mIcon, i);
            parcel.writeParcelable(this.mIconUri, i);
            parcel.writeBundle(this.mExtras);
            parcel.writeParcelable(this.mMediaUri, i);
            return;
        }
        MediaDescriptionCompatApi21.writeToParcel(getMediaDescription(), parcel, i);
    }

    public String toString() {
        return ((Object) this.mTitle) + ", " + ((Object) this.mSubtitle) + ", " + ((Object) this.mDescription);
    }

    public Object getMediaDescription() {
        int i = Build.VERSION.SDK_INT;
        if (this.mDescriptionObj != null || i < 21) {
            return this.mDescriptionObj;
        }
        Object newInstance = MediaDescriptionCompatApi21.Builder.newInstance();
        MediaDescriptionCompatApi21.Builder.setMediaId(newInstance, this.mMediaId);
        MediaDescriptionCompatApi21.Builder.setTitle(newInstance, this.mTitle);
        MediaDescriptionCompatApi21.Builder.setSubtitle(newInstance, this.mSubtitle);
        MediaDescriptionCompatApi21.Builder.setDescription(newInstance, this.mDescription);
        MediaDescriptionCompatApi21.Builder.setIconBitmap(newInstance, this.mIcon);
        MediaDescriptionCompatApi21.Builder.setIconUri(newInstance, this.mIconUri);
        Bundle bundle = this.mExtras;
        if (i < 23 && this.mMediaUri != null) {
            if (bundle == null) {
                bundle = new Bundle();
                bundle.putBoolean("android.support.v4.media.description.NULL_BUNDLE_FLAG", true);
            }
            bundle.putParcelable("android.support.v4.media.description.MEDIA_URI", this.mMediaUri);
        }
        MediaDescriptionCompatApi21.Builder.setExtras(newInstance, bundle);
        if (i >= 23) {
            MediaDescriptionCompatApi23.Builder.setMediaUri(newInstance, this.mMediaUri);
        }
        Object build = MediaDescriptionCompatApi21.Builder.build(newInstance);
        this.mDescriptionObj = build;
        return build;
    }

    /* JADX WARN: Removed duplicated region for block: B:15:0x0066  */
    /* JADX WARN: Removed duplicated region for block: B:19:0x006a  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static android.support.v4.media.MediaDescriptionCompat fromMediaDescription(java.lang.Object r9) {
        /*
            int r0 = android.os.Build.VERSION.SDK_INT
            r1 = 0
            if (r9 == 0) goto L7c
            r2 = 21
            if (r0 < r2) goto L7c
            android.support.v4.media.MediaDescriptionCompat$Builder r2 = new android.support.v4.media.MediaDescriptionCompat$Builder
            r2.<init>()
            java.lang.String r3 = android.support.v4.media.MediaDescriptionCompatApi21.getMediaId(r9)
            r2.setMediaId(r3)
            java.lang.CharSequence r3 = android.support.v4.media.MediaDescriptionCompatApi21.getTitle(r9)
            r2.setTitle(r3)
            java.lang.CharSequence r3 = android.support.v4.media.MediaDescriptionCompatApi21.getSubtitle(r9)
            r2.setSubtitle(r3)
            java.lang.CharSequence r3 = android.support.v4.media.MediaDescriptionCompatApi21.getDescription(r9)
            r2.setDescription(r3)
            android.graphics.Bitmap r3 = android.support.v4.media.MediaDescriptionCompatApi21.getIconBitmap(r9)
            r2.setIconBitmap(r3)
            android.net.Uri r3 = android.support.v4.media.MediaDescriptionCompatApi21.getIconUri(r9)
            r2.setIconUri(r3)
            android.os.Bundle r3 = android.support.v4.media.MediaDescriptionCompatApi21.getExtras(r9)
            java.lang.String r4 = "android.support.v4.media.description.MEDIA_URI"
            if (r3 != 0) goto L42
            r5 = r1
            goto L48
        L42:
            android.os.Parcelable r5 = r3.getParcelable(r4)
            android.net.Uri r5 = (android.net.Uri) r5
        L48:
            if (r5 == 0) goto L60
            java.lang.String r6 = "android.support.v4.media.description.NULL_BUNDLE_FLAG"
            boolean r7 = r3.containsKey(r6)
            if (r7 == 0) goto L5a
            int r7 = r3.size()
            r8 = 2
            if (r7 != r8) goto L5a
            goto L61
        L5a:
            r3.remove(r4)
            r3.remove(r6)
        L60:
            r1 = r3
        L61:
            r2.setExtras(r1)
            if (r5 == 0) goto L6a
            r2.setMediaUri(r5)
            goto L75
        L6a:
            r1 = 23
            if (r0 < r1) goto L75
            android.net.Uri r0 = android.support.v4.media.MediaDescriptionCompatApi23.getMediaUri(r9)
            r2.setMediaUri(r0)
        L75:
            android.support.v4.media.MediaDescriptionCompat r0 = r2.build()
            r0.mDescriptionObj = r9
            return r0
        L7c:
            return r1
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v4.media.MediaDescriptionCompat.fromMediaDescription(java.lang.Object):android.support.v4.media.MediaDescriptionCompat");
    }

    /* loaded from: /content/classes1.dex */
    public static final class Builder {
        private CharSequence mDescription;
        private Bundle mExtras;
        private Bitmap mIcon;
        private Uri mIconUri;
        private String mMediaId;
        private Uri mMediaUri;
        private CharSequence mSubtitle;
        private CharSequence mTitle;

        public Builder setMediaId(String str) {
            this.mMediaId = str;
            return this;
        }

        public Builder setTitle(CharSequence charSequence) {
            this.mTitle = charSequence;
            return this;
        }

        public Builder setSubtitle(CharSequence charSequence) {
            this.mSubtitle = charSequence;
            return this;
        }

        public Builder setDescription(CharSequence charSequence) {
            this.mDescription = charSequence;
            return this;
        }

        public Builder setIconBitmap(Bitmap bitmap) {
            this.mIcon = bitmap;
            return this;
        }

        public Builder setIconUri(Uri uri) {
            this.mIconUri = uri;
            return this;
        }

        public Builder setExtras(Bundle bundle) {
            this.mExtras = bundle;
            return this;
        }

        public Builder setMediaUri(Uri uri) {
            this.mMediaUri = uri;
            return this;
        }

        public MediaDescriptionCompat build() {
            return new MediaDescriptionCompat(this.mMediaId, this.mTitle, this.mSubtitle, this.mDescription, this.mIcon, this.mIconUri, this.mExtras, this.mMediaUri);
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaSessionCompat$QueueItem.java** ###

package android.support.v4.media.session;

import android.os.Build;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.media.MediaDescriptionCompat;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/* loaded from: /content/classes1.dex */
public final class MediaSessionCompat$QueueItem implements Parcelable {
    public static final Parcelable.Creator<MediaSessionCompat$QueueItem> CREATOR = new Parcelable.Creator<MediaSessionCompat$QueueItem>() { // from class: android.support.v4.media.session.MediaSessionCompat$QueueItem.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$QueueItem createFromParcel(Parcel parcel) {
            return new MediaSessionCompat$QueueItem(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$QueueItem[] newArray(int i) {
            return new MediaSessionCompat$QueueItem[i];
        }
    };
    private final MediaDescriptionCompat mDescription;
    private final long mId;
    private Object mItem;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    private MediaSessionCompat$QueueItem(Object obj, MediaDescriptionCompat mediaDescriptionCompat, long j) {
        if (mediaDescriptionCompat == null) {
            throw new IllegalArgumentException("Description cannot be null.");
        }
        if (j == -1) {
            throw new IllegalArgumentException("Id cannot be QueueItem.UNKNOWN_ID");
        }
        this.mDescription = mediaDescriptionCompat;
        this.mId = j;
        this.mItem = obj;
    }

    MediaSessionCompat$QueueItem(Parcel parcel) {
        this.mDescription = MediaDescriptionCompat.CREATOR.createFromParcel(parcel);
        this.mId = parcel.readLong();
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        this.mDescription.writeToParcel(parcel, i);
        parcel.writeLong(this.mId);
    }

    public static MediaSessionCompat$QueueItem fromQueueItem(Object obj) {
        if (obj == null || Build.VERSION.SDK_INT < 21) {
            return null;
        }
        return new MediaSessionCompat$QueueItem(obj, MediaDescriptionCompat.fromMediaDescription(MediaSessionCompatApi21$QueueItem.getDescription(obj)), MediaSessionCompatApi21$QueueItem.getQueueId(obj));
    }

    public static List<MediaSessionCompat$QueueItem> fromQueueItemList(List<?> list) {
        if (list == null || Build.VERSION.SDK_INT < 21) {
            return null;
        }
        ArrayList arrayList = new ArrayList();
        Iterator<?> it = list.iterator();
        while (it.hasNext()) {
            arrayList.add(fromQueueItem(it.next()));
        }
        return arrayList;
    }

    public String toString() {
        return "MediaSession.QueueItem {Description=" + this.mDescription + ", Id=" + this.mId + " }";
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaSessionCompat$ResultReceiverWrapper.java** ###

package android.support.v4.media.session;

import android.os.Parcel;
import android.os.Parcelable;
import android.os.ResultReceiver;

/* loaded from: /content/classes1.dex */
public final class MediaSessionCompat$ResultReceiverWrapper implements Parcelable {
    public static final Parcelable.Creator<MediaSessionCompat$ResultReceiverWrapper> CREATOR = new Parcelable.Creator<MediaSessionCompat$ResultReceiverWrapper>() { // from class: android.support.v4.media.session.MediaSessionCompat$ResultReceiverWrapper.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$ResultReceiverWrapper createFromParcel(Parcel parcel) {
            return new MediaSessionCompat$ResultReceiverWrapper(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$ResultReceiverWrapper[] newArray(int i) {
            return new MediaSessionCompat$ResultReceiverWrapper[i];
        }
    };
    private ResultReceiver mResultReceiver;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    MediaSessionCompat$ResultReceiverWrapper(Parcel parcel) {
        this.mResultReceiver = (ResultReceiver) ResultReceiver.CREATOR.createFromParcel(parcel);
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        this.mResultReceiver.writeToParcel(parcel, i);
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaControllerCompatApi21.java** ###

package android.support.v4.media.session;

import android.media.AudioAttributes;
import android.media.MediaMetadata;
import android.media.session.MediaController;
import android.media.session.MediaSession;
import android.media.session.PlaybackState;
import android.os.Bundle;
import android.support.v7.recyclerview.R$styleable;
import java.util.List;

/* loaded from: /content/classes1.dex */
class MediaControllerCompatApi21 {

    /* loaded from: /content/classes1.dex */
    public interface Callback {
        void onAudioInfoChanged(int i, int i2, int i3, int i4, int i5);

        void onExtrasChanged(Bundle bundle);

        void onMetadataChanged(Object obj);

        void onPlaybackStateChanged(Object obj);

        void onQueueChanged(List<?> list);

        void onQueueTitleChanged(CharSequence charSequence);

        void onSessionDestroyed();

        void onSessionEvent(String str, Bundle bundle);
    }

    public static Object createCallback(Callback callback) {
        return new CallbackProxy(callback);
    }

    /* loaded from: /content/classes1.dex */
    public static class PlaybackInfo {
        public static AudioAttributes getAudioAttributes(Object obj) {
            return ((MediaController.PlaybackInfo) obj).getAudioAttributes();
        }

        public static int getLegacyAudioStream(Object obj) {
            return toLegacyStreamType(getAudioAttributes(obj));
        }

        private static int toLegacyStreamType(AudioAttributes audioAttributes) {
            if ((audioAttributes.getFlags() & 1) == 1) {
                return 7;
            }
            if ((audioAttributes.getFlags() & 4) == 4) {
                return 6;
            }
            int usage = audioAttributes.getUsage();
            if (usage == 13) {
                return 1;
            }
            switch (usage) {
                case R$styleable.RecyclerView_fastScrollEnabled /* 2 */:
                    return 0;
                case R$styleable.RecyclerView_fastScrollHorizontalThumbDrawable /* 3 */:
                    return 8;
                case R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable /* 4 */:
                    return 4;
                case R$styleable.RecyclerView_fastScrollVerticalThumbDrawable /* 5 */:
                case R$styleable.RecyclerView_layoutManager /* 7 */:
                case R$styleable.RecyclerView_reverseLayout /* 8 */:
                case R$styleable.RecyclerView_spanCount /* 9 */:
                case R$styleable.RecyclerView_stackFromEnd /* 10 */:
                    return 5;
                case R$styleable.RecyclerView_fastScrollVerticalTrackDrawable /* 6 */:
                    return 2;
                default:
                    return 3;
            }
        }
    }

    /* loaded from: /content/classes1.dex */
    static class CallbackProxy<T extends Callback> extends MediaController.Callback {
        protected final T mCallback;

        public CallbackProxy(T t) {
            this.mCallback = t;
        }

        @Override // android.media.session.MediaController.Callback
        public void onSessionDestroyed() {
            this.mCallback.onSessionDestroyed();
        }

        @Override // android.media.session.MediaController.Callback
        public void onSessionEvent(String str, Bundle bundle) {
            this.mCallback.onSessionEvent(str, bundle);
        }

        @Override // android.media.session.MediaController.Callback
        public void onPlaybackStateChanged(PlaybackState playbackState) {
            this.mCallback.onPlaybackStateChanged(playbackState);
        }

        @Override // android.media.session.MediaController.Callback
        public void onMetadataChanged(MediaMetadata mediaMetadata) {
            this.mCallback.onMetadataChanged(mediaMetadata);
        }

        @Override // android.media.session.MediaController.Callback
        public void onQueueChanged(List<MediaSession.QueueItem> list) {
            this.mCallback.onQueueChanged(list);
        }

        @Override // android.media.session.MediaController.Callback
        public void onQueueTitleChanged(CharSequence charSequence) {
            this.mCallback.onQueueTitleChanged(charSequence);
        }

        @Override // android.media.session.MediaController.Callback
        public void onExtrasChanged(Bundle bundle) {
            this.mCallback.onExtrasChanged(bundle);
        }

        @Override // android.media.session.MediaController.Callback
        public void onAudioInfoChanged(MediaController.PlaybackInfo playbackInfo) {
            this.mCallback.onAudioInfoChanged(playbackInfo.getPlaybackType(), PlaybackInfo.getLegacyAudioStream(playbackInfo), playbackInfo.getVolumeControl(), playbackInfo.getMaxVolume(), playbackInfo.getCurrentVolume());
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/IMediaSession.java** ###

package android.support.v4.media.session;

import android.os.Binder;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.RemoteException;

/* loaded from: /content/classes1.dex */
public interface IMediaSession extends IInterface {
    void registerCallbackListener(IMediaControllerCallback iMediaControllerCallback) throws RemoteException;

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IMediaSession {
        public static IMediaSession asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("android.support.v4.media.session.IMediaSession");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IMediaSession)) {
                return (IMediaSession) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        /* loaded from: /content/classes1.dex */
        private static class Proxy implements IMediaSession {
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }

            @Override // android.support.v4.media.session.IMediaSession
            public void registerCallbackListener(IMediaControllerCallback iMediaControllerCallback) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("android.support.v4.media.session.IMediaSession");
                    obtain.writeStrongBinder(iMediaControllerCallback != null ? iMediaControllerCallback.asBinder() : null);
                    this.mRemote.transact(3, obtain, obtain2, 0);
                    obtain2.readException();
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaSessionCompatApi21$QueueItem.java** ###

package android.support.v4.media.session;

import android.media.session.MediaSession;

/* loaded from: /content/classes1.dex */
class MediaSessionCompatApi21$QueueItem {
    public static Object getDescription(Object obj) {
        return ((MediaSession.QueueItem) obj).getDescription();
    }

    public static long getQueueId(Object obj) {
        return ((MediaSession.QueueItem) obj).getQueueId();
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaControllerCompat$PlaybackInfo.java** ###

package android.support.v4.media.session;

/* loaded from: /content/classes1.dex */
public final class MediaControllerCompat$PlaybackInfo {
    /* JADX INFO: Access modifiers changed from: package-private */
    public MediaControllerCompat$PlaybackInfo(int i, int i2, int i3, int i4, int i5) {
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/IMediaControllerCallback.java** ###

package android.support.v4.media.session;

import android.os.Binder;
import android.os.Bundle;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.RemoteException;
import android.support.v4.media.MediaMetadataCompat;
import android.support.v7.recyclerview.R$styleable;
import android.text.TextUtils;
import java.util.List;

/* loaded from: /content/classes1.dex */
public interface IMediaControllerCallback extends IInterface {
    void onCaptioningEnabledChanged(boolean z) throws RemoteException;

    void onEvent(String str, Bundle bundle) throws RemoteException;

    void onExtrasChanged(Bundle bundle) throws RemoteException;

    void onMetadataChanged(MediaMetadataCompat mediaMetadataCompat) throws RemoteException;

    void onPlaybackStateChanged(PlaybackStateCompat playbackStateCompat) throws RemoteException;

    void onQueueChanged(List<MediaSessionCompat$QueueItem> list) throws RemoteException;

    void onQueueTitleChanged(CharSequence charSequence) throws RemoteException;

    void onRepeatModeChanged(int i) throws RemoteException;

    void onSessionDestroyed() throws RemoteException;

    void onSessionReady() throws RemoteException;

    void onShuffleModeChanged(int i) throws RemoteException;

    void onShuffleModeChangedRemoved(boolean z) throws RemoteException;

    void onVolumeInfoChanged(ParcelableVolumeInfo parcelableVolumeInfo) throws RemoteException;

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IMediaControllerCallback {
        @Override // android.os.IInterface
        public IBinder asBinder() {
            return this;
        }

        public Stub() {
            attachInterface(this, "android.support.v4.media.session.IMediaControllerCallback");
        }

        @Override // android.os.Binder
        public boolean onTransact(int i, Parcel parcel, Parcel parcel2, int i2) throws RemoteException {
            if (i == 1598968902) {
                parcel2.writeString("android.support.v4.media.session.IMediaControllerCallback");
                return true;
            }
            switch (i) {
                case R$styleable.RecyclerView_android_descendantFocusability /* 1 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onEvent(parcel.readString(), parcel.readInt() != 0 ? (Bundle) Bundle.CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_fastScrollEnabled /* 2 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onSessionDestroyed();
                    return true;
                case R$styleable.RecyclerView_fastScrollHorizontalThumbDrawable /* 3 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onPlaybackStateChanged(parcel.readInt() != 0 ? PlaybackStateCompat.CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_fastScrollHorizontalTrackDrawable /* 4 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onMetadataChanged(parcel.readInt() != 0 ? MediaMetadataCompat.CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_fastScrollVerticalThumbDrawable /* 5 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onQueueChanged(parcel.createTypedArrayList(MediaSessionCompat$QueueItem.CREATOR));
                    return true;
                case R$styleable.RecyclerView_fastScrollVerticalTrackDrawable /* 6 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onQueueTitleChanged(parcel.readInt() != 0 ? (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_layoutManager /* 7 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onExtrasChanged(parcel.readInt() != 0 ? (Bundle) Bundle.CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_reverseLayout /* 8 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onVolumeInfoChanged(parcel.readInt() != 0 ? ParcelableVolumeInfo.CREATOR.createFromParcel(parcel) : null);
                    return true;
                case R$styleable.RecyclerView_spanCount /* 9 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onRepeatModeChanged(parcel.readInt());
                    return true;
                case R$styleable.RecyclerView_stackFromEnd /* 10 */:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onShuffleModeChangedRemoved(parcel.readInt() != 0);
                    return true;
                case 11:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onCaptioningEnabledChanged(parcel.readInt() != 0);
                    return true;
                case 12:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onShuffleModeChanged(parcel.readInt());
                    return true;
                case 13:
                    parcel.enforceInterface("android.support.v4.media.session.IMediaControllerCallback");
                    onSessionReady();
                    return true;
                default:
                    return super.onTransact(i, parcel, parcel2, i2);
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/PlaybackStateCompatApi21.java** ###

package android.support.v4.media.session;

import android.media.session.PlaybackState;
import android.os.Bundle;
import java.util.List;

/* loaded from: /content/classes1.dex */
class PlaybackStateCompatApi21 {
    public static int getState(Object obj) {
        return ((PlaybackState) obj).getState();
    }

    public static long getPosition(Object obj) {
        return ((PlaybackState) obj).getPosition();
    }

    public static long getBufferedPosition(Object obj) {
        return ((PlaybackState) obj).getBufferedPosition();
    }

    public static float getPlaybackSpeed(Object obj) {
        return ((PlaybackState) obj).getPlaybackSpeed();
    }

    public static long getActions(Object obj) {
        return ((PlaybackState) obj).getActions();
    }

    public static CharSequence getErrorMessage(Object obj) {
        return ((PlaybackState) obj).getErrorMessage();
    }

    public static long getLastPositionUpdateTime(Object obj) {
        return ((PlaybackState) obj).getLastPositionUpdateTime();
    }

    public static List<Object> getCustomActions(Object obj) {
        return ((PlaybackState) obj).getCustomActions();
    }

    public static long getActiveQueueItemId(Object obj) {
        return ((PlaybackState) obj).getActiveQueueItemId();
    }

    /* loaded from: /content/classes1.dex */
    static final class CustomAction {
        public static String getAction(Object obj) {
            return ((PlaybackState.CustomAction) obj).getAction();
        }

        public static CharSequence getName(Object obj) {
            return ((PlaybackState.CustomAction) obj).getName();
        }

        public static int getIcon(Object obj) {
            return ((PlaybackState.CustomAction) obj).getIcon();
        }

        public static Bundle getExtras(Object obj) {
            return ((PlaybackState.CustomAction) obj).getExtras();
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/ParcelableVolumeInfo.java** ###

package android.support.v4.media.session;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public class ParcelableVolumeInfo implements Parcelable {
    public static final Parcelable.Creator<ParcelableVolumeInfo> CREATOR = new Parcelable.Creator<ParcelableVolumeInfo>() { // from class: android.support.v4.media.session.ParcelableVolumeInfo.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ParcelableVolumeInfo createFromParcel(Parcel parcel) {
            return new ParcelableVolumeInfo(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ParcelableVolumeInfo[] newArray(int i) {
            return new ParcelableVolumeInfo[i];
        }
    };
    public int audioStream;
    public int controlType;
    public int currentVolume;
    public int maxVolume;
    public int volumeType;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    public ParcelableVolumeInfo(Parcel parcel) {
        this.volumeType = parcel.readInt();
        this.controlType = parcel.readInt();
        this.maxVolume = parcel.readInt();
        this.currentVolume = parcel.readInt();
        this.audioStream = parcel.readInt();
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeInt(this.volumeType);
        parcel.writeInt(this.controlType);
        parcel.writeInt(this.maxVolume);
        parcel.writeInt(this.currentVolume);
        parcel.writeInt(this.audioStream);
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/PlaybackStateCompat.java** ###

package android.support.v4.media.session;

import android.os.Build;
import android.os.Bundle;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.media.session.PlaybackStateCompatApi21;
import android.text.TextUtils;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

/* loaded from: /content/classes1.dex */
public final class PlaybackStateCompat implements Parcelable {
    public static final Parcelable.Creator<PlaybackStateCompat> CREATOR = new Parcelable.Creator<PlaybackStateCompat>() { // from class: android.support.v4.media.session.PlaybackStateCompat.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public PlaybackStateCompat createFromParcel(Parcel parcel) {
            return new PlaybackStateCompat(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public PlaybackStateCompat[] newArray(int i) {
            return new PlaybackStateCompat[i];
        }
    };
    final long mActions;
    final long mActiveItemId;
    final long mBufferedPosition;
    List<CustomAction> mCustomActions;
    final int mErrorCode;
    final CharSequence mErrorMessage;
    final Bundle mExtras;
    final long mPosition;
    final float mSpeed;
    final int mState;
    private Object mStateObj;
    final long mUpdateTime;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    PlaybackStateCompat(int i, long j, long j2, float f, long j3, int i2, CharSequence charSequence, long j4, List<CustomAction> list, long j5, Bundle bundle) {
        this.mState = i;
        this.mPosition = j;
        this.mBufferedPosition = j2;
        this.mSpeed = f;
        this.mActions = j3;
        this.mErrorCode = i2;
        this.mErrorMessage = charSequence;
        this.mUpdateTime = j4;
        this.mCustomActions = new ArrayList(list);
        this.mActiveItemId = j5;
        this.mExtras = bundle;
    }

    PlaybackStateCompat(Parcel parcel) {
        this.mState = parcel.readInt();
        this.mPosition = parcel.readLong();
        this.mSpeed = parcel.readFloat();
        this.mUpdateTime = parcel.readLong();
        this.mBufferedPosition = parcel.readLong();
        this.mActions = parcel.readLong();
        this.mErrorMessage = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
        this.mCustomActions = parcel.createTypedArrayList(CustomAction.CREATOR);
        this.mActiveItemId = parcel.readLong();
        this.mExtras = parcel.readBundle();
        this.mErrorCode = parcel.readInt();
    }

    public String toString() {
        return "PlaybackState {state=" + this.mState + ", position=" + this.mPosition + ", buffered position=" + this.mBufferedPosition + ", speed=" + this.mSpeed + ", updated=" + this.mUpdateTime + ", actions=" + this.mActions + ", error code=" + this.mErrorCode + ", error message=" + this.mErrorMessage + ", custom actions=" + this.mCustomActions + ", active item id=" + this.mActiveItemId + "}";
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeInt(this.mState);
        parcel.writeLong(this.mPosition);
        parcel.writeFloat(this.mSpeed);
        parcel.writeLong(this.mUpdateTime);
        parcel.writeLong(this.mBufferedPosition);
        parcel.writeLong(this.mActions);
        TextUtils.writeToParcel(this.mErrorMessage, parcel, i);
        parcel.writeTypedList(this.mCustomActions);
        parcel.writeLong(this.mActiveItemId);
        parcel.writeBundle(this.mExtras);
        parcel.writeInt(this.mErrorCode);
    }

    public static PlaybackStateCompat fromPlaybackState(Object obj) {
        ArrayList arrayList;
        int i = Build.VERSION.SDK_INT;
        if (obj == null || i < 21) {
            return null;
        }
        List<Object> customActions = PlaybackStateCompatApi21.getCustomActions(obj);
        if (customActions != null) {
            ArrayList arrayList2 = new ArrayList(customActions.size());
            Iterator<Object> it = customActions.iterator();
            while (it.hasNext()) {
                arrayList2.add(CustomAction.fromCustomAction(it.next()));
            }
            arrayList = arrayList2;
        } else {
            arrayList = null;
        }
        PlaybackStateCompat playbackStateCompat = new PlaybackStateCompat(PlaybackStateCompatApi21.getState(obj), PlaybackStateCompatApi21.getPosition(obj), PlaybackStateCompatApi21.getBufferedPosition(obj), PlaybackStateCompatApi21.getPlaybackSpeed(obj), PlaybackStateCompatApi21.getActions(obj), 0, PlaybackStateCompatApi21.getErrorMessage(obj), PlaybackStateCompatApi21.getLastPositionUpdateTime(obj), arrayList, PlaybackStateCompatApi21.getActiveQueueItemId(obj), i >= 22 ? PlaybackStateCompatApi22.getExtras(obj) : null);
        playbackStateCompat.mStateObj = obj;
        return playbackStateCompat;
    }

    /* loaded from: /content/classes1.dex */
    public static final class CustomAction implements Parcelable {
        public static final Parcelable.Creator<CustomAction> CREATOR = new Parcelable.Creator<CustomAction>() { // from class: android.support.v4.media.session.PlaybackStateCompat.CustomAction.1
            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public CustomAction createFromParcel(Parcel parcel) {
                return new CustomAction(parcel);
            }

            /* JADX WARN: Can't rename method to resolve collision */
            @Override // android.os.Parcelable.Creator
            public CustomAction[] newArray(int i) {
                return new CustomAction[i];
            }
        };
        private final String mAction;
        private Object mCustomActionObj;
        private final Bundle mExtras;
        private final int mIcon;
        private final CharSequence mName;

        @Override // android.os.Parcelable
        public int describeContents() {
            return 0;
        }

        CustomAction(String str, CharSequence charSequence, int i, Bundle bundle) {
            this.mAction = str;
            this.mName = charSequence;
            this.mIcon = i;
            this.mExtras = bundle;
        }

        CustomAction(Parcel parcel) {
            this.mAction = parcel.readString();
            this.mName = (CharSequence) TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(parcel);
            this.mIcon = parcel.readInt();
            this.mExtras = parcel.readBundle();
        }

        @Override // android.os.Parcelable
        public void writeToParcel(Parcel parcel, int i) {
            parcel.writeString(this.mAction);
            TextUtils.writeToParcel(this.mName, parcel, i);
            parcel.writeInt(this.mIcon);
            parcel.writeBundle(this.mExtras);
        }

        public static CustomAction fromCustomAction(Object obj) {
            if (obj == null || Build.VERSION.SDK_INT < 21) {
                return null;
            }
            CustomAction customAction = new CustomAction(PlaybackStateCompatApi21.CustomAction.getAction(obj), PlaybackStateCompatApi21.CustomAction.getName(obj), PlaybackStateCompatApi21.CustomAction.getIcon(obj), PlaybackStateCompatApi21.CustomAction.getExtras(obj));
            customAction.mCustomActionObj = obj;
            return customAction;
        }

        public String toString() {
            return "Action:mName='" + ((Object) this.mName) + ", mIcon=" + this.mIcon + ", mExtras=" + this.mExtras;
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/PlaybackStateCompatApi22.java** ###

package android.support.v4.media.session;

import android.media.session.PlaybackState;
import android.os.Bundle;

/* loaded from: /content/classes1.dex */
class PlaybackStateCompatApi22 {
    public static Bundle getExtras(Object obj) {
        return ((PlaybackState) obj).getExtras();
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaSessionCompat$Token.java** ###

package android.support.v4.media.session;

import android.os.Build;
import android.os.Bundle;
import android.os.IBinder;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.app.BundleCompat;
import android.support.v4.media.SessionToken2;
import android.support.v4.media.session.IMediaSession;

/* loaded from: /content/classes1.dex */
public final class MediaSessionCompat$Token implements Parcelable {
    public static final Parcelable.Creator<MediaSessionCompat$Token> CREATOR = new Parcelable.Creator<MediaSessionCompat$Token>() { // from class: android.support.v4.media.session.MediaSessionCompat$Token.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$Token createFromParcel(Parcel parcel) {
            Object readStrongBinder;
            if (Build.VERSION.SDK_INT >= 21) {
                readStrongBinder = parcel.readParcelable(null);
            } else {
                readStrongBinder = parcel.readStrongBinder();
            }
            return new MediaSessionCompat$Token(readStrongBinder);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public MediaSessionCompat$Token[] newArray(int i) {
            return new MediaSessionCompat$Token[i];
        }
    };
    private IMediaSession mExtraBinder;
    private final Object mInner;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    public void setSessionToken2(SessionToken2 sessionToken2) {
    }

    MediaSessionCompat$Token(Object obj) {
        this(obj, null, null);
    }

    MediaSessionCompat$Token(Object obj, IMediaSession iMediaSession, SessionToken2 sessionToken2) {
        this.mInner = obj;
        this.mExtraBinder = iMediaSession;
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        if (Build.VERSION.SDK_INT >= 21) {
            parcel.writeParcelable((Parcelable) this.mInner, i);
        } else {
            parcel.writeStrongBinder((IBinder) this.mInner);
        }
    }

    public int hashCode() {
        Object obj = this.mInner;
        if (obj == null) {
            return 0;
        }
        return obj.hashCode();
    }

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (!(obj instanceof MediaSessionCompat$Token)) {
            return false;
        }
        MediaSessionCompat$Token mediaSessionCompat$Token = (MediaSessionCompat$Token) obj;
        Object obj2 = this.mInner;
        if (obj2 == null) {
            return mediaSessionCompat$Token.mInner == null;
        }
        Object obj3 = mediaSessionCompat$Token.mInner;
        if (obj3 == null) {
            return false;
        }
        return obj2.equals(obj3);
    }

    public IMediaSession getExtraBinder() {
        return this.mExtraBinder;
    }

    public void setExtraBinder(IMediaSession iMediaSession) {
        this.mExtraBinder = iMediaSession;
    }

    public static MediaSessionCompat$Token fromBundle(Bundle bundle) {
        if (bundle == null) {
            return null;
        }
        IMediaSession asInterface = IMediaSession.Stub.asInterface(BundleCompat.getBinder(bundle, "android.support.v4.media.session.EXTRA_BINDER"));
        SessionToken2 fromBundle = SessionToken2.fromBundle(bundle.getBundle("android.support.v4.media.session.SESSION_TOKEN2"));
        MediaSessionCompat$Token mediaSessionCompat$Token = (MediaSessionCompat$Token) bundle.getParcelable("android.support.v4.media.session.TOKEN");
        if (mediaSessionCompat$Token == null) {
            return null;
        }
        return new MediaSessionCompat$Token(mediaSessionCompat$Token.mInner, asInterface, fromBundle);
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaControllerCompat$MediaControllerImplApi21.java** ###

package android.support.v4.media.session;

import android.os.Bundle;
import android.os.RemoteException;
import android.os.ResultReceiver;
import android.support.v4.app.BundleCompat;
import android.support.v4.media.MediaMetadataCompat;
import android.support.v4.media.SessionToken2;
import android.support.v4.media.session.IMediaSession;
import android.support.v4.media.session.MediaControllerCompat$Callback;
import android.util.Log;
import java.lang.ref.WeakReference;
import java.util.HashMap;
import java.util.List;

/* loaded from: /content/classes1.dex */
class MediaControllerCompat$MediaControllerImplApi21 {
    private HashMap<MediaControllerCompat$Callback, ExtraCallback> mCallbackMap;
    private final List<MediaControllerCompat$Callback> mPendingCallbacks;
    private final MediaSessionCompat$Token mSessionToken;

    /* JADX INFO: Access modifiers changed from: private */
    public void processPendingCallbacks() {
        if (this.mSessionToken.getExtraBinder() == null) {
            return;
        }
        synchronized (this.mPendingCallbacks) {
            for (MediaControllerCompat$Callback mediaControllerCompat$Callback : this.mPendingCallbacks) {
                ExtraCallback extraCallback = new ExtraCallback(mediaControllerCompat$Callback);
                this.mCallbackMap.put(mediaControllerCompat$Callback, extraCallback);
                mediaControllerCompat$Callback.mIControllerCallback = extraCallback;
                try {
                    this.mSessionToken.getExtraBinder().registerCallbackListener(extraCallback);
                    mediaControllerCompat$Callback.onSessionReady();
                } catch (RemoteException e) {
                    Log.e("MediaControllerCompat", "Dead object in registerCallback.", e);
                }
            }
            this.mPendingCallbacks.clear();
        }
    }

    /* loaded from: /content/classes1.dex */
    private static class ExtraBinderRequestResultReceiver extends ResultReceiver {
        private WeakReference<MediaControllerCompat$MediaControllerImplApi21> mMediaControllerImpl;

        @Override // android.os.ResultReceiver
        protected void onReceiveResult(int i, Bundle bundle) {
            MediaControllerCompat$MediaControllerImplApi21 mediaControllerCompat$MediaControllerImplApi21 = this.mMediaControllerImpl.get();
            if (mediaControllerCompat$MediaControllerImplApi21 == null || bundle == null) {
                return;
            }
            mediaControllerCompat$MediaControllerImplApi21.mSessionToken.setExtraBinder(IMediaSession.Stub.asInterface(BundleCompat.getBinder(bundle, "android.support.v4.media.session.EXTRA_BINDER")));
            mediaControllerCompat$MediaControllerImplApi21.mSessionToken.setSessionToken2(SessionToken2.fromBundle(bundle.getBundle("android.support.v4.media.session.SESSION_TOKEN2")));
            mediaControllerCompat$MediaControllerImplApi21.processPendingCallbacks();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static class ExtraCallback extends MediaControllerCompat$Callback.StubCompat {
        ExtraCallback(MediaControllerCompat$Callback mediaControllerCompat$Callback) {
            super(mediaControllerCompat$Callback);
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onSessionDestroyed() throws RemoteException {
            throw new AssertionError();
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onMetadataChanged(MediaMetadataCompat mediaMetadataCompat) throws RemoteException {
            throw new AssertionError();
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onQueueChanged(List<MediaSessionCompat$QueueItem> list) throws RemoteException {
            throw new AssertionError();
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onQueueTitleChanged(CharSequence charSequence) throws RemoteException {
            throw new AssertionError();
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onExtrasChanged(Bundle bundle) throws RemoteException {
            throw new AssertionError();
        }

        @Override // android.support.v4.media.session.MediaControllerCompat$Callback.StubCompat, android.support.v4.media.session.IMediaControllerCallback
        public void onVolumeInfoChanged(ParcelableVolumeInfo parcelableVolumeInfo) throws RemoteException {
            throw new AssertionError();
        }
    }
}


### **classes_dex_1/sources/android/support/v4/media/session/MediaControllerCompat$Callback.java** ###

package android.support.v4.media.session;

import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.IBinder;
import android.os.Message;
import android.os.RemoteException;
import android.support.v4.media.MediaMetadataCompat;
import android.support.v4.media.session.IMediaControllerCallback;
import android.support.v4.media.session.MediaControllerCompatApi21;
import java.lang.ref.WeakReference;
import java.util.List;

/* loaded from: /content/classes1.dex */
public abstract class MediaControllerCompat$Callback implements IBinder.DeathRecipient {
    private final Object mCallbackObj;
    MessageHandler mHandler;
    IMediaControllerCallback mIControllerCallback;

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public class MessageHandler extends Handler {
    }

    public void onAudioInfoChanged(MediaControllerCompat$PlaybackInfo mediaControllerCompat$PlaybackInfo) {
    }

    public void onExtrasChanged(Bundle bundle) {
    }

    public void onMetadataChanged(MediaMetadataCompat mediaMetadataCompat) {
    }

    public void onPlaybackStateChanged(PlaybackStateCompat playbackStateCompat) {
    }

    public void onQueueChanged(List<MediaSessionCompat$QueueItem> list) {
    }

    public void onQueueTitleChanged(CharSequence charSequence) {
    }

    public void onSessionDestroyed() {
    }

    public void onSessionEvent(String str, Bundle bundle) {
    }

    public void onSessionReady() {
    }

    public MediaControllerCompat$Callback() {
        if (Build.VERSION.SDK_INT >= 21) {
            this.mCallbackObj = MediaControllerCompatApi21.createCallback(new StubApi21(this));
        } else {
            this.mIControllerCallback = new StubCompat(this);
        }
    }

    @Override // android.os.IBinder.DeathRecipient
    public void binderDied() {
        onSessionDestroyed();
    }

    void postToHandler(int i, Object obj, Bundle bundle) {
        MessageHandler messageHandler = this.mHandler;
        if (messageHandler != null) {
            Message obtainMessage = messageHandler.obtainMessage(i, obj);
            obtainMessage.setData(bundle);
            obtainMessage.sendToTarget();
        }
    }

    /* loaded from: /content/classes1.dex */
    private static class StubApi21 implements MediaControllerCompatApi21.Callback {
        private final WeakReference<MediaControllerCompat$Callback> mCallback;

        StubApi21(MediaControllerCompat$Callback mediaControllerCompat$Callback) {
            this.mCallback = new WeakReference<>(mediaControllerCompat$Callback);
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onSessionDestroyed() {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onSessionDestroyed();
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onSessionEvent(String str, Bundle bundle) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                if (mediaControllerCompat$Callback.mIControllerCallback == null || Build.VERSION.SDK_INT >= 23) {
                    mediaControllerCompat$Callback.onSessionEvent(str, bundle);
                }
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onPlaybackStateChanged(Object obj) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback == null || mediaControllerCompat$Callback.mIControllerCallback != null) {
                return;
            }
            mediaControllerCompat$Callback.onPlaybackStateChanged(PlaybackStateCompat.fromPlaybackState(obj));
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onMetadataChanged(Object obj) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onMetadataChanged(MediaMetadataCompat.fromMediaMetadata(obj));
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onQueueChanged(List<?> list) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onQueueChanged(MediaSessionCompat$QueueItem.fromQueueItemList(list));
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onQueueTitleChanged(CharSequence charSequence) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onQueueTitleChanged(charSequence);
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onExtrasChanged(Bundle bundle) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onExtrasChanged(bundle);
            }
        }

        @Override // android.support.v4.media.session.MediaControllerCompatApi21.Callback
        public void onAudioInfoChanged(int i, int i2, int i3, int i4, int i5) {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.onAudioInfoChanged(new MediaControllerCompat$PlaybackInfo(i, i2, i3, i4, i5));
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes1.dex */
    public static class StubCompat extends IMediaControllerCallback.Stub {
        private final WeakReference<MediaControllerCompat$Callback> mCallback;

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onShuffleModeChangedRemoved(boolean z) throws RemoteException {
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public StubCompat(MediaControllerCompat$Callback mediaControllerCompat$Callback) {
            this.mCallback = new WeakReference<>(mediaControllerCompat$Callback);
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onEvent(String str, Bundle bundle) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(1, str, bundle);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onSessionDestroyed() throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(8, null, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onPlaybackStateChanged(PlaybackStateCompat playbackStateCompat) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(2, playbackStateCompat, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onMetadataChanged(MediaMetadataCompat mediaMetadataCompat) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(3, mediaMetadataCompat, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onQueueChanged(List<MediaSessionCompat$QueueItem> list) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(5, list, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onQueueTitleChanged(CharSequence charSequence) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(6, charSequence, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onCaptioningEnabledChanged(boolean z) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(11, Boolean.valueOf(z), null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onRepeatModeChanged(int i) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(9, Integer.valueOf(i), null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onShuffleModeChanged(int i) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(12, Integer.valueOf(i), null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onExtrasChanged(Bundle bundle) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(7, bundle, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onVolumeInfoChanged(ParcelableVolumeInfo parcelableVolumeInfo) throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(4, parcelableVolumeInfo != null ? new MediaControllerCompat$PlaybackInfo(parcelableVolumeInfo.volumeType, parcelableVolumeInfo.audioStream, parcelableVolumeInfo.controlType, parcelableVolumeInfo.maxVolume, parcelableVolumeInfo.currentVolume) : null, null);
            }
        }

        @Override // android.support.v4.media.session.IMediaControllerCallback
        public void onSessionReady() throws RemoteException {
            MediaControllerCompat$Callback mediaControllerCompat$Callback = this.mCallback.get();
            if (mediaControllerCompat$Callback != null) {
                mediaControllerCompat$Callback.postToHandler(13, null, null);
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/widget/EdgeEffectCompat.java** ###

package android.support.v4.widget;

import android.os.Build;
import android.widget.EdgeEffect;

/* loaded from: /content/classes1.dex */
public final class EdgeEffectCompat {
    public static void onPull(EdgeEffect edgeEffect, float f, float f2) {
        if (Build.VERSION.SDK_INT >= 21) {
            edgeEffect.onPull(f, f2);
        } else {
            edgeEffect.onPull(f);
        }
    }
}


### **classes_dex_1/sources/android/support/v4/widget/NestedScrollView$SavedState.java** ###

package android.support.v4.widget;

import android.os.Parcel;
import android.os.Parcelable;
import android.view.View;

/* loaded from: /content/classes1.dex */
class NestedScrollView$SavedState extends View.BaseSavedState {
    public static final Parcelable.Creator<NestedScrollView$SavedState> CREATOR = new Parcelable.Creator<NestedScrollView$SavedState>() { // from class: android.support.v4.widget.NestedScrollView$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public NestedScrollView$SavedState createFromParcel(Parcel parcel) {
            return new NestedScrollView$SavedState(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public NestedScrollView$SavedState[] newArray(int i) {
            return new NestedScrollView$SavedState[i];
        }
    };
    public int scrollPosition;

    NestedScrollView$SavedState(Parcel parcel) {
        super(parcel);
        this.scrollPosition = parcel.readInt();
    }

    @Override // android.view.View.BaseSavedState, android.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeInt(this.scrollPosition);
    }

    public String toString() {
        return "HorizontalScrollView.SavedState{" + Integer.toHexString(System.identityHashCode(this)) + " scrollPosition=" + this.scrollPosition + "}";
    }
}


### **classes_dex_1/sources/android/support/v4/widget/DrawerLayout$SavedState.java** ###

package android.support.v4.widget;

import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.view.AbsSavedState;

/* loaded from: /content/classes1.dex */
public class DrawerLayout$SavedState extends AbsSavedState {
    public static final Parcelable.Creator<DrawerLayout$SavedState> CREATOR = new Parcelable.ClassLoaderCreator<DrawerLayout$SavedState>() { // from class: android.support.v4.widget.DrawerLayout$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.ClassLoaderCreator
        public DrawerLayout$SavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
            return new DrawerLayout$SavedState(parcel, classLoader);
        }

        @Override // android.os.Parcelable.Creator
        public DrawerLayout$SavedState createFromParcel(Parcel parcel) {
            return new DrawerLayout$SavedState(parcel, null);
        }

        @Override // android.os.Parcelable.Creator
        public DrawerLayout$SavedState[] newArray(int i) {
            return new DrawerLayout$SavedState[i];
        }
    };
    int lockModeEnd;
    int lockModeLeft;
    int lockModeRight;
    int lockModeStart;
    int openDrawerGravity;

    public DrawerLayout$SavedState(Parcel parcel, ClassLoader classLoader) {
        super(parcel, classLoader);
        this.openDrawerGravity = 0;
        this.openDrawerGravity = parcel.readInt();
        this.lockModeLeft = parcel.readInt();
        this.lockModeRight = parcel.readInt();
        this.lockModeStart = parcel.readInt();
        this.lockModeEnd = parcel.readInt();
    }

    @Override // android.support.v4.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeInt(this.openDrawerGravity);
        parcel.writeInt(this.lockModeLeft);
        parcel.writeInt(this.lockModeRight);
        parcel.writeInt(this.lockModeStart);
        parcel.writeInt(this.lockModeEnd);
    }
}


### **classes_dex_1/sources/android/support/v4/widget/ViewDragHelper.java** ###

package android.support.v4.widget;

import android.content.Context;
import android.support.v4.view.ViewCompat;
import android.util.Log;
import android.view.MotionEvent;
import android.view.VelocityTracker;
import android.view.View;
import android.view.ViewConfiguration;
import android.view.ViewGroup;
import android.view.animation.Interpolator;
import android.widget.OverScroller;
import java.util.Arrays;

/* loaded from: /content/classes1.dex */
public class ViewDragHelper {
    private static final Interpolator sInterpolator = new Interpolator() { // from class: android.support.v4.widget.ViewDragHelper.1
        @Override // android.animation.TimeInterpolator
        public float getInterpolation(float f) {
            float f2 = f - 1.0f;
            return (f2 * f2 * f2 * f2 * f2) + 1.0f;
        }
    };
    private final Callback mCallback;
    private View mCapturedView;
    private int mDragState;
    private int[] mEdgeDragsInProgress;
    private int[] mEdgeDragsLocked;
    private int mEdgeSize;
    private int[] mInitialEdgesTouched;
    private float[] mInitialMotionX;
    private float[] mInitialMotionY;
    private float[] mLastMotionX;
    private float[] mLastMotionY;
    private float mMaxVelocity;
    private float mMinVelocity;
    private final ViewGroup mParentView;
    private int mPointersDown;
    private OverScroller mScroller;
    private int mTouchSlop;
    private int mTrackingEdges;
    private VelocityTracker mVelocityTracker;
    private int mActivePointerId = -1;
    private final Runnable mSetIdleRunnable = new Runnable() { // from class: android.support.v4.widget.ViewDragHelper.2
        @Override // java.lang.Runnable
        public void run() {
            ViewDragHelper.this.setDragState(0);
        }
    };

    /* loaded from: /content/classes1.dex */
    public static abstract class Callback {
        public int clampViewPositionHorizontal(View view, int i, int i2) {
            return 0;
        }

        public abstract int clampViewPositionVertical(View view, int i, int i2);

        public abstract int getOrderedChildIndex(int i);

        public int getViewHorizontalDragRange(View view) {
            return 0;
        }

        public abstract int getViewVerticalDragRange(View view);

        public void onEdgeDragStarted(int i, int i2) {
        }

        public boolean onEdgeLock(int i) {
            return false;
        }

        public void onEdgeTouched(int i, int i2) {
        }

        public void onViewCaptured(View view, int i) {
        }

        public void onViewDragStateChanged(int i) {
        }

        public abstract void onViewPositionChanged(View view, int i, int i2, int i3, int i4);

        public abstract void onViewReleased(View view, float f, float f2);

        public abstract boolean tryCaptureView(View view, int i);
    }

    public static ViewDragHelper create(ViewGroup viewGroup, Callback callback) {
        return new ViewDragHelper(viewGroup.getContext(), viewGroup, callback);
    }

    private ViewDragHelper(Context context, ViewGroup viewGroup, Callback callback) {
        if (viewGroup == null) {
            throw new IllegalArgumentException("Parent view may not be null");
        }
        if (callback == null) {
            throw new IllegalArgumentException("Callback may not be null");
        }
        this.mParentView = viewGroup;
        this.mCallback = callback;
        ViewConfiguration viewConfiguration = ViewConfiguration.get(context);
        this.mEdgeSize = (int) ((context.getResources().getDisplayMetrics().density * 20.0f) + 0.5f);
        this.mTouchSlop = viewConfiguration.getScaledTouchSlop();
        this.mMaxVelocity = viewConfiguration.getScaledMaximumFlingVelocity();
        this.mMinVelocity = viewConfiguration.getScaledMinimumFlingVelocity();
        this.mScroller = new OverScroller(context, sInterpolator);
    }

    public void captureChildView(View view, int i) {
        if (view.getParent() != this.mParentView) {
            throw new IllegalArgumentException("captureChildView: parameter must be a descendant of the ViewDragHelper's tracked parent view (" + this.mParentView + ")");
        }
        this.mCapturedView = view;
        this.mActivePointerId = i;
        this.mCallback.onViewCaptured(view, i);
        setDragState(1);
    }

    public void cancel() {
        this.mActivePointerId = -1;
        clearMotionHistory();
        VelocityTracker velocityTracker = this.mVelocityTracker;
        if (velocityTracker != null) {
            velocityTracker.recycle();
            this.mVelocityTracker = null;
        }
    }

    public boolean smoothSlideViewTo(View view, int i, int i2) {
        this.mCapturedView = view;
        this.mActivePointerId = -1;
        boolean forceSettleCapturedViewAt = forceSettleCapturedViewAt(i, i2, 0, 0);
        if (!forceSettleCapturedViewAt && this.mDragState == 0 && this.mCapturedView != null) {
            this.mCapturedView = null;
        }
        return forceSettleCapturedViewAt;
    }

    private boolean forceSettleCapturedViewAt(int i, int i2, int i3, int i4) {
        int left = this.mCapturedView.getLeft();
        int top = this.mCapturedView.getTop();
        int i5 = i - left;
        int i6 = i2 - top;
        if (i5 == 0 && i6 == 0) {
            this.mScroller.abortAnimation();
            setDragState(0);
            return false;
        }
        this.mScroller.startScroll(left, top, i5, i6, computeSettleDuration(this.mCapturedView, i5, i6, i3, i4));
        setDragState(2);
        return true;
    }

    private int computeSettleDuration(View view, int i, int i2, int i3, int i4) {
        float f;
        float f2;
        float f3;
        float f4;
        int clampMag = clampMag(i3, (int) this.mMinVelocity, (int) this.mMaxVelocity);
        int clampMag2 = clampMag(i4, (int) this.mMinVelocity, (int) this.mMaxVelocity);
        int abs = Math.abs(i);
        int abs2 = Math.abs(i2);
        int abs3 = Math.abs(clampMag);
        int abs4 = Math.abs(clampMag2);
        int i5 = abs3 + abs4;
        int i6 = abs + abs2;
        if (clampMag != 0) {
            f = abs3;
            f2 = i5;
        } else {
            f = abs;
            f2 = i6;
        }
        float f5 = f / f2;
        if (clampMag2 != 0) {
            f3 = abs4;
            f4 = i5;
        } else {
            f3 = abs2;
            f4 = i6;
        }
        return (int) ((computeAxisDuration(i, clampMag, this.mCallback.getViewHorizontalDragRange(view)) * f5) + (computeAxisDuration(i2, clampMag2, this.mCallback.getViewVerticalDragRange(view)) * (f3 / f4)));
    }

    private int computeAxisDuration(int i, int i2, int i3) {
        int abs;
        if (i == 0) {
            return 0;
        }
        int width = this.mParentView.getWidth();
        float f = width / 2;
        float distanceInfluenceForSnapDuration = f + (distanceInfluenceForSnapDuration(Math.min(1.0f, Math.abs(i) / width)) * f);
        int abs2 = Math.abs(i2);
        if (abs2 > 0) {
            abs = Math.round(Math.abs(distanceInfluenceForSnapDuration / abs2) * 1000.0f) * 4;
        } else {
            abs = (int) (((Math.abs(i) / i3) + 1.0f) * 256.0f);
        }
        return Math.min(abs, 600);
    }

    private int clampMag(int i, int i2, int i3) {
        int abs = Math.abs(i);
        if (abs < i2) {
            return 0;
        }
        return abs > i3 ? i > 0 ? i3 : -i3 : i;
    }

    private float clampMag(float f, float f2, float f3) {
        float abs = Math.abs(f);
        if (abs < f2) {
            return 0.0f;
        }
        return abs > f3 ? f > 0.0f ? f3 : -f3 : f;
    }

    private float distanceInfluenceForSnapDuration(float f) {
        return (float) Math.sin((f - 0.5f) * 0.47123894f);
    }

    public boolean continueSettling(boolean z) {
        if (this.mDragState == 2) {
            boolean computeScrollOffset = this.mScroller.computeScrollOffset();
            int currX = this.mScroller.getCurrX();
            int currY = this.mScroller.getCurrY();
            int left = currX - this.mCapturedView.getLeft();
            int top = currY - this.mCapturedView.getTop();
            if (left != 0) {
                ViewCompat.offsetLeftAndRight(this.mCapturedView, left);
            }
            if (top != 0) {
                ViewCompat.offsetTopAndBottom(this.mCapturedView, top);
            }
            if (left != 0 || top != 0) {
                this.mCallback.onViewPositionChanged(this.mCapturedView, currX, currY, left, top);
            }
            if (computeScrollOffset && currX == this.mScroller.getFinalX() && currY == this.mScroller.getFinalY()) {
                this.mScroller.abortAnimation();
                computeScrollOffset = false;
            }
            if (!computeScrollOffset) {
                if (z) {
                    this.mParentView.post(this.mSetIdleRunnable);
                } else {
                    setDragState(0);
                }
            }
        }
        return this.mDragState == 2;
    }

    private void dispatchViewReleased(float f, float f2) {
        this.mCallback.onViewReleased(this.mCapturedView, f, f2);
        if (this.mDragState == 1) {
            setDragState(0);
        }
    }

    private void clearMotionHistory() {
        float[] fArr = this.mInitialMotionX;
        if (fArr == null) {
            return;
        }
        Arrays.fill(fArr, 0.0f);
        Arrays.fill(this.mInitialMotionY, 0.0f);
        Arrays.fill(this.mLastMotionX, 0.0f);
        Arrays.fill(this.mLastMotionY, 0.0f);
        Arrays.fill(this.mInitialEdgesTouched, 0);
        Arrays.fill(this.mEdgeDragsInProgress, 0);
        Arrays.fill(this.mEdgeDragsLocked, 0);
        this.mPointersDown = 0;
    }

    private void clearMotionHistory(int i) {
        if (this.mInitialMotionX == null || !isPointerDown(i)) {
            return;
        }
        this.mInitialMotionX[i] = 0.0f;
        this.mInitialMotionY[i] = 0.0f;
        this.mLastMotionX[i] = 0.0f;
        this.mLastMotionY[i] = 0.0f;
        this.mInitialEdgesTouched[i] = 0;
        this.mEdgeDragsInProgress[i] = 0;
        this.mEdgeDragsLocked[i] = 0;
        this.mPointersDown = (~(1 << i)) & this.mPointersDown;
    }

    private void ensureMotionHistorySizeForId(int i) {
        float[] fArr = this.mInitialMotionX;
        if (fArr == null || fArr.length <= i) {
            int i2 = i + 1;
            float[] fArr2 = new float[i2];
            float[] fArr3 = new float[i2];
            float[] fArr4 = new float[i2];
            float[] fArr5 = new float[i2];
            int[] iArr = new int[i2];
            int[] iArr2 = new int[i2];
            int[] iArr3 = new int[i2];
            float[] fArr6 = this.mInitialMotionX;
            if (fArr6 != null) {
                System.arraycopy(fArr6, 0, fArr2, 0, fArr6.length);
                float[] fArr7 = this.mInitialMotionY;
                System.arraycopy(fArr7, 0, fArr3, 0, fArr7.length);
                float[] fArr8 = this.mLastMotionX;
                System.arraycopy(fArr8, 0, fArr4, 0, fArr8.length);
                float[] fArr9 = this.mLastMotionY;
                System.arraycopy(fArr9, 0, fArr5, 0, fArr9.length);
                int[] iArr4 = this.mInitialEdgesTouched;
                System.arraycopy(iArr4, 0, iArr, 0, iArr4.length);
                int[] iArr5 = this.mEdgeDragsInProgress;
                System.arraycopy(iArr5, 0, iArr2, 0, iArr5.length);
                int[] iArr6 = this.mEdgeDragsLocked;
                System.arraycopy(iArr6, 0, iArr3, 0, iArr6.length);
            }
            this.mInitialMotionX = fArr2;
            this.mInitialMotionY = fArr3;
            this.mLastMotionX = fArr4;
            this.mLastMotionY = fArr5;
            this.mInitialEdgesTouched = iArr;
            this.mEdgeDragsInProgress = iArr2;
            this.mEdgeDragsLocked = iArr3;
        }
    }

    private void saveInitialMotion(float f, float f2, int i) {
        ensureMotionHistorySizeForId(i);
        float[] fArr = this.mInitialMotionX;
        this.mLastMotionX[i] = f;
        fArr[i] = f;
        float[] fArr2 = this.mInitialMotionY;
        this.mLastMotionY[i] = f2;
        fArr2[i] = f2;
        this.mInitialEdgesTouched[i] = getEdgesTouched((int) f, (int) f2);
        this.mPointersDown |= 1 << i;
    }

    private void saveLastMotion(MotionEvent motionEvent) {
        int pointerCount = motionEvent.getPointerCount();
        for (int i = 0; i < pointerCount; i++) {
            int pointerId = motionEvent.getPointerId(i);
            if (isValidPointerForActionMove(pointerId)) {
                float x = motionEvent.getX(i);
                float y = motionEvent.getY(i);
                this.mLastMotionX[pointerId] = x;
                this.mLastMotionY[pointerId] = y;
            }
        }
    }

    public boolean isPointerDown(int i) {
        return (this.mPointersDown & (1 << i)) != 0;
    }

    void setDragState(int i) {
        this.mParentView.removeCallbacks(this.mSetIdleRunnable);
        if (this.mDragState != i) {
            this.mDragState = i;
            this.mCallback.onViewDragStateChanged(i);
            if (this.mDragState == 0) {
                this.mCapturedView = null;
            }
        }
    }

    boolean tryCaptureViewForDrag(View view, int i) {
        if (view == this.mCapturedView && this.mActivePointerId == i) {
            return true;
        }
        if (view == null || !this.mCallback.tryCaptureView(view, i)) {
            return false;
        }
        this.mActivePointerId = i;
        captureChildView(view, i);
        return true;
    }

    /* JADX WARN: Code restructure failed: missing block: B:51:0x00dd, code lost:
    
        if (r12 != r11) goto L54;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public boolean shouldInterceptTouchEvent(android.view.MotionEvent r17) {
        /*
            Method dump skipped, instructions count: 315
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: android.support.v4.widget.ViewDragHelper.shouldInterceptTouchEvent(android.view.MotionEvent):boolean");
    }

    public void processTouchEvent(MotionEvent motionEvent) {
        int i;
        int actionMasked = motionEvent.getActionMasked();
        int actionIndex = motionEvent.getActionIndex();
        if (actionMasked == 0) {
            cancel();
        }
        if (this.mVelocityTracker == null) {
            this.mVelocityTracker = VelocityTracker.obtain();
        }
        this.mVelocityTracker.addMovement(motionEvent);
        int i2 = 0;
        if (actionMasked == 0) {
            float x = motionEvent.getX();
            float y = motionEvent.getY();
            int pointerId = motionEvent.getPointerId(0);
            View findTopChildUnder = findTopChildUnder((int) x, (int) y);
            saveInitialMotion(x, y, pointerId);
            tryCaptureViewForDrag(findTopChildUnder, pointerId);
            int i3 = this.mInitialEdgesTouched[pointerId];
            int i4 = this.mTrackingEdges;
            if ((i3 & i4) != 0) {
                this.mCallback.onEdgeTouched(i3 & i4, pointerId);
                return;
            }
            return;
        }
        if (actionMasked == 1) {
            if (this.mDragState == 1) {
                releaseViewForPointerUp();
            }
            cancel();
            return;
        }
        if (actionMasked == 2) {
            if (this.mDragState == 1) {
                if (isValidPointerForActionMove(this.mActivePointerId)) {
                    int findPointerIndex = motionEvent.findPointerIndex(this.mActivePointerId);
                    float x2 = motionEvent.getX(findPointerIndex);
                    float y2 = motionEvent.getY(findPointerIndex);
                    float[] fArr = this.mLastMotionX;
                    int i5 = this.mActivePointerId;
                    int i6 = (int) (x2 - fArr[i5]);
                    int i7 = (int) (y2 - this.mLastMotionY[i5]);
                    dragTo(this.mCapturedView.getLeft() + i6, this.mCapturedView.getTop() + i7, i6, i7);
                    saveLastMotion(motionEvent);
                    return;
                }
                return;
            }
            int pointerCount = motionEvent.getPointerCount();
            while (i2 < pointerCount) {
                int pointerId2 = motionEvent.getPointerId(i2);
                if (isValidPointerForActionMove(pointerId2)) {
                    float x3 = motionEvent.getX(i2);
                    float y3 = motionEvent.getY(i2);
                    float f = x3 - this.mInitialMotionX[pointerId2];
                    float f2 = y3 - this.mInitialMotionY[pointerId2];
                    reportNewEdgeDrags(f, f2, pointerId2);
                    if (this.mDragState != 1) {
                        View findTopChildUnder2 = findTopChildUnder((int) x3, (int) y3);
                        if (checkTouchSlop(findTopChildUnder2, f, f2) && tryCaptureViewForDrag(findTopChildUnder2, pointerId2)) {
                            break;
                        }
                    } else {
                        break;
                    }
                }
                i2++;
            }
            saveLastMotion(motionEvent);
            return;
        }
        if (actionMasked == 3) {
            if (this.mDragState == 1) {
                dispatchViewReleased(0.0f, 0.0f);
            }
            cancel();
            return;
        }
        if (actionMasked == 5) {
            int pointerId3 = motionEvent.getPointerId(actionIndex);
            float x4 = motionEvent.getX(actionIndex);
            float y4 = motionEvent.getY(actionIndex);
            saveInitialMotion(x4, y4, pointerId3);
            if (this.mDragState == 0) {
                tryCaptureViewForDrag(findTopChildUnder((int) x4, (int) y4), pointerId3);
                int i8 = this.mInitialEdgesTouched[pointerId3];
                int i9 = this.mTrackingEdges;
                if ((i8 & i9) != 0) {
                    this.mCallback.onEdgeTouched(i8 & i9, pointerId3);
                    return;
                }
                return;
            }
            if (isCapturedViewUnder((int) x4, (int) y4)) {
                tryCaptureViewForDrag(this.mCapturedView, pointerId3);
                return;
            }
            return;
        }
        if (actionMasked != 6) {
            return;
        }
        int pointerId4 = motionEvent.getPointerId(actionIndex);
        if (this.mDragState == 1 && pointerId4 == this.mActivePointerId) {
            int pointerCount2 = motionEvent.getPointerCount();
            while (true) {
                if (i2 >= pointerCount2) {
                    i = -1;
                    break;
                }
                int pointerId5 = motionEvent.getPointerId(i2);
                if (pointerId5 != this.mActivePointerId) {
                    View findTopChildUnder3 = findTopChildUnder((int) motionEvent.getX(i2), (int) motionEvent.getY(i2));
                    View view = this.mCapturedView;
                    if (findTopChildUnder3 == view && tryCaptureViewForDrag(view, pointerId5)) {
                        i = this.mActivePointerId;
                        break;
                    }
                }
                i2++;
            }
            if (i == -1) {
                releaseViewForPointerUp();
            }
        }
        clearMotionHistory(pointerId4);
    }

    private void reportNewEdgeDrags(float f, float f2, int i) {
        int i2 = checkNewEdgeDrag(f, f2, i, 1) ? 1 : 0;
        if (checkNewEdgeDrag(f2, f, i, 4)) {
            i2 |= 4;
        }
        if (checkNewEdgeDrag(f, f2, i, 2)) {
            i2 |= 2;
        }
        if (checkNewEdgeDrag(f2, f, i, 8)) {
            i2 |= 8;
        }
        if (i2 != 0) {
            int[] iArr = this.mEdgeDragsInProgress;
            iArr[i] = iArr[i] | i2;
            this.mCallback.onEdgeDragStarted(i2, i);
        }
    }

    private boolean checkNewEdgeDrag(float f, float f2, int i, int i2) {
        float abs = Math.abs(f);
        float abs2 = Math.abs(f2);
        if ((this.mInitialEdgesTouched[i] & i2) != i2 || (this.mTrackingEdges & i2) == 0 || (this.mEdgeDragsLocked[i] & i2) == i2 || (this.mEdgeDragsInProgress[i] & i2) == i2) {
            return false;
        }
        int i3 = this.mTouchSlop;
        if (abs <= i3 && abs2 <= i3) {
            return false;
        }
        if (abs >= abs2 * 0.5f || !this.mCallback.onEdgeLock(i2)) {
            return (this.mEdgeDragsInProgress[i] & i2) == 0 && abs > ((float) this.mTouchSlop);
        }
        int[] iArr = this.mEdgeDragsLocked;
        iArr[i] = iArr[i] | i2;
        return false;
    }

    private boolean checkTouchSlop(View view, float f, float f2) {
        if (view == null) {
            return false;
        }
        boolean z = this.mCallback.getViewHorizontalDragRange(view) > 0;
        boolean z2 = this.mCallback.getViewVerticalDragRange(view) > 0;
        if (!z || !z2) {
            return z ? Math.abs(f) > ((float) this.mTouchSlop) : z2 && Math.abs(f2) > ((float) this.mTouchSlop);
        }
        float f3 = (f * f) + (f2 * f2);
        int i = this.mTouchSlop;
        return f3 > ((float) (i * i));
    }

    private void releaseViewForPointerUp() {
        this.mVelocityTracker.computeCurrentVelocity(1000, this.mMaxVelocity);
        dispatchViewReleased(clampMag(this.mVelocityTracker.getXVelocity(this.mActivePointerId), this.mMinVelocity, this.mMaxVelocity), clampMag(this.mVelocityTracker.getYVelocity(this.mActivePointerId), this.mMinVelocity, this.mMaxVelocity));
    }

    private void dragTo(int i, int i2, int i3, int i4) {
        int left = this.mCapturedView.getLeft();
        int top = this.mCapturedView.getTop();
        if (i3 != 0) {
            i = this.mCallback.clampViewPositionHorizontal(this.mCapturedView, i, i3);
            ViewCompat.offsetLeftAndRight(this.mCapturedView, i - left);
        }
        int i5 = i;
        if (i4 != 0) {
            i2 = this.mCallback.clampViewPositionVertical(this.mCapturedView, i2, i4);
            ViewCompat.offsetTopAndBottom(this.mCapturedView, i2 - top);
        }
        int i6 = i2;
        if (i3 == 0 && i4 == 0) {
            return;
        }
        this.mCallback.onViewPositionChanged(this.mCapturedView, i5, i6, i5 - left, i6 - top);
    }

    public boolean isCapturedViewUnder(int i, int i2) {
        return isViewUnder(this.mCapturedView, i, i2);
    }

    public boolean isViewUnder(View view, int i, int i2) {
        return view != null && i >= view.getLeft() && i < view.getRight() && i2 >= view.getTop() && i2 < view.getBottom();
    }

    public View findTopChildUnder(int i, int i2) {
        for (int childCount = this.mParentView.getChildCount() - 1; childCount >= 0; childCount--) {
            View childAt = this.mParentView.getChildAt(this.mCallback.getOrderedChildIndex(childCount));
            if (i >= childAt.getLeft() && i < childAt.getRight() && i2 >= childAt.getTop() && i2 < childAt.getBottom()) {
                return childAt;
            }
        }
        return null;
    }

    private int getEdgesTouched(int i, int i2) {
        int i3 = i < this.mParentView.getLeft() + this.mEdgeSize ? 1 : 0;
        if (i2 < this.mParentView.getTop() + this.mEdgeSize) {
            i3 |= 4;
        }
        if (i > this.mParentView.getRight() - this.mEdgeSize) {
            i3 |= 2;
        }
        return i2 > this.mParentView.getBottom() - this.mEdgeSize ? i3 | 8 : i3;
    }

    private boolean isValidPointerForActionMove(int i) {
        if (isPointerDown(i)) {
            return true;
        }
        Log.e("ViewDragHelper", "Ignoring pointerId=" + i + " because ACTION_DOWN was not received for this pointer before ACTION_MOVE. It likely happened because  ViewDragHelper did not receive all the events in the event stream.");
        return false;
    }
}


### **classes_dex_1/sources/android/support/v4/widget/SlidingPaneLayout$SavedState.java** ###

package android.support.v4.widget;

import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.view.AbsSavedState;

/* loaded from: /content/classes1.dex */
class SlidingPaneLayout$SavedState extends AbsSavedState {
    public static final Parcelable.Creator<SlidingPaneLayout$SavedState> CREATOR = new Parcelable.ClassLoaderCreator<SlidingPaneLayout$SavedState>() { // from class: android.support.v4.widget.SlidingPaneLayout$SavedState.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.ClassLoaderCreator
        public SlidingPaneLayout$SavedState createFromParcel(Parcel parcel, ClassLoader classLoader) {
            return new SlidingPaneLayout$SavedState(parcel, null);
        }

        @Override // android.os.Parcelable.Creator
        public SlidingPaneLayout$SavedState createFromParcel(Parcel parcel) {
            return new SlidingPaneLayout$SavedState(parcel, null);
        }

        @Override // android.os.Parcelable.Creator
        public SlidingPaneLayout$SavedState[] newArray(int i) {
            return new SlidingPaneLayout$SavedState[i];
        }
    };
    boolean isOpen;

    SlidingPaneLayout$SavedState(Parcel parcel, ClassLoader classLoader) {
        super(parcel, classLoader);
        this.isOpen = parcel.readInt() != 0;
    }

    @Override // android.support.v4.view.AbsSavedState, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeInt(this.isOpen ? 1 : 0);
    }
}


### **classes_dex_1/sources/android/support/v4/os/ResultReceiver.java** ###

package android.support.v4.os;

import android.os.Bundle;
import android.os.Handler;
import android.os.Parcel;
import android.os.Parcelable;
import android.support.v4.os.IResultReceiver;

/* loaded from: /content/classes1.dex */
public class ResultReceiver implements Parcelable {
    public static final Parcelable.Creator<ResultReceiver> CREATOR = new Parcelable.Creator<ResultReceiver>() { // from class: android.support.v4.os.ResultReceiver.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ResultReceiver createFromParcel(Parcel parcel) {
            return new ResultReceiver(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ResultReceiver[] newArray(int i) {
            return new ResultReceiver[i];
        }
    };
    final Handler mHandler = null;
    IResultReceiver mReceiver;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    protected void onReceiveResult(int i, Bundle bundle) {
    }

    /* loaded from: /content/classes1.dex */
    class MyRunnable implements Runnable {
        final int mResultCode;
        final Bundle mResultData;

        MyRunnable(int i, Bundle bundle) {
            this.mResultCode = i;
            this.mResultData = bundle;
        }

        @Override // java.lang.Runnable
        public void run() {
            ResultReceiver.this.onReceiveResult(this.mResultCode, this.mResultData);
        }
    }

    /* loaded from: /content/classes1.dex */
    class MyResultReceiver extends IResultReceiver.Stub {
        MyResultReceiver() {
        }

        @Override // android.support.v4.os.IResultReceiver
        public void send(int i, Bundle bundle) {
            ResultReceiver resultReceiver = ResultReceiver.this;
            Handler handler = resultReceiver.mHandler;
            if (handler != null) {
                handler.post(new MyRunnable(i, bundle));
            } else {
                resultReceiver.onReceiveResult(i, bundle);
            }
        }
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        synchronized (this) {
            if (this.mReceiver == null) {
                this.mReceiver = new MyResultReceiver();
            }
            parcel.writeStrongBinder(this.mReceiver.asBinder());
        }
    }

    ResultReceiver(Parcel parcel) {
        this.mReceiver = IResultReceiver.Stub.asInterface(parcel.readStrongBinder());
    }
}


### **classes_dex_1/sources/android/support/v4/os/IResultReceiver.java** ###

package android.support.v4.os;

import android.os.Binder;
import android.os.Bundle;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.RemoteException;

/* loaded from: /content/classes1.dex */
public interface IResultReceiver extends IInterface {
    void send(int i, Bundle bundle) throws RemoteException;

    /* loaded from: /content/classes1.dex */
    public static abstract class Stub extends Binder implements IResultReceiver {
        @Override // android.os.IInterface
        public IBinder asBinder() {
            return this;
        }

        public Stub() {
            attachInterface(this, "android.support.v4.os.IResultReceiver");
        }

        public static IResultReceiver asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("android.support.v4.os.IResultReceiver");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IResultReceiver)) {
                return (IResultReceiver) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        @Override // android.os.Binder
        public boolean onTransact(int i, Parcel parcel, Parcel parcel2, int i2) throws RemoteException {
            if (i == 1) {
                parcel.enforceInterface("android.support.v4.os.IResultReceiver");
                send(parcel.readInt(), parcel.readInt() != 0 ? (Bundle) Bundle.CREATOR.createFromParcel(parcel) : null);
                return true;
            }
            if (i == 1598968902) {
                parcel2.writeString("android.support.v4.os.IResultReceiver");
                return true;
            }
            return super.onTransact(i, parcel, parcel2, i2);
        }

        /* loaded from: /content/classes1.dex */
        private static class Proxy implements IResultReceiver {
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }

            @Override // android.support.v4.os.IResultReceiver
            public void send(int i, Bundle bundle) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("android.support.v4.os.IResultReceiver");
                    obtain.writeInt(i);
                    if (bundle != null) {
                        obtain.writeInt(1);
                        bundle.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    this.mRemote.transact(1, obtain, null, 1);
                } finally {
                    obtain.recycle();
                }
            }
        }
    }
}


### **classes_dex_1/sources/android/support/v4/os/TraceCompat.java** ###

package android.support.v4.os;

import android.os.Build;
import android.os.Trace;

/* loaded from: /content/classes1.dex */
public final class TraceCompat {
    public static void beginSection(String str) {
        if (Build.VERSION.SDK_INT >= 18) {
            Trace.beginSection(str);
        }
    }

    public static void endSection() {
        if (Build.VERSION.SDK_INT >= 18) {
            Trace.endSection();
        }
    }
}


### **classes_dex_1/sources/androidx/versionedparcelable/VersionedParcelable.java** ###

package androidx.versionedparcelable;

/* loaded from: /content/classes1.dex */
public interface VersionedParcelable {
}


### **classes_dex_1/sources/androidx/versionedparcelable/VersionedParcel.java** ###

package androidx.versionedparcelable;

import java.lang.reflect.InvocationTargetException;

/* loaded from: /content/classes1.dex */
public abstract class VersionedParcel {
    protected abstract void closeField();

    protected abstract VersionedParcel createSubParcel();

    protected abstract String readString();

    protected abstract void writeString(String str);

    /* JADX INFO: Access modifiers changed from: protected */
    public void writeVersionedParcelable(VersionedParcelable versionedParcelable) {
        if (versionedParcelable == null) {
            writeString(null);
            return;
        }
        writeVersionedParcelableCreator(versionedParcelable);
        VersionedParcel createSubParcel = createSubParcel();
        writeToParcel(versionedParcelable, createSubParcel);
        createSubParcel.closeField();
    }

    private void writeVersionedParcelableCreator(VersionedParcelable versionedParcelable) {
        try {
            writeString(findParcelClass((Class<? extends VersionedParcelable>) versionedParcelable.getClass()).getName());
        } catch (ClassNotFoundException e) {
            throw new RuntimeException(versionedParcelable.getClass().getSimpleName() + " does not have a Parcelizer", e);
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    public <T extends VersionedParcelable> T readVersionedParcelable() {
        String readString = readString();
        if (readString == null) {
            return null;
        }
        return (T) readFromParcel(readString, createSubParcel());
    }

    protected static <T extends VersionedParcelable> T readFromParcel(String str, VersionedParcel versionedParcel) {
        try {
            return (T) Class.forName(str, true, VersionedParcel.class.getClassLoader()).getDeclaredMethod("read", VersionedParcel.class).invoke(null, versionedParcel);
        } catch (ClassNotFoundException e) {
            throw new RuntimeException("VersionedParcel encountered ClassNotFoundException", e);
        } catch (IllegalAccessException e2) {
            throw new RuntimeException("VersionedParcel encountered IllegalAccessException", e2);
        } catch (NoSuchMethodException e3) {
            throw new RuntimeException("VersionedParcel encountered NoSuchMethodException", e3);
        } catch (InvocationTargetException e4) {
            if (e4.getCause() instanceof RuntimeException) {
                throw ((RuntimeException) e4.getCause());
            }
            throw new RuntimeException("VersionedParcel encountered InvocationTargetException", e4);
        }
    }

    protected static <T extends VersionedParcelable> void writeToParcel(T t, VersionedParcel versionedParcel) {
        try {
            findParcelClass(t).getDeclaredMethod("write", t.getClass(), VersionedParcel.class).invoke(null, t, versionedParcel);
        } catch (ClassNotFoundException e) {
            throw new RuntimeException("VersionedParcel encountered ClassNotFoundException", e);
        } catch (IllegalAccessException e2) {
            throw new RuntimeException("VersionedParcel encountered IllegalAccessException", e2);
        } catch (NoSuchMethodException e3) {
            throw new RuntimeException("VersionedParcel encountered NoSuchMethodException", e3);
        } catch (InvocationTargetException e4) {
            if (e4.getCause() instanceof RuntimeException) {
                throw ((RuntimeException) e4.getCause());
            }
            throw new RuntimeException("VersionedParcel encountered InvocationTargetException", e4);
        }
    }

    private static <T extends VersionedParcelable> Class findParcelClass(T t) throws ClassNotFoundException {
        return findParcelClass((Class<? extends VersionedParcelable>) t.getClass());
    }

    private static Class findParcelClass(Class<? extends VersionedParcelable> cls) throws ClassNotFoundException {
        return Class.forName(String.format("%s.%sParcelizer", cls.getPackage().getName(), cls.getSimpleName()), false, cls.getClassLoader());
    }
}


### **classes_dex_1/sources/androidx/versionedparcelable/VersionedParcelParcel.java** ###

package androidx.versionedparcelable;

import android.os.Parcel;
import android.util.SparseIntArray;

/* loaded from: /content/classes1.dex */
class VersionedParcelParcel extends VersionedParcel {
    private int mCurrentField;
    private final int mEnd;
    private int mNextRead;
    private final int mOffset;
    private final Parcel mParcel;
    private final SparseIntArray mPositionLookup;
    private final String mPrefix;

    /* JADX INFO: Access modifiers changed from: package-private */
    public VersionedParcelParcel(Parcel parcel) {
        this(parcel, parcel.dataPosition(), parcel.dataSize(), "");
    }

    VersionedParcelParcel(Parcel parcel, int i, int i2, String str) {
        this.mPositionLookup = new SparseIntArray();
        this.mCurrentField = -1;
        this.mNextRead = 0;
        this.mParcel = parcel;
        this.mOffset = i;
        this.mEnd = i2;
        this.mNextRead = i;
        this.mPrefix = str;
    }

    @Override // androidx.versionedparcelable.VersionedParcel
    public void closeField() {
        int i = this.mCurrentField;
        if (i >= 0) {
            int i2 = this.mPositionLookup.get(i);
            int dataPosition = this.mParcel.dataPosition();
            this.mParcel.setDataPosition(i2);
            this.mParcel.writeInt(dataPosition - i2);
            this.mParcel.setDataPosition(dataPosition);
        }
    }

    @Override // androidx.versionedparcelable.VersionedParcel
    protected VersionedParcel createSubParcel() {
        Parcel parcel = this.mParcel;
        int dataPosition = parcel.dataPosition();
        int i = this.mNextRead;
        if (i == this.mOffset) {
            i = this.mEnd;
        }
        return new VersionedParcelParcel(parcel, dataPosition, i, this.mPrefix + "  ");
    }

    @Override // androidx.versionedparcelable.VersionedParcel
    public void writeString(String str) {
        this.mParcel.writeString(str);
    }

    @Override // androidx.versionedparcelable.VersionedParcel
    public String readString() {
        return this.mParcel.readString();
    }
}


### **classes_dex_1/sources/androidx/versionedparcelable/ParcelImpl.java** ###

package androidx.versionedparcelable;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes1.dex */
public class ParcelImpl implements Parcelable {
    public static final Parcelable.Creator<ParcelImpl> CREATOR = new Parcelable.Creator<ParcelImpl>() { // from class: androidx.versionedparcelable.ParcelImpl.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ParcelImpl createFromParcel(Parcel parcel) {
            return new ParcelImpl(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public ParcelImpl[] newArray(int i) {
            return new ParcelImpl[i];
        }
    };
    private final VersionedParcelable mParcel;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    protected ParcelImpl(Parcel parcel) {
        this.mParcel = new VersionedParcelParcel(parcel).readVersionedParcelable();
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        new VersionedParcelParcel(parcel).writeVersionedParcelable(this.mParcel);
    }
}


### **classes_dex_2/sources/com/android/bips/LocalDiscoverySession.java** ###

package com.android.bips;

import android.print.PrintManager;
import android.print.PrinterId;
import android.print.PrinterInfo;
import android.printservice.PrintServiceInfo;
import android.printservice.PrinterDiscoverySession;
import android.printservice.recommendation.RecommendationInfo;
import android.util.ArrayMap;
import android.util.ArraySet;
import android.util.Log;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.Discovery;
import java.net.InetAddress;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.function.Function;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class LocalDiscoverySession extends PrinterDiscoverySession implements Discovery.Listener, PrintManager.PrintServiceRecommendationsChangeListener, PrintManager.PrintServicesChangeListener {
    private static final String TAG = LocalDiscoverySession.class.getSimpleName();
    private DelayedAction mExpirePrinters;
    private final LocalDiscoverySessionInfo mInfo;
    private PrintManager mPrintManager;
    private final BuiltInPrintService mPrintService;
    private final Map<PrinterId, LocalPrinter> mPrinters = new HashMap();
    private final Set<PrinterId> mTrackingIds = new HashSet();
    private ArraySet<String> mEnabledServices = new ArraySet<>();
    private final ArrayMap<InetAddress, ArrayList<String>> mPrintersOfOtherService = new ArrayMap<>();

    @Override // android.printservice.PrinterDiscoverySession
    public void onValidatePrinters(List<PrinterId> list) {
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public LocalDiscoverySession(BuiltInPrintService builtInPrintService) {
        this.mPrintService = builtInPrintService;
        this.mPrintManager = (PrintManager) builtInPrintService.getSystemService(PrintManager.class);
        this.mInfo = new LocalDiscoverySessionInfo(builtInPrintService);
    }

    @Override // android.printservice.PrinterDiscoverySession
    public void onStartPrinterDiscovery(List<PrinterId> list) {
        Iterator<LocalPrinter> it = this.mPrinters.values().iterator();
        while (it.hasNext()) {
            it.next().notFound();
        }
        monitorExpiredPrinters();
        this.mPrintService.getDiscovery().start(this);
        this.mPrintManager.addPrintServicesChangeListener(this, null);
        onPrintServicesChanged();
        this.mPrintManager.addPrintServiceRecommendationsChangeListener(this, null);
        onPrintServiceRecommendationsChanged();
    }

    @Override // android.printservice.PrinterDiscoverySession
    public void onStopPrinterDiscovery() {
        this.mPrintService.getDiscovery().stop(this);
        PrintManager printManager = (PrintManager) this.mPrintService.getSystemService(PrintManager.class);
        printManager.removePrintServicesChangeListener(this);
        printManager.removePrintServiceRecommendationsChangeListener(this);
        DelayedAction delayedAction = this.mExpirePrinters;
        if (delayedAction != null) {
            delayedAction.cancel();
            this.mExpirePrinters = null;
        }
    }

    @Override // android.printservice.PrinterDiscoverySession
    public void onStartPrinterStateTracking(PrinterId printerId) {
        LocalPrinter localPrinter = this.mPrinters.get(printerId);
        this.mTrackingIds.add(printerId);
        if (localPrinter == null || !localPrinter.isFound()) {
            return;
        }
        localPrinter.track();
    }

    @Override // android.printservice.PrinterDiscoverySession
    public void onStopPrinterStateTracking(PrinterId printerId) {
        LocalPrinter localPrinter = this.mPrinters.get(printerId);
        if (localPrinter != null) {
            localPrinter.stopTracking();
        }
        this.mTrackingIds.remove(printerId);
    }

    @Override // android.printservice.PrinterDiscoverySession
    public void onDestroy() {
        this.mInfo.save();
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterFound(final DiscoveredPrinter discoveredPrinter) {
        if (isDestroyed()) {
            Log.w(TAG, "Destroyed; ignoring");
            return;
        }
        PrinterId id = discoveredPrinter.getId(this.mPrintService);
        LocalPrinter computeIfAbsent = this.mPrinters.computeIfAbsent(id, new Function() { // from class: com.android.bips.-$$Lambda$LocalDiscoverySession$P_H5Q95-Q6B9Uvp7sTwCQgz5ozc
            @Override // java.util.function.Function
            public final Object apply(Object obj) {
                return LocalDiscoverySession.this.lambda$onPrinterFound$0$LocalDiscoverySession(discoveredPrinter, (PrinterId) obj);
            }
        });
        computeIfAbsent.found(discoveredPrinter);
        if (this.mTrackingIds.contains(id)) {
            computeIfAbsent.track();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onPrinterFound$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ LocalPrinter lambda$onPrinterFound$0$LocalDiscoverySession(DiscoveredPrinter discoveredPrinter, PrinterId printerId) {
        return new LocalPrinter(this.mPrintService, this, discoveredPrinter);
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
        this.mPrintService.getCapabilitiesCache().remove(discoveredPrinter.path);
        LocalPrinter localPrinter = this.mPrinters.get(discoveredPrinter.getId(this.mPrintService));
        if (localPrinter == null) {
            return;
        }
        localPrinter.notFound();
        handlePrinter(localPrinter);
        monitorExpiredPrinters();
    }

    private void monitorExpiredPrinters() {
        if (this.mExpirePrinters != null || this.mPrinters.isEmpty()) {
            return;
        }
        this.mExpirePrinters = this.mPrintService.delay(3000, new Runnable() { // from class: com.android.bips.-$$Lambda$LocalDiscoverySession$wwW0SqymGfNpjXb5wYOJauEu_bY
            @Override // java.lang.Runnable
            public final void run() {
                LocalDiscoverySession.this.lambda$monitorExpiredPrinters$1$LocalDiscoverySession();
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$monitorExpiredPrinters$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$monitorExpiredPrinters$1$LocalDiscoverySession() {
        this.mExpirePrinters = null;
        ArrayList arrayList = new ArrayList();
        boolean z = true;
        for (LocalPrinter localPrinter : this.mPrinters.values()) {
            if (localPrinter.isExpired()) {
                arrayList.add(localPrinter.getPrinterId());
            }
            if (!localPrinter.isFound()) {
                z = false;
            }
        }
        Iterator<PrinterId> it = arrayList.iterator();
        while (it.hasNext()) {
            this.mPrinters.remove(it.next());
        }
        removePrinters(arrayList);
        if (z) {
            return;
        }
        monitorExpiredPrinters();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void handlePrinter(LocalPrinter localPrinter) {
        PrinterInfo createPrinterInfo = localPrinter.createPrinterInfo(this.mInfo.isKnownGood(localPrinter.getPrinterId()));
        if (createPrinterInfo == null) {
            return;
        }
        if (createPrinterInfo.getStatus() == 1 && localPrinter.getUuid() != null) {
            this.mInfo.setKnownGood(localPrinter.getPrinterId());
        }
        Iterator<PrinterInfo> it = getPrinters().iterator();
        while (it.hasNext()) {
            if (it.next().getId().equals(createPrinterInfo.getId()) && createPrinterInfo.getCapabilities() == null) {
                return;
            }
        }
        if (isHandledByOtherService(localPrinter)) {
            return;
        }
        addPrinters(Collections.singletonList(createPrinterInfo));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isPriority(PrinterId printerId) {
        return this.mTrackingIds.contains(printerId);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isKnown(PrinterId printerId) {
        return this.mPrinters.containsKey(printerId);
    }

    private boolean isHandledByOtherService(LocalPrinter localPrinter) {
        ArrayList<String> arrayList;
        if (localPrinter.getAddress() != null && (arrayList = this.mPrintersOfOtherService.get(localPrinter.getAddress())) != null) {
            int size = arrayList.size();
            for (int i = 0; i < size; i++) {
                if (this.mEnabledServices.contains(arrayList.get(i))) {
                    return true;
                }
            }
        }
        return false;
    }

    private void onPrintServicesStateUpdated() {
        ArrayList arrayList = new ArrayList();
        ArrayList arrayList2 = new ArrayList();
        for (LocalPrinter localPrinter : this.mPrinters.values()) {
            PrinterInfo createPrinterInfo = localPrinter.createPrinterInfo(this.mInfo.isKnownGood(localPrinter.getPrinterId()));
            if (localPrinter.getCapabilities() != null && localPrinter.isFound() && !isHandledByOtherService(localPrinter) && createPrinterInfo != null) {
                arrayList.add(createPrinterInfo);
            } else {
                arrayList2.add(localPrinter.getPrinterId());
            }
        }
        removePrinters(arrayList2);
        addPrinters(arrayList);
    }

    public void onPrintServiceRecommendationsChanged() {
        this.mPrintersOfOtherService.clear();
        List printServiceRecommendations = this.mPrintManager.getPrintServiceRecommendations();
        int size = printServiceRecommendations.size();
        for (int i = 0; i < size; i++) {
            RecommendationInfo recommendationInfo = (RecommendationInfo) printServiceRecommendations.get(i);
            String charSequence = recommendationInfo.getPackageName().toString();
            if (!charSequence.equals(this.mPrintService.getPackageName())) {
                for (InetAddress inetAddress : recommendationInfo.getDiscoveredPrinters()) {
                    ArrayList<String> arrayList = this.mPrintersOfOtherService.get(inetAddress);
                    if (arrayList == null) {
                        arrayList = new ArrayList<>(1);
                        this.mPrintersOfOtherService.put(inetAddress, arrayList);
                    }
                    arrayList.add(charSequence);
                }
            }
        }
        onPrintServicesStateUpdated();
    }

    public void onPrintServicesChanged() {
        this.mEnabledServices.clear();
        List printServices = this.mPrintManager.getPrintServices(1);
        int size = printServices.size();
        for (int i = 0; i < size; i++) {
            String packageName = ((PrintServiceInfo) printServices.get(i)).getComponentName().getPackageName();
            if (!packageName.equals(this.mPrintService.getPackageName())) {
                this.mEnabledServices.add(packageName);
            }
        }
        onPrintServicesStateUpdated();
    }
}


### **classes_dex_2/sources/com/android/bips/P2pPermissionManager.java** ###

package com.android.bips;

import android.R;
import android.app.Activity;
import android.app.AlertDialog;
import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.graphics.drawable.Icon;
import android.widget.Toast;
import com.android.bips.ui.AddPrintersActivity;

/* loaded from: /content/classes2.dex */
public class P2pPermissionManager {
    private static final String TAG = "com.android.bips.P2pPermissionManager";
    private static final P2pPermissionRequest sFinishedRequest = new P2pPermissionRequest() { // from class: com.android.bips.-$$Lambda$P2pPermissionManager$OTgXKftmjdXg7CfETQfJGkp4N8E
        @Override // com.android.bips.P2pPermissionManager.P2pPermissionRequest, java.lang.AutoCloseable
        public final void close() {
            P2pPermissionManager.lambda$static$0();
        }
    };
    private final Context mContext;
    private final NotificationManager mNotificationManager;
    private final SharedPreferences mPrefs;

    /* loaded from: /content/classes2.dex */
    public interface P2pPermissionListener {
        void onP2pPermissionComplete(boolean z);
    }

    /* loaded from: /content/classes2.dex */
    public interface P2pPermissionRequest extends AutoCloseable {
        @Override // java.lang.AutoCloseable
        void close();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void lambda$static$0() {
    }

    public P2pPermissionManager(Context context) {
        this.mContext = context;
        this.mPrefs = context.getSharedPreferences(TAG, 0);
        this.mNotificationManager = (NotificationManager) this.mContext.getSystemService(NotificationManager.class);
    }

    public void reset() {
        if (getState() == State.TEMPORARILY_DISABLED) {
            setState(State.DENIED);
        }
    }

    public void setState(State state) {
        this.mPrefs.edit().putString("state", state.name()).apply();
    }

    public boolean isP2pEnabled() {
        return getState() == State.ALLOWED;
    }

    public void applyPermissionChange(boolean z) {
        closeNotification();
        if (hasP2pPermission()) {
            setState(State.ALLOWED);
        } else {
            setState(z ? State.DISABLED : State.TEMPORARILY_DISABLED);
            Toast.makeText(this.mContext, 2131034167, 1).show();
        }
    }

    private boolean hasP2pPermission() {
        return this.mContext.checkSelfPermission("android.permission.ACCESS_FINE_LOCATION") == 0;
    }

    public P2pPermissionRequest request(boolean z, P2pPermissionListener p2pPermissionListener) {
        State state = getState();
        if (state.isTerminal()) {
            p2pPermissionListener.onP2pPermissionComplete(state == State.ALLOWED);
            return sFinishedRequest;
        }
        final SharedPreferences.OnSharedPreferenceChangeListener listenForPreferenceChanges = listenForPreferenceChanges(p2pPermissionListener);
        Context context = this.mContext;
        if (context instanceof Activity) {
            Activity activity = (Activity) context;
            if (z && activity.shouldShowRequestPermissionRationale("android.permission.ACCESS_FINE_LOCATION")) {
                explain(activity);
            } else {
                request(activity);
            }
        } else {
            showNotification();
        }
        return new P2pPermissionRequest() { // from class: com.android.bips.-$$Lambda$P2pPermissionManager$11JHLridts7O0XftT5D-QLHjxEk
            @Override // com.android.bips.P2pPermissionManager.P2pPermissionRequest, java.lang.AutoCloseable
            public final void close() {
                P2pPermissionManager.this.lambda$request$1$P2pPermissionManager(listenForPreferenceChanges);
            }
        };
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$request$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$request$1$P2pPermissionManager(SharedPreferences.OnSharedPreferenceChangeListener onSharedPreferenceChangeListener) {
        closeNotification();
        this.mPrefs.unregisterOnSharedPreferenceChangeListener(onSharedPreferenceChangeListener);
    }

    private void request(Activity activity) {
        activity.requestPermissions(new String[]{"android.permission.ACCESS_FINE_LOCATION"}, 1000);
    }

    private void explain(final Activity activity) {
        new AlertDialog.Builder(activity, R.style.Theme.DeviceDefault.Light.Dialog.Alert).setMessage(this.mContext.getString(2131034167)).setPositiveButton(2131034126, new DialogInterface.OnClickListener() { // from class: com.android.bips.-$$Lambda$P2pPermissionManager$ZweEzhy-PRFeECQiR5ear4TNYtk
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i) {
                P2pPermissionManager.this.lambda$explain$2$P2pPermissionManager(activity, dialogInterface, i);
            }
        }).show();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$explain$2, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$explain$2$P2pPermissionManager(Activity activity, DialogInterface dialogInterface, int i) {
        if (i == -1) {
            request(activity);
        }
    }

    private SharedPreferences.OnSharedPreferenceChangeListener listenForPreferenceChanges(final P2pPermissionListener p2pPermissionListener) {
        SharedPreferences.OnSharedPreferenceChangeListener onSharedPreferenceChangeListener = new SharedPreferences.OnSharedPreferenceChangeListener() { // from class: com.android.bips.P2pPermissionManager.1
            @Override // android.content.SharedPreferences.OnSharedPreferenceChangeListener
            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String str) {
                State state = P2pPermissionManager.this.getState();
                if (state.isTerminal() || state == State.DENIED) {
                    p2pPermissionListener.onP2pPermissionComplete(state == State.ALLOWED);
                    P2pPermissionManager.this.mPrefs.unregisterOnSharedPreferenceChangeListener(this);
                }
            }
        };
        this.mPrefs.registerOnSharedPreferenceChangeListener(onSharedPreferenceChangeListener);
        return onSharedPreferenceChangeListener;
    }

    private void showNotification() {
        this.mNotificationManager.createNotificationChannel(new NotificationChannel("connections", this.mContext.getString(2131034120), 4));
        Intent intent = new Intent(this.mContext, (Class<?>) AddPrintersActivity.class);
        intent.setFlags(268468224);
        intent.putExtra("fix_p2p_permission", true);
        PendingIntent activity = PendingIntent.getActivity(this.mContext, 0, intent, 134217728);
        Notification.Action build = new Notification.Action.Builder(Icon.createWithResource(this.mContext, 2130837508), this.mContext.getString(2131034126), activity).build();
        PendingIntent service = PendingIntent.getService(this.mContext, 1001, new Intent(this.mContext, (Class<?>) BuiltInPrintService.class).setAction(BuiltInPrintService.ACTION_P2P_PERMISSION_CANCEL), 134217728);
        this.mNotificationManager.notify(1001, new Notification.Builder(this.mContext, "connections").setSmallIcon(2130837508).setStyle(new Notification.BigTextStyle().bigText(this.mContext.getString(2131034167))).setAutoCancel(true).setContentIntent(activity).setDeleteIntent(service).addAction(build).addAction(new Notification.Action.Builder(Icon.createWithResource(this.mContext, 2130837508), this.mContext.getString(R.string.cancel), service).build()).build());
    }

    public State getState() {
        State state;
        State valueOf = State.valueOf(this.mPrefs.getString("state", State.DENIED.name()));
        if (valueOf == State.DISABLED) {
            return valueOf;
        }
        boolean hasP2pPermission = hasP2pPermission();
        if (hasP2pPermission && valueOf != (state = State.ALLOWED)) {
            setState(state);
            return state;
        }
        if (hasP2pPermission || valueOf != State.ALLOWED) {
            return valueOf;
        }
        State state2 = State.DENIED;
        setState(state2);
        return state2;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void closeNotification() {
        this.mNotificationManager.cancel(1001);
    }

    /* loaded from: /content/classes2.dex */
    public enum State {
        DENIED,
        TEMPORARILY_DISABLED,
        DISABLED,
        ALLOWED;

        public boolean isTerminal() {
            return this != DENIED;
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ImageToPdfTask.java** ###

package com.android.bips;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;
import android.graphics.pdf.PdfDocument;
import android.os.AsyncTask;
import android.os.CancellationSignal;
import android.os.ParcelFileDescriptor;
import android.print.PrintAttributes;
import android.print.pdf.PrintedPdfDocument;
import java.io.FileOutputStream;

/* loaded from: /content/classes2.dex */
class ImageToPdfTask extends AsyncTask<ParcelFileDescriptor, Void, Throwable> {
    private final PrintAttributes mAttributes;
    private final Bitmap mBitmap;
    private final CancellationSignal mCancellationSignal;
    private final PrintedPdfDocument mDocument;
    private final int mDpi;

    /* JADX INFO: Access modifiers changed from: package-private */
    public ImageToPdfTask(Context context, Bitmap bitmap, PrintAttributes printAttributes, int i, CancellationSignal cancellationSignal) {
        this.mBitmap = bitmap;
        this.mAttributes = printAttributes;
        this.mCancellationSignal = cancellationSignal;
        this.mDpi = i;
        this.mDocument = new PrintedPdfDocument(context, this.mAttributes);
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // android.os.AsyncTask
    public Throwable doInBackground(ParcelFileDescriptor... parcelFileDescriptorArr) {
        try {
            ParcelFileDescriptor parcelFileDescriptor = parcelFileDescriptorArr[0];
            try {
                writeBitmapToDocument();
                this.mCancellationSignal.throwIfCanceled();
                this.mDocument.writeTo(new FileOutputStream(parcelFileDescriptor.getFileDescriptor()));
                this.mDocument.close();
                if (parcelFileDescriptor != null) {
                    parcelFileDescriptor.close();
                }
                return null;
            } finally {
            }
        } catch (Throwable th) {
            return th;
        }
    }

    private void writeBitmapToDocument() {
        PdfDocument.Page startPage = this.mDocument.startPage(1);
        if (this.mAttributes.getMediaSize().isPortrait() == (this.mBitmap.getWidth() < this.mBitmap.getHeight())) {
            writeBitmapToPage(startPage, true);
        } else {
            writeBitmapToPage(startPage, false);
        }
        this.mDocument.finishPage(startPage);
    }

    private void writeBitmapToPage(PdfDocument.Page page, boolean z) {
        float min;
        boolean z2;
        RectF rectF = new RectF(page.getInfo().getContentRect());
        if (z) {
            min = Math.max(((rectF.height() / 72.0f) * this.mDpi) / this.mBitmap.getHeight(), ((rectF.width() / 72.0f) * this.mDpi) / this.mBitmap.getWidth());
            z2 = false;
        } else {
            min = Math.min(((rectF.height() / 72.0f) * this.mDpi) / this.mBitmap.getWidth(), ((rectF.width() / 72.0f) * this.mDpi) / this.mBitmap.getHeight());
            z2 = true;
        }
        if (min >= 1.0f) {
            drawDirect(page, rectF, z, z2);
        } else {
            drawOptimized(page, rectF, min, z2);
        }
    }

    private void drawDirect(PdfDocument.Page page, RectF rectF, boolean z, boolean z2) {
        float min;
        if (z) {
            min = Math.max(rectF.height() / this.mBitmap.getHeight(), rectF.width() / this.mBitmap.getWidth());
        } else {
            min = Math.min(rectF.height() / this.mBitmap.getWidth(), rectF.width() / this.mBitmap.getHeight());
        }
        float width = (rectF.width() - (this.mBitmap.getWidth() * min)) / 2.0f;
        float height = (rectF.height() - (this.mBitmap.getHeight() * min)) / 2.0f;
        Matrix matrix = new Matrix();
        if (z2) {
            matrix.postRotate(90.0f, this.mBitmap.getWidth() / 2, this.mBitmap.getHeight() / 2);
        }
        matrix.postScale(min, min);
        matrix.postTranslate(width, height);
        page.getCanvas().clipRect(rectF);
        page.getCanvas().drawBitmap(this.mBitmap, matrix, new Paint(2));
    }

    private void drawOptimized(PdfDocument.Page page, RectF rectF, float f, boolean z) {
        float width = (rectF.width() / 72.0f) * this.mDpi;
        float height = (rectF.height() / 72.0f) * this.mDpi;
        float width2 = ((width / f) - this.mBitmap.getWidth()) / 2.0f;
        float height2 = ((height / f) - this.mBitmap.getHeight()) / 2.0f;
        Bitmap createBitmap = Bitmap.createBitmap((int) width, (int) height, Bitmap.Config.ARGB_8888);
        Canvas canvas = new Canvas(createBitmap);
        Matrix matrix = new Matrix();
        matrix.postScale(f, f);
        if (z) {
            matrix.postRotate(90.0f, width / 2.0f, height / 2.0f);
        }
        canvas.setMatrix(matrix);
        canvas.drawBitmap(this.mBitmap, width2, height2, new Paint(2));
        page.getCanvas().drawBitmap(createBitmap, (Rect) null, rectF, (Paint) null);
        createBitmap.recycle();
    }
}


### **classes_dex_2/sources/com/android/bips/LocalDiscoverySessionInfo.java** ###

package com.android.bips;

import android.print.PrinterId;
import android.printservice.PrintService;
import android.util.JsonReader;
import android.util.JsonWriter;
import android.util.Log;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

/* loaded from: /content/classes2.dex */
class LocalDiscoverySessionInfo {
    private final File mCacheFile;
    private final List<PrinterId> mKnownGood = new ArrayList();
    private List<PrinterId> mPriority = new ArrayList();
    private final PrintService mService;
    private static final String TAG = "LocalDiscoverySessionInfo";
    private static final String CACHE_FILE = TAG + ".json";

    /* JADX INFO: Access modifiers changed from: package-private */
    public LocalDiscoverySessionInfo(PrintService printService) {
        this.mService = printService;
        this.mCacheFile = new File(printService.getCacheDir(), CACHE_FILE);
        load();
    }

    /* JADX WARN: Code restructure failed: missing block: B:22:0x0048, code lost:
    
        if (r2 == 1) goto L43;
     */
    /* JADX WARN: Code restructure failed: missing block: B:24:0x004e, code lost:
    
        r6.mPriority.addAll(loadPrinterIds(r0));
     */
    /* JADX WARN: Code restructure failed: missing block: B:27:0x004a, code lost:
    
        r0.skipValue();
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void load() {
        /*
            r6 = this;
            java.io.File r0 = r6.mCacheFile
            boolean r0 = r0.exists()
            if (r0 != 0) goto L9
            return
        L9:
            android.util.JsonReader r0 = new android.util.JsonReader     // Catch: java.io.IOException -> L73
            java.io.FileReader r1 = new java.io.FileReader     // Catch: java.io.IOException -> L73
            java.io.File r2 = r6.mCacheFile     // Catch: java.io.IOException -> L73
            r1.<init>(r2)     // Catch: java.io.IOException -> L73
            r0.<init>(r1)     // Catch: java.io.IOException -> L73
            r0.beginObject()     // Catch: java.lang.Throwable -> L69
        L18:
            boolean r1 = r0.hasNext()     // Catch: java.lang.Throwable -> L69
            if (r1 == 0) goto L62
            java.lang.String r1 = r0.nextName()     // Catch: java.lang.Throwable -> L69
            r2 = -1
            int r3 = r1.hashCode()     // Catch: java.lang.Throwable -> L69
            r4 = -1165461084(0xffffffffba8879a4, float:-0.0010412228)
            r5 = 1
            if (r3 == r4) goto L3d
            r4 = 1550851744(0x5c701ea0, float:2.70350668E17)
            if (r3 == r4) goto L33
            goto L46
        L33:
            java.lang.String r3 = "knownGood"
            boolean r1 = r1.equals(r3)     // Catch: java.lang.Throwable -> L69
            if (r1 == 0) goto L46
            r2 = 0
            goto L46
        L3d:
            java.lang.String r3 = "priority"
            boolean r1 = r1.equals(r3)     // Catch: java.lang.Throwable -> L69
            if (r1 == 0) goto L46
            r2 = r5
        L46:
            if (r2 == 0) goto L58
            if (r2 == r5) goto L4e
            r0.skipValue()     // Catch: java.lang.Throwable -> L69
            goto L18
        L4e:
            java.util.List<android.print.PrinterId> r1 = r6.mPriority     // Catch: java.lang.Throwable -> L69
            java.util.List r2 = r6.loadPrinterIds(r0)     // Catch: java.lang.Throwable -> L69
            r1.addAll(r2)     // Catch: java.lang.Throwable -> L69
            goto L18
        L58:
            java.util.List<android.print.PrinterId> r1 = r6.mKnownGood     // Catch: java.lang.Throwable -> L69
            java.util.List r2 = r6.loadPrinterIds(r0)     // Catch: java.lang.Throwable -> L69
            r1.addAll(r2)     // Catch: java.lang.Throwable -> L69
            goto L18
        L62:
            r0.endObject()     // Catch: java.lang.Throwable -> L69
            r0.close()     // Catch: java.io.IOException -> L73
            goto L8c
        L69:
            r6 = move-exception
            r0.close()     // Catch: java.lang.Throwable -> L6e
            goto L72
        L6e:
            r0 = move-exception
            r6.addSuppressed(r0)     // Catch: java.io.IOException -> L73
        L72:
            throw r6     // Catch: java.io.IOException -> L73
        L73:
            r6 = move-exception
            java.lang.String r0 = com.android.bips.LocalDiscoverySessionInfo.TAG
            java.lang.StringBuilder r1 = new java.lang.StringBuilder
            r1.<init>()
            java.lang.String r2 = "Failed to read info from "
            r1.append(r2)
            java.lang.String r2 = com.android.bips.LocalDiscoverySessionInfo.CACHE_FILE
            r1.append(r2)
            java.lang.String r1 = r1.toString()
            android.util.Log.w(r0, r1, r6)
        L8c:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.bips.LocalDiscoverySessionInfo.load():void");
    }

    private List<PrinterId> loadPrinterIds(JsonReader jsonReader) throws IOException {
        ArrayList arrayList = new ArrayList();
        jsonReader.beginArray();
        while (jsonReader.hasNext()) {
            arrayList.add(this.mService.generatePrinterId(jsonReader.nextString()));
        }
        jsonReader.endArray();
        return arrayList;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void save() {
        try {
            JsonWriter jsonWriter = new JsonWriter(new FileWriter(this.mCacheFile));
            try {
                jsonWriter.beginObject();
                jsonWriter.name("knownGood");
                savePrinterIds(jsonWriter, this.mKnownGood, 50);
                jsonWriter.name("priority");
                savePrinterIds(jsonWriter, this.mPriority, this.mPriority.size());
                jsonWriter.endObject();
                jsonWriter.close();
            } finally {
            }
        } catch (IOException e) {
            Log.w(TAG, "Failed to write known good list", e);
        }
    }

    private void savePrinterIds(JsonWriter jsonWriter, List<PrinterId> list, int i) throws IOException {
        jsonWriter.beginArray();
        int min = Math.min(i, list.size());
        for (int i2 = 0; i2 < min; i2++) {
            jsonWriter.value(list.get(i2).getLocalId());
        }
        jsonWriter.endArray();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isKnownGood(PrinterId printerId) {
        return this.mKnownGood.contains(printerId);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void setKnownGood(PrinterId printerId) {
        this.mKnownGood.remove(printerId);
        this.mKnownGood.add(0, printerId);
    }
}


### **classes_dex_2/sources/com/android/bips/PdfPrintActivity.java** ###

package com.android.bips;

import android.app.Activity;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.CancellationSignal;
import android.os.ParcelFileDescriptor;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.print.PrintDocumentAdapter;
import android.print.PrintDocumentInfo;
import android.print.PrintManager;
import android.util.Log;
import android.webkit.URLUtil;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;

/* loaded from: /content/classes2.dex */
public class PdfPrintActivity extends Activity {
    private static final String TAG = PdfPrintActivity.class.getSimpleName();
    private CancellationSignal mCancellationSignal;
    Uri mContentUri = null;
    private String mJobName;

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        String action = getIntent().getAction();
        if ("android.intent.action.SEND".equals(action)) {
            this.mContentUri = (Uri) getIntent().getParcelableExtra("android.intent.extra.STREAM");
        } else if ("android.intent.action.VIEW".equals(action)) {
            this.mContentUri = getIntent().getData();
        }
        if (this.mContentUri == null) {
            finish();
        }
        this.mJobName = URLUtil.guessFileName(getIntent().getStringExtra("android.intent.extra.TEXT"), null, getIntent().resolveType(this));
        PrintManager printManager = (PrintManager) getSystemService("print");
        if (printManager == null) {
            finish();
        } else {
            printManager.print(this.mJobName, new PdfAdapter(), new PrintAttributes.Builder().setColorMode(2).build());
        }
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        CancellationSignal cancellationSignal = this.mCancellationSignal;
        if (cancellationSignal != null) {
            cancellationSignal.cancel();
        }
        super.onDestroy();
    }

    /* loaded from: /content/classes2.dex */
    private class PdfAdapter extends PrintDocumentAdapter {
        private PdfAdapter() {
        }

        @Override // android.print.PrintDocumentAdapter
        public void onLayout(PrintAttributes printAttributes, PrintAttributes printAttributes2, CancellationSignal cancellationSignal, PrintDocumentAdapter.LayoutResultCallback layoutResultCallback, Bundle bundle) {
            layoutResultCallback.onLayoutFinished(new PrintDocumentInfo.Builder(PdfPrintActivity.this.mJobName).setContentType(0).setPageCount(-1).build(), false);
        }

        @Override // android.print.PrintDocumentAdapter
        public void onWrite(PageRange[] pageRangeArr, ParcelFileDescriptor parcelFileDescriptor, CancellationSignal cancellationSignal, PrintDocumentAdapter.WriteResultCallback writeResultCallback) {
            PdfPrintActivity.this.mCancellationSignal = cancellationSignal;
            new PdfDeliverTask(parcelFileDescriptor, writeResultCallback).execute(new Void[0]);
        }

        @Override // android.print.PrintDocumentAdapter
        public void onFinish() {
            PdfPrintActivity.this.finish();
        }
    }

    /* loaded from: /content/classes2.dex */
    private class PdfDeliverTask extends AsyncTask<Void, Void, Void> {
        PrintDocumentAdapter.WriteResultCallback mCallback;
        ParcelFileDescriptor mDescriptor;

        PdfDeliverTask(ParcelFileDescriptor parcelFileDescriptor, PrintDocumentAdapter.WriteResultCallback writeResultCallback) {
            this.mDescriptor = parcelFileDescriptor;
            this.mCallback = writeResultCallback;
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // android.os.AsyncTask
        public Void doInBackground(Void... voidArr) {
            try {
                InputStream openInputStream = PdfPrintActivity.this.getContentResolver().openInputStream(PdfPrintActivity.this.mContentUri);
                try {
                    if (openInputStream == null) {
                        throw new IOException("Failed to open input stream");
                    }
                    FileOutputStream fileOutputStream = new FileOutputStream(this.mDescriptor.getFileDescriptor());
                    try {
                        byte[] bArr = new byte[10240];
                        while (true) {
                            int read = openInputStream.read(bArr);
                            if (read < 0 || PdfPrintActivity.this.mCancellationSignal.isCanceled()) {
                                break;
                            }
                            fileOutputStream.write(bArr, 0, read);
                        }
                        fileOutputStream.close();
                        if (PdfPrintActivity.this.mCancellationSignal.isCanceled()) {
                            this.mCallback.onWriteCancelled();
                        } else {
                            this.mCallback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});
                        }
                        if (openInputStream == null) {
                            return null;
                        }
                        openInputStream.close();
                        return null;
                    } finally {
                    }
                } finally {
                }
            } catch (IOException e) {
                Log.w(PdfPrintActivity.TAG, "Failed to deliver content", e);
                this.mCallback.onWriteFailed(e.getMessage());
                return null;
            }
        }
    }
}


### **classes_dex_2/sources/com/android/bips/LocalPrintJob.java** ###

package com.android.bips;

import android.net.Uri;
import android.print.PrintJobId;
import android.printservice.PrintJob;
import android.util.Log;
import com.android.bips.discovery.ConnectionListener;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.Discovery;
import com.android.bips.ipp.Backend;
import com.android.bips.ipp.CapabilitiesCache;
import com.android.bips.ipp.CertificateStore;
import com.android.bips.ipp.JobStatus;
import com.android.bips.jni.BackendConstants;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.p2p.P2pPrinterConnection;
import com.android.bips.p2p.P2pUtils;
import java.util.Iterator;
import java.util.function.Consumer;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class LocalPrintJob implements Discovery.Listener, ConnectionListener, CapabilitiesCache.OnLocalPrinterCapabilities {
    private static final String TAG = "LocalPrintJob";
    private final Backend mBackend;
    private LocalPrinterCapabilities mCapabilities;
    private CertificateStore mCertificateStore;
    private Consumer<LocalPrintJob> mCompleteConsumer;
    private P2pPrinterConnection mConnection;
    private DelayedAction mDiscoveryTimeout;
    private Uri mPath;
    private final PrintJob mPrintJob;
    private final BuiltInPrintService mPrintService;
    private int mState = 0;

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public LocalPrintJob(BuiltInPrintService builtInPrintService, Backend backend, PrintJob printJob) {
        this.mPrintService = builtInPrintService;
        this.mBackend = backend;
        this.mPrintJob = printJob;
        this.mCertificateStore = builtInPrintService.getCertificateStore();
        this.mPrintJob.start();
        this.mPrintJob.block(builtInPrintService.getString(2131034165));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void start(Consumer<LocalPrintJob> consumer) {
        if (this.mState != 0) {
            Log.w(TAG, "Invalid start state " + this.mState);
            return;
        }
        this.mPrintJob.start();
        this.mPrintService.lockWifi();
        this.mState = 1;
        this.mCompleteConsumer = consumer;
        this.mDiscoveryTimeout = this.mPrintService.delay(120000, new Runnable() { // from class: com.android.bips.-$$Lambda$LocalPrintJob$VEQ7T0ZiUMU2Y-k4sGKu6gfrbW8
            @Override // java.lang.Runnable
            public final void run() {
                LocalPrintJob.this.lambda$start$0$LocalPrintJob();
            }
        });
        this.mPrintService.getDiscovery().start(this);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$start$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$start$0$LocalPrintJob() {
        if (this.mState == 1) {
            finish(false, this.mPrintService.getString(2131034149));
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void restart() {
        if (this.mState == 4) {
            LocalPrinterCapabilities localPrinterCapabilities = this.mCapabilities;
            localPrinterCapabilities.certificate = this.mCertificateStore.get(localPrinterCapabilities.uuid);
            deliver();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void cancel() {
        int i = this.mState;
        if (i != 1 && i != 2) {
            if (i == 3) {
                this.mState = 5;
                this.mBackend.cancel();
                return;
            } else if (i != 4) {
                return;
            }
        }
        this.mState = 5;
        finish(false, null);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrintJobId getPrintJobId() {
        return this.mPrintJob.getId();
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterFound(DiscoveredPrinter discoveredPrinter) {
        if (this.mState == 1 && discoveredPrinter.getId(this.mPrintService).equals(this.mPrintJob.getInfo().getPrinterId())) {
            if (P2pUtils.isP2p(discoveredPrinter)) {
                this.mConnection = new P2pPrinterConnection(this.mPrintService, discoveredPrinter, this);
                return;
            }
            if (P2pUtils.isOnConnectedInterface(this.mPrintService, discoveredPrinter) && this.mConnection == null) {
                this.mConnection = new P2pPrinterConnection(this.mPrintService, discoveredPrinter, this);
            }
            this.mPrintService.getDiscovery().stop(this);
            this.mState = 2;
            this.mPath = discoveredPrinter.path;
            Iterator<Uri> it = discoveredPrinter.paths.iterator();
            while (true) {
                if (!it.hasNext()) {
                    break;
                }
                Uri next = it.next();
                if ("ipps".equals(next.getScheme())) {
                    this.mPath = next;
                    break;
                }
            }
            this.mPrintService.getCapabilitiesCache().request(discoveredPrinter, true, this);
        }
    }

    @Override // com.android.bips.discovery.ConnectionListener
    public void onConnectionComplete(DiscoveredPrinter discoveredPrinter) {
        if (this.mState != 1) {
            return;
        }
        if (discoveredPrinter == null) {
            finish(false, this.mPrintService.getString(2131034124));
        } else if (this.mPrintJob.isBlocked()) {
            this.mPrintJob.start();
        }
    }

    @Override // com.android.bips.discovery.ConnectionListener
    public void onConnectionDelayed(boolean z) {
        if (this.mState != 1) {
            return;
        }
        if (z) {
            this.mPrintJob.block(this.mPrintService.getString(2131034118));
        } else {
            this.mPrintJob.start();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrintJob getPrintJob() {
        return this.mPrintJob;
    }

    @Override // com.android.bips.ipp.CapabilitiesCache.OnLocalPrinterCapabilities
    public void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities) {
        if (this.mState != 2) {
            return;
        }
        if (localPrinterCapabilities == null) {
            finish(false, this.mPrintService.getString(2131034149));
            return;
        }
        DelayedAction delayedAction = this.mDiscoveryTimeout;
        if (delayedAction != null) {
            delayedAction.cancel();
        }
        this.mCapabilities = localPrinterCapabilities;
        deliver();
    }

    private void deliver() {
        Uri parse = Uri.parse(this.mCapabilities.path);
        if ("ipps".equals(parse.getScheme()) && parse.getPort() > 0 && "ipp".equals(this.mPath.getScheme())) {
            this.mPath = this.mPath.buildUpon().scheme("ipps").encodedAuthority(this.mPath.getHost() + ":" + parse.getPort()).build();
        }
        if (this.mCapabilities.certificate != null && !"ipps".equals(this.mPath.getScheme())) {
            this.mState = 4;
            this.mPrintJob.block(this.mPrintService.getString(2131034147));
            this.mPrintService.notifyCertificateChange(this.mCapabilities.name, this.mPrintJob.getInfo().getPrinterId(), this.mCapabilities.uuid, null);
        } else {
            this.mState = 3;
            this.mPrintJob.start();
            this.mBackend.print(this.mPath, this.mPrintJob, this.mCapabilities, new Consumer() { // from class: com.android.bips.-$$Lambda$LocalPrintJob$9zWvD9woYv9rAYqfdmFdP1_nmPY
                @Override // java.util.function.Consumer
                public final void accept(Object obj) {
                    LocalPrintJob.this.handleJobStatus((JobStatus) obj);
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void handleJobStatus(JobStatus jobStatus) {
        char c;
        LocalPrinterCapabilities localPrinterCapabilities;
        byte[] certificate = jobStatus.getCertificate();
        if (certificate != null && (localPrinterCapabilities = this.mCapabilities) != null && this.mCertificateStore.get(localPrinterCapabilities.uuid) == null) {
            this.mCertificateStore.put(this.mCapabilities.uuid, certificate);
        }
        String jobState = jobStatus.getJobState();
        int hashCode = jobState.hashCode();
        char c2 = 65535;
        if (hashCode == -2126712727) {
            if (jobState.equals(BackendConstants.JOB_STATE_DONE)) {
                c = 0;
            }
            c = 65535;
        } else if (hashCode != -1456177988) {
            if (hashCode == 116043919 && jobState.equals(BackendConstants.JOB_STATE_RUNNING)) {
                c = 2;
            }
            c = 65535;
        } else {
            if (jobState.equals(BackendConstants.JOB_STATE_BLOCKED)) {
                c = 1;
            }
            c = 65535;
        }
        if (c != 0) {
            if (c == 1) {
                if (this.mState == 5) {
                    return;
                }
                int blockedReasonId = jobStatus.getBlockedReasonId();
                if (blockedReasonId == 0) {
                    blockedReasonId = 2131034141;
                }
                this.mPrintJob.block(this.mPrintService.getString(blockedReasonId));
                return;
            }
            if (c == 2 && this.mState != 5) {
                this.mPrintJob.start();
                return;
            }
            return;
        }
        String jobResult = jobStatus.getJobResult();
        int hashCode2 = jobResult.hashCode();
        if (hashCode2 != -801089539) {
            if (hashCode2 != 623173441) {
                if (hashCode2 == 671527411 && jobResult.equals(BackendConstants.JOB_DONE_OK)) {
                    c2 = 0;
                }
            } else if (jobResult.equals(BackendConstants.JOB_DONE_CANCELLED)) {
                c2 = 1;
            }
        } else if (jobResult.equals(BackendConstants.JOB_DONE_CORRUPT)) {
            c2 = 2;
        }
        if (c2 == 0) {
            finish(true, null);
            return;
        }
        if (c2 == 1) {
            this.mState = 5;
            finish(false, null);
        } else if (c2 == 2) {
            finish(false, this.mPrintService.getString(2131034164));
        } else if (jobStatus.getBlockedReasonId() == 2131034139) {
            handleBadCertificate(jobStatus);
        } else {
            finish(false, null);
        }
    }

    private void handleBadCertificate(JobStatus jobStatus) {
        byte[] certificate = jobStatus.getCertificate();
        if (certificate == null) {
            this.mPrintJob.fail(this.mPrintService.getString(2131034139));
            return;
        }
        this.mState = 4;
        this.mPrintJob.block(this.mPrintService.getString(2131034139));
        this.mPrintService.notifyCertificateChange(this.mCapabilities.name, this.mPrintJob.getInfo().getPrinterId(), this.mCapabilities.uuid, certificate);
    }

    private void finish(boolean z, String str) {
        this.mPrintService.getDiscovery().stop(this);
        DelayedAction delayedAction = this.mDiscoveryTimeout;
        if (delayedAction != null) {
            delayedAction.cancel();
        }
        P2pPrinterConnection p2pPrinterConnection = this.mConnection;
        if (p2pPrinterConnection != null) {
            p2pPrinterConnection.close();
        }
        this.mPrintService.unlockWifi();
        this.mBackend.closeDocument();
        if (z) {
            this.mPrintJob.start();
            this.mPrintJob.complete();
        } else if (this.mState == 5) {
            this.mPrintJob.cancel();
        } else {
            this.mPrintJob.fail(str);
        }
        this.mState = 6;
        this.mCompleteConsumer.accept(this);
    }
}


### **classes_dex_2/sources/com/android/bips/LocalPrinter.java** ###

package com.android.bips;

import android.net.Uri;
import android.print.PrinterCapabilitiesInfo;
import android.print.PrinterId;
import android.print.PrinterInfo;
import android.widget.Toast;
import com.android.bips.discovery.ConnectionListener;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.ipp.CapabilitiesCache;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.p2p.P2pPrinterConnection;
import com.android.bips.p2p.P2pUtils;
import java.net.InetAddress;
import java.util.Collections;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class LocalPrinter implements CapabilitiesCache.OnLocalPrinterCapabilities {
    private LocalPrinterCapabilities mCapabilities;
    private DiscoveredPrinter mDiscoveredPrinter;
    private final BuiltInPrintService mPrintService;
    private final PrinterId mPrinterId;
    private final LocalDiscoverySession mSession;
    private P2pPrinterConnection mTrackingConnection;
    private long mLastSeenTime = System.currentTimeMillis();
    private boolean mFound = true;
    private boolean mTracking = false;

    /* JADX INFO: Access modifiers changed from: package-private */
    public LocalPrinter(BuiltInPrintService builtInPrintService, LocalDiscoverySession localDiscoverySession, DiscoveredPrinter discoveredPrinter) {
        this.mPrintService = builtInPrintService;
        this.mSession = localDiscoverySession;
        this.mDiscoveredPrinter = discoveredPrinter;
        this.mPrinterId = discoveredPrinter.getId(builtInPrintService);
    }

    public InetAddress getAddress() {
        LocalPrinterCapabilities localPrinterCapabilities = this.mCapabilities;
        if (localPrinterCapabilities != null) {
            return localPrinterCapabilities.inetAddress;
        }
        return null;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isExpired() {
        return !this.mFound && System.currentTimeMillis() - this.mLastSeenTime > 3000;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public LocalPrinterCapabilities getCapabilities() {
        return this.mCapabilities;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrinterInfo createPrinterInfo(boolean z) {
        LocalPrinterCapabilities localPrinterCapabilities = this.mCapabilities;
        if (localPrinterCapabilities == null) {
            if (P2pUtils.isP2p(this.mDiscoveredPrinter)) {
                return new PrinterInfo.Builder(this.mPrinterId, this.mDiscoveredPrinter.name, 1).setIconResourceId(2130837507).setDescription(this.mPrintService.getDescription(this.mDiscoveredPrinter)).build();
            }
            if (!z) {
                return null;
            }
        } else if (!localPrinterCapabilities.isSupported) {
            return null;
        }
        DiscoveredPrinter printer = this.mPrintService.getDiscovery().getPrinter(this.mDiscoveredPrinter.getUri());
        if (printer == null) {
            return null;
        }
        PrinterInfo.Builder description = new PrinterInfo.Builder(this.mPrinterId, printer.name, this.mFound && this.mCapabilities != null ? 1 : 3).setIconResourceId(2130837507).setDescription(this.mPrintService.getDescription(this.mDiscoveredPrinter));
        if (this.mCapabilities != null) {
            PrinterCapabilitiesInfo.Builder builder = new PrinterCapabilitiesInfo.Builder(this.mPrinterId);
            this.mCapabilities.buildCapabilities(this.mPrintService, builder);
            description.setCapabilities(builder.build());
        }
        return description.build();
    }

    @Override // com.android.bips.ipp.CapabilitiesCache.OnLocalPrinterCapabilities
    public void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities) {
        if (this.mSession.isDestroyed() || !this.mSession.isKnown(this.mPrinterId)) {
            return;
        }
        if (localPrinterCapabilities == null) {
            this.mSession.removePrinters(Collections.singletonList(this.mPrinterId));
        } else {
            this.mCapabilities = localPrinterCapabilities;
            this.mSession.handlePrinter(this);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrinterId getPrinterId() {
        return this.mPrinterId;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isFound() {
        return this.mFound;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void found(DiscoveredPrinter discoveredPrinter) {
        this.mDiscoveredPrinter = discoveredPrinter;
        this.mLastSeenTime = System.currentTimeMillis();
        this.mFound = true;
        LocalPrinterCapabilities localPrinterCapabilities = this.mPrintService.getCapabilitiesCache().get(this.mDiscoveredPrinter);
        if (localPrinterCapabilities != null) {
            onCapabilities(localPrinterCapabilities);
            return;
        }
        this.mSession.handlePrinter(this);
        if (!P2pUtils.isP2p(this.mDiscoveredPrinter)) {
            this.mPrintService.getCapabilitiesCache().request(this.mDiscoveredPrinter, this.mSession.isPriority(this.mPrinterId), this);
        } else if (this.mTracking) {
            startTracking();
        }
    }

    public void track() {
        startTracking();
    }

    private void startTracking() {
        this.mTracking = true;
        if (this.mTrackingConnection != null) {
            return;
        }
        if (P2pUtils.isP2p(this.mDiscoveredPrinter) || P2pUtils.isOnConnectedInterface(this.mPrintService, this.mDiscoveredPrinter)) {
            this.mTrackingConnection = new P2pPrinterConnection(this.mPrintService, this.mDiscoveredPrinter, new ConnectionListener() { // from class: com.android.bips.LocalPrinter.1
                @Override // com.android.bips.discovery.ConnectionListener
                public void onConnectionComplete(DiscoveredPrinter discoveredPrinter) {
                    if (discoveredPrinter == null) {
                        LocalPrinter.this.mTrackingConnection = null;
                    }
                }

                @Override // com.android.bips.discovery.ConnectionListener
                public void onConnectionDelayed(boolean z) {
                    if (z) {
                        Toast.makeText(LocalPrinter.this.mPrintService, 2131034118, 1).show();
                    }
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void stopTracking() {
        P2pPrinterConnection p2pPrinterConnection = this.mTrackingConnection;
        if (p2pPrinterConnection != null) {
            p2pPrinterConnection.close();
            this.mTrackingConnection = null;
        }
        this.mTracking = false;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void notFound() {
        this.mFound = false;
        this.mLastSeenTime = System.currentTimeMillis();
    }

    public Uri getUuid() {
        return this.mDiscoveredPrinter.uuid;
    }

    public String toString() {
        return this.mDiscoveredPrinter.toString();
    }
}


### **classes_dex_2/sources/com/android/bips/JobQueue.java** ###

package com.android.bips;

import android.print.PrintJobId;
import android.print.PrinterId;
import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;
import java.util.function.Consumer;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class JobQueue {
    private LocalPrintJob mCurrent;
    private final List<LocalPrintJob> mJobs = new CopyOnWriteArrayList();

    /* JADX INFO: Access modifiers changed from: package-private */
    public void print(LocalPrintJob localPrintJob) {
        this.mJobs.add(localPrintJob);
        startNextJob();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void cancel(PrinterId printerId) {
        for (LocalPrintJob localPrintJob : this.mJobs) {
            if (printerId.equals(localPrintJob.getPrintJob().getInfo().getPrinterId())) {
                cancel(localPrintJob.getPrintJobId());
            }
        }
        LocalPrintJob localPrintJob2 = this.mCurrent;
        if (localPrintJob2 == null || !printerId.equals(localPrintJob2.getPrintJob().getInfo().getPrinterId())) {
            return;
        }
        cancel(this.mCurrent.getPrintJobId());
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void restart(PrinterId printerId) {
        LocalPrintJob localPrintJob = this.mCurrent;
        if (localPrintJob == null || !printerId.equals(localPrintJob.getPrintJob().getInfo().getPrinterId())) {
            return;
        }
        this.mCurrent.restart();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void cancel(PrintJobId printJobId) {
        for (LocalPrintJob localPrintJob : this.mJobs) {
            if (localPrintJob.getPrintJobId().equals(printJobId)) {
                this.mJobs.remove(localPrintJob);
                localPrintJob.getPrintJob().cancel();
                return;
            }
        }
        LocalPrintJob localPrintJob2 = this.mCurrent;
        if (localPrintJob2 == null || !localPrintJob2.getPrintJobId().equals(printJobId)) {
            return;
        }
        this.mCurrent.cancel();
    }

    private void startNextJob() {
        if (this.mJobs.isEmpty() || this.mCurrent != null) {
            return;
        }
        LocalPrintJob remove = this.mJobs.remove(0);
        this.mCurrent = remove;
        remove.start(new Consumer() { // from class: com.android.bips.-$$Lambda$JobQueue$XB6IbhPeD7m96JGn7LOpSA1gvzs
            @Override // java.util.function.Consumer
            public final void accept(Object obj) {
                JobQueue.this.lambda$startNextJob$0$JobQueue((LocalPrintJob) obj);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$startNextJob$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$startNextJob$0$JobQueue(LocalPrintJob localPrintJob) {
        this.mCurrent = null;
        startNextJob();
    }
}


### **classes_dex_2/sources/com/android/bips/DelayedAction.java** ###

package com.android.bips;

/* loaded from: /content/classes2.dex */
public interface DelayedAction {
    void cancel();
}


### **classes_dex_2/sources/com/android/bips/ImagePrintActivity.java** ###

package com.android.bips;

import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.ColorMatrix;
import android.graphics.ColorMatrixColorFilter;
import android.graphics.Paint;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.CancellationSignal;
import android.os.ParcelFileDescriptor;
import android.print.PageRange;
import android.print.PrintAttributes;
import android.print.PrintDocumentAdapter;
import android.print.PrintDocumentInfo;
import android.print.PrintJob;
import android.print.PrintManager;
import android.util.DisplayMetrics;
import android.util.Log;
import android.webkit.URLUtil;
import android.widget.Toast;
import com.android.bips.ImagePrintActivity;
import com.android.bips.jni.MediaSizes;
import java.io.IOException;
import java.io.InputStream;
import java.util.Arrays;
import java.util.HashSet;
import java.util.Locale;

/* loaded from: /content/classes2.dex */
public class ImagePrintActivity extends Activity {
    private Bitmap mBitmap;
    private Bitmap mGrayscaleBitmap;
    private String mJobName;
    private PrintJob mPrintJob;
    private static final String TAG = ImagePrintActivity.class.getSimpleName();
    private static final PrintAttributes.MediaSize DEFAULT_PHOTO_MEDIA = PrintAttributes.MediaSize.NA_INDEX_4X6;
    private static final String[] ISO_A5_COUNTRY_CODES = {"IQ", "SY", "YE", "VN", "MA"};
    private CancellationSignal mCancellationSignal = new CancellationSignal();
    private DisplayMetrics mDisplayMetrics = new DisplayMetrics();
    private Runnable mOnBitmapLoaded = null;
    private AsyncTask<?, ?, ?> mTask = null;
    private PrintAttributes.MediaSize mDefaultMediaSize = null;

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        Uri data;
        super.onCreate(bundle);
        String action = getIntent().getAction();
        if ("android.intent.action.SEND".equals(action)) {
            data = (Uri) getIntent().getParcelableExtra("android.intent.extra.STREAM");
        } else {
            data = "android.intent.action.VIEW".equals(action) ? getIntent().getData() : null;
        }
        if (data == null) {
            finish();
        }
        getWindowManager().getDefaultDisplay().getMetrics(this.mDisplayMetrics);
        this.mJobName = URLUtil.guessFileName(getIntent().getStringExtra("android.intent.extra.TEXT"), null, getIntent().resolveType(this));
        this.mTask = new LoadBitmapTask().execute(data);
    }

    /* loaded from: /content/classes2.dex */
    private class LoadBitmapTask extends AsyncTask<Uri, Boolean, Bitmap> {
        private LoadBitmapTask() {
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // android.os.AsyncTask
        public Bitmap doInBackground(Uri... uriArr) {
            BitmapFactory.Options options = new BitmapFactory.Options();
            options.inJustDecodeBounds = true;
            loadBitmap(uriArr[0], options);
            if (options.outWidth <= 0 || options.outHeight <= 0) {
                Log.w(ImagePrintActivity.TAG, "Failed to load bitmap");
                return null;
            }
            if (ImagePrintActivity.this.mCancellationSignal.isCanceled()) {
                return null;
            }
            Boolean[] boolArr = new Boolean[1];
            boolArr[0] = Boolean.valueOf(options.outHeight > options.outWidth);
            publishProgress(boolArr);
            options.inJustDecodeBounds = false;
            return loadBitmap(uriArr[0], options);
        }

        private Bitmap loadBitmap(Uri uri, BitmapFactory.Options options) {
            try {
                InputStream openInputStream = ImagePrintActivity.this.getContentResolver().openInputStream(uri);
                try {
                    Bitmap decodeStream = BitmapFactory.decodeStream(openInputStream, null, options);
                    if (openInputStream != null) {
                        openInputStream.close();
                    }
                    return decodeStream;
                } catch (Throwable th) {
                    if (openInputStream != null) {
                        try {
                            openInputStream.close();
                        } catch (Throwable th2) {
                            th.addSuppressed(th2);
                        }
                    }
                    throw th;
                }
            } catch (IOException | SecurityException e) {
                Log.w(ImagePrintActivity.TAG, "Failed to load bitmap", e);
                return null;
            }
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // android.os.AsyncTask
        public void onProgressUpdate(Boolean... boolArr) {
            boolean booleanValue = boolArr[0].booleanValue();
            PrintManager printManager = (PrintManager) ImagePrintActivity.this.getSystemService("print");
            if (printManager == null) {
                ImagePrintActivity.this.finish();
                return;
            }
            PrintAttributes build = new PrintAttributes.Builder().setMediaSize(booleanValue ? ImagePrintActivity.this.getLocaleDefaultMediaSize() : ImagePrintActivity.this.getLocaleDefaultMediaSize().asLandscape()).setColorMode(2).build();
            ImagePrintActivity imagePrintActivity = ImagePrintActivity.this;
            imagePrintActivity.mPrintJob = printManager.print(imagePrintActivity.mJobName, new ImageAdapter(), build);
        }

        /* JADX INFO: Access modifiers changed from: protected */
        @Override // android.os.AsyncTask
        public void onPostExecute(Bitmap bitmap) {
            if (ImagePrintActivity.this.mCancellationSignal.isCanceled()) {
                return;
            }
            if (bitmap == null) {
                if (ImagePrintActivity.this.mPrintJob != null) {
                    ImagePrintActivity.this.mPrintJob.cancel();
                }
                Toast.makeText(ImagePrintActivity.this, 2131034164, 1).show();
                ImagePrintActivity.this.finish();
                return;
            }
            ImagePrintActivity.this.mBitmap = bitmap;
            if (ImagePrintActivity.this.mOnBitmapLoaded != null) {
                ImagePrintActivity.this.mOnBitmapLoaded.run();
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public PrintAttributes.MediaSize getLocaleDefaultMediaSize() {
        if (this.mDefaultMediaSize == null) {
            String country = getResources().getConfiguration().getLocales().get(0).getCountry();
            HashSet hashSet = new HashSet(Arrays.asList(ISO_A5_COUNTRY_CODES));
            if (Locale.JAPAN.getCountry().equals(country)) {
                this.mDefaultMediaSize = new PrintAttributes.MediaSize(MediaSizes.OE_PHOTO_L, getString(2131034135), 3500, 5000);
            } else if (hashSet.contains(country)) {
                this.mDefaultMediaSize = PrintAttributes.MediaSize.ISO_A5;
            } else {
                this.mDefaultMediaSize = DEFAULT_PHOTO_MEDIA;
            }
        }
        return this.mDefaultMediaSize;
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        this.mCancellationSignal.cancel();
        AsyncTask<?, ?, ?> asyncTask = this.mTask;
        if (asyncTask != null) {
            asyncTask.cancel(true);
            this.mTask = null;
        }
        Bitmap bitmap = this.mBitmap;
        if (bitmap != null) {
            bitmap.recycle();
            this.mBitmap = null;
        }
        Bitmap bitmap2 = this.mGrayscaleBitmap;
        if (bitmap2 != null) {
            bitmap2.recycle();
            this.mGrayscaleBitmap = null;
        }
        super.onDestroy();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes2.dex */
    public class ImageAdapter extends PrintDocumentAdapter {
        private PrintAttributes mAttributes;
        private int mDpi;

        private ImageAdapter() {
        }

        @Override // android.print.PrintDocumentAdapter
        /* renamed from: onLayout, reason: merged with bridge method [inline-methods] */
        public void lambda$onLayout$0$ImagePrintActivity$ImageAdapter(final PrintAttributes printAttributes, final PrintAttributes printAttributes2, final CancellationSignal cancellationSignal, final PrintDocumentAdapter.LayoutResultCallback layoutResultCallback, final Bundle bundle) {
            if (ImagePrintActivity.this.mBitmap == null) {
                ImagePrintActivity.this.mOnBitmapLoaded = new Runnable() { // from class: com.android.bips.-$$Lambda$ImagePrintActivity$ImageAdapter$Y5w3IcyvKpVRjtb75jD8DDxy0EU
                    @Override // java.lang.Runnable
                    public final void run() {
                        ImagePrintActivity.ImageAdapter.this.lambda$onLayout$0$ImagePrintActivity$ImageAdapter(printAttributes, printAttributes2, cancellationSignal, layoutResultCallback, bundle);
                    }
                };
                return;
            }
            int i = this.mDpi;
            this.mAttributes = printAttributes2;
            if (bundle.getBoolean("EXTRA_PRINT_PREVIEW", false)) {
                PrintAttributes.MediaSize mediaSize = this.mAttributes.getMediaSize();
                this.mDpi = Math.min((ImagePrintActivity.this.mDisplayMetrics.widthPixels * 1000) / mediaSize.getWidthMils(), (ImagePrintActivity.this.mDisplayMetrics.heightPixels * 1000) / mediaSize.getHeightMils());
            } else {
                this.mDpi = 300;
            }
            layoutResultCallback.onLayoutFinished(new PrintDocumentInfo.Builder(ImagePrintActivity.this.mJobName).setContentType(1).setPageCount(1).build(), (printAttributes2.equals(printAttributes) && i == this.mDpi) ? false : true);
        }

        @Override // android.print.PrintDocumentAdapter
        public void onWrite(PageRange[] pageRangeArr, ParcelFileDescriptor parcelFileDescriptor, final CancellationSignal cancellationSignal, final PrintDocumentAdapter.WriteResultCallback writeResultCallback) {
            ImagePrintActivity.this.mCancellationSignal = cancellationSignal;
            ImagePrintActivity imagePrintActivity = ImagePrintActivity.this;
            ImagePrintActivity imagePrintActivity2 = ImagePrintActivity.this;
            imagePrintActivity.mTask = new ImageToPdfTask(imagePrintActivity2, imagePrintActivity2.getBitmap(this.mAttributes), this.mAttributes, this.mDpi, cancellationSignal) { // from class: com.android.bips.ImagePrintActivity.ImageAdapter.1
                /* JADX INFO: Access modifiers changed from: protected */
                @Override // android.os.AsyncTask
                public void onPostExecute(Throwable th) {
                    if (cancellationSignal.isCanceled()) {
                        writeResultCallback.onWriteCancelled();
                    } else if (th != null) {
                        Log.w(ImagePrintActivity.TAG, "Failed to write bitmap", th);
                        writeResultCallback.onWriteFailed(null);
                    } else {
                        writeResultCallback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});
                    }
                    ImagePrintActivity.this.mTask = null;
                }
            }.execute(parcelFileDescriptor);
        }

        @Override // android.print.PrintDocumentAdapter
        public void onFinish() {
            ImagePrintActivity.this.finish();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public Bitmap getBitmap(PrintAttributes printAttributes) {
        if (printAttributes.getColorMode() == 1) {
            if (this.mGrayscaleBitmap == null) {
                this.mGrayscaleBitmap = Bitmap.createBitmap(this.mBitmap.getWidth(), this.mBitmap.getHeight(), Bitmap.Config.ARGB_8888);
                Canvas canvas = new Canvas(this.mGrayscaleBitmap);
                Paint paint = new Paint();
                ColorMatrix colorMatrix = new ColorMatrix();
                colorMatrix.setSaturation(0.0f);
                paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));
                canvas.drawBitmap(this.mBitmap, 0.0f, 0.0f, paint);
            }
            return this.mGrayscaleBitmap;
        }
        return this.mBitmap;
    }
}


### **classes_dex_2/sources/com/android/bips/BuiltInPrintService.java** ###

package com.android.bips;

import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Intent;
import android.graphics.drawable.Icon;
import android.net.nsd.NsdManager;
import android.net.wifi.WifiManager;
import android.os.Handler;
import android.print.PrinterId;
import android.printservice.PrintJob;
import android.printservice.PrintService;
import android.printservice.PrinterDiscoverySession;
import android.text.TextUtils;
import com.android.bips.discovery.DelayedDiscovery;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.Discovery;
import com.android.bips.discovery.ManualDiscovery;
import com.android.bips.discovery.MdnsDiscovery;
import com.android.bips.discovery.MultiDiscovery;
import com.android.bips.discovery.NsdResolveQueue;
import com.android.bips.discovery.P2pDiscovery;
import com.android.bips.ipp.Backend;
import com.android.bips.ipp.CapabilitiesCache;
import com.android.bips.ipp.CertificateStore;
import com.android.bips.p2p.P2pMonitor;
import com.android.bips.p2p.P2pUtils;
import com.android.bips.util.BroadcastMonitor;
import java.lang.ref.WeakReference;

/* loaded from: /content/classes2.dex */
public class BuiltInPrintService extends PrintService {
    private static WeakReference<BuiltInPrintService> sInstance;
    private MultiDiscovery mAllDiscovery;
    private Backend mBackend;
    private CapabilitiesCache mCapabilitiesCache;
    private CertificateStore mCertificateStore;
    private JobQueue mJobQueue;
    private Handler mMainHandler;
    private ManualDiscovery mManualDiscovery;
    private Discovery mMdnsDiscovery;
    private NsdResolveQueue mNsdResolveQueue;
    private P2pDiscovery mP2pDiscovery;
    private P2pMonitor mP2pMonitor;
    private P2pPermissionManager mP2pPermissionManager;
    private WifiManager.WifiLock mWifiLock;
    private static final String TAG = BuiltInPrintService.class.getSimpleName();
    private static final String TAG_CERTIFICATE_REQUEST = BuiltInPrintService.class.getCanonicalName() + ".CERTIFICATE_REQUEST";
    private static final String ACTION_CERTIFICATE_ACCEPT = BuiltInPrintService.class.getCanonicalName() + ".CERTIFICATE_ACCEPT";
    private static final String ACTION_CERTIFICATE_REJECT = BuiltInPrintService.class.getCanonicalName() + ".CERTIFICATE_REJECT";
    public static final String ACTION_P2P_PERMISSION_CANCEL = BuiltInPrintService.class.getCanonicalName() + ".P2P_PERMISSION_CANCEL";

    public static BuiltInPrintService getInstance() {
        WeakReference<BuiltInPrintService> weakReference = sInstance;
        if (weakReference == null) {
            return null;
        }
        return weakReference.get();
    }

    @Override // android.app.Service
    public void onCreate() {
        super.onCreate();
        createNotificationChannel();
        P2pPermissionManager p2pPermissionManager = new P2pPermissionManager(this);
        this.mP2pPermissionManager = p2pPermissionManager;
        p2pPermissionManager.reset();
        sInstance = new WeakReference<>(this);
        this.mBackend = new Backend(this);
        this.mCertificateStore = new CertificateStore(this);
        this.mCapabilitiesCache = new CapabilitiesCache(this, this.mBackend, 3);
        this.mP2pMonitor = new P2pMonitor(this);
        this.mNsdResolveQueue = new NsdResolveQueue(this, (NsdManager) getSystemService("servicediscovery"));
        this.mMdnsDiscovery = new MultiDiscovery(new MdnsDiscovery(this, "ipp"), new DelayedDiscovery(new MdnsDiscovery(this, "ipps"), 0, 150));
        this.mP2pDiscovery = new P2pDiscovery(this);
        this.mManualDiscovery = new ManualDiscovery(this);
        this.mAllDiscovery = new MultiDiscovery(this.mMdnsDiscovery, this.mManualDiscovery, new DelayedDiscovery(this.mP2pDiscovery, 1000, 0));
        this.mJobQueue = new JobQueue();
        this.mMainHandler = new Handler(getMainLooper());
        this.mWifiLock = ((WifiManager) getSystemService("wifi")).createWifiLock(1, TAG);
    }

    @Override // android.app.Service
    public void onDestroy() {
        this.mP2pPermissionManager.closeNotification();
        this.mCapabilitiesCache.close();
        this.mP2pMonitor.stopAll();
        this.mBackend.close();
        unlockWifi();
        sInstance = null;
        this.mMainHandler.removeCallbacksAndMessages(null);
        super.onDestroy();
    }

    @Override // android.printservice.PrintService
    protected PrinterDiscoverySession onCreatePrinterDiscoverySession() {
        return new LocalDiscoverySession(this);
    }

    @Override // android.printservice.PrintService
    protected void onPrintJobQueued(PrintJob printJob) {
        this.mJobQueue.print(new LocalPrintJob(this, this.mBackend, printJob));
    }

    @Override // android.printservice.PrintService
    protected void onRequestCancelPrintJob(PrintJob printJob) {
        this.mJobQueue.cancel(printJob.getId());
    }

    public Discovery getDiscovery() {
        return this.mAllDiscovery;
    }

    public Discovery getMdnsDiscovery() {
        return this.mMdnsDiscovery;
    }

    public ManualDiscovery getManualDiscovery() {
        return this.mManualDiscovery;
    }

    public P2pDiscovery getP2pDiscovery() {
        return this.mP2pDiscovery;
    }

    public P2pMonitor getP2pMonitor() {
        return this.mP2pMonitor;
    }

    public NsdResolveQueue getNsdResolveQueue() {
        return this.mNsdResolveQueue;
    }

    public P2pPermissionManager getP2pPermissionManager() {
        return this.mP2pPermissionManager;
    }

    public BroadcastMonitor receiveBroadcasts(BroadcastReceiver broadcastReceiver, String... strArr) {
        return new BroadcastMonitor(this, broadcastReceiver, strArr);
    }

    public CapabilitiesCache getCapabilitiesCache() {
        return this.mCapabilitiesCache;
    }

    public CertificateStore getCertificateStore() {
        return this.mCertificateStore;
    }

    public Handler getMainHandler() {
        return this.mMainHandler;
    }

    public DelayedAction delay(int i, final Runnable runnable) {
        this.mMainHandler.postDelayed(runnable, i);
        return new DelayedAction() { // from class: com.android.bips.-$$Lambda$BuiltInPrintService$R8lt2yY71Eza5UgJPcH9BnRk6HU
            @Override // com.android.bips.DelayedAction
            public final void cancel() {
                BuiltInPrintService.this.lambda$delay$0$BuiltInPrintService(runnable);
            }
        };
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$delay$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$delay$0$BuiltInPrintService(Runnable runnable) {
        this.mMainHandler.removeCallbacks(runnable);
    }

    public String getDescription(DiscoveredPrinter discoveredPrinter) {
        if (P2pUtils.isP2p(discoveredPrinter) || P2pUtils.isOnConnectedInterface(this, discoveredPrinter)) {
            return getString(2131034166);
        }
        String host = discoveredPrinter.getHost();
        return !TextUtils.isEmpty(discoveredPrinter.location) ? getString(2131034142, new Object[]{host, discoveredPrinter.location}) : host;
    }

    public void lockWifi() {
        if (this.mWifiLock.isHeld()) {
            return;
        }
        this.mWifiLock.acquire();
    }

    public void unlockWifi() {
        if (this.mWifiLock.isHeld()) {
            this.mWifiLock.release();
        }
    }

    private void createNotificationChannel() {
        ((NotificationManager) getSystemService("notification")).createNotificationChannel(new NotificationChannel("security", getString(2131034162), 4));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void notifyCertificateChange(String str, PrinterId printerId, String str2, byte[] bArr) {
        String string;
        if (bArr == null) {
            string = getString(2131034137);
        } else {
            string = getString(2131034117);
        }
        Intent putExtra = new Intent(this, (Class<?>) BuiltInPrintService.class).setAction(ACTION_CERTIFICATE_REJECT).putExtra("printer-id", printerId);
        Notification.Action build = new Notification.Action.Builder(Icon.createWithResource(this, 2130837508), getString(2131034158), PendingIntent.getService(this, 1000, putExtra, 134217728)).build();
        PendingIntent service = PendingIntent.getService(this, 1000, putExtra, 0);
        Intent putExtra2 = new Intent(this, (Class<?>) BuiltInPrintService.class).setAction(ACTION_CERTIFICATE_ACCEPT).putExtra("printer-uuid", str2).putExtra("printer-id", printerId);
        if (bArr != null) {
            putExtra2.putExtra("certificate", bArr);
        }
        ((NotificationManager) getSystemService("notification")).notify(TAG_CERTIFICATE_REQUEST, 1000, new Notification.Builder(this, "security").setContentTitle(str).setSmallIcon(2130837508).setStyle(new Notification.BigTextStyle().bigText(string)).setContentText(string).setAutoCancel(true).addAction(build).addAction(new Notification.Action.Builder(Icon.createWithResource(this, 2130837508), getString(2131034112), PendingIntent.getService(this, 1000, putExtra2, 134217728)).build()).setDeleteIntent(service).build());
    }

    @Override // android.app.Service
    public int onStartCommand(Intent intent, int i, int i2) {
        NotificationManager notificationManager = (NotificationManager) getSystemService("notification");
        if (ACTION_CERTIFICATE_ACCEPT.equals(intent.getAction())) {
            byte[] byteArrayExtra = intent.getByteArrayExtra("certificate");
            PrinterId printerId = (PrinterId) intent.getParcelableExtra("printer-id");
            String stringExtra = intent.getStringExtra("printer-uuid");
            if (byteArrayExtra != null) {
                this.mCertificateStore.put(stringExtra, byteArrayExtra);
            } else {
                this.mCertificateStore.remove(stringExtra);
            }
            this.mJobQueue.restart(printerId);
            notificationManager.cancel(TAG_CERTIFICATE_REQUEST, 1000);
            return 2;
        }
        if (ACTION_CERTIFICATE_REJECT.equals(intent.getAction())) {
            this.mJobQueue.cancel((PrinterId) intent.getParcelableExtra("printer-id"));
            notificationManager.cancel(TAG_CERTIFICATE_REQUEST, 1000);
            return 2;
        }
        if (!ACTION_P2P_PERMISSION_CANCEL.equals(intent.getAction())) {
            return 2;
        }
        this.mP2pPermissionManager.applyPermissionChange(false);
        return 2;
    }
}


### **classes_dex_2/sources/com/android/bips/util/PriorityLock.java** ###

package com.android.bips.util;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/* loaded from: /content/classes2.dex */
public class PriorityLock {
    private boolean mLocked = false;
    private List<Integer> mPriorities = new ArrayList();

    public synchronized void lock(int i) throws InterruptedException {
        if (this.mLocked) {
            this.mPriorities.add(Integer.valueOf(i));
            Collections.sort(this.mPriorities);
            while (true) {
                try {
                    if (!this.mLocked && i >= this.mPriorities.get(this.mPriorities.size() - 1).intValue()) {
                        break;
                    } else {
                        wait();
                    }
                } finally {
                    this.mPriorities.remove(Integer.valueOf(i));
                }
            }
        }
        this.mLocked = true;
    }

    public synchronized void unlock() {
        if (!this.mLocked) {
            throw new IllegalArgumentException("not locked");
        }
        this.mLocked = false;
        notifyAll();
    }
}


### **classes_dex_2/sources/com/android/bips/util/WifiMonitor.java** ###

package com.android.bips.util;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import com.android.bips.BuiltInPrintService;

/* loaded from: /content/classes2.dex */
public class WifiMonitor {
    private BroadcastMonitor mBroadcasts;
    private Boolean mConnected;
    private Listener mListener;

    /* loaded from: /content/classes2.dex */
    public interface Listener {
        void onConnectionStateChanged(boolean z);
    }

    public WifiMonitor(BuiltInPrintService builtInPrintService, Listener listener) {
        final ConnectivityManager connectivityManager = (ConnectivityManager) builtInPrintService.getSystemService("connectivity");
        if (connectivityManager == null) {
            return;
        }
        this.mListener = listener;
        this.mBroadcasts = builtInPrintService.receiveBroadcasts(new BroadcastReceiver() { // from class: com.android.bips.util.WifiMonitor.1
            @Override // android.content.BroadcastReceiver
            public void onReceive(Context context, Intent intent) {
                if ("android.net.conn.CONNECTIVITY_CHANGE".equals(intent.getAction())) {
                    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();
                    boolean z = activeNetworkInfo != null && activeNetworkInfo.isConnected();
                    if (WifiMonitor.this.mListener != null) {
                        if (WifiMonitor.this.mConnected == null || WifiMonitor.this.mConnected.booleanValue() != z) {
                            WifiMonitor.this.mConnected = Boolean.valueOf(z);
                            WifiMonitor.this.mListener.onConnectionStateChanged(WifiMonitor.this.mConnected.booleanValue());
                        }
                    }
                }
            }
        }, "android.net.conn.CONNECTIVITY_CHANGE");
    }

    public void close() {
        BroadcastMonitor broadcastMonitor = this.mBroadcasts;
        if (broadcastMonitor != null) {
            broadcastMonitor.close();
        }
        this.mListener = null;
    }
}


### **classes_dex_2/sources/com/android/bips/util/BroadcastMonitor.java** ###

package com.android.bips.util;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;

/* loaded from: /content/classes2.dex */
public class BroadcastMonitor extends BroadcastReceiver {
    Context mContext;
    BroadcastReceiver mReceiver;

    public BroadcastMonitor(Context context, BroadcastReceiver broadcastReceiver, String... strArr) {
        IntentFilter intentFilter = new IntentFilter();
        for (String str : strArr) {
            intentFilter.addAction(str);
        }
        this.mContext = context;
        this.mReceiver = broadcastReceiver;
        context.registerReceiver(this, intentFilter);
    }

    public void close() {
        if (this.mReceiver != null) {
            this.mReceiver = null;
            this.mContext.unregisterReceiver(this);
        }
    }

    @Override // android.content.BroadcastReceiver
    public void onReceive(Context context, Intent intent) {
        BroadcastReceiver broadcastReceiver;
        if (intent.getAction() == null || (broadcastReceiver = this.mReceiver) == null) {
            return;
        }
        broadcastReceiver.onReceive(context, intent);
    }
}


### **classes_dex_2/sources/com/android/bips/util/FileUtils.java** ###

package com.android.bips.util;

import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

/* loaded from: /content/classes2.dex */
public class FileUtils {
    public static void deleteAll(File file) {
        if (file.isDirectory()) {
            for (File file2 : file.listFiles()) {
                deleteAll(file2);
            }
        }
        file.delete();
    }

    public static void copy(InputStream inputStream, OutputStream outputStream) throws IOException {
        try {
            try {
                byte[] bArr = new byte[8092];
                while (true) {
                    int read = inputStream.read(bArr);
                    if (read <= 0) {
                        break;
                    } else if (read > 0) {
                        outputStream.write(bArr, 0, read);
                    }
                }
                if (outputStream != null) {
                    outputStream.close();
                }
                if (inputStream != null) {
                    inputStream.close();
                }
            } finally {
            }
        } catch (Throwable th) {
            if (inputStream != null) {
                try {
                    inputStream.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
            }
            throw th;
        }
    }

    public static boolean makeDirectory(File file) {
        if (file.exists()) {
            return file.isDirectory();
        }
        return file.mkdir();
    }
}


### **classes_dex_2/sources/com/android/bips/jni/MediaSizes.java** ###

package com.android.bips.jni;

import android.annotation.SuppressLint;
import android.content.Context;
import android.print.PrintAttributes;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

/* loaded from: /content/classes2.dex */
public class MediaSizes {
    static final String DEFAULT_MEDIA_NAME = "iso_a4_210x297mm";
    static final Collection<String> DEFAULT_MEDIA_NAMES;
    private static final String ISO_A3 = "iso_a3_297x420mm";
    private static final String ISO_A4 = "iso_a4_210x297mm";
    private static final String ISO_A5 = "iso_a5_148x210mm";
    private static final String JIS_B4 = "jis_b4_257x364mm";
    private static final String JIS_B5 = "jis_b5_182x257mm";
    private static final String JPN_HAGAKI = "jpn_hagaki_100x148mm";
    private static final String LEGAL = "na_legal_8.5x14in";
    private static final String LETTER = "na_letter_8.5x11in";
    private static final String NA_GOVT_LETTER = "na_govt-letter_8x10in";
    private static final String NA_LEDGER_11X17 = "na_ledger_11x17in";
    public static final String OE_PHOTO_L = "oe_photo-l_3.5x5in";
    private static final String OM_CARD = "om_card_54x86mm";
    private static final String OM_DSC_PHOTO = "om_dsc-photo_89x119mm";
    private static final String PHOTO_4x6in = "na_index-4x6_4x6in";
    private static final String PHOTO_5x7 = "na_5x7_5x7in";

    @SuppressLint({"UseSparseArrays"})
    private static final Map<Integer, String> sCodeToStringMap = new HashMap();
    private static MediaSizes sInstance;
    private final Map<String, PrintAttributes.MediaSize> mNameToSizeMap;

    static {
        ArrayList arrayList = new ArrayList();
        DEFAULT_MEDIA_NAMES = arrayList;
        arrayList.add("iso_a4_210x297mm");
        DEFAULT_MEDIA_NAMES.add(LETTER);
        DEFAULT_MEDIA_NAMES.add(PHOTO_4x6in);
        DEFAULT_MEDIA_NAMES.add(PHOTO_5x7);
        sCodeToStringMap.put(2, LETTER);
        sCodeToStringMap.put(3, LEGAL);
        sCodeToStringMap.put(7, NA_GOVT_LETTER);
        sCodeToStringMap.put(11, NA_LEDGER_11X17);
        sCodeToStringMap.put(25, ISO_A5);
        sCodeToStringMap.put(26, "iso_a4_210x297mm");
        sCodeToStringMap.put(27, ISO_A3);
        sCodeToStringMap.put(45, JIS_B5);
        sCodeToStringMap.put(46, JIS_B4);
        sCodeToStringMap.put(71, JPN_HAGAKI);
        sCodeToStringMap.put(74, PHOTO_4x6in);
        sCodeToStringMap.put(122, PHOTO_5x7);
        sCodeToStringMap.put(302, OM_DSC_PHOTO);
        sCodeToStringMap.put(303, OM_CARD);
        sCodeToStringMap.put(304, OE_PHOTO_L);
    }

    private MediaSizes(Context context) {
        HashMap hashMap = new HashMap();
        this.mNameToSizeMap = hashMap;
        hashMap.put(LETTER, PrintAttributes.MediaSize.NA_LETTER);
        this.mNameToSizeMap.put(LEGAL, PrintAttributes.MediaSize.NA_LEGAL);
        this.mNameToSizeMap.put(ISO_A3, PrintAttributes.MediaSize.ISO_A3);
        this.mNameToSizeMap.put("iso_a4_210x297mm", PrintAttributes.MediaSize.ISO_A4);
        this.mNameToSizeMap.put(ISO_A5, PrintAttributes.MediaSize.ISO_A5);
        this.mNameToSizeMap.put(JPN_HAGAKI, PrintAttributes.MediaSize.JPN_HAGAKI);
        this.mNameToSizeMap.put(JIS_B4, PrintAttributes.MediaSize.JIS_B4);
        this.mNameToSizeMap.put(JIS_B5, PrintAttributes.MediaSize.JIS_B5);
        this.mNameToSizeMap.put(NA_LEDGER_11X17, PrintAttributes.MediaSize.NA_TABLOID);
        this.mNameToSizeMap.put(PHOTO_4x6in, new PrintAttributes.MediaSize(PHOTO_4x6in, context.getString(2131034130), 4000, 6000));
        this.mNameToSizeMap.put(NA_GOVT_LETTER, new PrintAttributes.MediaSize(NA_GOVT_LETTER, context.getString(2131034134), 8000, 10000));
        this.mNameToSizeMap.put(PHOTO_5x7, new PrintAttributes.MediaSize(PHOTO_5x7, context.getString(2131034132), 5000, 7000));
        this.mNameToSizeMap.put(OM_DSC_PHOTO, new PrintAttributes.MediaSize(OM_DSC_PHOTO, context.getString(2131034133), 3504, 4685));
        this.mNameToSizeMap.put(OM_CARD, new PrintAttributes.MediaSize(OM_CARD, context.getString(2131034131), 2126, 3386));
        this.mNameToSizeMap.put(OE_PHOTO_L, new PrintAttributes.MediaSize(OE_PHOTO_L, context.getString(2131034135), 3500, 5000));
    }

    public static MediaSizes getInstance(Context context) {
        if (sInstance == null) {
            sInstance = new MediaSizes(context.getApplicationContext());
        }
        return sInstance;
    }

    private static int toMediaCode(String str) {
        for (Map.Entry<Integer, String> entry : sCodeToStringMap.entrySet()) {
            if (entry.getValue().equals(str)) {
                return entry.getKey().intValue();
            }
        }
        return 0;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static String toMediaName(int i) {
        return sCodeToStringMap.get(Integer.valueOf(i));
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrintAttributes.MediaSize toMediaSize(String str) {
        return this.mNameToSizeMap.get(str);
    }

    public int toMediaCode(PrintAttributes.MediaSize mediaSize) {
        for (Map.Entry<String, PrintAttributes.MediaSize> entry : this.mNameToSizeMap.entrySet()) {
            if (entry.getValue().getId().equals(mediaSize.getId())) {
                return toMediaCode(entry.getKey());
            }
        }
        return 0;
    }
}


### **classes_dex_2/sources/com/android/bips/jni/SizeD.java** ###

package com.android.bips.jni;

import android.os.Parcel;
import android.os.Parcelable;

/* loaded from: /content/classes2.dex */
public class SizeD implements Parcelable {
    public static final Parcelable.Creator<SizeD> CREATOR = new Parcelable.Creator<SizeD>() { // from class: com.android.bips.jni.SizeD.1
        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public SizeD createFromParcel(Parcel parcel) {
            return new SizeD(parcel);
        }

        /* JADX WARN: Can't rename method to resolve collision */
        @Override // android.os.Parcelable.Creator
        public SizeD[] newArray(int i) {
            return new SizeD[i];
        }
    };
    private final double mHeight;
    private final double mWidth;

    @Override // android.os.Parcelable
    public int describeContents() {
        return 0;
    }

    public SizeD(double d, double d2) {
        validate("width", d);
        validate("height", d2);
        this.mWidth = d;
        this.mHeight = d2;
    }

    private void validate(String str, double d) {
        if (d < 0.0d || !Double.isFinite(d)) {
            throw new IllegalArgumentException("invalid " + str + ": " + d);
        }
    }

    public SizeD(Parcel parcel) {
        this(parcel.readDouble(), parcel.readDouble());
    }

    public double getWidth() {
        return this.mWidth;
    }

    public double getHeight() {
        return this.mHeight;
    }

    @Override // android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        parcel.writeDouble(this.mWidth);
        parcel.writeDouble(this.mHeight);
    }
}


### **classes_dex_2/sources/com/android/bips/jni/LocalJobParams.java** ###

package com.android.bips.jni;

/* loaded from: /content/classes2.dex */
public final class LocalJobParams {
    public boolean auto_rotate;
    public int borderless;
    public int color_space;
    public boolean document_scaling;
    public int duplex;
    public boolean fill_page;
    public boolean fit_to_page;
    public float job_margin_bottom;
    public float job_margin_left;
    public float job_margin_right;
    public float job_margin_top;
    public boolean landscape_mode;
    public int media_size;
    public int media_tray;
    public int media_type;
    public int num_copies;
    public float page_height;
    public float page_margin_bottom;
    public float page_margin_left;
    public float page_margin_right;
    public float page_margin_top;
    public float page_width;
    public int pdf_render_resolution;
    public boolean portrait_mode;
    public int print_resolution;
    public int printable_height;
    public int printable_width;
    public int render_flags;
    public String job_name = null;
    public String job_originating_user_name = null;
    public String page_range = null;
    public String document_category = null;
    public byte[] nativeData = null;
    public int alignment = 0;

    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append("LocalJobParams{ borderless=");
        sb.append(this.borderless);
        sb.append(" duplex=");
        sb.append(this.duplex);
        sb.append(" pdf_render_resolution=");
        sb.append(this.pdf_render_resolution);
        sb.append(" job_name=");
        sb.append(this.job_name);
        sb.append(" job_originating_user_name=");
        sb.append(this.job_originating_user_name);
        sb.append(" media_size=");
        sb.append(this.media_size);
        sb.append(" media_type=");
        sb.append(this.media_type);
        sb.append(" media_tray=");
        sb.append(this.media_tray);
        sb.append(" render_flags=");
        sb.append(this.render_flags);
        sb.append(" num_copies=");
        sb.append(this.num_copies);
        sb.append(" color_space=");
        sb.append(this.color_space);
        sb.append(" print_resolution=");
        sb.append(this.print_resolution);
        sb.append(" printable_width=");
        sb.append(this.printable_width);
        sb.append(" printable_height=");
        sb.append(this.printable_height);
        sb.append(" job_margin_top=");
        sb.append(this.job_margin_top);
        sb.append(" job_margin_left=");
        sb.append(this.job_margin_left);
        sb.append(" job_margin_right=");
        sb.append(this.job_margin_right);
        sb.append(" job_margin_bottom=");
        sb.append(this.job_margin_bottom);
        sb.append(" page_width=");
        sb.append(this.page_width);
        sb.append(" page_height=");
        sb.append(this.page_height);
        sb.append(" page_margin_top=");
        sb.append(this.page_margin_top);
        sb.append(" page_margin_left=");
        sb.append(this.page_margin_left);
        sb.append(" page_margin_right=");
        sb.append(this.page_margin_right);
        sb.append(" page_margin_bottom=");
        sb.append(this.page_margin_bottom);
        sb.append(" fit_to_page=");
        sb.append(this.fit_to_page);
        sb.append(" auto_rotate=");
        sb.append(this.auto_rotate);
        sb.append(" fill_page=");
        sb.append(this.fill_page);
        sb.append(" portrait_mode=");
        sb.append(this.portrait_mode);
        sb.append(" landscape_mode=");
        sb.append(this.landscape_mode);
        sb.append(" page_range=");
        sb.append(this.page_range);
        sb.append(" document_category=");
        sb.append(this.document_category);
        sb.append(" nativeData=");
        sb.append(this.nativeData != null);
        sb.append(" alignment=");
        sb.append(this.alignment);
        sb.append(" document_scaling=");
        sb.append(this.document_scaling);
        sb.append("}");
        return sb.toString();
    }
}


### **classes_dex_2/sources/com/android/bips/jni/LocalPrinterCapabilities.java** ###

package com.android.bips.jni;

import android.print.PrintAttributes;
import android.print.PrinterCapabilitiesInfo;
import android.text.TextUtils;
import com.android.bips.BuiltInPrintService;
import java.net.InetAddress;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Objects;

/* loaded from: /content/classes2.dex */
public class LocalPrinterCapabilities {
    public boolean borderless;
    public byte[] certificate;
    public boolean color;
    public boolean duplex;
    public InetAddress inetAddress;
    public boolean isSupported;
    public String location;
    public String mediaDefault;
    public String name;
    public byte[] nativeData;
    public String path;
    public int[] supportedMediaSizes;
    public int[] supportedMediaTypes;
    public String uuid;

    public void buildCapabilities(BuiltInPrintService builtInPrintService, PrinterCapabilitiesInfo.Builder builder) {
        builder.setColorModes((this.color ? 2 : 0) | 1, this.color ? 2 : 1);
        MediaSizes mediaSizes = MediaSizes.getInstance(builtInPrintService);
        String str = this.mediaDefault;
        if (TextUtils.isEmpty(str) || mediaSizes.toMediaSize(str) == null) {
            str = "iso_a4_210x297mm";
        }
        ArrayList arrayList = new ArrayList();
        for (int i : this.supportedMediaSizes) {
            String mediaName = MediaSizes.toMediaName(i);
            if (mediaName != null) {
                arrayList.add(mediaName);
            }
        }
        if (arrayList.isEmpty()) {
            arrayList.addAll(MediaSizes.DEFAULT_MEDIA_NAMES);
        }
        if (!arrayList.contains(str)) {
            str = (String) arrayList.get(0);
        }
        Iterator it = new HashSet(arrayList).iterator();
        while (it.hasNext()) {
            String str2 = (String) it.next();
            builder.addMediaSize(mediaSizes.toMediaSize(str2), Objects.equals(str2, str));
        }
        builder.addResolution(new PrintAttributes.Resolution(BackendConstants.RESOLUTION_300_DPI, builtInPrintService.getString(2131034159), 300, 300), true);
        if (this.duplex) {
            builder.setDuplexModes(7, 1);
        }
        if (this.borderless) {
            builder.setMinMargins(new PrintAttributes.Margins(0, 0, 0, 0));
        }
    }

    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append("LocalPrinterCapabilities{path=");
        sb.append(this.path);
        sb.append(" name=");
        sb.append(this.name);
        sb.append(" uuid=");
        sb.append(this.uuid);
        sb.append(" location=");
        sb.append(this.location);
        sb.append(" duplex=");
        sb.append(this.duplex);
        sb.append(" borderless=");
        sb.append(this.borderless);
        sb.append(" color=");
        sb.append(this.color);
        sb.append(" isSupported=");
        sb.append(this.isSupported);
        sb.append(" mediaDefault=");
        sb.append(this.mediaDefault);
        sb.append(" supportedMediaTypes=");
        sb.append(Arrays.toString(this.supportedMediaTypes));
        sb.append(" supportedMediaSizes=");
        sb.append(Arrays.toString(this.supportedMediaSizes));
        sb.append(" inetAddress=");
        sb.append(this.inetAddress);
        sb.append(" certificate=");
        sb.append(this.certificate != null);
        sb.append("}");
        return sb.toString();
    }
}


### **classes_dex_2/sources/com/android/bips/jni/JobCallback.java** ###

package com.android.bips.jni;

/* loaded from: /content/classes2.dex */
public interface JobCallback {
    void jobCallback(int i, JobCallbackParams jobCallbackParams);
}


### **classes_dex_2/sources/com/android/bips/jni/JobCallbackParams.java** ###

package com.android.bips.jni;

/* loaded from: /content/classes2.dex */
public final class JobCallbackParams {
    public String[] blockedReasons;
    public byte[] certificate;
    public String jobDoneResult;
    public int jobId;
    public String jobState;
    public String printerState;
}


### **classes_dex_2/sources/com/android/bips/jni/BackendConstants.java** ###

package com.android.bips.jni;

/* loaded from: /content/classes2.dex */
public class BackendConstants {
    public static final String ALIGNMENT = "alignment";
    public static final int ALIGN_CENTER = 17;
    public static final int ALIGN_CENTER_HORIZONTAL = 1;
    public static final int ALIGN_CENTER_HORIZONTAL_ON_ORIENTATION = 7;
    public static final int ALIGN_CENTER_VERTICIAL = 16;
    public static final String BLOCKED_REASON__BAD_CERTIFICATE = "bad-certificate";
    public static final String BLOCKED_REASON__BUSY = "device-busy";
    public static final String BLOCKED_REASON__CANCELLED = "print-job-cancelled";
    public static final String BLOCKED_REASON__DOOR_OPEN = "cover-open";
    public static final String BLOCKED_REASON__JAMMED = "jam";
    public static final String BLOCKED_REASON__LOW_ON_INK = "marker-ink-almost-empty";
    public static final String BLOCKED_REASON__LOW_ON_TONER = "marker-toner-almost-empty";
    public static final String BLOCKED_REASON__OFFLINE = "device-offline";
    public static final String BLOCKED_REASON__OUT_OF_INK = "marker-ink-empty";
    public static final String BLOCKED_REASON__OUT_OF_PAPER = "input-media-supply-empty";
    public static final String BLOCKED_REASON__OUT_OF_TONER = "marker-toner-empty";
    public static final String BLOCKED_REASON__REALLY_LOW_ON_INK = "marker-ink-really-low";
    public static final String BLOCKED_REASON__SERVICE_REQUEST = "service-request";
    public static final String BLOCKED_REASON__UNKNOWN = "unknown";
    public static final String ERROR = "ERROR";
    public static final String JOB_DONE_CANCELLED = "job-cancelled";
    public static final String JOB_DONE_CORRUPT = "job-corrupt";
    public static final String JOB_DONE_ERROR = "job-failed";
    public static final String JOB_DONE_OK = "job-success";
    public static final String JOB_DONE_OTHER = "job-result-unknown";
    public static final String JOB_STATE_BLOCKED = "print-job-blocked";
    public static final String JOB_STATE_DONE = "print-job-complete";
    public static final String JOB_STATE_OTHER = "print-job-unknown";
    public static final String JOB_STATE_QUEUED = "print-job-queued";
    public static final String JOB_STATE_RUNNING = "print-job-running";
    public static final String OK = "OK";
    public static final String PRINT_DOCUMENT_CATEGORY__DOCUMENT = "Doc";
    public static final String PRINT_DOCUMENT_CATEGORY__PHOTO = "Photo";
    public static final String RESOLUTION_300_DPI = "resolution-300-dpi";
    public static final int STATUS_OK = 0;
    public static final String WPRINT_APPLICATION_ID = "Android";
    public static final String WPRINT_LIBRARY_PREFIX = "wfds";
}


### **classes_dex_2/sources/com/android/bips/jni/PdfRender.java** ###

package com.android.bips.jni;

import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.IBinder;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.util.Log;
import com.android.bips.render.IPdfRender;
import com.android.bips.render.PdfRenderService;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.nio.ByteBuffer;

/* loaded from: /content/classes2.dex */
public class PdfRender {
    private static final boolean DEBUG = false;
    private static final String TAG = "PdfRender";
    private static PdfRender sInstance;
    private static final Object sLock = new Object();
    private ServiceConnection mConnection = new ServiceConnection() { // from class: com.android.bips.jni.PdfRender.1
        @Override // android.content.ServiceConnection
        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
            PdfRender.this.mService = IPdfRender.Stub.asInterface(iBinder);
        }

        @Override // android.content.ServiceConnection
        public void onServiceDisconnected(ComponentName componentName) {
            Log.w(PdfRender.TAG, "PdfRender service unexpectedly disconnected, reconnecting");
            PdfRender.this.mService = null;
            PdfRender.this.mContext.bindService(PdfRender.this.mIntent, this, 1);
        }
    };
    private final Context mContext;
    private String mCurrentFile;
    private final Intent mIntent;
    private IPdfRender mService;

    public static PdfRender getInstance(Context context) {
        PdfRender pdfRender;
        synchronized (sLock) {
            if (sInstance == null && context != null) {
                sInstance = new PdfRender(context.getApplicationContext());
            }
            pdfRender = sInstance;
        }
        return pdfRender;
    }

    private PdfRender(Context context) {
        this.mContext = context;
        Intent intent = new Intent(context, (Class<?>) PdfRenderService.class);
        this.mIntent = intent;
        context.bindService(intent, this.mConnection, 1);
    }

    public void close() {
        this.mContext.unbindService(this.mConnection);
        this.mService = null;
        synchronized (sLock) {
            sInstance = null;
        }
    }

    private int openDocument(String str) {
        if (this.mService == null) {
            return 0;
        }
        String str2 = this.mCurrentFile;
        if (str2 != null && !str2.equals(str)) {
            closeDocument();
        }
        try {
            return this.mService.openDocument(ParcelFileDescriptor.open(new File(str), 268435456));
        } catch (RemoteException | FileNotFoundException e) {
            Log.w(TAG, "Failed to open " + str, e);
            return 0;
        }
    }

    public SizeD getPageSize(int i) {
        IPdfRender iPdfRender = this.mService;
        if (iPdfRender == null) {
            return null;
        }
        try {
            return iPdfRender.getPageSize(i - 1);
        } catch (RemoteException | IllegalArgumentException e) {
            Log.w(TAG, "getPageWidth failed", e);
            return null;
        }
    }

    public boolean renderPageStripe(int i, int i2, int i3, int i4, double d, ByteBuffer byteBuffer) {
        if (this.mService == null) {
            return DEBUG;
        }
        try {
            System.currentTimeMillis();
            int i5 = i3 * i4 * 3;
            byte[] bArr = new byte[131072];
            ParcelFileDescriptor.AutoCloseInputStream autoCloseInputStream = new ParcelFileDescriptor.AutoCloseInputStream(this.mService.renderPageStripe(i - 1, i2, i3, i4, d));
            while (true) {
                try {
                    int read = autoCloseInputStream.read(bArr, 0, 131072);
                    if (read <= 0) {
                        break;
                    }
                    byteBuffer.put(bArr, 0, read);
                } finally {
                }
            }
            autoCloseInputStream.close();
            if (byteBuffer.position() == i5) {
                return true;
            }
            Log.w(TAG, "Render failed: expected " + byteBuffer.position() + ", got " + i5 + " bytes");
            return DEBUG;
        } catch (RemoteException | IOException | IllegalArgumentException | OutOfMemoryError e) {
            Log.w(TAG, "Render failed", e);
            return DEBUG;
        }
    }

    public void closeDocument() {
        IPdfRender iPdfRender = this.mService;
        if (iPdfRender == null) {
            return;
        }
        try {
            iPdfRender.closeDocument();
        } catch (RemoteException unused) {
        }
    }
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pConnectionProcedure.java** ###

package com.android.bips.p2p;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.NetworkInfo;
import android.net.wifi.p2p.WifiP2pConfig;
import android.net.wifi.p2p.WifiP2pDevice;
import android.net.wifi.p2p.WifiP2pDeviceList;
import android.net.wifi.p2p.WifiP2pGroup;
import android.net.wifi.p2p.WifiP2pInfo;
import android.net.wifi.p2p.WifiP2pManager;
import android.os.Looper;
import com.android.bips.BuiltInPrintService;
import com.android.bips.DelayedAction;
import com.android.bips.util.BroadcastMonitor;
import java.util.Iterator;
import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;

/* loaded from: /content/classes2.dex */
public class P2pConnectionProcedure extends BroadcastReceiver {
    private WifiP2pManager.Channel mChannel;
    private final BroadcastMonitor mConnectionMonitor;
    private DelayedAction mDetectDelayed;
    private WifiP2pInfo mInfo;
    private String mNetwork;
    private final WifiP2pManager mP2pManager;
    private final WifiP2pDevice mPeer;
    private final BuiltInPrintService mService;
    private final List<P2pConnectionListener> mListeners = new CopyOnWriteArrayList();
    private boolean mInvited = false;
    private boolean mDelayed = false;

    /* JADX INFO: Access modifiers changed from: package-private */
    public P2pConnectionProcedure(BuiltInPrintService builtInPrintService, WifiP2pManager wifiP2pManager, WifiP2pDevice wifiP2pDevice, P2pConnectionListener p2pConnectionListener) {
        this.mService = builtInPrintService;
        this.mP2pManager = wifiP2pManager;
        this.mPeer = wifiP2pDevice;
        this.mConnectionMonitor = builtInPrintService.receiveBroadcasts(this, "android.net.wifi.p2p.CONNECTION_STATE_CHANGE", "android.net.wifi.p2p.PEERS_CHANGED");
        this.mChannel = this.mP2pManager.initialize(builtInPrintService, Looper.getMainLooper(), null);
        this.mListeners.add(p2pConnectionListener);
        this.mP2pManager.connect(this.mChannel, configForPeer(wifiP2pDevice), null);
    }

    private WifiP2pConfig configForPeer(WifiP2pDevice wifiP2pDevice) {
        WifiP2pConfig wifiP2pConfig = new WifiP2pConfig();
        wifiP2pConfig.deviceAddress = wifiP2pDevice.deviceAddress;
        if (wifiP2pDevice.wpsPbcSupported()) {
            wifiP2pConfig.wps.setup = 0;
        } else if (wifiP2pDevice.wpsKeypadSupported()) {
            wifiP2pConfig.wps.setup = 2;
        } else {
            wifiP2pConfig.wps.setup = 1;
        }
        return wifiP2pConfig;
    }

    public WifiP2pDevice getPeer() {
        return this.mPeer;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean hasListener(P2pConnectionListener p2pConnectionListener) {
        return this.mListeners.contains(p2pConnectionListener);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addListener(P2pConnectionListener p2pConnectionListener) {
        WifiP2pInfo wifiP2pInfo = this.mInfo;
        if (wifiP2pInfo != null) {
            p2pConnectionListener.onConnectionOpen(this.mNetwork, wifiP2pInfo);
        }
        this.mListeners.add(p2pConnectionListener);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeListener(P2pConnectionListener p2pConnectionListener) {
        this.mListeners.remove(p2pConnectionListener);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public int getListenerCount() {
        return this.mListeners.size();
    }

    public void close() {
        this.mListeners.clear();
        this.mConnectionMonitor.close();
        DelayedAction delayedAction = this.mDetectDelayed;
        if (delayedAction != null) {
            delayedAction.cancel();
        }
        WifiP2pManager.Channel channel = this.mChannel;
        if (channel != null) {
            this.mP2pManager.cancelConnect(channel, null);
            this.mP2pManager.removeGroup(this.mChannel, null);
            this.mChannel.close();
            this.mChannel = null;
        }
    }

    @Override // android.content.BroadcastReceiver
    public void onReceive(Context context, Intent intent) {
        if ("android.net.wifi.p2p.CONNECTION_STATE_CHANGE".equals(intent.getAction())) {
            NetworkInfo networkInfo = (NetworkInfo) intent.getParcelableExtra("networkInfo");
            WifiP2pGroup wifiP2pGroup = (WifiP2pGroup) intent.getParcelableExtra("p2pGroupInfo");
            WifiP2pInfo wifiP2pInfo = (WifiP2pInfo) intent.getParcelableExtra("wifiP2pInfo");
            if (networkInfo.isConnected()) {
                if (isConnectedToPeer(wifiP2pGroup)) {
                    if (this.mDelayed) {
                        Iterator<P2pConnectionListener> it = this.mListeners.iterator();
                        while (it.hasNext()) {
                            it.next().onConnectionDelayed(false);
                        }
                    } else {
                        DelayedAction delayedAction = this.mDetectDelayed;
                        if (delayedAction != null) {
                            delayedAction.cancel();
                        }
                    }
                    this.mNetwork = wifiP2pGroup.getInterface();
                    this.mInfo = wifiP2pInfo;
                    Iterator<P2pConnectionListener> it2 = this.mListeners.iterator();
                    while (it2.hasNext()) {
                        it2.next().onConnectionOpen(this.mNetwork, this.mInfo);
                    }
                    return;
                }
                return;
            }
            if (this.mInvited) {
                Iterator<P2pConnectionListener> it3 = this.mListeners.iterator();
                while (it3.hasNext()) {
                    it3.next().onConnectionClosed();
                }
                close();
                return;
            }
            return;
        }
        if ("android.net.wifi.p2p.PEERS_CHANGED".equals(intent.getAction())) {
            WifiP2pDevice wifiP2pDevice = ((WifiP2pDeviceList) intent.getParcelableExtra("wifiP2pDeviceList")).get(this.mPeer.deviceAddress);
            if (this.mInvited || wifiP2pDevice == null || wifiP2pDevice.status != 1) {
                return;
            }
            this.mInvited = true;
            this.mDetectDelayed = this.mService.delay(3000, new Runnable() { // from class: com.android.bips.p2p.-$$Lambda$P2pConnectionProcedure$6SN9grkTOIyWZxLTGylCDREgkNs
                @Override // java.lang.Runnable
                public final void run() {
                    P2pConnectionProcedure.this.lambda$onReceive$0$P2pConnectionProcedure();
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onReceive$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onReceive$0$P2pConnectionProcedure() {
        this.mDelayed = true;
        Iterator<P2pConnectionListener> it = this.mListeners.iterator();
        while (it.hasNext()) {
            it.next().onConnectionDelayed(true);
        }
    }

    private boolean isConnectedToPeer(WifiP2pGroup wifiP2pGroup) {
        WifiP2pDevice owner = wifiP2pGroup.getOwner();
        if (owner != null && owner.deviceAddress.equals(this.mPeer.deviceAddress)) {
            return true;
        }
        Iterator<WifiP2pDevice> it = wifiP2pGroup.getClientList().iterator();
        while (it.hasNext()) {
            if (it.next().deviceAddress.equals(this.mPeer.deviceAddress)) {
                return true;
            }
        }
        return false;
    }
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pConnectionListener.java** ###

package com.android.bips.p2p;

import android.net.wifi.p2p.WifiP2pInfo;

/* loaded from: /content/classes2.dex */
public interface P2pConnectionListener {
    void onConnectionClosed();

    void onConnectionDelayed(boolean z);

    void onConnectionOpen(String str, WifiP2pInfo wifiP2pInfo);
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pPeerListener.java** ###

package com.android.bips.p2p;

import android.net.wifi.p2p.WifiP2pDevice;

/* loaded from: /content/classes2.dex */
public interface P2pPeerListener {
    void onPeerFound(WifiP2pDevice wifiP2pDevice);

    void onPeerLost(WifiP2pDevice wifiP2pDevice);
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pPrinterConnection.java** ###

package com.android.bips.p2p;

import android.net.wifi.p2p.WifiP2pDevice;
import android.net.wifi.p2p.WifiP2pInfo;
import com.android.bips.BuiltInPrintService;
import com.android.bips.DelayedAction;
import com.android.bips.discovery.ConnectionListener;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.Discovery;
import com.android.bips.discovery.P2pDiscovery;
import com.android.bips.ipp.CapabilitiesCache;
import com.android.bips.jni.LocalPrinterCapabilities;
import java.net.Inet4Address;
import java.net.NetworkInterface;
import java.net.SocketException;
import java.net.UnknownHostException;

/* loaded from: /content/classes2.dex */
public class P2pPrinterConnection implements Discovery.Listener, P2pConnectionListener, P2pPeerListener {
    private NetworkInterface mInterface;
    private ConnectionListener mListener;
    private final Discovery mMdnsDiscovery;
    private DelayedAction mMdnsDiscoveryTimeout;
    private WifiP2pDevice mPeer;
    private DiscoveredPrinter mPrinter;
    private final BuiltInPrintService mService;

    @Override // com.android.bips.p2p.P2pPeerListener
    public void onPeerLost(WifiP2pDevice wifiP2pDevice) {
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
    }

    private P2pPrinterConnection(BuiltInPrintService builtInPrintService, ConnectionListener connectionListener) {
        this.mService = builtInPrintService;
        this.mListener = connectionListener;
        this.mMdnsDiscovery = builtInPrintService.getMdnsDiscovery();
    }

    public P2pPrinterConnection(BuiltInPrintService builtInPrintService, WifiP2pDevice wifiP2pDevice, ConnectionListener connectionListener) {
        this(builtInPrintService, connectionListener);
        connectToPeer(wifiP2pDevice);
    }

    public P2pPrinterConnection(BuiltInPrintService builtInPrintService, DiscoveredPrinter discoveredPrinter, ConnectionListener connectionListener) {
        this(builtInPrintService, connectionListener);
        if (P2pUtils.isOnConnectedInterface(builtInPrintService, discoveredPrinter)) {
            connectToPeer(builtInPrintService.getP2pMonitor().getConnection().getPeer());
        } else {
            this.mPrinter = discoveredPrinter;
            builtInPrintService.getP2pMonitor().discover(this);
        }
    }

    private void connectToPeer(WifiP2pDevice wifiP2pDevice) {
        this.mPeer = wifiP2pDevice;
        this.mService.getP2pMonitor().connect(this.mPeer, this);
    }

    @Override // com.android.bips.p2p.P2pPeerListener
    public void onPeerFound(WifiP2pDevice wifiP2pDevice) {
        if (this.mListener == null) {
            return;
        }
        if (wifiP2pDevice.deviceAddress.equals(this.mPrinter.path.getHost().replaceAll("-", ":"))) {
            this.mService.getP2pMonitor().stopDiscover(this);
            connectToPeer(wifiP2pDevice);
        }
    }

    @Override // com.android.bips.p2p.P2pConnectionListener
    public void onConnectionOpen(String str, WifiP2pInfo wifiP2pInfo) {
        if (this.mListener == null) {
            return;
        }
        try {
            this.mInterface = NetworkInterface.getByName(str);
        } catch (SocketException unused) {
        }
        if (this.mInterface == null) {
            this.mListener.onConnectionComplete(null);
            close();
        } else {
            this.mMdnsDiscoveryTimeout = this.mService.delay(15000, new Runnable() { // from class: com.android.bips.p2p.-$$Lambda$P2pPrinterConnection$lUqCGhAZRIz75cneBj4MjIvwC6Y
                @Override // java.lang.Runnable
                public final void run() {
                    P2pPrinterConnection.this.lambda$onConnectionOpen$0$P2pPrinterConnection();
                }
            });
            this.mMdnsDiscovery.start(this);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onConnectionOpen$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onConnectionOpen$0$P2pPrinterConnection() {
        this.mMdnsDiscovery.stop(this);
        ConnectionListener connectionListener = this.mListener;
        if (connectionListener != null) {
            connectionListener.onConnectionComplete(null);
        }
        close();
    }

    @Override // com.android.bips.p2p.P2pConnectionListener
    public void onConnectionClosed() {
        ConnectionListener connectionListener = this.mListener;
        if (connectionListener != null) {
            connectionListener.onConnectionComplete(null);
        }
        close();
    }

    @Override // com.android.bips.p2p.P2pConnectionListener
    public void onConnectionDelayed(boolean z) {
        ConnectionListener connectionListener = this.mListener;
        if (connectionListener == null) {
            return;
        }
        connectionListener.onConnectionDelayed(z);
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterFound(final DiscoveredPrinter discoveredPrinter) {
        if (this.mListener == null) {
            return;
        }
        try {
            Inet4Address inet4Address = (Inet4Address) Inet4Address.getByName(discoveredPrinter.path.getHost());
            NetworkInterface networkInterface = this.mInterface;
            if (networkInterface == null || !P2pUtils.isOnInterface(networkInterface, inet4Address)) {
                return;
            }
            this.mMdnsDiscovery.stop(this);
            this.mMdnsDiscoveryTimeout.cancel();
            this.mService.getCapabilitiesCache().request(discoveredPrinter, true, new CapabilitiesCache.OnLocalPrinterCapabilities() { // from class: com.android.bips.p2p.-$$Lambda$P2pPrinterConnection$gxHxjYUq3ofR-ALs3HBKdAFRKoE
                @Override // com.android.bips.ipp.CapabilitiesCache.OnLocalPrinterCapabilities
                public final void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities) {
                    P2pPrinterConnection.this.lambda$onPrinterFound$1$P2pPrinterConnection(discoveredPrinter, localPrinterCapabilities);
                }
            });
        } catch (UnknownHostException unused) {
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: onCapabilities, reason: merged with bridge method [inline-methods] */
    public void lambda$onPrinterFound$1$P2pPrinterConnection(DiscoveredPrinter discoveredPrinter, LocalPrinterCapabilities localPrinterCapabilities) {
        ConnectionListener connectionListener = this.mListener;
        if (connectionListener == null) {
            return;
        }
        if (localPrinterCapabilities == null) {
            connectionListener.onConnectionComplete(null);
            close();
        } else {
            this.mListener.onConnectionComplete(new DiscoveredPrinter(discoveredPrinter.uuid, discoveredPrinter.name, P2pDiscovery.toPath(this.mPeer), discoveredPrinter.location));
        }
    }

    public void close() {
        this.mMdnsDiscovery.stop(this);
        DelayedAction delayedAction = this.mMdnsDiscoveryTimeout;
        if (delayedAction != null) {
            delayedAction.cancel();
        }
        this.mService.getP2pMonitor().stopDiscover(this);
        this.mService.getP2pMonitor().stopConnect(this);
        this.mListener = null;
    }
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pUtils.java** ###

package com.android.bips.p2p;

import android.net.Uri;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.DiscoveredPrinter;
import java.net.Inet4Address;
import java.net.InetAddress;
import java.net.InterfaceAddress;
import java.net.NetworkInterface;
import java.net.SocketException;
import java.net.UnknownHostException;
import java.util.BitSet;
import java.util.regex.Pattern;

/* loaded from: /content/classes2.dex */
public class P2pUtils {
    private static final Pattern IPV4_PATTERN = Pattern.compile("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");

    static boolean isOnInterface(String str, Uri uri) {
        NetworkInterface networkInterface = toNetworkInterface(str);
        Inet4Address inet4Address = toInet4Address(uri);
        return (networkInterface == null || inet4Address == null || !isOnInterface(networkInterface, inet4Address)) ? false : true;
    }

    private static Inet4Address toInet4Address(Uri uri) {
        if (!IPV4_PATTERN.matcher(uri.getHost()).find()) {
            return null;
        }
        try {
            return (Inet4Address) InetAddress.getByName(uri.getHost());
        } catch (UnknownHostException unused) {
            return null;
        }
    }

    private static NetworkInterface toNetworkInterface(String str) {
        if (str == null) {
            return null;
        }
        try {
            return NetworkInterface.getByName(str);
        } catch (SocketException unused) {
            return null;
        }
    }

    public static boolean isP2p(DiscoveredPrinter discoveredPrinter) {
        return discoveredPrinter.path.getScheme().equals("p2p");
    }

    public static boolean isOnConnectedInterface(BuiltInPrintService builtInPrintService, DiscoveredPrinter discoveredPrinter) {
        String connectedInterface = builtInPrintService.getP2pMonitor().getConnectedInterface();
        return connectedInterface != null && isOnInterface(connectedInterface, discoveredPrinter.path);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static boolean isOnInterface(NetworkInterface networkInterface, Inet4Address inet4Address) {
        long j = toLong(inet4Address);
        for (InterfaceAddress interfaceAddress : networkInterface.getInterfaceAddresses()) {
            if (interfaceAddress.getAddress() instanceof Inet4Address) {
                Inet4Address inet4Address2 = (Inet4Address) interfaceAddress.getAddress();
                BitSet bitSet = new BitSet(32);
                bitSet.set(32 - interfaceAddress.getNetworkPrefixLength(), 32);
                long j2 = bitSet.toLongArray()[0];
                if ((toLong(inet4Address2) & j2) == (j2 & j)) {
                    return true;
                }
            }
        }
        return false;
    }

    private static long toLong(Inet4Address inet4Address) {
        byte[] address = inet4Address.getAddress();
        return ((address[0] & 255) << 24) + ((address[1] & 255) << 16) + ((address[2] & 255) << 8) + (255 & address[3]);
    }
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pDiscoveryProcedure.java** ###

package com.android.bips.p2p;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.wifi.p2p.WifiP2pDevice;
import android.net.wifi.p2p.WifiP2pDeviceList;
import android.net.wifi.p2p.WifiP2pManager;
import android.os.Looper;
import com.android.bips.BuiltInPrintService;
import com.android.bips.util.BroadcastMonitor;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;
import java.util.regex.Pattern;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class P2pDiscoveryProcedure {
    private static final Pattern PRINTER_PATTERN = Pattern.compile("^(^3-.+-[145])|(0003.+000[145])$");
    private BroadcastMonitor mBroadcastMonitor;
    private WifiP2pManager.Channel mChannel;
    private final WifiP2pManager mP2pManager;
    private final List<P2pPeerListener> mListeners = new CopyOnWriteArrayList();
    private final List<WifiP2pDevice> mPeers = new ArrayList();

    /* JADX INFO: Access modifiers changed from: package-private */
    public P2pDiscoveryProcedure(BuiltInPrintService builtInPrintService, WifiP2pManager wifiP2pManager, P2pPeerListener p2pPeerListener) {
        this.mP2pManager = wifiP2pManager;
        this.mChannel = wifiP2pManager.initialize(builtInPrintService, Looper.getMainLooper(), null);
        this.mListeners.add(p2pPeerListener);
        this.mBroadcastMonitor = builtInPrintService.receiveBroadcasts(new BroadcastReceiver() { // from class: com.android.bips.p2p.P2pDiscoveryProcedure.1
            @Override // android.content.BroadcastReceiver
            public void onReceive(Context context, Intent intent) {
                String action = intent.getAction();
                if ("android.net.wifi.p2p.STATE_CHANGED".equals(action)) {
                    if (intent.getIntExtra("wifi_p2p_state", -1) == 2) {
                        P2pDiscoveryProcedure.this.mP2pManager.stopPeerDiscovery(P2pDiscoveryProcedure.this.mChannel, null);
                        P2pDiscoveryProcedure.this.mP2pManager.discoverPeers(P2pDiscoveryProcedure.this.mChannel, null);
                        return;
                    }
                    return;
                }
                if ("android.net.wifi.p2p.PEERS_CHANGED".equals(action)) {
                    Collection<WifiP2pDevice> deviceList = ((WifiP2pDeviceList) intent.getParcelableExtra("wifiP2pDeviceList")).getDeviceList();
                    P2pDiscoveryProcedure.this.updatePeers(deviceList);
                    if (deviceList.isEmpty()) {
                        P2pDiscoveryProcedure.this.mP2pManager.stopPeerDiscovery(P2pDiscoveryProcedure.this.mChannel, null);
                        P2pDiscoveryProcedure.this.mP2pManager.discoverPeers(P2pDiscoveryProcedure.this.mChannel, null);
                    }
                }
            }
        }, "android.net.wifi.p2p.STATE_CHANGED", "android.net.wifi.p2p.PEERS_CHANGED");
        this.mP2pManager.discoverPeers(this.mChannel, null);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void addListener(P2pPeerListener p2pPeerListener) {
        this.mListeners.add(p2pPeerListener);
        if (this.mPeers.isEmpty()) {
            return;
        }
        Iterator<WifiP2pDevice> it = this.mPeers.iterator();
        while (it.hasNext()) {
            p2pPeerListener.onPeerFound(it.next());
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void removeListener(P2pPeerListener p2pPeerListener) {
        this.mListeners.remove(p2pPeerListener);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public List<P2pPeerListener> getListeners() {
        return this.mListeners;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void updatePeers(Collection<WifiP2pDevice> collection) {
        ArrayList<WifiP2pDevice> arrayList = new ArrayList(this.mPeers);
        this.mPeers.clear();
        for (WifiP2pDevice wifiP2pDevice : collection) {
            if (PRINTER_PATTERN.matcher(wifiP2pDevice.primaryDeviceType).find()) {
                this.mPeers.add(wifiP2pDevice);
            }
        }
        HashSet hashSet = new HashSet();
        for (WifiP2pDevice wifiP2pDevice2 : this.mPeers) {
            hashSet.add(wifiP2pDevice2.deviceAddress);
            WifiP2pDevice device = getDevice(arrayList, wifiP2pDevice2.deviceAddress);
            if (device == null || !device.equals(wifiP2pDevice2)) {
                Iterator<P2pPeerListener> it = this.mListeners.iterator();
                while (it.hasNext()) {
                    it.next().onPeerFound(wifiP2pDevice2);
                }
            }
        }
        for (WifiP2pDevice wifiP2pDevice3 : arrayList) {
            if (!hashSet.contains(wifiP2pDevice3.deviceAddress)) {
                Iterator<P2pPeerListener> it2 = this.mListeners.iterator();
                while (it2.hasNext()) {
                    it2.next().onPeerLost(wifiP2pDevice3);
                }
            }
        }
    }

    private WifiP2pDevice getDevice(Collection<WifiP2pDevice> collection, String str) {
        for (WifiP2pDevice wifiP2pDevice : collection) {
            if (wifiP2pDevice.deviceAddress.equals(str)) {
                return wifiP2pDevice;
            }
        }
        return null;
    }

    public void cancel() {
        this.mBroadcastMonitor.close();
        WifiP2pManager.Channel channel = this.mChannel;
        if (channel != null) {
            this.mP2pManager.stopPeerDiscovery(channel, null);
            this.mChannel.close();
            this.mChannel = null;
        }
    }
}


### **classes_dex_2/sources/com/android/bips/p2p/P2pMonitor.java** ###

package com.android.bips.p2p;

import android.net.wifi.p2p.WifiP2pDevice;
import android.net.wifi.p2p.WifiP2pInfo;
import android.net.wifi.p2p.WifiP2pManager;
import android.os.Handler;
import com.android.bips.BuiltInPrintService;
import java.util.Objects;

/* loaded from: /content/classes2.dex */
public class P2pMonitor {
    private String mConnectedInterface;
    private P2pConnectionProcedure mConnection;
    private final WifiP2pManager mP2pManager;
    private P2pDiscoveryProcedure mPeerDiscovery;
    private final BuiltInPrintService mService;

    public P2pMonitor(BuiltInPrintService builtInPrintService) {
        this.mService = builtInPrintService;
        this.mP2pManager = (WifiP2pManager) builtInPrintService.getSystemService("wifip2p");
    }

    public void discover(P2pPeerListener p2pPeerListener) {
        if (this.mP2pManager == null) {
            return;
        }
        P2pDiscoveryProcedure p2pDiscoveryProcedure = this.mPeerDiscovery;
        if (p2pDiscoveryProcedure == null) {
            this.mPeerDiscovery = new P2pDiscoveryProcedure(this.mService, this.mP2pManager, p2pPeerListener);
        } else {
            p2pDiscoveryProcedure.addListener(p2pPeerListener);
        }
    }

    public void stopDiscover(P2pPeerListener p2pPeerListener) {
        P2pDiscoveryProcedure p2pDiscoveryProcedure = this.mPeerDiscovery;
        if (p2pDiscoveryProcedure != null) {
            p2pDiscoveryProcedure.removeListener(p2pPeerListener);
            if (this.mPeerDiscovery.getListeners().isEmpty()) {
                this.mPeerDiscovery.cancel();
                this.mPeerDiscovery = null;
            }
        }
    }

    public void connect(WifiP2pDevice wifiP2pDevice, final P2pConnectionListener p2pConnectionListener) {
        if (this.mP2pManager == null) {
            Handler mainHandler = this.mService.getMainHandler();
            Objects.requireNonNull(p2pConnectionListener);
            mainHandler.post(new Runnable() { // from class: com.android.bips.p2p.-$$Lambda$hD5t12I1tZOn96KYE_VyRFlgPJo
                @Override // java.lang.Runnable
                public final void run() {
                    P2pConnectionListener.this.onConnectionClosed();
                }
            });
            return;
        }
        P2pConnectionProcedure p2pConnectionProcedure = this.mConnection;
        if (p2pConnectionProcedure != null && !wifiP2pDevice.deviceAddress.equals(p2pConnectionProcedure.getPeer().deviceAddress)) {
            if (this.mConnection.getListenerCount() == 1) {
                this.mConnection.close();
                this.mConnection = null;
            } else {
                Handler mainHandler2 = this.mService.getMainHandler();
                Objects.requireNonNull(p2pConnectionListener);
                mainHandler2.post(new Runnable() { // from class: com.android.bips.p2p.-$$Lambda$hD5t12I1tZOn96KYE_VyRFlgPJo
                    @Override // java.lang.Runnable
                    public final void run() {
                        P2pConnectionListener.this.onConnectionClosed();
                    }
                });
                return;
            }
        }
        if (this.mConnection == null) {
            this.mConnection = new P2pConnectionProcedure(this.mService, this.mP2pManager, wifiP2pDevice, new P2pConnectionListener() { // from class: com.android.bips.p2p.P2pMonitor.1
                @Override // com.android.bips.p2p.P2pConnectionListener
                public void onConnectionDelayed(boolean z) {
                }

                @Override // com.android.bips.p2p.P2pConnectionListener
                public void onConnectionOpen(String str, WifiP2pInfo wifiP2pInfo) {
                    P2pMonitor.this.mConnectedInterface = str;
                }

                @Override // com.android.bips.p2p.P2pConnectionListener
                public void onConnectionClosed() {
                    P2pMonitor.this.mConnectedInterface = null;
                }
            });
        }
        this.mConnection.addListener(p2pConnectionListener);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void stopConnect(P2pConnectionListener p2pConnectionListener) {
        P2pConnectionProcedure p2pConnectionProcedure = this.mConnection;
        if (p2pConnectionProcedure == null || !p2pConnectionProcedure.hasListener(p2pConnectionListener)) {
            return;
        }
        this.mConnection.removeListener(p2pConnectionListener);
        if (this.mConnection.getListenerCount() == 1 && this.mConnectedInterface == null) {
            this.mConnection.close();
            this.mConnection = null;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public P2pConnectionProcedure getConnection() {
        return this.mConnection;
    }

    public String getConnectedInterface() {
        return this.mConnectedInterface;
    }

    public void stopAll() {
        P2pConnectionProcedure p2pConnectionProcedure = this.mConnection;
        if (p2pConnectionProcedure != null) {
            p2pConnectionProcedure.close();
            this.mConnection = null;
            this.mConnectedInterface = null;
        }
        P2pDiscoveryProcedure p2pDiscoveryProcedure = this.mPeerDiscovery;
        if (p2pDiscoveryProcedure != null) {
            p2pDiscoveryProcedure.cancel();
            this.mPeerDiscovery = null;
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/NsdResolveQueue.java** ###

package com.android.bips.discovery;

import android.content.Context;
import android.net.nsd.NsdManager;
import android.net.nsd.NsdServiceInfo;
import android.os.Handler;
import com.android.bips.discovery.NsdResolveQueue;
import java.util.LinkedList;

/* loaded from: /content/classes2.dex */
public class NsdResolveQueue {
    private final Handler mMainHandler;
    private final NsdManager mNsdManager;
    private LinkedList<NsdResolveRequest> mResolveRequests = new LinkedList<>();

    public NsdResolveQueue(Context context, NsdManager nsdManager) {
        this.mNsdManager = nsdManager;
        this.mMainHandler = new Handler(context.getMainLooper());
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public NsdManager getNsdManager() {
        return this.mNsdManager;
    }

    public NsdResolveRequest resolve(NsdServiceInfo nsdServiceInfo, NsdManager.ResolveListener resolveListener) {
        NsdResolveRequest nsdResolveRequest = new NsdResolveRequest(this.mNsdManager, nsdServiceInfo, resolveListener);
        this.mResolveRequests.addLast(nsdResolveRequest);
        if (this.mResolveRequests.size() == 1) {
            resolveNextRequest();
        }
        return nsdResolveRequest;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void resolveNextRequest() {
        if (this.mResolveRequests.isEmpty()) {
            return;
        }
        this.mResolveRequests.getFirst().start();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* loaded from: /content/classes2.dex */
    public class NsdResolveRequest implements NsdManager.ResolveListener {
        private final NsdManager.ResolveListener mListener;
        private final NsdManager mNsdManager;
        private final NsdServiceInfo mServiceInfo;

        private NsdResolveRequest(NsdManager nsdManager, NsdServiceInfo nsdServiceInfo, NsdManager.ResolveListener resolveListener) {
            this.mNsdManager = nsdManager;
            this.mServiceInfo = nsdServiceInfo;
            this.mListener = resolveListener;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void start() {
            System.currentTimeMillis();
            this.mNsdManager.resolveService(this.mServiceInfo, this);
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public void cancel() {
            if (NsdResolveQueue.this.mResolveRequests.isEmpty() || NsdResolveQueue.this.mResolveRequests.get(0) == this) {
                return;
            }
            NsdResolveQueue.this.mResolveRequests.remove(this);
        }

        @Override // android.net.nsd.NsdManager.ResolveListener
        public void onResolveFailed(final NsdServiceInfo nsdServiceInfo, final int i) {
            NsdResolveQueue.this.mMainHandler.post(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$NsdResolveQueue$NsdResolveRequest$pHhcCD4s-dihKpBETYlpgaey2WY
                @Override // java.lang.Runnable
                public final void run() {
                    NsdResolveQueue.NsdResolveRequest.this.lambda$onResolveFailed$0$NsdResolveQueue$NsdResolveRequest(nsdServiceInfo, i);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onResolveFailed$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$onResolveFailed$0$NsdResolveQueue$NsdResolveRequest(NsdServiceInfo nsdServiceInfo, int i) {
            this.mListener.onResolveFailed(nsdServiceInfo, i);
            NsdResolveQueue.this.mResolveRequests.pop();
            NsdResolveQueue.this.resolveNextRequest();
        }

        @Override // android.net.nsd.NsdManager.ResolveListener
        public void onServiceResolved(final NsdServiceInfo nsdServiceInfo) {
            NsdResolveQueue.this.mMainHandler.post(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$NsdResolveQueue$NsdResolveRequest$sn6Ut3t0-xks3aCO3GdMKIgN6yo
                @Override // java.lang.Runnable
                public final void run() {
                    NsdResolveQueue.NsdResolveRequest.this.lambda$onServiceResolved$1$NsdResolveQueue$NsdResolveRequest(nsdServiceInfo);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onServiceResolved$1, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$onServiceResolved$1$NsdResolveQueue$NsdResolveRequest(NsdServiceInfo nsdServiceInfo) {
            this.mListener.onServiceResolved(nsdServiceInfo);
            NsdResolveQueue.this.mResolveRequests.pop();
            NsdResolveQueue.this.resolveNextRequest();
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/MdnsDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.net.nsd.NsdManager;
import android.net.nsd.NsdServiceInfo;
import android.net.wifi.WifiManager;
import android.os.Handler;
import android.text.TextUtils;
import android.util.Log;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.MdnsDiscovery;
import com.android.bips.discovery.NsdResolveQueue;
import java.net.Inet4Address;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;

/* loaded from: /content/classes2.dex */
public class MdnsDiscovery extends Discovery {
    private static final String TAG = "MdnsDiscovery";
    private WifiManager.MulticastLock mMulticastLock;
    private final NsdResolveQueue mNsdResolveQueue;
    private final List<Resolver> mResolvers;
    private final List<NsdServiceListener> mServiceListeners;
    private final String mServiceName;

    public MdnsDiscovery(BuiltInPrintService builtInPrintService, String str) {
        super(builtInPrintService);
        char c;
        this.mServiceListeners = new ArrayList();
        this.mResolvers = new ArrayList();
        int hashCode = str.hashCode();
        if (hashCode != 104489) {
            if (hashCode == 3239274 && str.equals("ipps")) {
                c = 1;
            }
            c = 65535;
        } else {
            if (str.equals("ipp")) {
                c = 0;
            }
            c = 65535;
        }
        if (c == 0) {
            this.mServiceName = "_ipp._tcp";
        } else if (c == 1) {
            this.mServiceName = "_ipps._tcp";
        } else {
            throw new IllegalArgumentException("unrecognized scheme " + str);
        }
        this.mNsdResolveQueue = builtInPrintService.getNsdResolveQueue();
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static DiscoveredPrinter toNetworkPrinter(NsdServiceInfo nsdServiceInfo) {
        Uri uri;
        if ("F".equals(getStringAttribute(nsdServiceInfo, "print_wfds"))) {
            return null;
        }
        String stringAttribute = getStringAttribute(nsdServiceInfo, "rp");
        if (TextUtils.isEmpty(stringAttribute)) {
            return null;
        }
        if (stringAttribute.startsWith("/")) {
            stringAttribute = stringAttribute.substring(1);
        }
        String stringAttribute2 = getStringAttribute(nsdServiceInfo, "UUID");
        if (TextUtils.isEmpty(stringAttribute2)) {
            uri = null;
        } else {
            uri = Uri.parse("urn:uuid:" + stringAttribute2);
        }
        if (!(nsdServiceInfo.getHost() instanceof Inet4Address)) {
            return null;
        }
        return new DiscoveredPrinter(uri, nsdServiceInfo.getServiceName(), Uri.parse((nsdServiceInfo.getServiceType().contains("_ipps._tcp") ? "ipps" : "ipp") + "://" + nsdServiceInfo.getHost().getHostAddress() + ":" + nsdServiceInfo.getPort() + "/" + stringAttribute), getStringAttribute(nsdServiceInfo, "note"));
    }

    private static String getStringAttribute(NsdServiceInfo nsdServiceInfo, String str) {
        String lowerCase = str.toLowerCase(Locale.US);
        for (Map.Entry<String, byte[]> entry : nsdServiceInfo.getAttributes().entrySet()) {
            if (entry.getKey().toLowerCase(Locale.US).equals(lowerCase) && entry.getValue() != null) {
                return new String(entry.getValue());
            }
        }
        return null;
    }

    @Override // com.android.bips.discovery.Discovery
    void onStart() {
        NsdServiceListener nsdServiceListener = new NsdServiceListener(this) { // from class: com.android.bips.discovery.MdnsDiscovery.1
            @Override // android.net.nsd.NsdManager.DiscoveryListener
            public void onStartDiscoveryFailed(String str, int i) {
            }
        };
        WifiManager wifiManager = (WifiManager) getPrintService().getSystemService(WifiManager.class);
        if (wifiManager != null) {
            if (this.mMulticastLock == null) {
                this.mMulticastLock = wifiManager.createMulticastLock(MdnsDiscovery.class.getName());
            }
            this.mMulticastLock.acquire();
        }
        this.mNsdResolveQueue.getNsdManager().discoverServices(this.mServiceName, 1, nsdServiceListener);
        this.mServiceListeners.add(nsdServiceListener);
    }

    @Override // com.android.bips.discovery.Discovery
    void onStop() {
        NsdManager nsdManager = this.mNsdResolveQueue.getNsdManager();
        Iterator<NsdServiceListener> it = this.mServiceListeners.iterator();
        while (it.hasNext()) {
            nsdManager.stopServiceDiscovery(it.next());
        }
        this.mServiceListeners.clear();
        Iterator<Resolver> it2 = this.mResolvers.iterator();
        while (it2.hasNext()) {
            it2.next().cancel();
        }
        this.mResolvers.clear();
        WifiManager.MulticastLock multicastLock = this.mMulticastLock;
        if (multicastLock != null) {
            multicastLock.release();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes2.dex */
    public abstract class NsdServiceListener implements NsdManager.DiscoveryListener {
        @Override // android.net.nsd.NsdManager.DiscoveryListener
        public void onDiscoveryStarted(String str) {
        }

        private NsdServiceListener() {
        }

        @Override // android.net.nsd.NsdManager.DiscoveryListener
        public void onStopDiscoveryFailed(String str, int i) {
            Log.w(MdnsDiscovery.TAG, "onStopDiscoveryFailed: " + i);
        }

        @Override // android.net.nsd.NsdManager.DiscoveryListener
        public void onDiscoveryStopped(String str) {
            Handler handler = MdnsDiscovery.this.getHandler();
            final MdnsDiscovery mdnsDiscovery = MdnsDiscovery.this;
            handler.post(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$XWjYJZti7oznC3pmmbFHFp_jybA
                @Override // java.lang.Runnable
                public final void run() {
                    MdnsDiscovery.this.allPrintersLost();
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onServiceFound$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$onServiceFound$0$MdnsDiscovery$NsdServiceListener(NsdServiceInfo nsdServiceInfo) {
            MdnsDiscovery.this.mResolvers.add(new Resolver(nsdServiceInfo));
        }

        @Override // android.net.nsd.NsdManager.DiscoveryListener
        public void onServiceFound(final NsdServiceInfo nsdServiceInfo) {
            MdnsDiscovery.this.getHandler().post(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$MdnsDiscovery$NsdServiceListener$1wpW84K75sjyZyg5ky9-HPoONUg
                @Override // java.lang.Runnable
                public final void run() {
                    MdnsDiscovery.NsdServiceListener.this.lambda$onServiceFound$0$MdnsDiscovery$NsdServiceListener(nsdServiceInfo);
                }
            });
        }

        @Override // android.net.nsd.NsdManager.DiscoveryListener
        public void onServiceLost(final NsdServiceInfo nsdServiceInfo) {
            MdnsDiscovery.this.getHandler().post(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$MdnsDiscovery$NsdServiceListener$CsaS31kfAGl_b8DaxhP0eVAVKGg
                @Override // java.lang.Runnable
                public final void run() {
                    MdnsDiscovery.NsdServiceListener.this.lambda$onServiceLost$1$MdnsDiscovery$NsdServiceListener(nsdServiceInfo);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onServiceLost$1, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$onServiceLost$1$MdnsDiscovery$NsdServiceListener(NsdServiceInfo nsdServiceInfo) {
            for (DiscoveredPrinter discoveredPrinter : MdnsDiscovery.this.getPrinters()) {
                if (TextUtils.equals(discoveredPrinter.name, nsdServiceInfo.getServiceName())) {
                    MdnsDiscovery.this.printerLost(discoveredPrinter.getUri());
                    return;
                }
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes2.dex */
    public class Resolver implements NsdManager.ResolveListener {
        private final NsdResolveQueue.NsdResolveRequest mResolveAttempt;

        Resolver(NsdServiceInfo nsdServiceInfo) {
            this.mResolveAttempt = MdnsDiscovery.this.mNsdResolveQueue.resolve(nsdServiceInfo, this);
        }

        @Override // android.net.nsd.NsdManager.ResolveListener
        public void onResolveFailed(NsdServiceInfo nsdServiceInfo, int i) {
            MdnsDiscovery.this.mResolvers.remove(this);
        }

        @Override // android.net.nsd.NsdManager.ResolveListener
        public void onServiceResolved(NsdServiceInfo nsdServiceInfo) {
            DiscoveredPrinter networkPrinter;
            MdnsDiscovery.this.mResolvers.remove(this);
            if (MdnsDiscovery.this.isStarted() && (networkPrinter = MdnsDiscovery.toNetworkPrinter(nsdServiceInfo)) != null) {
                MdnsDiscovery.this.printerFound(networkPrinter);
            }
        }

        void cancel() {
            this.mResolveAttempt.cancel();
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/DiscoveredPrinter.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.print.PrinterId;
import android.printservice.PrintService;
import android.text.TextUtils;
import android.util.JsonWriter;
import java.io.IOException;
import java.io.StringWriter;
import java.util.Collections;
import java.util.List;
import java.util.Objects;

/* loaded from: /content/classes2.dex */
public class DiscoveredPrinter {
    public final String location;
    private PrinterId mPrinterId;
    public final String name;
    public final Uri path;
    public final List<Uri> paths;
    public final Uri uuid;

    public DiscoveredPrinter(Uri uri, String str, List<Uri> list, String str2) {
        this.uuid = uri;
        this.name = str;
        this.path = list.get(0);
        this.paths = Collections.unmodifiableList(list);
        this.location = str2;
    }

    public DiscoveredPrinter(Uri uri, String str, Uri uri2, String str2) {
        this(uri, str, (List<Uri>) Collections.singletonList(uri2), str2);
    }

    /* JADX WARN: Removed duplicated region for block: B:19:0x0063 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:23:0x0049 A[SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public DiscoveredPrinter(android.util.JsonReader r11) throws java.io.IOException {
        /*
            r10 = this;
            r10.<init>()
            r11.beginObject()
            r0 = 0
            r1 = r0
            r2 = r1
            r3 = r2
        La:
            boolean r4 = r11.hasNext()
            if (r4 == 0) goto L6c
            java.lang.String r4 = r11.nextName()
            r5 = -1
            int r6 = r4.hashCode()
            r7 = 3
            r8 = 2
            r9 = 1
            switch(r6) {
                case 3373707: goto L3e;
                case 3433509: goto L34;
                case 3601339: goto L2a;
                case 1901043637: goto L20;
                default: goto L1f;
            }
        L1f:
            goto L47
        L20:
            java.lang.String r6 = "location"
            boolean r4 = r4.equals(r6)
            if (r4 == 0) goto L47
            r5 = r7
            goto L47
        L2a:
            java.lang.String r6 = "uuid"
            boolean r4 = r4.equals(r6)
            if (r4 == 0) goto L47
            r5 = 0
            goto L47
        L34:
            java.lang.String r6 = "path"
            boolean r4 = r4.equals(r6)
            if (r4 == 0) goto L47
            r5 = r8
            goto L47
        L3e:
            java.lang.String r6 = "name"
            boolean r4 = r4.equals(r6)
            if (r4 == 0) goto L47
            r5 = r9
        L47:
            if (r5 == 0) goto L63
            if (r5 == r9) goto L5e
            if (r5 == r8) goto L55
            if (r5 == r7) goto L50
            goto La
        L50:
            java.lang.String r3 = r11.nextString()
            goto La
        L55:
            java.lang.String r1 = r11.nextString()
            android.net.Uri r1 = android.net.Uri.parse(r1)
            goto La
        L5e:
            java.lang.String r0 = r11.nextString()
            goto La
        L63:
            java.lang.String r2 = r11.nextString()
            android.net.Uri r2 = android.net.Uri.parse(r2)
            goto La
        L6c:
            r11.endObject()
            if (r0 == 0) goto L82
            if (r1 == 0) goto L82
            r10.uuid = r2
            r10.name = r0
            r10.path = r1
            java.util.List r11 = java.util.Collections.singletonList(r1)
            r10.paths = r11
            r10.location = r3
            return
        L82:
            java.io.IOException r10 = new java.io.IOException
            java.lang.String r11 = "Missing name or path"
            r10.<init>(r11)
            throw r10
        */
        throw new UnsupportedOperationException("Method not decompiled: com.android.bips.discovery.DiscoveredPrinter.<init>(android.util.JsonReader):void");
    }

    public Uri getUri() {
        Uri uri = this.uuid;
        return uri != null ? uri : this.path;
    }

    public String getHost() {
        return this.path.getHost().replaceAll(":[0-9]+", "");
    }

    public PrinterId getId(PrintService printService) {
        if (this.mPrinterId == null) {
            this.mPrinterId = printService.generatePrinterId(getUri().toString());
        }
        return this.mPrinterId;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void write(JsonWriter jsonWriter) throws IOException {
        jsonWriter.beginObject();
        jsonWriter.name("name").value(this.name);
        jsonWriter.name("path").value(this.path.toString());
        if (this.uuid != null) {
            jsonWriter.name("uuid").value(this.uuid.toString());
        }
        if (!TextUtils.isEmpty(this.location)) {
            jsonWriter.name("location").value(this.location);
        }
        jsonWriter.endObject();
    }

    public boolean equals(Object obj) {
        if (!(obj instanceof DiscoveredPrinter)) {
            return false;
        }
        DiscoveredPrinter discoveredPrinter = (DiscoveredPrinter) obj;
        return Objects.equals(this.uuid, discoveredPrinter.uuid) && Objects.equals(this.name, discoveredPrinter.name) && Objects.equals(this.paths, discoveredPrinter.paths) && Objects.equals(this.location, discoveredPrinter.location);
    }

    public int hashCode() {
        int hashCode = (527 + this.name.hashCode()) * 31;
        Uri uri = this.uuid;
        int hashCode2 = (((hashCode + (uri != null ? uri.hashCode() : 0)) * 31) + this.paths.hashCode()) * 31;
        String str = this.location;
        return hashCode2 + (str != null ? str.hashCode() : 0);
    }

    public String toString() {
        StringWriter stringWriter = new StringWriter();
        try {
            write(new JsonWriter(stringWriter));
        } catch (IOException unused) {
        }
        return "DiscoveredPrinter" + stringWriter.toString();
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/ConnectionListener.java** ###

package com.android.bips.discovery;

/* loaded from: /content/classes2.dex */
public interface ConnectionListener {
    void onConnectionComplete(DiscoveredPrinter discoveredPrinter);

    void onConnectionDelayed(boolean z);
}


### **classes_dex_2/sources/com/android/bips/discovery/Discovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.os.Handler;
import android.os.Looper;
import com.android.bips.BuiltInPrintService;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.concurrent.CopyOnWriteArrayList;

/* loaded from: /content/classes2.dex */
public abstract class Discovery {
    private final BuiltInPrintService mPrintService;
    private final List<Listener> mListeners = new CopyOnWriteArrayList();
    private final Map<Uri, DiscoveredPrinter> mPrinters = new HashMap();
    private final Handler mHandler = new Handler(Looper.getMainLooper());
    private boolean mStarted = false;

    /* loaded from: /content/classes2.dex */
    public interface Listener {
        void onPrinterFound(DiscoveredPrinter discoveredPrinter);

        void onPrinterLost(DiscoveredPrinter discoveredPrinter);
    }

    abstract void onStart();

    abstract void onStop();

    /* JADX INFO: Access modifiers changed from: package-private */
    public Discovery(BuiltInPrintService builtInPrintService) {
        this.mPrintService = builtInPrintService;
    }

    public void start(Listener listener) {
        this.mListeners.add(listener);
        if (!this.mPrinters.isEmpty()) {
            if (!this.mListeners.contains(listener)) {
                return;
            }
            Iterator it = new ArrayList(this.mPrinters.values()).iterator();
            while (it.hasNext()) {
                listener.onPrinterFound((DiscoveredPrinter) it.next());
            }
        }
        start();
    }

    public void stop(Listener listener) {
        this.mListeners.remove(listener);
        if (this.mListeners.isEmpty()) {
            stop();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isStarted() {
        return this.mStarted;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public BuiltInPrintService getPrintService() {
        return this.mPrintService;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public Handler getHandler() {
        return this.mHandler;
    }

    private void start() {
        if (this.mStarted) {
            return;
        }
        this.mStarted = true;
        onStart();
    }

    private void stop() {
        if (this.mStarted) {
            this.mStarted = false;
            onStop();
            this.mPrinters.clear();
            this.mHandler.removeCallbacksAndMessages(null);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void printerFound(DiscoveredPrinter discoveredPrinter) {
        if (Objects.equals(this.mPrinters.get(discoveredPrinter.getUri()), discoveredPrinter)) {
            return;
        }
        this.mPrinters.put(discoveredPrinter.getUri(), discoveredPrinter);
        Iterator<Listener> it = this.mListeners.iterator();
        while (it.hasNext()) {
            it.next().onPrinterFound(discoveredPrinter);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void printerLost(Uri uri) {
        DiscoveredPrinter remove = this.mPrinters.remove(uri);
        if (remove == null) {
            return;
        }
        Iterator<Listener> it = this.mListeners.iterator();
        while (it.hasNext()) {
            it.next().onPrinterLost(remove);
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void allPrintersLost() {
        Iterator it = new ArrayList(this.mPrinters.keySet()).iterator();
        while (it.hasNext()) {
            printerLost((Uri) it.next());
        }
    }

    public Collection<DiscoveredPrinter> getPrinters() {
        return this.mPrinters.values();
    }

    public DiscoveredPrinter getPrinter(Uri uri) {
        return this.mPrinters.get(uri);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public Collection<Discovery> getChildren() {
        return Collections.singleton(this);
    }

    public Collection<DiscoveredPrinter> getSavedPrinters() {
        ArrayList arrayList = new ArrayList();
        for (Discovery discovery : getChildren()) {
            if (discovery != this) {
                arrayList.addAll(discovery.getSavedPrinters());
            }
        }
        return arrayList;
    }

    public void removeSavedPrinter(Uri uri) {
        for (Discovery discovery : getChildren()) {
            if (discovery != this) {
                discovery.removeSavedPrinter(uri);
            }
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/DelayedDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import com.android.bips.DelayedAction;
import com.android.bips.discovery.DelayedDiscovery;
import com.android.bips.discovery.Discovery;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;

/* loaded from: /content/classes2.dex */
public class DelayedDiscovery extends Discovery {
    private final Discovery mChild;
    private final Discovery.Listener mChildListener;
    private DelayedAction mDelayedStart;
    private final Map<Uri, DiscoveredPrinter> mPending;
    private final int mStartDelay;

    public DelayedDiscovery(Discovery discovery, int i, int i2) {
        super(discovery.getPrintService());
        this.mPending = new HashMap();
        this.mChild = discovery;
        this.mStartDelay = i;
        this.mChildListener = new AnonymousClass1(i2);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: com.android.bips.discovery.DelayedDiscovery$1, reason: invalid class name */
    /* loaded from: /content/classes2.dex */
    public class AnonymousClass1 implements Discovery.Listener {
        final /* synthetic */ int val$findDelay;

        AnonymousClass1(int i) {
            this.val$findDelay = i;
        }

        @Override // com.android.bips.discovery.Discovery.Listener
        public void onPrinterFound(final DiscoveredPrinter discoveredPrinter) {
            if (this.val$findDelay > 0) {
                if (((DiscoveredPrinter) DelayedDiscovery.this.mPending.put(discoveredPrinter.getUri(), discoveredPrinter)) == null) {
                    DelayedDiscovery.this.getHandler().postDelayed(new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$DelayedDiscovery$1$hHDbE-5Og6zaH2ydpGBRo4tVsys
                        @Override // java.lang.Runnable
                        public final void run() {
                            DelayedDiscovery.AnonymousClass1.this.lambda$onPrinterFound$0$DelayedDiscovery$1(discoveredPrinter);
                        }
                    }, this.val$findDelay);
                    return;
                }
                return;
            }
            DelayedDiscovery.this.printerFound(discoveredPrinter);
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onPrinterFound$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ void lambda$onPrinterFound$0$DelayedDiscovery$1(DiscoveredPrinter discoveredPrinter) {
            DiscoveredPrinter discoveredPrinter2 = (DiscoveredPrinter) DelayedDiscovery.this.mPending.remove(discoveredPrinter.getUri());
            if (discoveredPrinter2 != null) {
                DelayedDiscovery.this.printerFound(discoveredPrinter2);
            }
        }

        @Override // com.android.bips.discovery.Discovery.Listener
        public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
            DelayedDiscovery.this.mPending.remove(discoveredPrinter.getUri());
            DelayedDiscovery.this.printerLost(discoveredPrinter.getUri());
        }
    }

    @Override // com.android.bips.discovery.Discovery
    void onStart() {
        if (this.mStartDelay == 0) {
            this.mChild.start(this.mChildListener);
        } else {
            this.mDelayedStart = getPrintService().delay(this.mStartDelay, new Runnable() { // from class: com.android.bips.discovery.-$$Lambda$DelayedDiscovery$KF9nfFaa4BjXCxzgmsfi1R9eRaE
                @Override // java.lang.Runnable
                public final void run() {
                    DelayedDiscovery.this.lambda$onStart$0$DelayedDiscovery();
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onStart$0$DelayedDiscovery() {
        if (isStarted()) {
            this.mChild.start(this.mChildListener);
        }
    }

    @Override // com.android.bips.discovery.Discovery
    void onStop() {
        DelayedAction delayedAction = this.mDelayedStart;
        if (delayedAction != null) {
            delayedAction.cancel();
        }
        this.mChild.stop(this.mChildListener);
        this.mPending.clear();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    @Override // com.android.bips.discovery.Discovery
    public Collection<Discovery> getChildren() {
        return Collections.singleton(this.mChild);
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/MultiDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import com.android.bips.discovery.Discovery;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;

/* loaded from: /content/classes2.dex */
public class MultiDiscovery extends Discovery {
    private final Discovery.Listener mChildListener;
    private final List<Discovery> mDiscoveries;
    private final List<Discovery> mStartedDiscoveries;

    public MultiDiscovery(Discovery discovery, Discovery... discoveryArr) {
        super(discovery.getPrintService());
        this.mDiscoveries = new ArrayList();
        this.mStartedDiscoveries = new ArrayList();
        this.mDiscoveries.add(discovery);
        this.mDiscoveries.addAll(Arrays.asList(discoveryArr));
        this.mChildListener = new Discovery.Listener() { // from class: com.android.bips.discovery.MultiDiscovery.1
            @Override // com.android.bips.discovery.Discovery.Listener
            public void onPrinterFound(DiscoveredPrinter discoveredPrinter) {
                MultiDiscovery multiDiscovery = MultiDiscovery.this;
                multiDiscovery.printerFound(multiDiscovery.merged(discoveredPrinter.getUri()));
            }

            @Override // com.android.bips.discovery.Discovery.Listener
            public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
                DiscoveredPrinter merged = MultiDiscovery.this.merged(discoveredPrinter.getUri());
                if (merged == null) {
                    MultiDiscovery.this.printerLost(discoveredPrinter.getUri());
                } else {
                    MultiDiscovery.this.printerFound(merged);
                }
            }
        };
    }

    /* JADX INFO: Access modifiers changed from: private */
    public DiscoveredPrinter merged(Uri uri) {
        Iterator<Discovery> it = getChildren().iterator();
        DiscoveredPrinter discoveredPrinter = null;
        while (it.hasNext()) {
            DiscoveredPrinter printer = it.next().getPrinter(uri);
            if (printer != null) {
                if (discoveredPrinter == null) {
                    discoveredPrinter = printer;
                } else {
                    ArrayList arrayList = new ArrayList(discoveredPrinter.paths);
                    for (Uri uri2 : printer.paths) {
                        if (!arrayList.contains(uri2)) {
                            arrayList.add(uri2);
                        }
                    }
                    discoveredPrinter = new DiscoveredPrinter(printer.uuid, printer.name, arrayList, printer.location);
                }
            }
        }
        return discoveredPrinter;
    }

    @Override // com.android.bips.discovery.Discovery
    void onStart() {
        for (Discovery discovery : this.mDiscoveries) {
            discovery.start(this.mChildListener);
            this.mStartedDiscoveries.add(discovery);
        }
    }

    private void stopAndClearAll() {
        Iterator<Discovery> it = this.mStartedDiscoveries.iterator();
        while (it.hasNext()) {
            it.next().stop(this.mChildListener);
        }
        this.mStartedDiscoveries.clear();
        allPrintersLost();
    }

    @Override // com.android.bips.discovery.Discovery
    void onStop() {
        stopAndClearAll();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    @Override // com.android.bips.discovery.Discovery
    public Collection<Discovery> getChildren() {
        ArrayList arrayList = new ArrayList();
        Iterator<Discovery> it = this.mDiscoveries.iterator();
        while (it.hasNext()) {
            arrayList.addAll(it.next().getChildren());
        }
        return arrayList;
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/SavedDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.util.JsonReader;
import android.util.JsonWriter;
import android.util.Log;
import com.android.bips.BuiltInPrintService;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;

/* loaded from: /content/classes2.dex */
public abstract class SavedDiscovery extends Discovery {
    private static final List<String> PRINTER_LIST_NAMES = Arrays.asList("printers", "manualPrinters");
    private static final String TAG = "SavedDiscovery";
    private final File mCacheFile;
    private final List<DiscoveredPrinter> mSavedPrinters;

    /* JADX INFO: Access modifiers changed from: package-private */
    public SavedDiscovery(BuiltInPrintService builtInPrintService) {
        super(builtInPrintService);
        this.mCacheFile = new File(builtInPrintService.getCacheDir(), getClass().getSimpleName() + ".json");
        this.mSavedPrinters = load();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean addSavedPrinter(DiscoveredPrinter discoveredPrinter) {
        DiscoveredPrinter find = find(discoveredPrinter.getUri());
        if (find != null) {
            if (discoveredPrinter.equals(find)) {
                return false;
            }
            this.mSavedPrinters.remove(find);
        }
        this.mSavedPrinters.add(0, discoveredPrinter);
        save();
        return true;
    }

    private DiscoveredPrinter find(Uri uri) {
        for (DiscoveredPrinter discoveredPrinter : this.mSavedPrinters) {
            if (discoveredPrinter.getUri().equals(uri)) {
                return discoveredPrinter;
            }
        }
        return null;
    }

    @Override // com.android.bips.discovery.Discovery
    public void removeSavedPrinter(Uri uri) {
        for (DiscoveredPrinter discoveredPrinter : this.mSavedPrinters) {
            if (discoveredPrinter.path.equals(uri)) {
                this.mSavedPrinters.remove(discoveredPrinter);
                save();
                return;
            }
        }
    }

    @Override // com.android.bips.discovery.Discovery
    public List<DiscoveredPrinter> getSavedPrinters() {
        return Collections.unmodifiableList(this.mSavedPrinters);
    }

    private List<DiscoveredPrinter> load() {
        ArrayList arrayList = new ArrayList();
        if (!this.mCacheFile.exists()) {
            return arrayList;
        }
        try {
            JsonReader jsonReader = new JsonReader(new BufferedReader(new FileReader(this.mCacheFile)));
            try {
                jsonReader.beginObject();
                while (jsonReader.hasNext()) {
                    if (PRINTER_LIST_NAMES.contains(jsonReader.nextName())) {
                        jsonReader.beginArray();
                        while (jsonReader.hasNext()) {
                            arrayList.add(new DiscoveredPrinter(jsonReader));
                        }
                        jsonReader.endArray();
                    }
                }
                jsonReader.endObject();
                jsonReader.close();
            } catch (Throwable th) {
                try {
                    jsonReader.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        } catch (IOException | IllegalStateException e) {
            Log.w(TAG, "Error while loading from " + this.mCacheFile, e);
        }
        return arrayList;
    }

    private void save() {
        if (this.mCacheFile.exists()) {
            this.mCacheFile.delete();
        }
        try {
            JsonWriter jsonWriter = new JsonWriter(new BufferedWriter(new FileWriter(this.mCacheFile)));
            try {
                jsonWriter.beginObject();
                jsonWriter.name(PRINTER_LIST_NAMES.get(0));
                jsonWriter.beginArray();
                Iterator<DiscoveredPrinter> it = this.mSavedPrinters.iterator();
                while (it.hasNext()) {
                    it.next().write(jsonWriter);
                }
                jsonWriter.endArray();
                jsonWriter.endObject();
                jsonWriter.close();
            } catch (Throwable th) {
                try {
                    jsonWriter.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        } catch (IOException | NullPointerException e) {
            Log.w(TAG, "Error while storing to " + this.mCacheFile, e);
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/ManualDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.text.TextUtils;
import com.android.bips.BuiltInPrintService;
import com.android.bips.ipp.CapabilitiesCache;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.util.WifiMonitor;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.LinkedHashSet;
import java.util.List;

/* loaded from: /content/classes2.dex */
public class ManualDiscovery extends SavedDiscovery {
    private static final Uri[] IPP_URIS = {Uri.parse("ipp://host:631/ipp/print"), Uri.parse("ipp://host:80/ipp/print"), Uri.parse("ipp://host:631/ipp/printer"), Uri.parse("ipp://host:631/ipp"), Uri.parse("ipp://host:631/"), Uri.parse("ipps://host:631/ipp/print"), Uri.parse("ipps://host:443/ipp/print"), Uri.parse("ipps://host:10443/ipp/print")};
    private List<CapabilitiesFinder> mAddRequests;
    private CapabilitiesCache mCapabilitiesCache;
    private WifiMonitor mWifiMonitor;

    /* loaded from: /content/classes2.dex */
    public interface PrinterAddCallback {
        void onFound(DiscoveredPrinter discoveredPrinter, boolean z);

        void onNotFound();
    }

    public ManualDiscovery(BuiltInPrintService builtInPrintService) {
        super(builtInPrintService);
        this.mAddRequests = new ArrayList();
        this.mCapabilitiesCache = getPrintService().getCapabilitiesCache();
    }

    @Override // com.android.bips.discovery.Discovery
    void onStart() {
        this.mWifiMonitor = new WifiMonitor(getPrintService(), new WifiMonitor.Listener() { // from class: com.android.bips.discovery.-$$Lambda$ManualDiscovery$osvIzYuVBM6I2r4S5yRpcqg-vLY
            @Override // com.android.bips.util.WifiMonitor.Listener
            public final void onConnectionStateChanged(boolean z) {
                ManualDiscovery.this.lambda$onStart$1$ManualDiscovery(z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onStart$1$ManualDiscovery(boolean z) {
        if (z) {
            for (final DiscoveredPrinter discoveredPrinter : getSavedPrinters()) {
                this.mCapabilitiesCache.request(discoveredPrinter, false, new CapabilitiesCache.OnLocalPrinterCapabilities() { // from class: com.android.bips.discovery.-$$Lambda$ManualDiscovery$-2o1HxgOfhZUbnjH3igbXao8WS0
                    @Override // com.android.bips.ipp.CapabilitiesCache.OnLocalPrinterCapabilities
                    public final void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities) {
                        ManualDiscovery.this.lambda$onStart$0$ManualDiscovery(discoveredPrinter, localPrinterCapabilities);
                    }
                });
            }
            return;
        }
        allPrintersLost();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onStart$0$ManualDiscovery(DiscoveredPrinter discoveredPrinter, LocalPrinterCapabilities localPrinterCapabilities) {
        if (localPrinterCapabilities != null) {
            printerFound(discoveredPrinter);
        }
    }

    @Override // com.android.bips.discovery.Discovery
    void onStop() {
        this.mWifiMonitor.close();
        allPrintersLost();
    }

    public void addManualPrinter(Uri uri, PrinterAddCallback printerAddCallback) {
        int port = uri.getPort();
        String path = uri.getPath();
        String host = uri.getHost();
        String scheme = uri.getScheme();
        LinkedHashSet linkedHashSet = new LinkedHashSet();
        for (Uri uri2 : IPP_URIS) {
            String scheme2 = uri2.getScheme();
            if (TextUtils.isEmpty(scheme) || scheme2.equals(scheme)) {
                StringBuilder sb = new StringBuilder();
                sb.append(host);
                sb.append(":");
                sb.append(port == -1 ? uri2.getPort() : port);
                linkedHashSet.add(uri2.buildUpon().scheme(scheme2).encodedAuthority(sb.toString()).path(TextUtils.isEmpty(path) ? uri2.getPath() : path).build());
            }
        }
        this.mAddRequests.add(new CapabilitiesFinder(linkedHashSet, printerAddCallback));
    }

    public void cancelAddManualPrinter(PrinterAddCallback printerAddCallback) {
        for (CapabilitiesFinder capabilitiesFinder : this.mAddRequests) {
            if (capabilitiesFinder.mFinalCallback == printerAddCallback) {
                this.mAddRequests.remove(capabilitiesFinder);
                capabilitiesFinder.cancel();
                return;
            }
        }
    }

    /* loaded from: /content/classes2.dex */
    private class CapabilitiesFinder {
        private final PrinterAddCallback mFinalCallback;
        private final List<CapabilitiesCache.OnLocalPrinterCapabilities> mRequests = new ArrayList();

        CapabilitiesFinder(Collection<Uri> collection, PrinterAddCallback printerAddCallback) {
            this.mFinalCallback = printerAddCallback;
            for (Uri uri : collection) {
                CapabilitiesCache.OnLocalPrinterCapabilities onLocalPrinterCapabilities = new CapabilitiesCache.OnLocalPrinterCapabilities(ManualDiscovery.this, uri) { // from class: com.android.bips.discovery.ManualDiscovery.CapabilitiesFinder.1
                    final /* synthetic */ Uri val$uri;

                    {
                        this.val$uri = uri;
                    }

                    @Override // com.android.bips.ipp.CapabilitiesCache.OnLocalPrinterCapabilities
                    public void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities) {
                        CapabilitiesFinder.this.mRequests.remove(this);
                        CapabilitiesFinder.this.handleCapabilities(this.val$uri, localPrinterCapabilities);
                    }
                };
                this.mRequests.add(onLocalPrinterCapabilities);
                ManualDiscovery.this.mCapabilitiesCache.remove(uri);
                ManualDiscovery.this.mCapabilitiesCache.request(new DiscoveredPrinter((Uri) null, "", uri, (String) null), true, onLocalPrinterCapabilities);
            }
        }

        void handleCapabilities(Uri uri, LocalPrinterCapabilities localPrinterCapabilities) {
            if (localPrinterCapabilities == null) {
                if (this.mRequests.isEmpty()) {
                    ManualDiscovery.this.mAddRequests.remove(this);
                    this.mFinalCallback.onNotFound();
                    return;
                }
                return;
            }
            Iterator<CapabilitiesCache.OnLocalPrinterCapabilities> it = this.mRequests.iterator();
            while (it.hasNext()) {
                ManualDiscovery.this.mCapabilitiesCache.cancel(it.next());
            }
            this.mRequests.clear();
            DiscoveredPrinter discoveredPrinter = new DiscoveredPrinter(TextUtils.isEmpty(localPrinterCapabilities.uuid) ? null : Uri.parse(localPrinterCapabilities.uuid), TextUtils.isEmpty(localPrinterCapabilities.name) ? uri.getHost() : localPrinterCapabilities.name, uri, localPrinterCapabilities.location);
            if (localPrinterCapabilities.isSupported && ManualDiscovery.this.addSavedPrinter(discoveredPrinter)) {
                ManualDiscovery.this.printerFound(discoveredPrinter);
            }
            ManualDiscovery.this.mAddRequests.remove(this);
            this.mFinalCallback.onFound(discoveredPrinter, localPrinterCapabilities.isSupported);
        }

        public void cancel() {
            Iterator<CapabilitiesCache.OnLocalPrinterCapabilities> it = this.mRequests.iterator();
            while (it.hasNext()) {
                ManualDiscovery.this.mCapabilitiesCache.cancel(it.next());
            }
            this.mRequests.clear();
        }
    }
}


### **classes_dex_2/sources/com/android/bips/discovery/P2pDiscovery.java** ###

package com.android.bips.discovery;

import android.net.Uri;
import android.net.wifi.p2p.WifiP2pDevice;
import com.android.bips.BuiltInPrintService;
import com.android.bips.P2pPermissionManager;
import com.android.bips.p2p.P2pPeerListener;

/* loaded from: /content/classes2.dex */
public class P2pDiscovery extends SavedDiscovery implements P2pPeerListener {
    private boolean mDiscoveringPeers;
    private P2pPermissionManager.P2pPermissionRequest mP2pPermissionRequest;

    public P2pDiscovery(BuiltInPrintService builtInPrintService) {
        super(builtInPrintService);
        this.mDiscoveringPeers = false;
    }

    public static DiscoveredPrinter toPrinter(WifiP2pDevice wifiP2pDevice) {
        Uri path = toPath(wifiP2pDevice);
        String str = wifiP2pDevice.deviceName;
        if (str.trim().isEmpty()) {
            str = wifiP2pDevice.deviceAddress;
        }
        return new DiscoveredPrinter(path, str, path, (String) null);
    }

    public static Uri toPath(WifiP2pDevice wifiP2pDevice) {
        return Uri.parse("p2p://" + wifiP2pDevice.deviceAddress.replace(":", "-"));
    }

    @Override // com.android.bips.discovery.Discovery
    void onStart() {
        startPeerDiscovery();
    }

    @Override // com.android.bips.discovery.Discovery
    void onStop() {
        P2pPermissionManager.P2pPermissionRequest p2pPermissionRequest = this.mP2pPermissionRequest;
        if (p2pPermissionRequest != null) {
            p2pPermissionRequest.close();
            this.mP2pPermissionRequest = null;
        }
        if (this.mDiscoveringPeers) {
            this.mDiscoveringPeers = false;
            getPrintService().getP2pMonitor().stopDiscover(this);
            allPrintersLost();
        }
    }

    private void startPeerDiscovery() {
        if (this.mDiscoveringPeers || getSavedPrinters().isEmpty()) {
            return;
        }
        this.mP2pPermissionRequest = getPrintService().getP2pPermissionManager().request(true, new P2pPermissionManager.P2pPermissionListener() { // from class: com.android.bips.discovery.-$$Lambda$P2pDiscovery$-IfxLh1DPRJEkx5gCy0rVz4xGJA
            @Override // com.android.bips.P2pPermissionManager.P2pPermissionListener
            public final void onP2pPermissionComplete(boolean z) {
                P2pDiscovery.this.lambda$startPeerDiscovery$0$P2pDiscovery(z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$startPeerDiscovery$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$startPeerDiscovery$0$P2pDiscovery(boolean z) {
        if (z) {
            this.mDiscoveringPeers = true;
            getPrintService().getP2pMonitor().discover(this);
        }
        this.mP2pPermissionRequest = null;
    }

    @Override // com.android.bips.p2p.P2pPeerListener
    public void onPeerFound(WifiP2pDevice wifiP2pDevice) {
        DiscoveredPrinter printer = toPrinter(wifiP2pDevice);
        for (DiscoveredPrinter discoveredPrinter : getSavedPrinters()) {
            if (discoveredPrinter.path.equals(printer.path)) {
                printerFound(discoveredPrinter);
            }
        }
    }

    @Override // com.android.bips.p2p.P2pPeerListener
    public void onPeerLost(WifiP2pDevice wifiP2pDevice) {
        printerLost(toPrinter(wifiP2pDevice).getUri());
    }

    public void addValidPrinter(DiscoveredPrinter discoveredPrinter) {
        if (addSavedPrinter(discoveredPrinter)) {
            printerFound(discoveredPrinter);
            if (isStarted()) {
                startPeerDiscovery();
            }
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/CertificateStore.java** ###

package com.android.bips.ipp;

import android.util.JsonReader;
import android.util.JsonWriter;
import android.util.Log;
import com.android.bips.BuiltInPrintService;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;

/* loaded from: /content/classes2.dex */
public class CertificateStore {
    private static final char[] HEX_CHARS = "0123456789ABCDEF".toCharArray();
    private static final String TAG = "CertificateStore";
    private final Map<String, byte[]> mCertificates = new HashMap();
    private final File mStoreFile;

    public CertificateStore(BuiltInPrintService builtInPrintService) {
        this.mStoreFile = new File(builtInPrintService.getCacheDir(), CertificateStore.class.getSimpleName() + ".json");
        load();
    }

    public void put(String str, byte[] bArr) {
        byte[] put = this.mCertificates.put(str, bArr);
        if (put == null || !Arrays.equals(put, bArr)) {
            save();
        }
    }

    public void remove(String str) {
        if (this.mCertificates.remove(str) != null) {
            save();
        }
    }

    public byte[] get(String str) {
        return this.mCertificates.get(str);
    }

    private void save() {
        if (this.mStoreFile.exists()) {
            this.mStoreFile.delete();
        }
        try {
            JsonWriter jsonWriter = new JsonWriter(new BufferedWriter(new FileWriter(this.mStoreFile)));
            try {
                jsonWriter.beginObject();
                jsonWriter.name("certificates");
                jsonWriter.beginArray();
                for (Map.Entry<String, byte[]> entry : this.mCertificates.entrySet()) {
                    jsonWriter.beginObject();
                    jsonWriter.name("uuid").value(entry.getKey());
                    jsonWriter.name("pubkey").value(bytesToHex(entry.getValue()));
                    jsonWriter.endObject();
                }
                jsonWriter.endArray();
                jsonWriter.endObject();
                jsonWriter.close();
            } catch (Throwable th) {
                try {
                    jsonWriter.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        } catch (IOException | NullPointerException e) {
            Log.w(TAG, "Error while storing to " + this.mStoreFile, e);
        }
    }

    private void load() {
        if (this.mStoreFile.exists()) {
            try {
                JsonReader jsonReader = new JsonReader(new BufferedReader(new FileReader(this.mStoreFile)));
                try {
                    jsonReader.beginObject();
                    while (jsonReader.hasNext()) {
                        if (jsonReader.nextName().equals("certificates")) {
                            jsonReader.beginArray();
                            while (jsonReader.hasNext()) {
                                loadItem(jsonReader);
                            }
                            jsonReader.endArray();
                        } else {
                            jsonReader.skipValue();
                        }
                    }
                    jsonReader.endObject();
                    jsonReader.close();
                } catch (Throwable th) {
                    try {
                        jsonReader.close();
                    } catch (Throwable th2) {
                        th.addSuppressed(th2);
                    }
                    throw th;
                }
            } catch (IOException | IllegalStateException e) {
                Log.w(TAG, "Error while loading from " + this.mStoreFile, e);
            }
        }
    }

    private void loadItem(JsonReader jsonReader) throws IOException {
        jsonReader.beginObject();
        String str = null;
        byte[] bArr = null;
        while (jsonReader.hasNext()) {
            String nextName = jsonReader.nextName();
            char c = 65535;
            int hashCode = nextName.hashCode();
            if (hashCode != -977424830) {
                if (hashCode == 3601339 && nextName.equals("uuid")) {
                    c = 0;
                }
            } else if (nextName.equals("pubkey")) {
                c = 1;
            }
            if (c == 0) {
                str = jsonReader.nextString();
            } else if (c == 1) {
                try {
                    bArr = hexToBytes(jsonReader.nextString());
                } catch (IllegalArgumentException unused) {
                }
            } else {
                jsonReader.skipValue();
            }
        }
        jsonReader.endObject();
        if (str == null || bArr == null) {
            return;
        }
        this.mCertificates.put(str, bArr);
    }

    private static String bytesToHex(byte[] bArr) {
        if (bArr == null) {
            return null;
        }
        char[] cArr = new char[bArr.length * 2];
        for (int i = 0; i < bArr.length; i++) {
            int i2 = bArr[i] & 255;
            int i3 = i * 2;
            char[] cArr2 = HEX_CHARS;
            cArr[i3] = cArr2[i2 >>> 4];
            cArr[i3 + 1] = cArr2[i2 & 15];
        }
        return new String(cArr);
    }

    private static byte[] hexToBytes(String str) {
        if (str == null) {
            return null;
        }
        char[] charArray = str.toCharArray();
        byte[] bArr = new byte[charArray.length / 2];
        int i = 0;
        int i2 = 0;
        while (i < charArray.length) {
            int i3 = i + 1;
            int digit = Character.digit(charArray[i], 16);
            int i4 = i3 + 1;
            int digit2 = Character.digit(charArray[i3], 16);
            if (digit < 0 || digit2 < 0) {
                throw new IllegalArgumentException();
            }
            bArr[i2] = (byte) ((digit << 4) | digit2);
            i2++;
            i = i4;
        }
        return bArr;
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/StartJobTask.java** ###

package com.android.bips.ipp;

import android.content.Context;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Build;
import android.os.ParcelFileDescriptor;
import android.print.PrintAttributes;
import android.print.PrintDocumentInfo;
import android.print.PrintJobInfo;
import android.printservice.PrintJob;
import android.util.Log;
import com.android.bips.jni.BackendConstants;
import com.android.bips.jni.LocalJobParams;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.jni.MediaSizes;
import com.android.bips.util.FileUtils;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;

/* loaded from: /content/classes2.dex */
class StartJobTask extends AsyncTask<Void, Void, Integer> {
    private static final String TAG = StartJobTask.class.getSimpleName();
    private final Backend mBackend;
    private final LocalPrinterCapabilities mCapabilities;
    private final Context mContext;
    private final Uri mDestination;
    private final PrintDocumentInfo mDocInfo;
    private final String mJobId;
    private final PrintJobInfo mJobInfo;
    private final LocalJobParams mJobParams = new LocalJobParams();
    private final MediaSizes mMediaSizes;
    private final ParcelFileDescriptor mSourceFileDescriptor;

    /* JADX INFO: Access modifiers changed from: package-private */
    public StartJobTask(Context context, Backend backend, Uri uri, PrintJob printJob, LocalPrinterCapabilities localPrinterCapabilities) {
        this.mContext = context;
        this.mBackend = backend;
        this.mDestination = uri;
        this.mCapabilities = localPrinterCapabilities;
        this.mJobId = printJob.getId().toString();
        this.mJobInfo = printJob.getInfo();
        this.mDocInfo = printJob.getDocument().getInfo();
        this.mSourceFileDescriptor = printJob.getDocument().getData();
        this.mMediaSizes = MediaSizes.getInstance(this.mContext);
    }

    private void populateJobParams() {
        PrintAttributes.MediaSize mediaSize = this.mJobInfo.getAttributes().getMediaSize();
        this.mJobParams.borderless = isBorderless() ? 1 : 0;
        this.mJobParams.duplex = getSides();
        this.mJobParams.num_copies = this.mJobInfo.getCopies();
        LocalJobParams localJobParams = this.mJobParams;
        localJobParams.pdf_render_resolution = 300;
        localJobParams.fit_to_page = !getFillPage();
        this.mJobParams.fill_page = getFillPage();
        this.mJobParams.job_name = this.mJobInfo.getLabel();
        LocalJobParams localJobParams2 = this.mJobParams;
        localJobParams2.job_originating_user_name = Build.MODEL;
        localJobParams2.auto_rotate = false;
        localJobParams2.portrait_mode = mediaSize == null || mediaSize.isPortrait();
        LocalJobParams localJobParams3 = this.mJobParams;
        localJobParams3.landscape_mode = !localJobParams3.portrait_mode;
        localJobParams3.media_size = this.mMediaSizes.toMediaCode(mediaSize);
        this.mJobParams.media_type = getMediaType();
        this.mJobParams.color_space = getColorSpace();
        this.mJobParams.document_category = getDocumentCategory();
        LocalJobParams localJobParams4 = this.mJobParams;
        localJobParams4.job_margin_top = Math.max(localJobParams4.job_margin_top, 0.0f);
        LocalJobParams localJobParams5 = this.mJobParams;
        localJobParams5.job_margin_left = Math.max(localJobParams5.job_margin_left, 0.0f);
        LocalJobParams localJobParams6 = this.mJobParams;
        localJobParams6.job_margin_right = Math.max(localJobParams6.job_margin_right, 0.0f);
        LocalJobParams localJobParams7 = this.mJobParams;
        localJobParams7.job_margin_bottom = Math.max(localJobParams7.job_margin_bottom, 0.0f);
        this.mJobParams.alignment = 17;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // android.os.AsyncTask
    public Integer doInBackground(Void... voidArr) {
        String str = TAG;
        File file = new File(this.mContext.getFilesDir(), "jobs");
        if (!FileUtils.makeDirectory(file)) {
            Log.w(str, "makeDirectory failure");
            return -1;
        }
        File file2 = new File(file, this.mJobId + ".pdf");
        try {
            try {
                FileUtils.copy(new ParcelFileDescriptor.AutoCloseInputStream(this.mSourceFileDescriptor), new BufferedOutputStream(new FileOutputStream(file2)));
                String[] strArr = {file2.toString()};
                String str2 = this.mDestination.getHost() + this.mDestination.getPath();
                if (isCancelled()) {
                    file2.delete();
                    return -2;
                }
                if (this.mBackend.nativeGetDefaultJobParameters(this.mJobParams) != 0) {
                    file2.delete();
                    return -3;
                }
                if (isCancelled()) {
                    file2.delete();
                    return -2;
                }
                populateJobParams();
                this.mBackend.nativeGetFinalJobParameters(this.mJobParams, this.mCapabilities);
                if (isCancelled()) {
                    file2.delete();
                    return -2;
                }
                int nativeStartJob = this.mBackend.nativeStartJob(Backend.getIp(str2), this.mDestination.getPort(), "application/pdf", this.mJobParams, this.mCapabilities, strArr, null, this.mDestination.getScheme());
                if (nativeStartJob >= 0) {
                    return Integer.valueOf(nativeStartJob);
                }
                Log.w(str, "nativeStartJob failure: " + nativeStartJob);
                file2.delete();
                return -3;
            } catch (IOException e) {
                Log.w(str, "Error while copying to " + file2, e);
                file2.delete();
                return -1;
            }
        } catch (Throwable th) {
            if (file2 != null) {
                file2.delete();
            }
            throw th;
        }
    }

    private boolean isBorderless() {
        return this.mCapabilities.borderless && this.mDocInfo.getContentType() == 1;
    }

    private int getSides() {
        if (this.mDocInfo.getContentType() == 1) {
            return 0;
        }
        int duplexMode = this.mJobInfo.getAttributes().getDuplexMode();
        if (duplexMode != 2) {
            return duplexMode != 4 ? 0 : 2;
        }
        return 1;
    }

    private boolean getFillPage() {
        return this.mDocInfo.getContentType() == 1;
    }

    private int getMediaType() {
        if (this.mDocInfo.getContentType() != 1) {
            return 0;
        }
        int i = 0;
        for (int i2 : this.mCapabilities.supportedMediaTypes) {
            if (i2 > i) {
                i = i2;
            }
        }
        return i;
    }

    private int getColorSpace() {
        return this.mJobInfo.getAttributes().getColorMode() != 2 ? 0 : 1;
    }

    private String getDocumentCategory() {
        return this.mDocInfo.getContentType() != 1 ? BackendConstants.PRINT_DOCUMENT_CATEGORY__DOCUMENT : BackendConstants.PRINT_DOCUMENT_CATEGORY__PHOTO;
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/Backend.java** ###

package com.android.bips.ipp;

import android.content.Context;
import android.content.pm.PackageManager;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Build;
import android.os.Handler;
import android.printservice.PrintJob;
import android.text.TextUtils;
import com.android.bips.ipp.JobStatus;
import com.android.bips.jni.BackendConstants;
import com.android.bips.jni.JobCallback;
import com.android.bips.jni.JobCallbackParams;
import com.android.bips.jni.LocalJobParams;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.jni.PdfRender;
import com.android.bips.util.FileUtils;
import java.io.File;
import java.util.Locale;
import java.util.function.Consumer;

/* loaded from: /content/classes2.dex */
public class Backend implements JobCallback {
    private final Context mContext;
    private JobStatus mCurrentJobStatus;
    private Consumer<JobStatus> mJobStatusListener;
    private final Handler mMainHandler;
    private AsyncTask<Void, Void, Integer> mStartTask;

    /* JADX INFO: Access modifiers changed from: package-private */
    public native int nativeCancelJob(int i);

    native int nativeEndJob(int i);

    native int nativeExit();

    /* JADX INFO: Access modifiers changed from: package-private */
    public native int nativeGetCapabilities(String str, int i, String str2, String str3, long j, LocalPrinterCapabilities localPrinterCapabilities);

    /* JADX INFO: Access modifiers changed from: package-private */
    public native int nativeGetDefaultJobParameters(LocalJobParams localJobParams);

    /* JADX INFO: Access modifiers changed from: package-private */
    public native int nativeGetFinalJobParameters(LocalJobParams localJobParams, LocalPrinterCapabilities localPrinterCapabilities);

    native int nativeInit(JobCallback jobCallback, String str, int i);

    native void nativeSetSourceInfo(String str, String str2, String str3);

    /* JADX INFO: Access modifiers changed from: package-private */
    public native int nativeStartJob(String str, int i, String str2, LocalJobParams localJobParams, LocalPrinterCapabilities localPrinterCapabilities, String[] strArr, String str3, String str4);

    public Backend(Context context) {
        this.mContext = context;
        this.mMainHandler = new Handler(context.getMainLooper());
        PdfRender.getInstance(this.mContext);
        System.loadLibrary(BackendConstants.WPRINT_LIBRARY_PREFIX);
        nativeInit(this, context.getApplicationInfo().dataDir, Build.VERSION.SDK_INT);
        nativeSetSourceInfo(context.getString(2131034116).toLowerCase(Locale.US), getApplicationVersion(context).toLowerCase(Locale.US), BackendConstants.WPRINT_APPLICATION_ID.toLowerCase(Locale.US));
    }

    private String getApplicationVersion(Context context) {
        try {
            return context.getPackageManager().getPackageInfo(context.getPackageName(), 0).versionName;
        } catch (PackageManager.NameNotFoundException unused) {
            return "(unknown)";
        }
    }

    public GetCapabilitiesTask getCapabilities(Uri uri, long j, boolean z, final Consumer<LocalPrinterCapabilities> consumer) {
        GetCapabilitiesTask getCapabilitiesTask = new GetCapabilitiesTask(this, this, uri, j, z) { // from class: com.android.bips.ipp.Backend.1
            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onPostExecute(LocalPrinterCapabilities localPrinterCapabilities) {
                consumer.accept(localPrinterCapabilities);
            }
        };
        getCapabilitiesTask.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, new Void[0]);
        return getCapabilitiesTask;
    }

    public void print(Uri uri, PrintJob printJob, LocalPrinterCapabilities localPrinterCapabilities, Consumer<JobStatus> consumer) {
        this.mJobStatusListener = consumer;
        this.mCurrentJobStatus = new JobStatus();
        StartJobTask startJobTask = new StartJobTask(this.mContext, this, uri, printJob, localPrinterCapabilities) { // from class: com.android.bips.ipp.Backend.2
            @Override // android.os.AsyncTask
            public void onCancelled(Integer num) {
                onPostExecute((Integer) (-2));
            }

            /* JADX INFO: Access modifiers changed from: protected */
            @Override // android.os.AsyncTask
            public void onPostExecute(Integer num) {
                String str;
                Backend.this.mStartTask = null;
                if (num.intValue() <= 0) {
                    if (Backend.this.mJobStatusListener != null) {
                        if (num.intValue() == -2) {
                            str = BackendConstants.JOB_DONE_CANCELLED;
                        } else {
                            str = num.intValue() == -1 ? BackendConstants.JOB_DONE_CORRUPT : BackendConstants.JOB_DONE_ERROR;
                        }
                        Backend backend = Backend.this;
                        JobStatus.Builder builder = new JobStatus.Builder();
                        builder.setJobState(BackendConstants.JOB_STATE_DONE);
                        builder.setJobResult(str);
                        backend.mCurrentJobStatus = builder.build();
                        Backend.this.mJobStatusListener.accept(Backend.this.mCurrentJobStatus);
                        Backend.this.mJobStatusListener = null;
                        return;
                    }
                    return;
                }
                Backend backend2 = Backend.this;
                JobStatus.Builder builder2 = new JobStatus.Builder(backend2.mCurrentJobStatus);
                builder2.setId(num.intValue());
                backend2.mCurrentJobStatus = builder2.build();
            }
        };
        this.mStartTask = startJobTask;
        startJobTask.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, new Void[0]);
    }

    public void cancel() {
        AsyncTask<Void, Void, Integer> asyncTask = this.mStartTask;
        if (asyncTask != null) {
            asyncTask.cancel(true);
            return;
        }
        JobStatus jobStatus = this.mCurrentJobStatus;
        if (jobStatus == null || jobStatus.getId() == -1) {
            return;
        }
        new CancelJobTask(this, this.mCurrentJobStatus.getId()).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, new Void[0]);
    }

    public void closeDocument() {
        PdfRender.getInstance(this.mContext).closeDocument();
    }

    public void close() {
        nativeExit();
        PdfRender.getInstance(this.mContext).close();
    }

    @Override // com.android.bips.jni.JobCallback
    public void jobCallback(final int i, final JobCallbackParams jobCallbackParams) {
        this.mMainHandler.post(new Runnable() { // from class: com.android.bips.ipp.-$$Lambda$Backend$THQPQ0gOVi5Z73jfaTvomwzt-As
            @Override // java.lang.Runnable
            public final void run() {
                Backend.this.lambda$jobCallback$0$Backend(i, jobCallbackParams);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$jobCallback$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$jobCallback$0$Backend(int i, JobCallbackParams jobCallbackParams) {
        JobStatus.Builder builder = new JobStatus.Builder(this.mCurrentJobStatus);
        builder.setId(jobCallbackParams.jobId);
        byte[] bArr = jobCallbackParams.certificate;
        if (bArr != null) {
            builder.setCertificate(bArr);
        }
        if (!TextUtils.isEmpty(jobCallbackParams.printerState)) {
            updateBlockedReasons(builder, jobCallbackParams);
        } else if (!TextUtils.isEmpty(jobCallbackParams.jobState)) {
            builder.setJobState(jobCallbackParams.jobState);
            if (!TextUtils.isEmpty(jobCallbackParams.jobDoneResult)) {
                builder.setJobResult(jobCallbackParams.jobDoneResult);
            }
            updateBlockedReasons(builder, jobCallbackParams);
        }
        JobStatus build = builder.build();
        this.mCurrentJobStatus = build;
        Consumer<JobStatus> consumer = this.mJobStatusListener;
        if (consumer != null) {
            consumer.accept(build);
        }
        if (this.mCurrentJobStatus.isJobDone()) {
            nativeEndJob(i);
            this.mCurrentJobStatus = new JobStatus();
            this.mJobStatusListener = null;
            FileUtils.deleteAll(new File(this.mContext.getFilesDir(), "jobs"));
        }
    }

    private void updateBlockedReasons(JobStatus.Builder builder, JobCallbackParams jobCallbackParams) {
        String[] strArr = jobCallbackParams.blockedReasons;
        if (strArr == null || strArr.length <= 0) {
            return;
        }
        builder.clearBlockedReasons();
        for (String str : jobCallbackParams.blockedReasons) {
            if (!TextUtils.isEmpty(str)) {
                builder.addBlockedReason(str);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static String getIp(String str) {
        int indexOf = str.indexOf(47);
        return indexOf == -1 ? str : str.substring(0, indexOf);
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/JobStatus.java** ###

package com.android.bips.ipp;

import android.text.TextUtils;
import com.android.bips.jni.BackendConstants;
import java.util.HashMap;
import java.util.LinkedHashSet;
import java.util.Map;
import java.util.Set;

/* loaded from: /content/classes2.dex */
public class JobStatus {
    private static final Map<String, Integer> sBlockReasonsMap;
    private final Set<String> mBlockedReasons;
    private byte[] mCertificate;
    private int mId;
    private String mJobResult;
    private String mJobState;

    static {
        HashMap hashMap = new HashMap();
        sBlockReasonsMap = hashMap;
        hashMap.put(BackendConstants.BLOCKED_REASON__DOOR_OPEN, 2131034143);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__JAMMED, 2131034144);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__OUT_OF_PAPER, 2131034151);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__SERVICE_REQUEST, 2131034141);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__OUT_OF_INK, 2131034150);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__OUT_OF_TONER, 2131034152);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__LOW_ON_INK, 2131034145);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__REALLY_LOW_ON_INK, 2131034145);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__LOW_ON_TONER, 2131034146);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__BUSY, 2131034140);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__OFFLINE, 2131034149);
        sBlockReasonsMap.put(BackendConstants.BLOCKED_REASON__BAD_CERTIFICATE, 2131034139);
    }

    public JobStatus() {
        this.mId = -1;
        this.mBlockedReasons = new LinkedHashSet();
    }

    private JobStatus(JobStatus jobStatus) {
        this.mId = jobStatus.mId;
        this.mJobState = jobStatus.mJobState;
        this.mJobResult = jobStatus.mJobResult;
        this.mBlockedReasons = jobStatus.mBlockedReasons;
        this.mCertificate = jobStatus.mCertificate;
    }

    public int getBlockedReasonId() {
        for (String str : this.mBlockedReasons) {
            if (sBlockReasonsMap.containsKey(str)) {
                return sBlockReasonsMap.get(str).intValue();
            }
        }
        return 0;
    }

    public String getJobState() {
        return this.mJobState;
    }

    public String getJobResult() {
        return this.mJobResult;
    }

    public int getId() {
        return this.mId;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public boolean isJobDone() {
        return !TextUtils.isEmpty(this.mJobResult);
    }

    public byte[] getCertificate() {
        return this.mCertificate;
    }

    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append("JobStatus{id=");
        sb.append(this.mId);
        sb.append(", jobState=");
        sb.append(this.mJobState);
        sb.append(", jobResult=");
        sb.append(this.mJobResult);
        sb.append(", blockedReasons=");
        sb.append(this.mBlockedReasons);
        sb.append(", certificate=");
        sb.append(this.mCertificate != null);
        sb.append("}");
        return sb.toString();
    }

    /* loaded from: /content/classes2.dex */
    static class Builder {
        final JobStatus mPrototype;

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder() {
            this.mPrototype = new JobStatus();
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder(JobStatus jobStatus) {
            this.mPrototype = new JobStatus();
        }

        public Builder setId(int i) {
            this.mPrototype.mId = i;
            return this;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder setJobState(String str) {
            this.mPrototype.mJobState = str;
            return this;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder setJobResult(String str) {
            this.mPrototype.mJobResult = str;
            return this;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder setCertificate(byte[] bArr) {
            this.mPrototype.mCertificate = bArr;
            return this;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder clearBlockedReasons() {
            this.mPrototype.mBlockedReasons.clear();
            return this;
        }

        /* JADX INFO: Access modifiers changed from: package-private */
        public Builder addBlockedReason(String str) {
            this.mPrototype.mBlockedReasons.add(str);
            return this;
        }

        public JobStatus build() {
            return new JobStatus();
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/CancelJobTask.java** ###

package com.android.bips.ipp;

import android.os.AsyncTask;

/* loaded from: /content/classes2.dex */
class CancelJobTask extends AsyncTask<Void, Void, Void> {
    private final Backend mBackend;
    private final int mJobId;

    /* JADX INFO: Access modifiers changed from: package-private */
    public CancelJobTask(Backend backend, int i) {
        this.mBackend = backend;
        this.mJobId = i;
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // android.os.AsyncTask
    public Void doInBackground(Void... voidArr) {
        this.mBackend.nativeCancelJob(this.mJobId);
        return null;
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/CapabilitiesCache.java** ###

package com.android.bips.ipp;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.NetworkInfo;
import android.net.Uri;
import android.text.TextUtils;
import android.util.Log;
import android.util.LruCache;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.p2p.P2pUtils;
import com.android.bips.util.BroadcastMonitor;
import com.android.bips.util.WifiMonitor;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.function.Consumer;
import java.util.function.Function;

/* loaded from: /content/classes2.dex */
public class CapabilitiesCache implements AutoCloseable {
    private static final String TAG = CapabilitiesCache.class.getSimpleName();
    private final Backend mBackend;
    private final int mMaxConcurrent;
    private final BroadcastMonitor mP2pMonitor;
    private final BuiltInPrintService mService;
    private final WifiMonitor mWifiMonitor;
    private final LruCache<Uri, LocalPrinterCapabilities> mCache = new LruCache<>(100);
    private final Map<Uri, Request> mRequests = new HashMap();
    private final Set<Uri> mToEvict = new HashSet();
    private final Set<Uri> mToEvictP2p = new HashSet();
    private boolean mIsStopped = false;

    /* loaded from: /content/classes2.dex */
    public interface OnLocalPrinterCapabilities {
        void onCapabilities(LocalPrinterCapabilities localPrinterCapabilities);
    }

    public CapabilitiesCache(BuiltInPrintService builtInPrintService, Backend backend, int i) {
        this.mService = builtInPrintService;
        this.mBackend = backend;
        this.mMaxConcurrent = i;
        this.mP2pMonitor = builtInPrintService.receiveBroadcasts(new BroadcastReceiver() { // from class: com.android.bips.ipp.CapabilitiesCache.1
            @Override // android.content.BroadcastReceiver
            public void onReceive(Context context, Intent intent) {
                if (((NetworkInfo) intent.getParcelableExtra("networkInfo")).isConnected()) {
                    return;
                }
                Iterator it = CapabilitiesCache.this.mToEvictP2p.iterator();
                while (it.hasNext()) {
                    CapabilitiesCache.this.mCache.remove((Uri) it.next());
                }
                CapabilitiesCache.this.mToEvictP2p.clear();
            }
        }, "android.net.wifi.p2p.CONNECTION_STATE_CHANGE");
        this.mWifiMonitor = new WifiMonitor(builtInPrintService, new WifiMonitor.Listener() { // from class: com.android.bips.ipp.-$$Lambda$CapabilitiesCache$ilw51EbCc2Rdw9VgDDEi0KjU0Wg
            @Override // com.android.bips.util.WifiMonitor.Listener
            public final void onConnectionStateChanged(boolean z) {
                CapabilitiesCache.this.lambda$new$0$CapabilitiesCache(z);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$new$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$new$0$CapabilitiesCache(boolean z) {
        if (z) {
            return;
        }
        Iterator<Uri> it = this.mToEvict.iterator();
        while (it.hasNext()) {
            this.mCache.remove(it.next());
        }
        this.mToEvict.clear();
    }

    @Override // java.lang.AutoCloseable
    public void close() {
        this.mIsStopped = true;
        this.mWifiMonitor.close();
        this.mP2pMonitor.close();
    }

    public void request(final DiscoveredPrinter discoveredPrinter, final boolean z, OnLocalPrinterCapabilities onLocalPrinterCapabilities) {
        LocalPrinterCapabilities localPrinterCapabilities = get(discoveredPrinter);
        if (localPrinterCapabilities != null && localPrinterCapabilities.nativeData != null) {
            onLocalPrinterCapabilities.onCapabilities(localPrinterCapabilities);
            return;
        }
        if (P2pUtils.isOnConnectedInterface(this.mService, discoveredPrinter)) {
            this.mToEvictP2p.add(discoveredPrinter.path);
        } else {
            this.mToEvict.add(discoveredPrinter.path);
        }
        Request computeIfAbsent = this.mRequests.computeIfAbsent(discoveredPrinter.path, new Function() { // from class: com.android.bips.ipp.-$$Lambda$CapabilitiesCache$-3tE6LIkS7DTGfD61JxoB9FFiOo
            @Override // java.util.function.Function
            public final Object apply(Object obj) {
                return CapabilitiesCache.this.lambda$request$1$CapabilitiesCache(discoveredPrinter, z, (Uri) obj);
            }
        });
        if (z) {
            computeIfAbsent.mHighPriority = true;
        }
        computeIfAbsent.mCallbacks.add(onLocalPrinterCapabilities);
        startNextRequest();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$request$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ Request lambda$request$1$CapabilitiesCache(DiscoveredPrinter discoveredPrinter, boolean z, Uri uri) {
        return new Request(discoveredPrinter, z ? 8000L : 500L);
    }

    public LocalPrinterCapabilities get(DiscoveredPrinter discoveredPrinter) {
        LocalPrinterCapabilities localPrinterCapabilities = this.mCache.get(discoveredPrinter.path);
        if (localPrinterCapabilities != null) {
            localPrinterCapabilities.certificate = this.mService.getCertificateStore().get(localPrinterCapabilities.uuid);
        }
        return localPrinterCapabilities;
    }

    public LocalPrinterCapabilities remove(Uri uri) {
        return this.mCache.remove(uri);
    }

    public void cancel(OnLocalPrinterCapabilities onLocalPrinterCapabilities) {
        ArrayList arrayList = new ArrayList();
        for (Map.Entry<Uri, Request> entry : this.mRequests.entrySet()) {
            Request value = entry.getValue();
            value.mCallbacks.remove(onLocalPrinterCapabilities);
            if (value.mCallbacks.isEmpty()) {
                arrayList.add(entry.getKey());
                value.cancel();
            }
        }
        Iterator it = arrayList.iterator();
        while (it.hasNext()) {
            this.mRequests.remove((Uri) it.next());
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void startNextRequest() {
        Request nextRequest = getNextRequest();
        if (nextRequest == null) {
            return;
        }
        nextRequest.start();
    }

    private Request getNextRequest() {
        int i = 0;
        Request request = null;
        for (Request request2 : this.mRequests.values()) {
            if (request2.mQuery != null) {
                i++;
            } else if (request == null || ((!request.mHighPriority && request2.mHighPriority) || (request.mHighPriority == request2.mHighPriority && request2.mTimeout < request.mTimeout))) {
                request = request2;
            }
        }
        if (i >= this.mMaxConcurrent) {
            return null;
        }
        return request;
    }

    /* loaded from: /content/classes2.dex */
    public class Request implements Consumer<LocalPrinterCapabilities> {
        final List<OnLocalPrinterCapabilities> mCallbacks = new ArrayList();
        boolean mHighPriority = false;
        final DiscoveredPrinter mPrinter;
        GetCapabilitiesTask mQuery;
        long mTimeout;

        Request(DiscoveredPrinter discoveredPrinter, long j) {
            this.mPrinter = discoveredPrinter;
            this.mTimeout = j;
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void start() {
            this.mQuery = CapabilitiesCache.this.mBackend.getCapabilities(this.mPrinter.path, this.mTimeout, this.mHighPriority, this);
        }

        /* JADX INFO: Access modifiers changed from: private */
        public void cancel() {
            GetCapabilitiesTask getCapabilitiesTask = this.mQuery;
            if (getCapabilitiesTask != null) {
                getCapabilitiesTask.forceCancel();
                this.mQuery = null;
            }
        }

        @Override // java.util.function.Consumer
        public void accept(LocalPrinterCapabilities localPrinterCapabilities) {
            DiscoveredPrinter discoveredPrinter = this.mPrinter;
            if (CapabilitiesCache.this.mIsStopped) {
                return;
            }
            CapabilitiesCache.this.mRequests.remove(discoveredPrinter.path);
            if (localPrinterCapabilities != null) {
                Uri parse = !TextUtils.isEmpty(localPrinterCapabilities.uuid) ? Uri.parse(localPrinterCapabilities.uuid) : null;
                Uri uri = discoveredPrinter.uuid;
                if (uri != null && !uri.equals(parse)) {
                    Log.w(CapabilitiesCache.TAG, "UUID mismatch for " + discoveredPrinter + "; rejecting capabilities");
                    localPrinterCapabilities = null;
                }
            }
            if (localPrinterCapabilities != null) {
                localPrinterCapabilities.certificate = CapabilitiesCache.this.mService.getCertificateStore().get(localPrinterCapabilities.uuid);
                CapabilitiesCache.this.mCache.put(discoveredPrinter.path, localPrinterCapabilities);
            } else if (this.mTimeout != 500) {
                CapabilitiesCache.this.mCache.remove(discoveredPrinter.getUri());
            } else {
                this.mTimeout = 8000L;
                this.mQuery = null;
                CapabilitiesCache.this.mRequests.put(discoveredPrinter.path, this);
                CapabilitiesCache.this.startNextRequest();
                return;
            }
            Iterator<OnLocalPrinterCapabilities> it = this.mCallbacks.iterator();
            while (it.hasNext()) {
                it.next().onCapabilities(localPrinterCapabilities);
            }
            CapabilitiesCache.this.startNextRequest();
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ipp/GetCapabilitiesTask.java** ###

package com.android.bips.ipp;

import android.net.Uri;
import android.os.AsyncTask;
import com.android.bips.jni.LocalPrinterCapabilities;
import com.android.bips.util.PriorityLock;
import java.io.IOException;
import java.net.InetAddress;
import java.net.InetSocketAddress;
import java.net.Socket;
import java.net.UnknownHostException;

/* loaded from: /content/classes2.dex */
public class GetCapabilitiesTask extends AsyncTask<Void, Void, LocalPrinterCapabilities> {
    private static final PriorityLock sLock = new PriorityLock();
    private final Backend mBackend;
    private final boolean mPriority;
    private volatile Socket mSocket;
    private final long mTimeout;
    private final Uri mUri;

    /* JADX INFO: Access modifiers changed from: package-private */
    public GetCapabilitiesTask(Backend backend, Uri uri, long j, boolean z) {
        this.mUri = uri;
        this.mBackend = backend;
        this.mTimeout = j;
        this.mPriority = z;
    }

    private boolean isDeviceOnline(Uri uri) {
        try {
            Socket socket = new Socket();
            try {
                this.mSocket = socket;
                socket.connect(new InetSocketAddress(uri.getHost(), uri.getPort()), (int) this.mTimeout);
                socket.close();
                return true;
            } catch (Throwable th) {
                try {
                    socket.close();
                } catch (Throwable th2) {
                    th.addSuppressed(th2);
                }
                throw th;
            }
        } catch (IOException unused) {
            return false;
        } finally {
            this.mSocket = null;
        }
    }

    public void forceCancel() {
        cancel(true);
        Socket socket = this.mSocket;
        if (socket != null) {
            try {
                socket.close();
            } catch (IOException unused) {
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: protected */
    @Override // android.os.AsyncTask
    public LocalPrinterCapabilities doInBackground(Void... voidArr) {
        System.currentTimeMillis();
        LocalPrinterCapabilities localPrinterCapabilities = new LocalPrinterCapabilities();
        try {
            localPrinterCapabilities.inetAddress = InetAddress.getByName(this.mUri.getHost());
            if (isDeviceOnline(this.mUri) && !isCancelled()) {
                sLock.lock(this.mPriority ? 1 : 0);
                System.currentTimeMillis();
                try {
                    if (isCancelled()) {
                        return null;
                    }
                    if (this.mBackend.nativeGetCapabilities(Backend.getIp(this.mUri.getHost()), this.mUri.getPort(), this.mUri.getPath(), this.mUri.getScheme(), this.mTimeout, localPrinterCapabilities) == 0) {
                        return localPrinterCapabilities;
                    }
                    return null;
                } finally {
                    sLock.unlock();
                }
            }
        } catch (InterruptedException | UnknownHostException unused) {
        }
        return null;
    }
}


### **classes_dex_2/sources/com/android/bips/ui/MoreOptionsActivity.java** ###

package com.android.bips.ui;

import android.R;
import android.app.ActionBar;
import android.app.Activity;
import android.content.ComponentName;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.Bundle;
import android.os.IBinder;
import android.print.PrintJobInfo;
import android.print.PrinterId;
import android.view.MenuItem;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.Discovery;
import java.net.InetAddress;
import java.net.UnknownHostException;

/* loaded from: /content/classes2.dex */
public class MoreOptionsActivity extends Activity implements ServiceConnection, Discovery.Listener {
    private BuiltInPrintService mPrintService;
    DiscoveredPrinter mPrinter;
    InetAddress mPrinterAddress;
    PrinterId mPrinterId;

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterLost(DiscoveredPrinter discoveredPrinter) {
    }

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        this.mPrinterId = ((PrintJobInfo) getIntent().getParcelableExtra("android.intent.extra.print.PRINT_JOB_INFO")).getPrinterId();
        ActionBar actionBar = getActionBar();
        if (actionBar != null) {
            actionBar.setDisplayHomeAsUpEnabled(true);
        }
        getFragmentManager().popBackStack((String) null, 1);
    }

    @Override // android.app.Activity
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() == 16908332) {
            onBackPressed();
            return true;
        }
        return super.onOptionsItemSelected(menuItem);
    }

    @Override // android.app.Activity
    protected void onStart() {
        super.onStart();
        bindService(new Intent(this, (Class<?>) BuiltInPrintService.class), this, 1);
    }

    @Override // android.app.Activity
    protected void onStop() {
        super.onStop();
        BuiltInPrintService builtInPrintService = this.mPrintService;
        if (builtInPrintService != null) {
            builtInPrintService.getDiscovery().stop(this);
        }
        unbindService(this);
    }

    @Override // android.content.ServiceConnection
    public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
        BuiltInPrintService builtInPrintService = BuiltInPrintService.getInstance();
        this.mPrintService = builtInPrintService;
        builtInPrintService.getDiscovery().start(this);
    }

    @Override // android.content.ServiceConnection
    public void onServiceDisconnected(ComponentName componentName) {
        this.mPrintService = null;
    }

    @Override // com.android.bips.discovery.Discovery.Listener
    public void onPrinterFound(DiscoveredPrinter discoveredPrinter) {
        if (discoveredPrinter.getUri().toString().equals(this.mPrinterId.getLocalId())) {
            this.mPrinter = discoveredPrinter;
            setTitle(discoveredPrinter.name);
            try {
                this.mPrinterAddress = InetAddress.getByName(this.mPrinter.path.getHost());
                if (getFragmentManager().getFragments().isEmpty()) {
                    getFragmentManager().beginTransaction().replace(R.id.content, new MoreOptionsFragment()).commit();
                }
                this.mPrintService.getDiscovery().stop(this);
            } catch (UnknownHostException unused) {
            }
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ui/MoreOptionsFragment.java** ###

package com.android.bips.ui;

import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.graphics.drawable.Drawable;
import android.net.Uri;
import android.os.Bundle;
import android.preference.Preference;
import android.preference.PreferenceCategory;
import android.preference.PreferenceFragment;
import android.print.PrintManager;
import android.printservice.recommendation.RecommendationInfo;
import com.android.bips.ui.MoreOptionsFragment;
import java.net.InetAddress;
import java.text.Collator;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;

/* loaded from: /content/classes2.dex */
public class MoreOptionsFragment extends PreferenceFragment implements PrintManager.PrintServiceRecommendationsChangeListener {
    private static final Collator COLLATOR = Collator.getInstance();
    private MoreOptionsActivity mActivity;
    private boolean mHasVending = false;
    private Map<String, RecommendationItem> mItems = new HashMap();
    private PackageManager mPackageManager;
    private PrintManager mPrintManager;
    private PreferenceCategory mRecommendations;

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        addPreferencesFromResource(2131099650);
        this.mRecommendations = (PreferenceCategory) getPreferenceScreen().findPreference("recommendation_category");
        getPreferenceScreen().findPreference("manage").setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$MoreOptionsFragment$Rr_B3moEjgTXyTJpA3u3OTh4t50
            @Override // android.preference.Preference.OnPreferenceClickListener
            public final boolean onPreferenceClick(Preference preference) {
                return MoreOptionsFragment.this.lambda$onCreate$0$MoreOptionsFragment(preference);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onCreate$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ boolean lambda$onCreate$0$MoreOptionsFragment(Preference preference) {
        startActivity(new Intent("android.settings.ACTION_PRINT_SETTINGS").setFlags(268435456));
        return true;
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStart() {
        super.onStart();
        PackageManager packageManager = getContext().getPackageManager();
        this.mPackageManager = packageManager;
        try {
            packageManager.getPackageInfo("com.android.vending", 0);
            this.mHasVending = true;
        } catch (PackageManager.NameNotFoundException unused) {
        }
        this.mActivity = (MoreOptionsActivity) getActivity();
        PrintManager printManager = (PrintManager) getContext().getSystemService(PrintManager.class);
        this.mPrintManager = printManager;
        printManager.addPrintServiceRecommendationsChangeListener(this, null);
        onPrintServiceRecommendationsChanged();
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStop() {
        super.onStop();
        this.mPrintManager.removePrintServiceRecommendationsChangeListener(this);
    }

    public void onPrintServiceRecommendationsChanged() {
        int i;
        Iterator it = this.mPrintManager.getPrintServiceRecommendations().iterator();
        while (true) {
            if (!it.hasNext()) {
                break;
            }
            RecommendationInfo recommendationInfo = (RecommendationInfo) it.next();
            Iterator it2 = recommendationInfo.getDiscoveredPrinters().iterator();
            while (true) {
                if (!it2.hasNext()) {
                    break;
                }
                if (((InetAddress) it2.next()).equals(this.mActivity.mPrinterAddress)) {
                    String charSequence = recommendationInfo.getPackageName().toString();
                    RecommendationItem orCreateItem = getOrCreateItem(recommendationInfo);
                    try {
                        orCreateItem.mPrintService = this.mPackageManager.getPackageInfo(charSequence, 0);
                        break;
                    } catch (PackageManager.NameNotFoundException unused) {
                        orCreateItem.mPrintService = null;
                    }
                }
            }
        }
        ArrayList arrayList = new ArrayList(this.mItems.values());
        Collections.sort(arrayList);
        for (i = 0; i < arrayList.size(); i++) {
            ((RecommendationItem) arrayList.get(i)).updatePreference(i);
        }
        if (this.mRecommendations.getPreferenceCount() == 0) {
            getPreferenceScreen().removePreference(this.mRecommendations);
        } else {
            getPreferenceScreen().addPreference(this.mRecommendations);
        }
    }

    private RecommendationItem getOrCreateItem(RecommendationInfo recommendationInfo) {
        String charSequence = recommendationInfo.getPackageName().toString();
        RecommendationItem recommendationItem = this.mItems.get(charSequence);
        if (recommendationItem == null) {
            RecommendationItem recommendationItem2 = new RecommendationItem(recommendationInfo);
            this.mItems.put(charSequence, recommendationItem2);
            return recommendationItem2;
        }
        recommendationItem.mRecommendationInfo = recommendationInfo;
        return recommendationItem;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes2.dex */
    public class RecommendationItem implements Comparable<RecommendationItem> {
        String mPackageName;
        Preference mPreference;
        PackageInfo mPrintService;
        RecommendationInfo mRecommendationInfo;

        RecommendationItem(RecommendationInfo recommendationInfo) {
            this.mPreference = new Preference(MoreOptionsFragment.this.getContext());
            this.mRecommendationInfo = recommendationInfo;
            this.mPackageName = recommendationInfo.getPackageName().toString();
        }

        void updatePreference(int i) {
            this.mPreference.setKey(this.mPackageName);
            this.mPreference.setTitle(this.mRecommendationInfo.getName());
            this.mPreference.setOrder(i);
            if (this.mPrintService == null) {
                if (!MoreOptionsFragment.this.mHasVending) {
                    MoreOptionsFragment.this.mRecommendations.removePreference(this.mPreference);
                    return;
                }
                updateDownloader();
                if (MoreOptionsFragment.this.mRecommendations.findPreference(this.mPackageName) == null) {
                    MoreOptionsFragment.this.mRecommendations.addPreference(this.mPreference);
                    return;
                }
                return;
            }
            updateEnabler();
            if (MoreOptionsFragment.this.mRecommendations.findPreference(this.mPackageName) == null) {
                MoreOptionsFragment.this.mRecommendations.addPreference(this.mPreference);
            }
        }

        private void updateEnabler() {
            try {
                this.mPreference.setIcon(MoreOptionsFragment.this.mPackageManager.getApplicationIcon(this.mPrintService.packageName));
            } catch (PackageManager.NameNotFoundException unused) {
                this.mPreference.setIcon((Drawable) null);
                this.mPreference.setIconSpaceReserved(true);
            }
            this.mPreference.setSummary(2131034153);
            this.mPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$MoreOptionsFragment$RecommendationItem$J27aJUt8GuWbdnX5oKIwLhVJ-Rk
                @Override // android.preference.Preference.OnPreferenceClickListener
                public final boolean onPreferenceClick(Preference preference) {
                    return MoreOptionsFragment.RecommendationItem.this.lambda$updateEnabler$0$MoreOptionsFragment$RecommendationItem(preference);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$updateEnabler$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ boolean lambda$updateEnabler$0$MoreOptionsFragment$RecommendationItem(Preference preference) {
            MoreOptionsFragment.this.startActivity(new Intent("android.settings.ACTION_PRINT_SETTINGS").setFlags(268435456));
            return true;
        }

        private void updateDownloader() {
            this.mPreference.setIcon(2130837504);
            this.mPreference.setSummary(2131034154);
            this.mPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$MoreOptionsFragment$RecommendationItem$KLAOvQPS00cVtaD3PyCcpSZkuNo
                @Override // android.preference.Preference.OnPreferenceClickListener
                public final boolean onPreferenceClick(Preference preference) {
                    return MoreOptionsFragment.RecommendationItem.this.lambda$updateDownloader$1$MoreOptionsFragment$RecommendationItem(preference);
                }
            });
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$updateDownloader$1, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ boolean lambda$updateDownloader$1$MoreOptionsFragment$RecommendationItem(Preference preference) {
            MoreOptionsFragment.this.startActivity(new Intent("android.intent.action.VIEW", Uri.parse("market://details?id=" + ((Object) this.mRecommendationInfo.getPackageName()))).setFlags(268435456));
            return true;
        }

        @Override // java.lang.Comparable
        public int compareTo(RecommendationItem recommendationItem) {
            if (this.mRecommendationInfo.recommendsMultiVendorService() != recommendationItem.mRecommendationInfo.recommendsMultiVendorService()) {
                return this.mRecommendationInfo.recommendsMultiVendorService() ? 1 : -1;
            }
            return MoreOptionsFragment.COLLATOR.compare(this.mRecommendationInfo.getName().toString(), recommendationItem.mRecommendationInfo.getName().toString());
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ui/AddPrintersActivity.java** ###

package com.android.bips.ui;

import android.R;
import android.app.ActionBar;
import android.app.Activity;
import android.os.Bundle;
import android.view.MenuItem;
import com.android.bips.P2pPermissionManager;

/* loaded from: /content/classes2.dex */
public class AddPrintersActivity extends Activity {
    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        getFragmentManager().beginTransaction().replace(R.id.content, new AddPrintersFragment()).commit();
        ActionBar actionBar = getActionBar();
        if (actionBar != null) {
            actionBar.setDisplayHomeAsUpEnabled(true);
        }
    }

    @Override // android.app.Activity
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() == 16908332) {
            onBackPressed();
            return true;
        }
        return super.onOptionsItemSelected(menuItem);
    }

    @Override // android.app.Activity
    public void onRequestPermissionsResult(int i, String[] strArr, int[] iArr) {
        if (i == 1000) {
            new P2pPermissionManager(this).applyPermissionChange(true);
        }
        super.onRequestPermissionsResult(i, strArr, iArr);
    }
}


### **classes_dex_2/sources/com/android/bips/ui/AddManualPrinterDialog.java** ###

package com.android.bips.ui;

import android.R;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.net.Uri;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.Window;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.ProgressBar;
import android.widget.TextView;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.ManualDiscovery;
import java.util.regex.Pattern;

/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: /content/classes2.dex */
public class AddManualPrinterDialog extends AlertDialog implements TextWatcher, TextView.OnEditorActionListener, View.OnKeyListener, ManualDiscovery.PrinterAddCallback {
    private static final Pattern FULL_URI_PATTERN = Pattern.compile("^(ipp[s]?://)?[a-zA-Z0-9]+(\\-[a-zA-Z0-9]+)*(\\.[a-zA-Z0-9]+(\\-[a-zA-Z0-9]+)*)*(:[0-9]+)?(/.*)?$");
    private final Activity mActivity;
    private Button mAddButton;
    private final ManualDiscovery mDiscovery;
    private TextView mHostnameView;
    private ProgressBar mProgressBar;

    @Override // android.text.TextWatcher
    public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {
    }

    @Override // android.text.TextWatcher
    public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public AddManualPrinterDialog(Activity activity, ManualDiscovery manualDiscovery) {
        super(activity);
        this.mDiscovery = manualDiscovery;
        this.mActivity = activity;
    }

    @Override // android.app.AlertDialog, android.app.Dialog
    @SuppressLint({"InflateParams"})
    protected void onCreate(Bundle bundle) {
        setView(getLayoutInflater().inflate(2130968576, (ViewGroup) null));
        setTitle(2131034115);
        setButton(-2, getContext().getString(R.string.cancel), (DialogInterface.OnClickListener) null);
        setButton(-1, getContext().getString(2131034113), (DialogInterface.OnClickListener) null);
        super.onCreate(bundle);
        this.mAddButton = getButton(-1);
        this.mHostnameView = (TextView) findViewById(2130903041);
        this.mProgressBar = (ProgressBar) findViewById(2130903043);
        this.mAddButton.setOnClickListener(new View.OnClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddManualPrinterDialog$PczGY0fF2U4rU1su8cPJ3s22kEs
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                AddManualPrinterDialog.this.lambda$onCreate$0$AddManualPrinterDialog(view);
            }
        });
        this.mHostnameView.addTextChangedListener(this);
        this.mHostnameView.setOnEditorActionListener(this);
        this.mHostnameView.setOnKeyListener(this);
        openKeyboard(this.mHostnameView);
        updateButtonState();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onCreate$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onCreate$0$AddManualPrinterDialog(View view) {
        addPrinter();
    }

    @Override // android.app.Dialog
    protected void onStop() {
        super.onStop();
        this.mDiscovery.cancelAddManualPrinter(this);
    }

    private void openKeyboard(TextView textView) {
        Window window = getWindow();
        if (window != null) {
            window.setSoftInputMode(4);
        }
        textView.requestFocus();
        ((InputMethodManager) getContext().getSystemService("input_method")).showSoftInput(textView, 1);
    }

    private void updateButtonState() {
        this.mAddButton.setEnabled(FULL_URI_PATTERN.matcher(this.mHostnameView.getText().toString()).matches());
    }

    private void addPrinter() {
        Uri parse;
        this.mAddButton.setEnabled(false);
        this.mHostnameView.setEnabled(false);
        this.mProgressBar.setVisibility(0);
        String charSequence = this.mHostnameView.getText().toString();
        if (charSequence.contains("://")) {
            parse = Uri.parse(charSequence);
        } else {
            parse = Uri.parse("://" + charSequence);
        }
        this.mDiscovery.addManualPrinter(parse, this);
    }

    @Override // com.android.bips.discovery.ManualDiscovery.PrinterAddCallback
    public void onFound(DiscoveredPrinter discoveredPrinter, boolean z) {
        if (z) {
            dismiss();
            this.mActivity.finish();
        } else {
            error(getContext().getString(2131034148));
        }
    }

    @Override // com.android.bips.discovery.ManualDiscovery.PrinterAddCallback
    public void onNotFound() {
        error(getContext().getString(2131034136));
    }

    private void error(String str) {
        this.mProgressBar.setVisibility(8);
        this.mHostnameView.setError(str);
        this.mHostnameView.setEnabled(true);
        openKeyboard(this.mHostnameView);
    }

    @Override // android.text.TextWatcher
    public void afterTextChanged(Editable editable) {
        updateButtonState();
    }

    @Override // android.widget.TextView.OnEditorActionListener
    public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
        if (i != 6 || !this.mAddButton.isEnabled()) {
            return false;
        }
        addPrinter();
        return true;
    }

    @Override // android.view.View.OnKeyListener
    public boolean onKey(View view, int i, KeyEvent keyEvent) {
        if (i != 66 || !this.mAddButton.isEnabled()) {
            return false;
        }
        addPrinter();
        return true;
    }
}


### **classes_dex_2/sources/com/android/bips/ui/PrinterPreference.java** ###

package com.android.bips.ui;

import android.content.Context;
import android.preference.Preference;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.DiscoveredPrinter;

/* loaded from: /content/classes2.dex */
class PrinterPreference extends Preference {
    private boolean mAdding;
    private final BuiltInPrintService mPrintService;
    private DiscoveredPrinter mPrinter;

    /* JADX INFO: Access modifiers changed from: package-private */
    public PrinterPreference(Context context, BuiltInPrintService builtInPrintService, DiscoveredPrinter discoveredPrinter, boolean z) {
        super(context);
        this.mAdding = false;
        this.mPrintService = builtInPrintService;
        this.mPrinter = discoveredPrinter;
        this.mAdding = z;
        updatePrinter(discoveredPrinter);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public void updatePrinter(DiscoveredPrinter discoveredPrinter) {
        this.mPrinter = discoveredPrinter;
        setLayoutResource(2130968577);
        if (this.mAdding) {
            setTitle(getContext().getString(2131034114, discoveredPrinter.name));
        } else {
            setTitle(discoveredPrinter.name);
        }
        setSummary(this.mPrintService.getDescription(discoveredPrinter));
        setIcon(2130837507);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public DiscoveredPrinter getPrinter() {
        return this.mPrinter;
    }
}


### **classes_dex_2/sources/com/android/bips/ui/AddP2pPrinterDialog.java** ###

package com.android.bips.ui;

import android.R;
import android.annotation.SuppressLint;
import android.app.AlertDialog;
import android.app.Fragment;
import android.content.DialogInterface;
import android.net.wifi.p2p.WifiP2pDevice;
import android.os.Bundle;
import android.view.ViewGroup;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.ConnectionListener;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.p2p.P2pPrinterConnection;

/* loaded from: /content/classes2.dex */
public class AddP2pPrinterDialog extends AlertDialog implements ConnectionListener {
    private final Fragment mFragment;
    private final WifiP2pDevice mPeer;
    private final BuiltInPrintService mPrintService;
    private P2pPrinterConnection mValidating;

    /* JADX INFO: Access modifiers changed from: package-private */
    public AddP2pPrinterDialog(Fragment fragment, BuiltInPrintService builtInPrintService, WifiP2pDevice wifiP2pDevice) {
        super(fragment.getContext());
        this.mFragment = fragment;
        this.mPrintService = builtInPrintService;
        this.mPeer = wifiP2pDevice;
    }

    @Override // android.app.AlertDialog, android.app.Dialog
    @SuppressLint({"InflateParams"})
    protected void onCreate(Bundle bundle) {
        setView(getLayoutInflater().inflate(2130968576, (ViewGroup) null));
        setTitle(getContext().getString(2131034119, this.mPeer.deviceName));
        setButton(-2, getContext().getString(R.string.cancel), (DialogInterface.OnClickListener) null);
        super.onCreate(bundle);
        findViewById(2130903042).setVisibility(8);
        findViewById(2130903041).setVisibility(8);
        findViewById(2130903043).setVisibility(0);
        setOnDismissListener(new DialogInterface.OnDismissListener() { // from class: com.android.bips.ui.-$$Lambda$AddP2pPrinterDialog$B65l19-A5z830InicYgRhTRI0uA
            @Override // android.content.DialogInterface.OnDismissListener
            public final void onDismiss(DialogInterface dialogInterface) {
                AddP2pPrinterDialog.this.lambda$onCreate$0$AddP2pPrinterDialog(dialogInterface);
            }
        });
        this.mValidating = new P2pPrinterConnection(this.mPrintService, this.mPeer, this);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onCreate$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onCreate$0$AddP2pPrinterDialog(DialogInterface dialogInterface) {
        this.mValidating.close();
    }

    @Override // com.android.bips.discovery.ConnectionListener
    public void onConnectionComplete(final DiscoveredPrinter discoveredPrinter) {
        if (discoveredPrinter != null) {
            this.mPrintService.getMainHandler().post(new Runnable() { // from class: com.android.bips.ui.-$$Lambda$AddP2pPrinterDialog$z4TUz0dv0s2fvhaYvE4mK5hmAgU
                @Override // java.lang.Runnable
                public final void run() {
                    AddP2pPrinterDialog.this.lambda$onConnectionComplete$1$AddP2pPrinterDialog(discoveredPrinter);
                }
            });
            dismiss();
        } else {
            fail();
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onConnectionComplete$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onConnectionComplete$1$AddP2pPrinterDialog(DiscoveredPrinter discoveredPrinter) {
        this.mValidating.close();
        this.mPrintService.getP2pDiscovery().addValidPrinter(discoveredPrinter);
        this.mFragment.getActivity().finish();
    }

    @Override // com.android.bips.discovery.ConnectionListener
    public void onConnectionDelayed(boolean z) {
        findViewById(2130903040).setVisibility(z ? 0 : 8);
    }

    private void fail() {
        cancel();
        new AlertDialog.Builder(getContext()).setTitle(getContext().getString(2131034123, this.mPeer.deviceName)).setPositiveButton(R.string.ok, (DialogInterface.OnClickListener) null).show();
    }
}


### **classes_dex_2/sources/com/android/bips/ui/FindP2pPrintersFragment.java** ###

package com.android.bips.ui;

import android.content.ComponentName;
import android.content.Intent;
import android.content.ServiceConnection;
import android.net.Uri;
import android.net.wifi.p2p.WifiP2pDevice;
import android.os.Bundle;
import android.os.IBinder;
import android.preference.Preference;
import android.preference.PreferenceCategory;
import android.preference.PreferenceFragment;
import com.android.bips.BuiltInPrintService;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.discovery.P2pDiscovery;
import com.android.bips.p2p.P2pPeerListener;
import com.android.bips.ui.FindP2pPrintersFragment;
import java.util.Iterator;

/* loaded from: /content/classes2.dex */
public class FindP2pPrintersFragment extends PreferenceFragment implements ServiceConnection {
    private PreferenceCategory mAvailableCategory;
    private P2pListener mPeerDiscoveryListener;
    private BuiltInPrintService mPrintService;

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        addPreferencesFromResource(2131099649);
        this.mAvailableCategory = (PreferenceCategory) getPreferenceScreen().findPreference("available");
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStart() {
        super.onStart();
        getActivity().setTitle(2131034168);
        getContext().bindService(new Intent(getContext(), (Class<?>) BuiltInPrintService.class), this, 1);
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStop() {
        super.onStop();
        if (this.mPeerDiscoveryListener != null) {
            this.mPrintService.getP2pMonitor().stopDiscover(this.mPeerDiscoveryListener);
            this.mPeerDiscoveryListener = null;
        }
        getContext().unbindService(this);
        this.mPrintService = null;
    }

    @Override // android.content.ServiceConnection
    public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
        BuiltInPrintService builtInPrintService = BuiltInPrintService.getInstance();
        this.mPrintService = builtInPrintService;
        if (builtInPrintService != null && this.mPeerDiscoveryListener == null) {
            this.mPeerDiscoveryListener = new P2pListener();
            this.mPrintService.getP2pMonitor().discover(this.mPeerDiscoveryListener);
        }
    }

    @Override // android.content.ServiceConnection
    public void onServiceDisconnected(ComponentName componentName) {
        this.mPrintService = null;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* loaded from: /content/classes2.dex */
    public class P2pListener implements P2pPeerListener {
        private P2pListener() {
        }

        @Override // com.android.bips.p2p.P2pPeerListener
        public void onPeerFound(final WifiP2pDevice wifiP2pDevice) {
            if (FindP2pPrintersFragment.this.mPrintService == null) {
                return;
            }
            DiscoveredPrinter printer = P2pDiscovery.toPrinter(wifiP2pDevice);
            Iterator<DiscoveredPrinter> it = FindP2pPrintersFragment.this.mPrintService.getP2pDiscovery().getSavedPrinters().iterator();
            while (it.hasNext()) {
                if (it.next().path.equals(printer.path)) {
                    return;
                }
            }
            PrinterPreference printerPreference = getPrinterPreference(printer.getUri());
            if (printerPreference != null) {
                printerPreference.updatePrinter(printer);
                return;
            }
            PrinterPreference printerPreference2 = new PrinterPreference(FindP2pPrintersFragment.this.getContext(), FindP2pPrintersFragment.this.mPrintService, printer, true);
            printerPreference2.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$FindP2pPrintersFragment$P2pListener$TnyM7DOJvmbrrl2TRbE-eyrXee0
                @Override // android.preference.Preference.OnPreferenceClickListener
                public final boolean onPreferenceClick(Preference preference) {
                    return FindP2pPrintersFragment.P2pListener.this.lambda$onPeerFound$0$FindP2pPrintersFragment$P2pListener(wifiP2pDevice, preference);
                }
            });
            FindP2pPrintersFragment.this.mAvailableCategory.addPreference(printerPreference2);
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* renamed from: lambda$onPeerFound$0, reason: merged with bridge method [inline-methods] */
        public /* synthetic */ boolean lambda$onPeerFound$0$FindP2pPrintersFragment$P2pListener(WifiP2pDevice wifiP2pDevice, Preference preference) {
            FindP2pPrintersFragment findP2pPrintersFragment = FindP2pPrintersFragment.this;
            new AddP2pPrinterDialog(findP2pPrintersFragment, findP2pPrintersFragment.mPrintService, wifiP2pDevice).show();
            return true;
        }

        @Override // com.android.bips.p2p.P2pPeerListener
        public void onPeerLost(WifiP2pDevice wifiP2pDevice) {
            PrinterPreference printerPreference;
            if (FindP2pPrintersFragment.this.mPrintService == null || (printerPreference = getPrinterPreference(P2pDiscovery.toPrinter(wifiP2pDevice).path)) == null) {
                return;
            }
            FindP2pPrintersFragment.this.mAvailableCategory.removePreference(printerPreference);
        }

        private PrinterPreference getPrinterPreference(Uri uri) {
            for (int i = 0; i < FindP2pPrintersFragment.this.mAvailableCategory.getPreferenceCount(); i++) {
                Preference preference = FindP2pPrintersFragment.this.mAvailableCategory.getPreference(i);
                if (preference instanceof PrinterPreference) {
                    PrinterPreference printerPreference = (PrinterPreference) preference;
                    if (printerPreference.getPrinter().path.equals(uri)) {
                        return printerPreference;
                    }
                }
            }
            return null;
        }
    }
}


### **classes_dex_2/sources/com/android/bips/ui/AddPrintersFragment.java** ###

package com.android.bips.ui;

import android.R;
import android.app.AlertDialog;
import android.content.ComponentName;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.Bundle;
import android.os.IBinder;
import android.preference.Preference;
import android.preference.PreferenceCategory;
import android.preference.PreferenceFragment;
import android.preference.SwitchPreference;
import com.android.bips.BuiltInPrintService;
import com.android.bips.P2pPermissionManager;
import com.android.bips.discovery.DiscoveredPrinter;
import com.android.bips.p2p.P2pUtils;

/* loaded from: /content/classes2.dex */
public class AddPrintersFragment extends PreferenceFragment implements ServiceConnection {
    private Preference mAddPrinterByIpPreference;
    private Preference mFindP2pPrintersPreference;
    private SwitchPreference mP2pEnablePreference;
    private P2pPermissionManager mP2pPermissionManager;
    private BuiltInPrintService mPrintService;
    private PreferenceCategory mSavedPrintersCategory;

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        addPreferencesFromResource(2131099648);
        this.mAddPrinterByIpPreference = getPreferenceScreen().findPreference("add_by_ip");
        Preference findPreference = getPreferenceScreen().findPreference("find_wifi_direct");
        this.mFindP2pPrintersPreference = findPreference;
        findPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$tJ9hXxNsz_3Jk8hCWvM7QMWX5Ss
            @Override // android.preference.Preference.OnPreferenceClickListener
            public final boolean onPreferenceClick(Preference preference) {
                return AddPrintersFragment.this.lambda$onCreate$0$AddPrintersFragment(preference);
            }
        });
        this.mP2pEnablePreference = (SwitchPreference) getPreferenceScreen().findPreference("wifi_direct_printing");
        this.mSavedPrintersCategory = (PreferenceCategory) getPreferenceScreen().findPreference("saved_printers");
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onCreate$0, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ boolean lambda$onCreate$0$AddPrintersFragment(Preference preference) {
        getFragmentManager().beginTransaction().replace(R.id.content, new FindP2pPrintersFragment()).addToBackStack(null).commit();
        return true;
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStart() {
        super.onStart();
        getActivity().setTitle(2131034163);
        getContext().bindService(new Intent(getContext(), (Class<?>) BuiltInPrintService.class), this, 1);
        this.mP2pPermissionManager = new P2pPermissionManager(getActivity());
        updateP2pPreferences();
        if (getActivity().getIntent().getBooleanExtra("fix_p2p_permission", false)) {
            this.mP2pPermissionManager.request(false, new P2pPermissionManager.P2pPermissionListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$b0ip7q1mDgwNl_w1FNbMvU5X8VY
                @Override // com.android.bips.P2pPermissionManager.P2pPermissionListener
                public final void onP2pPermissionComplete(boolean z) {
                    AddPrintersFragment.this.lambda$onStart$1$AddPrintersFragment(z);
                }
            });
        }
        this.mP2pEnablePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$_IaRB8ecM9WFzqoAHMBCxA5W28A
            @Override // android.preference.Preference.OnPreferenceClickListener
            public final boolean onPreferenceClick(Preference preference) {
                return AddPrintersFragment.this.lambda$onStart$3$AddPrintersFragment(preference);
            }
        });
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$1, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onStart$1$AddPrintersFragment(boolean z) {
        updateP2pPreferences();
        if (z) {
            return;
        }
        this.mP2pPermissionManager.setState(P2pPermissionManager.State.DISABLED);
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$3, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ boolean lambda$onStart$3$AddPrintersFragment(Preference preference) {
        if (this.mP2pEnablePreference.isChecked()) {
            this.mP2pEnablePreference.setChecked(false);
            if (this.mP2pPermissionManager.getState() == P2pPermissionManager.State.DISABLED) {
                this.mP2pPermissionManager.setState(P2pPermissionManager.State.DENIED);
            }
            this.mP2pPermissionManager.reset();
            this.mP2pPermissionManager.request(true, new P2pPermissionManager.P2pPermissionListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$McRyS3Z-csXJoFpiIWFGDDi-J5M
                @Override // com.android.bips.P2pPermissionManager.P2pPermissionListener
                public final void onP2pPermissionComplete(boolean z) {
                    AddPrintersFragment.this.lambda$onStart$2$AddPrintersFragment(z);
                }
            });
        } else {
            this.mP2pPermissionManager.setState(P2pPermissionManager.State.DISABLED);
            updateP2pPreferences();
        }
        return true;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onStart$2, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onStart$2$AddPrintersFragment(boolean z) {
        updateP2pPreferences();
    }

    @Override // android.preference.PreferenceFragment, android.app.Fragment
    public void onStop() {
        super.onStop();
        getContext().unbindService(this);
    }

    @Override // android.content.ServiceConnection
    public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
        this.mPrintService = BuiltInPrintService.getInstance();
        this.mAddPrinterByIpPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$MFZlHSllsBg3N0EtThU7vXQXTlQ
            @Override // android.preference.Preference.OnPreferenceClickListener
            public final boolean onPreferenceClick(Preference preference) {
                return AddPrintersFragment.this.lambda$onServiceConnected$5$AddPrintersFragment(preference);
            }
        });
        updateSavedPrinters();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onServiceConnected$5, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ boolean lambda$onServiceConnected$5$AddPrintersFragment(Preference preference) {
        AddManualPrinterDialog addManualPrinterDialog = new AddManualPrinterDialog(getActivity(), this.mPrintService.getManualDiscovery());
        addManualPrinterDialog.setOnDismissListener(new DialogInterface.OnDismissListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$PsNwk6B0W1xIhRcqDwdqxfKeHWA
            @Override // android.content.DialogInterface.OnDismissListener
            public final void onDismiss(DialogInterface dialogInterface) {
                AddPrintersFragment.this.lambda$onServiceConnected$4$AddPrintersFragment(dialogInterface);
            }
        });
        addManualPrinterDialog.show();
        return true;
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$onServiceConnected$4, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$onServiceConnected$4$AddPrintersFragment(DialogInterface dialogInterface) {
        updateSavedPrinters();
    }

    private void updateP2pPreferences() {
        if (this.mP2pPermissionManager.isP2pEnabled()) {
            this.mP2pEnablePreference.setChecked(true);
            getPreferenceScreen().addPreference(this.mFindP2pPrintersPreference);
            if (getActivity().getIntent().getBooleanExtra("fix_p2p_permission", false)) {
                getActivity().finish();
            }
        } else {
            this.mP2pEnablePreference.setChecked(false);
            getPreferenceScreen().removePreference(this.mFindP2pPrintersPreference);
        }
        updateSavedPrinters();
    }

    @Override // android.content.ServiceConnection
    public void onServiceDisconnected(ComponentName componentName) {
        this.mPrintService = null;
    }

    private void updateSavedPrinters() {
        BuiltInPrintService builtInPrintService = this.mPrintService;
        if ((builtInPrintService == null ? 0 : builtInPrintService.getDiscovery().getSavedPrinters().size()) == 0) {
            if (getPreferenceScreen().findPreference(this.mSavedPrintersCategory.getKey()) != null) {
                getPreferenceScreen().removePreference(this.mSavedPrintersCategory);
                return;
            }
            return;
        }
        if (getPreferenceScreen().findPreference(this.mSavedPrintersCategory.getKey()) == null) {
            getPreferenceScreen().addPreference(this.mSavedPrintersCategory);
        }
        this.mSavedPrintersCategory.removeAll();
        boolean isP2pEnabled = this.mP2pPermissionManager.isP2pEnabled();
        for (final DiscoveredPrinter discoveredPrinter : this.mPrintService.getDiscovery().getSavedPrinters()) {
            if (!P2pUtils.isP2p(discoveredPrinter) || isP2pEnabled) {
                PrinterPreference printerPreference = new PrinterPreference(getContext(), this.mPrintService, discoveredPrinter, false);
                printerPreference.setOrder(2);
                printerPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$qBm6zOI-caVFYDVwrvgD4sU4Sys
                    @Override // android.preference.Preference.OnPreferenceClickListener
                    public final boolean onPreferenceClick(Preference preference) {
                        return AddPrintersFragment.this.lambda$updateSavedPrinters$6$AddPrintersFragment(discoveredPrinter, preference);
                    }
                });
                this.mSavedPrintersCategory.addPreference(printerPreference);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$updateSavedPrinters$6, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ boolean lambda$updateSavedPrinters$6$AddPrintersFragment(DiscoveredPrinter discoveredPrinter, Preference preference) {
        showRemovalDialog(discoveredPrinter);
        return true;
    }

    private void showRemovalDialog(final DiscoveredPrinter discoveredPrinter) {
        String string;
        if (P2pUtils.isP2p(discoveredPrinter)) {
            string = this.mPrintService.getString(2131034122);
        } else {
            string = this.mPrintService.getString(2131034121, new Object[]{discoveredPrinter.path});
        }
        new AlertDialog.Builder(getContext()).setTitle(discoveredPrinter.name).setMessage(string).setNegativeButton(R.string.cancel, (DialogInterface.OnClickListener) null).setPositiveButton(2131034127, new DialogInterface.OnClickListener() { // from class: com.android.bips.ui.-$$Lambda$AddPrintersFragment$a-Z4gYCyYc62q1OcnTLiGYm1v0I
            @Override // android.content.DialogInterface.OnClickListener
            public final void onClick(DialogInterface dialogInterface, int i) {
                AddPrintersFragment.this.lambda$showRemovalDialog$7$AddPrintersFragment(discoveredPrinter, dialogInterface, i);
            }
        }).show();
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: lambda$showRemovalDialog$7, reason: merged with bridge method [inline-methods] */
    public /* synthetic */ void lambda$showRemovalDialog$7$AddPrintersFragment(DiscoveredPrinter discoveredPrinter, DialogInterface dialogInterface, int i) {
        this.mPrintService.getDiscovery().removeSavedPrinter(discoveredPrinter.path);
        updateSavedPrinters();
    }
}


### **classes_dex_2/sources/com/android/bips/render/IPdfRender.java** ###

package com.android.bips.render;

import android.os.Binder;
import android.os.IBinder;
import android.os.IInterface;
import android.os.Parcel;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import com.android.bips.jni.SizeD;

/* loaded from: /content/classes2.dex */
public interface IPdfRender extends IInterface {
    void closeDocument() throws RemoteException;

    SizeD getPageSize(int i) throws RemoteException;

    int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException;

    ParcelFileDescriptor renderPageStripe(int i, int i2, int i3, int i4, double d) throws RemoteException;

    /* loaded from: /content/classes2.dex */
    public static abstract class Stub extends Binder implements IPdfRender {
        @Override // android.os.IInterface
        public IBinder asBinder() {
            return this;
        }

        public Stub() {
            attachInterface(this, "com.android.bips.render.IPdfRender");
        }

        public static IPdfRender asInterface(IBinder iBinder) {
            if (iBinder == null) {
                return null;
            }
            IInterface queryLocalInterface = iBinder.queryLocalInterface("com.android.bips.render.IPdfRender");
            if (queryLocalInterface != null && (queryLocalInterface instanceof IPdfRender)) {
                return (IPdfRender) queryLocalInterface;
            }
            return new Proxy(iBinder);
        }

        @Override // android.os.Binder
        public boolean onTransact(int i, Parcel parcel, Parcel parcel2, int i2) throws RemoteException {
            if (i == 1) {
                parcel.enforceInterface("com.android.bips.render.IPdfRender");
                int openDocument = openDocument(parcel.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(parcel) : null);
                parcel2.writeNoException();
                parcel2.writeInt(openDocument);
                return true;
            }
            if (i == 2) {
                parcel.enforceInterface("com.android.bips.render.IPdfRender");
                SizeD pageSize = getPageSize(parcel.readInt());
                parcel2.writeNoException();
                if (pageSize != null) {
                    parcel2.writeInt(1);
                    pageSize.writeToParcel(parcel2, 1);
                } else {
                    parcel2.writeInt(0);
                }
                return true;
            }
            if (i != 3) {
                if (i == 4) {
                    parcel.enforceInterface("com.android.bips.render.IPdfRender");
                    closeDocument();
                    return true;
                }
                if (i == 1598968902) {
                    parcel2.writeString("com.android.bips.render.IPdfRender");
                    return true;
                }
                return super.onTransact(i, parcel, parcel2, i2);
            }
            parcel.enforceInterface("com.android.bips.render.IPdfRender");
            ParcelFileDescriptor renderPageStripe = renderPageStripe(parcel.readInt(), parcel.readInt(), parcel.readInt(), parcel.readInt(), parcel.readDouble());
            parcel2.writeNoException();
            if (renderPageStripe != null) {
                parcel2.writeInt(1);
                renderPageStripe.writeToParcel(parcel2, 1);
            } else {
                parcel2.writeInt(0);
            }
            return true;
        }

        /* JADX INFO: Access modifiers changed from: private */
        /* loaded from: /content/classes2.dex */
        public static class Proxy implements IPdfRender {
            public static IPdfRender sDefaultImpl;
            private IBinder mRemote;

            Proxy(IBinder iBinder) {
                this.mRemote = iBinder;
            }

            @Override // android.os.IInterface
            public IBinder asBinder() {
                return this.mRemote;
            }

            @Override // com.android.bips.render.IPdfRender
            public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.bips.render.IPdfRender");
                    if (parcelFileDescriptor != null) {
                        obtain.writeInt(1);
                        parcelFileDescriptor.writeToParcel(obtain, 0);
                    } else {
                        obtain.writeInt(0);
                    }
                    if (!this.mRemote.transact(1, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        return Stub.getDefaultImpl().openDocument(parcelFileDescriptor);
                    }
                    obtain2.readException();
                    return obtain2.readInt();
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.bips.render.IPdfRender
            public SizeD getPageSize(int i) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.bips.render.IPdfRender");
                    obtain.writeInt(i);
                    if (!this.mRemote.transact(2, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        return Stub.getDefaultImpl().getPageSize(i);
                    }
                    obtain2.readException();
                    return obtain2.readInt() != 0 ? SizeD.CREATOR.createFromParcel(obtain2) : null;
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.bips.render.IPdfRender
            public ParcelFileDescriptor renderPageStripe(int i, int i2, int i3, int i4, double d) throws RemoteException {
                Parcel obtain = Parcel.obtain();
                Parcel obtain2 = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.bips.render.IPdfRender");
                    obtain.writeInt(i);
                    obtain.writeInt(i2);
                    obtain.writeInt(i3);
                    obtain.writeInt(i4);
                    obtain.writeDouble(d);
                    if (!this.mRemote.transact(3, obtain, obtain2, 0) && Stub.getDefaultImpl() != null) {
                        return Stub.getDefaultImpl().renderPageStripe(i, i2, i3, i4, d);
                    }
                    obtain2.readException();
                    return obtain2.readInt() != 0 ? (ParcelFileDescriptor) ParcelFileDescriptor.CREATOR.createFromParcel(obtain2) : null;
                } finally {
                    obtain2.recycle();
                    obtain.recycle();
                }
            }

            @Override // com.android.bips.render.IPdfRender
            public void closeDocument() throws RemoteException {
                Parcel obtain = Parcel.obtain();
                try {
                    obtain.writeInterfaceToken("com.android.bips.render.IPdfRender");
                    if (this.mRemote.transact(4, obtain, null, 1) || Stub.getDefaultImpl() == null) {
                        return;
                    }
                    Stub.getDefaultImpl().closeDocument();
                } finally {
                    obtain.recycle();
                }
            }
        }

        public static IPdfRender getDefaultImpl() {
            return Proxy.sDefaultImpl;
        }
    }
}


### **classes_dex_2/sources/com/android/bips/render/PdfRenderService.java** ###

package com.android.bips.render;

import android.app.Service;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.Matrix;
import android.graphics.pdf.PdfRenderer;
import android.os.IBinder;
import android.os.ParcelFileDescriptor;
import android.os.RemoteException;
import android.util.Log;
import com.android.bips.jni.SizeD;
import com.android.bips.render.IPdfRender;
import java.io.IOException;
import java.io.OutputStream;
import java.nio.ByteBuffer;

/* loaded from: /content/classes2.dex */
public class PdfRenderService extends Service {
    private static final String TAG = PdfRenderService.class.getSimpleName();
    private PdfRenderer.Page mPage;
    private PdfRenderer mRenderer;
    private final Object mPageOpenLock = new Object();
    private final IPdfRender.Stub mBinder = new IPdfRender.Stub() { // from class: com.android.bips.render.PdfRenderService.1
        @Override // com.android.bips.render.IPdfRender
        public int openDocument(ParcelFileDescriptor parcelFileDescriptor) throws RemoteException {
            if (open(parcelFileDescriptor)) {
                return PdfRenderService.this.mRenderer.getPageCount();
            }
            return 0;
        }

        @Override // com.android.bips.render.IPdfRender
        public SizeD getPageSize(int i) throws RemoteException {
            if (openPage(i)) {
                return new SizeD(PdfRenderService.this.mPage.getWidth(), PdfRenderService.this.mPage.getHeight());
            }
            return null;
        }

        @Override // com.android.bips.render.IPdfRender
        public ParcelFileDescriptor renderPageStripe(int i, int i2, int i3, int i4, double d) throws RemoteException {
            if (!openPage(i)) {
                return null;
            }
            try {
                ParcelFileDescriptor[] createPipe = ParcelFileDescriptor.createPipe();
                PdfRenderService pdfRenderService = PdfRenderService.this;
                new RenderThread(pdfRenderService.mPage, i2, i3, i4, d, createPipe[1]).start();
                return createPipe[0];
            } catch (IOException unused) {
                return null;
            }
        }

        @Override // com.android.bips.render.IPdfRender
        public void closeDocument() throws RemoteException {
            PdfRenderService.this.closeAll();
        }

        private boolean open(ParcelFileDescriptor parcelFileDescriptor) {
            PdfRenderService.this.closeAll();
            try {
                PdfRenderService.this.mRenderer = new PdfRenderer(parcelFileDescriptor);
                return true;
            } catch (IOException e) {
                Log.w(PdfRenderService.TAG, "Could not open file descriptor for rendering", e);
                return false;
            }
        }

        private boolean openPage(int i) {
            if (PdfRenderService.this.mRenderer == null) {
                return false;
            }
            if (PdfRenderService.this.mPage != null && PdfRenderService.this.mPage.getIndex() != i) {
                PdfRenderService.this.closePage();
            }
            if (PdfRenderService.this.mPage != null) {
                return true;
            }
            PdfRenderService pdfRenderService = PdfRenderService.this;
            pdfRenderService.mPage = pdfRenderService.mRenderer.openPage(i);
            return true;
        }
    };

    @Override // android.app.Service
    public IBinder onBind(Intent intent) {
        return this.mBinder;
    }

    @Override // android.app.Service
    public boolean onUnbind(Intent intent) {
        closeAll();
        return super.onUnbind(intent);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void closePage() {
        if (this.mPage != null) {
            synchronized (this.mPageOpenLock) {
                this.mPage.close();
            }
            this.mPage = null;
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void closeAll() {
        closePage();
        PdfRenderer pdfRenderer = this.mRenderer;
        if (pdfRenderer != null) {
            pdfRenderer.close();
            this.mRenderer = null;
        }
    }

    /* loaded from: /content/classes2.dex */
    private class RenderThread extends Thread {
        private final ByteBuffer mBuffer;
        private final int mHeight;
        private final ParcelFileDescriptor mOutput;
        private final PdfRenderer.Page mPage;
        private final int mRowsPerStripe;
        private final int mWidth;
        private final int mYOffset;
        private final double mZoomFactor;

        RenderThread(PdfRenderer.Page page, int i, int i2, int i3, double d, ParcelFileDescriptor parcelFileDescriptor) {
            this.mPage = page;
            this.mWidth = i2;
            this.mYOffset = i;
            this.mHeight = i3;
            this.mZoomFactor = d;
            this.mOutput = parcelFileDescriptor;
            int i4 = (5242880 / i2) / 4;
            this.mRowsPerStripe = i4;
            this.mBuffer = ByteBuffer.allocate(i2 * i4 * 4);
        }

        /* JADX WARN: Code restructure failed: missing block: B:25:0x006d, code lost:
        
            return;
         */
        /* JADX WARN: Code restructure failed: missing block: B:35:0x0069, code lost:
        
            if (0 == 0) goto L33;
         */
        @Override // java.lang.Thread, java.lang.Runnable
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void run() {
            /*
                r7 = this;
                com.android.bips.render.PdfRenderService r0 = com.android.bips.render.PdfRenderService.this
                java.lang.Object r0 = com.android.bips.render.PdfRenderService.access$500(r0)
                monitor-enter(r0)
                r1 = 0
                android.os.ParcelFileDescriptor$AutoCloseOutputStream r2 = new android.os.ParcelFileDescriptor$AutoCloseOutputStream     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
                android.os.ParcelFileDescriptor r3 = r7.mOutput     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
                r2.<init>(r3)     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
                android.graphics.pdf.PdfRenderer$Page r3 = r7.mPage     // Catch: java.lang.Throwable -> L53
                if (r3 != 0) goto L21
                java.lang.String r7 = com.android.bips.render.PdfRenderService.access$300()     // Catch: java.lang.Throwable -> L53
                java.lang.String r3 = "Page lost"
                android.util.Log.e(r7, r3)     // Catch: java.lang.Throwable -> L53
                r2.close()     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
                monitor-exit(r0)     // Catch: java.lang.Throwable -> L74
                return
            L21:
                int r3 = r7.mWidth     // Catch: java.lang.Throwable -> L53
                int r4 = r7.mRowsPerStripe     // Catch: java.lang.Throwable -> L53
                android.graphics.Bitmap$Config r5 = android.graphics.Bitmap.Config.ARGB_8888     // Catch: java.lang.Throwable -> L53
                android.graphics.Bitmap r1 = android.graphics.Bitmap.createBitmap(r3, r4, r5)     // Catch: java.lang.Throwable -> L53
                int r3 = r7.mYOffset     // Catch: java.lang.Throwable -> L53
            L2d:
                int r4 = r7.mYOffset     // Catch: java.lang.Throwable -> L53
                int r5 = r7.mHeight     // Catch: java.lang.Throwable -> L53
                int r4 = r4 + r5
                if (r3 >= r4) goto L4a
                int r4 = r7.mRowsPerStripe     // Catch: java.lang.Throwable -> L53
                int r5 = r7.mYOffset     // Catch: java.lang.Throwable -> L53
                int r6 = r7.mHeight     // Catch: java.lang.Throwable -> L53
                int r5 = r5 + r6
                int r5 = r5 - r3
                int r4 = java.lang.Math.min(r4, r5)     // Catch: java.lang.Throwable -> L53
                r7.renderToBitmap(r3, r1)     // Catch: java.lang.Throwable -> L53
                r7.writeRgb(r1, r4, r2)     // Catch: java.lang.Throwable -> L53
                int r4 = r7.mRowsPerStripe     // Catch: java.lang.Throwable -> L53
                int r3 = r3 + r4
                goto L2d
            L4a:
                r2.close()     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
                if (r1 == 0) goto L6c
            L4f:
                r1.recycle()     // Catch: java.lang.Throwable -> L74
                goto L6c
            L53:
                r7 = move-exception
                r2.close()     // Catch: java.lang.Throwable -> L58
                goto L5c
            L58:
                r2 = move-exception
                r7.addSuppressed(r2)     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
            L5c:
                throw r7     // Catch: java.lang.Throwable -> L5d java.io.IOException -> L5f
            L5d:
                r7 = move-exception
                goto L6e
            L5f:
                r7 = move-exception
                java.lang.String r2 = com.android.bips.render.PdfRenderService.access$300()     // Catch: java.lang.Throwable -> L5d
                java.lang.String r3 = "Failed to write"
                android.util.Log.e(r2, r3, r7)     // Catch: java.lang.Throwable -> L5d
                if (r1 == 0) goto L6c
                goto L4f
            L6c:
                monitor-exit(r0)     // Catch: java.lang.Throwable -> L74
                return
            L6e:
                if (r1 == 0) goto L73
                r1.recycle()     // Catch: java.lang.Throwable -> L74
            L73:
                throw r7     // Catch: java.lang.Throwable -> L74
            L74:
                r7 = move-exception
                monitor-exit(r0)     // Catch: java.lang.Throwable -> L74
                throw r7
            */
            throw new UnsupportedOperationException("Method not decompiled: com.android.bips.render.PdfRenderService.RenderThread.run():void");
        }

        private void renderToBitmap(int i, Bitmap bitmap) {
            Matrix matrix = new Matrix();
            double d = this.mZoomFactor;
            matrix.setScale((float) d, (float) d);
            matrix.postTranslate(0.0f, 0 - i);
            bitmap.eraseColor(-1);
            this.mPage.render(bitmap, null, matrix, 2);
        }

        private void writeRgb(Bitmap bitmap, int i, OutputStream outputStream) throws IOException {
            this.mBuffer.clear();
            bitmap.copyPixelsToBuffer(this.mBuffer);
            int i2 = this.mWidth * i * 4;
            byte[] array = this.mBuffer.array();
            int i3 = 0;
            int i4 = 0;
            while (i3 < i2) {
                array[i4] = array[i3];
                array[i4 + 1] = array[i3 + 1];
                array[i4 + 2] = array[i3 + 2];
                i3 += 4;
                i4 += 3;
            }
            outputStream.write(this.mBuffer.array(), 0, i4);
        }
    }
}
